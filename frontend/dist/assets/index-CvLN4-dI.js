var rM=Object.defineProperty;var BS=e=>{throw TypeError(e)};var iM=(e,s,n)=>s in e?rM(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n;var Ve=(e,s,n)=>iM(e,typeof s!="symbol"?s+"":s,n),ky=(e,s,n)=>s.has(e)||BS("Cannot "+n);var re=(e,s,n)=>(ky(e,s,"read from private field"),n?n.call(e):s.get(e)),Ct=(e,s,n)=>s.has(e)?BS("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,n),tt=(e,s,n,a)=>(ky(e,s,"write to private field"),a?a.call(e,n):s.set(e,n),n),$t=(e,s,n)=>(ky(e,s,"access private method"),n);var Up=(e,s,n,a)=>({set _(r){tt(e,s,r,n)},get _(){return re(e,s,a)}});function oM(e,s){for(var n=0;n<s.length;n++){const a=s[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in e)){const l=Object.getOwnPropertyDescriptor(a,r);l&&Object.defineProperty(e,r,l.get?l:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function em(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ey={exports:{}},lh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS;function lM(){if(zS)return lh;zS=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function n(a,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var u in r)u!=="key"&&(l[u]=r[u])}else l=r;return r=l.ref,{$$typeof:e,type:a,key:c,ref:r!==void 0?r:null,props:l}}return lh.Fragment=s,lh.jsx=n,lh.jsxs=n,lh}var qS;function cM(){return qS||(qS=1,Ey.exports=lM()),Ey.exports}var t=cM(),Ay={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function dM(){if($S)return _t;$S=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function E(M,V,W){this.props=M,this.context=V,this.refs=S,this.updater=W||N}E.prototype.isReactComponent={},E.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=E.prototype;function C(M,V,W){this.props=M,this.context=V,this.refs=S,this.updater=W||N}var P=C.prototype=new T;P.constructor=C,j(P,E.prototype),P.isPureReactComponent=!0;var D=Array.isArray;function A(){}var R={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function z(M,V,W){var $=W.ref;return{$$typeof:e,type:M,key:V,ref:$!==void 0?$:null,props:W}}function J(M,V){return z(M.type,V,M.props)}function K(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function X(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return V[W]})}var ce=/\/+/g;function q(M,V){return typeof M=="object"&&M!==null&&M.key!=null?X(""+M.key):V.toString(36)}function ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(A,A):(M.status="pending",M.then(function(V){M.status==="pending"&&(M.status="fulfilled",M.value=V)},function(V){M.status==="pending"&&(M.status="rejected",M.reason=V)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function L(M,V,W,$,me){var ge=typeof M;(ge==="undefined"||ge==="boolean")&&(M=null);var ue=!1;if(M===null)ue=!0;else switch(ge){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(M.$$typeof){case e:case s:ue=!0;break;case f:return ue=M._init,L(ue(M._payload),V,W,$,me)}}if(ue)return me=me(M),ue=$===""?"."+q(M,0):$,D(me)?(W="",ue!=null&&(W=ue.replace(ce,"$&/")+"/"),L(me,V,W,"",function(H){return H})):me!=null&&(K(me)&&(me=J(me,W+(me.key==null||M&&M.key===me.key?"":(""+me.key).replace(ce,"$&/")+"/")+ue)),V.push(me)),1;ue=0;var be=$===""?".":$+":";if(D(M))for(var Ee=0;Ee<M.length;Ee++)$=M[Ee],ge=be+q($,Ee),ue+=L($,V,W,ge,me);else if(Ee=w(M),typeof Ee=="function")for(M=Ee.call(M),Ee=0;!($=M.next()).done;)$=$.value,ge=be+q($,Ee++),ue+=L($,V,W,ge,me);else if(ge==="object"){if(typeof M.then=="function")return L(ie(M),V,W,$,me);throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ue}function B(M,V,W){if(M==null)return M;var $=[],me=0;return L(M,$,"","",function(ge){return V.call(W,ge,me++)}),$}function Y(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var de=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},G={map:B,forEach:function(M,V,W){B(M,function(){V.apply(this,arguments)},W)},count:function(M){var V=0;return B(M,function(){V++}),V},toArray:function(M){return B(M,function(V){return V})||[]},only:function(M){if(!K(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return _t.Activity=g,_t.Children=G,_t.Component=E,_t.Fragment=n,_t.Profiler=r,_t.PureComponent=C,_t.StrictMode=a,_t.Suspense=m,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,_t.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},_t.cache=function(M){return function(){return M.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(M,V,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var $=j({},M.props),me=M.key;if(V!=null)for(ge in V.key!==void 0&&(me=""+V.key),V)!F.call(V,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&V.ref===void 0||($[ge]=V[ge]);var ge=arguments.length-2;if(ge===1)$.children=W;else if(1<ge){for(var ue=Array(ge),be=0;be<ge;be++)ue[be]=arguments[be+2];$.children=ue}return z(M.type,me,$)},_t.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},_t.createElement=function(M,V,W){var $,me={},ge=null;if(V!=null)for($ in V.key!==void 0&&(ge=""+V.key),V)F.call(V,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(me[$]=V[$]);var ue=arguments.length-2;if(ue===1)me.children=W;else if(1<ue){for(var be=Array(ue),Ee=0;Ee<ue;Ee++)be[Ee]=arguments[Ee+2];me.children=be}if(M&&M.defaultProps)for($ in ue=M.defaultProps,ue)me[$]===void 0&&(me[$]=ue[$]);return z(M,ge,me)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(M){return{$$typeof:u,render:M}},_t.isValidElement=K,_t.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:Y}},_t.memo=function(M,V){return{$$typeof:p,type:M,compare:V===void 0?null:V}},_t.startTransition=function(M){var V=R.T,W={};R.T=W;try{var $=M(),me=R.S;me!==null&&me(W,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(A,de)}catch(ge){de(ge)}finally{V!==null&&W.types!==null&&(V.types=W.types),R.T=V}},_t.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},_t.use=function(M){return R.H.use(M)},_t.useActionState=function(M,V,W){return R.H.useActionState(M,V,W)},_t.useCallback=function(M,V){return R.H.useCallback(M,V)},_t.useContext=function(M){return R.H.useContext(M)},_t.useDebugValue=function(){},_t.useDeferredValue=function(M,V){return R.H.useDeferredValue(M,V)},_t.useEffect=function(M,V){return R.H.useEffect(M,V)},_t.useEffectEvent=function(M){return R.H.useEffectEvent(M)},_t.useId=function(){return R.H.useId()},_t.useImperativeHandle=function(M,V,W){return R.H.useImperativeHandle(M,V,W)},_t.useInsertionEffect=function(M,V){return R.H.useInsertionEffect(M,V)},_t.useLayoutEffect=function(M,V){return R.H.useLayoutEffect(M,V)},_t.useMemo=function(M,V){return R.H.useMemo(M,V)},_t.useOptimistic=function(M,V){return R.H.useOptimistic(M,V)},_t.useReducer=function(M,V,W){return R.H.useReducer(M,V,W)},_t.useRef=function(M){return R.H.useRef(M)},_t.useState=function(M){return R.H.useState(M)},_t.useSyncExternalStore=function(M,V,W){return R.H.useSyncExternalStore(M,V,W)},_t.useTransition=function(){return R.H.useTransition()},_t.version="19.2.0",_t}var GS;function ag(){return GS||(GS=1,Ay.exports=dM()),Ay.exports}var x=ag();const qe=em(x),Rk=oM({__proto__:null,default:qe},[x]);var Dy={exports:{}},ch={},Iy={exports:{}},Py={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS;function uM(){return HS||(HS=1,(function(e){function s(L,B){var Y=L.length;L.push(B);e:for(;0<Y;){var de=Y-1>>>1,G=L[de];if(0<r(G,B))L[de]=B,L[Y]=G,Y=de;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var B=L[0],Y=L.pop();if(Y!==B){L[0]=Y;e:for(var de=0,G=L.length,M=G>>>1;de<M;){var V=2*(de+1)-1,W=L[V],$=V+1,me=L[$];if(0>r(W,Y))$<G&&0>r(me,W)?(L[de]=me,L[$]=Y,de=$):(L[de]=W,L[V]=Y,de=V);else if($<G&&0>r(me,Y))L[de]=me,L[$]=Y,de=$;else break e}}return B}function r(L,B){var Y=L.sortIndex-B.sortIndex;return Y!==0?Y:L.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var m=[],p=[],f=1,g=null,v=3,w=!1,N=!1,j=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(L){for(var B=n(p);B!==null;){if(B.callback===null)a(p);else if(B.startTime<=L)a(p),B.sortIndex=B.expirationTime,s(m,B);else break;B=n(p)}}function D(L){if(j=!1,P(L),!N)if(n(m)!==null)N=!0,A||(A=!0,X());else{var B=n(p);B!==null&&ie(D,B.startTime-L)}}var A=!1,R=-1,F=5,z=-1;function J(){return S?!0:!(e.unstable_now()-z<F)}function K(){if(S=!1,A){var L=e.unstable_now();z=L;var B=!0;try{e:{N=!1,j&&(j=!1,T(R),R=-1),w=!0;var Y=v;try{t:{for(P(L),g=n(m);g!==null&&!(g.expirationTime>L&&J());){var de=g.callback;if(typeof de=="function"){g.callback=null,v=g.priorityLevel;var G=de(g.expirationTime<=L);if(L=e.unstable_now(),typeof G=="function"){g.callback=G,P(L),B=!0;break t}g===n(m)&&a(m),P(L)}else a(m);g=n(m)}if(g!==null)B=!0;else{var M=n(p);M!==null&&ie(D,M.startTime-L),B=!1}}break e}finally{g=null,v=Y,w=!1}B=void 0}}finally{B?X():A=!1}}}var X;if(typeof C=="function")X=function(){C(K)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,q=ce.port2;ce.port1.onmessage=K,X=function(){q.postMessage(null)}}else X=function(){E(K,0)};function ie(L,B){R=E(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var Y=v;v=B;try{return L()}finally{v=Y}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=v;v=L;try{return B()}finally{v=Y}},e.unstable_scheduleCallback=function(L,B,Y){var de=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Y+G,L={id:f++,callback:B,priorityLevel:L,startTime:Y,expirationTime:G,sortIndex:-1},Y>de?(L.sortIndex=Y,s(p,L),n(m)===null&&L===n(p)&&(j?(T(R),R=-1):j=!0,ie(D,Y-de))):(L.sortIndex=G,s(m,L),N||w||(N=!0,A||(A=!0,X()))),L},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(L){var B=v;return function(){var Y=v;v=B;try{return L.apply(this,arguments)}finally{v=Y}}}})(Py)),Py}var YS;function hM(){return YS||(YS=1,Iy.exports=uM()),Iy.exports}var Ry={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function mM(){if(WS)return ln;WS=1;var e=ag();function s(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)p+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(s(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(m,p,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:m,containerInfo:p,implementation:f}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ln.createPortal=function(m,p){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return l(m,p,null,f)},ln.flushSync=function(m){var p=c.T,f=a.p;try{if(c.T=null,a.p=2,m)return m()}finally{c.T=p,a.p=f,a.d.f()}},ln.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},ln.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},ln.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var f=p.as,g=u(f,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;f==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:w}):f==="script"&&a.d.X(m,{crossOrigin:g,integrity:v,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ln.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var f=u(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:f,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},ln.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var f=p.as,g=u(f,p.crossOrigin);a.d.L(m,f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ln.preloadModule=function(m,p){if(typeof m=="string")if(p){var f=u(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:f,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},ln.requestFormReset=function(m){a.d.r(m)},ln.unstable_batchedUpdates=function(m,p){return m(p)},ln.useFormState=function(m,p,f){return c.H.useFormState(m,p,f)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var KS;function Ok(){if(KS)return Ry.exports;KS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),Ry.exports=mM(),Ry.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function pM(){if(QS)return ch;QS=1;var e=hM(),s=ag(),n=Ok();function a(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(a(188))}function p(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(a(188));return o!==i?null:i}for(var d=i,h=o;;){var y=d.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){d=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===d)return m(y),i;if(b===h)return m(y),o;b=b.sibling}throw Error(a(188))}if(d.return!==h.return)d=y,h=b;else{for(var I=!1,U=y.child;U;){if(U===d){I=!0,d=y,h=b;break}if(U===h){I=!0,h=y,d=b;break}U=U.sibling}if(!I){for(U=b.child;U;){if(U===d){I=!0,d=b,h=y;break}if(U===h){I=!0,h=b,d=y;break}U=U.sibling}if(!I)throw Error(a(189))}}if(d.alternate!==h)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?i:o}function f(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=f(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var ce=Symbol.for("react.client.reference");function q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ce?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case C:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return o=i.displayName||null,o!==null?o:q(i.type)||"Memo";case F:o=i._payload,i=i._init;try{return q(i(o))}catch{}}return null}var ie=Array.isArray,L=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},de=[],G=-1;function M(i){return{current:i}}function V(i){0>G||(i.current=de[G],de[G]=null,G--)}function W(i,o){G++,de[G]=i.current,i.current=o}var $=M(null),me=M(null),ge=M(null),ue=M(null);function be(i,o){switch(W(ge,o),W(me,i),W($,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?dS(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=dS(o),i=uS(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}V($),W($,i)}function Ee(){V($),V(me),V(ge)}function H(i){i.memoizedState!==null&&W(ue,i);var o=$.current,d=uS(o,i.type);o!==d&&(W(me,i),W($,d))}function fe(i){me.current===i&&(V($),V(me)),ue.current===i&&(V(ue),nh._currentValue=Y)}var je,Oe;function _e(i){if(je===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);je=o&&o[1]||"",Oe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+i+Oe}var Ie=!1;function ze(i,o){if(!i||Ie)return"";Ie=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Ce){var Ne=Ce}Reflect.construct(i,[],Me)}else{try{Me.call()}catch(Ce){Ne=Ce}i.call(Me.prototype)}}else{try{throw Error()}catch(Ce){Ne=Ce}(Me=i())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Ce){if(Ce&&Ne&&typeof Ce.stack=="string")return[Ce.stack,Ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),I=b[0],U=b[1];if(I&&U){var ne=I.split(`
`),we=U.split(`
`);for(y=h=0;h<ne.length&&!ne[h].includes("DetermineComponentFrameRoot");)h++;for(;y<we.length&&!we[y].includes("DetermineComponentFrameRoot");)y++;if(h===ne.length||y===we.length)for(h=ne.length-1,y=we.length-1;1<=h&&0<=y&&ne[h]!==we[y];)y--;for(;1<=h&&0<=y;h--,y--)if(ne[h]!==we[y]){if(h!==1||y!==1)do if(h--,y--,0>y||ne[h]!==we[y]){var Ae=`
`+ne[h].replace(" at new "," at ");return i.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",i.displayName)),Ae}while(1<=h&&0<=y);break}}}finally{Ie=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?_e(d):""}function Ue(i,o){switch(i.tag){case 26:case 27:case 5:return _e(i.type);case 16:return _e("Lazy");case 13:return i.child!==o&&o!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return ze(i.type,!1);case 11:return ze(i.type.render,!1);case 1:return ze(i.type,!0);case 31:return _e("Activity");default:return""}}function Ge(i){try{var o="",d=null;do o+=Ue(i,d),d=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var it=Object.prototype.hasOwnProperty,Tt=e.unstable_scheduleCallback,yt=e.unstable_cancelCallback,xs=e.unstable_shouldYield,va=e.unstable_requestPaint,Fe=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,Zt=e.unstable_ImmediatePriority,as=e.unstable_UserBlockingPriority,es=e.unstable_NormalPriority,ae=e.unstable_LowPriority,Ye=e.unstable_IdlePriority,vt=e.log,St=e.unstable_setDisableYieldValue,cs=null,ys=null;function Ks(i){if(typeof vt=="function"&&St(i),ys&&typeof ys.setStrictMode=="function")try{ys.setStrictMode(cs,i)}catch{}}var bt=Math.clz32?Math.clz32:on,rn=Math.log,La=Math.LN2;function on(i){return i>>>=0,i===0?32:31-(rn(i)/La|0)|0}var jt=256,Ft=262144,k=4194304;function te(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function le(i,o,d){var h=i.pendingLanes;if(h===0)return 0;var y=0,b=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var U=h&134217727;return U!==0?(h=U&~b,h!==0?y=te(h):(I&=U,I!==0?y=te(I):d||(d=U&~i,d!==0&&(y=te(d))))):(U=h&~b,U!==0?y=te(U):I!==0?y=te(I):d||(d=h&~i,d!==0&&(y=te(d)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,d=o&-o,b>=d||b===32&&(d&4194048)!==0)?o:y}function Se(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function dt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _(){var i=k;return k<<=1,(k&62914560)===0&&(k=4194304),i}function xe(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Be(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function kt(i,o,d,h,y,b){var I=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var U=i.entanglements,ne=i.expirationTimes,we=i.hiddenUpdates;for(d=I&~d;0<d;){var Ae=31-bt(d),Me=1<<Ae;U[Ae]=0,ne[Ae]=-1;var Ne=we[Ae];if(Ne!==null)for(we[Ae]=null,Ae=0;Ae<Ne.length;Ae++){var Ce=Ne[Ae];Ce!==null&&(Ce.lane&=-536870913)}d&=~Me}h!==0&&Gt(i,h,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(I&~o))}function Gt(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-bt(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|d&261930}function Wt(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var h=31-bt(d),y=1<<h;y&o|i[h]&o&&(i[h]|=o),d&=~y}}function ea(i,o){var d=o&-o;return d=(d&42)!==0?1:qt(d),(d&(i.suspendedLanes|o))!==0?0:d}function qt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Le(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gs(){var i=B.p;return i!==0?i:(i=window.event,i===void 0?32:OS(i.type))}function ba(i,o){var d=B.p;try{return B.p=i,o()}finally{B.p=d}}var As=Math.random().toString(36).slice(2),zs="__reactFiber$"+As,Ht="__reactProps$"+As,Ut="__reactContainer$"+As,Kt="__reactEvents$"+As,Bt="__reactListeners$"+As,ps="__reactHandles$"+As,ta="__reactResources$"+As,js="__reactMarker$"+As;function co(i){delete i[zs],delete i[Ht],delete i[Kt],delete i[Bt],delete i[ps]}function et(i){var o=i[zs];if(o)return o;for(var d=i.parentNode;d;){if(o=d[Ut]||d[zs]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=yS(i);i!==null;){if(d=i[zs])return d;i=yS(i)}return o}i=d,d=i.parentNode}return null}function ua(i){if(i=i[zs]||i[Ut]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Z(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(a(33))}function pt(i){var o=i[ta];return o||(o=i[ta]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function wa(i){i[js]=!0}var yu=new Set,vu={};function Wa(i,o){bi(i,o),bi(i+"Capture",o)}function bi(i,o){for(vu[i]=o,i=0;i<o.length;i++)yu.add(o[i])}var Ig=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gm={},bl={};function xm(i){return it.call(bl,i)?!0:it.call(gm,i)?!1:Ig.test(i)?bl[i]=!0:(gm[i]=!0,!1)}function wi(i,o,d){if(xm(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function wl(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function En(i,o,d,h){if(h===null)i.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+h)}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ym(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Pg(i,o,d){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(I){d=""+I,b.call(this,I)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Sc(i){if(!i._valueTracker){var o=ym(i)?"checked":"value";i._valueTracker=Pg(i,o,""+i[o])}}function bu(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),h="";return i&&(h=ym(i)?i.checked?"true":"false":i.value),i=h,i!==d?(o.setValue(i),!0):!1}function nr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vm=/[\n"\\]/g;function fn(i){return i.replace(vm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Cc(i,o,d,h,y,b,I,U){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),o!=null?I==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+pn(o)):i.value!==""+pn(o)&&(i.value=""+pn(o)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),o!=null?Q(i,I,pn(o)):d!=null?Q(i,I,pn(d)):h!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.name=""+pn(U):i.removeAttribute("name")}function O(i,o,d,h,y,b,I,U){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Sc(i);return}d=d!=null?""+pn(d):"",o=o!=null?""+pn(o):d,U||o===i.value||(i.value=o),i.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=U?i.checked:!!h,i.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),Sc(i)}function Q(i,o,d){o==="number"&&nr(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Pe(i,o,d,h){if(i=i.options,o){o={};for(var y=0;y<d.length;y++)o["$"+d[y]]=!0;for(d=0;d<i.length;d++)y=o.hasOwnProperty("$"+i[d].value),i[d].selected!==y&&(i[d].selected=y),y&&h&&(i[d].defaultSelected=!0)}else{for(d=""+pn(d),o=null,y=0;y<i.length;y++){if(i[y].value===d){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function ft(i,o,d){if(o!=null&&(o=""+pn(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+pn(d):""}function It(i,o,d,h){if(o==null){if(h!=null){if(d!=null)throw Error(a(92));if(ie(h)){if(1<h.length)throw Error(a(93));h=h[0]}d=h}d==null&&(d=""),o=d}d=pn(o),i.defaultValue=d,h=i.textContent,h===d&&h!==""&&h!==null&&(i.value=h),Sc(i)}function He(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var Pt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function We(i,o,d){var h=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,d):typeof d!="number"||d===0||Pt.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function Mt(i,o,d){if(o!=null&&typeof o!="object")throw Error(a(62));if(i=i.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&d[y]!==h&&We(i,y,h)}else for(var b in o)o.hasOwnProperty(b)&&We(i,b,o[b])}function Ls(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(i){return qa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gn(){}var ji=null;function Ni(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ir=null,or=null;function uo(i){var o=ua(i);if(o&&(i=o.stateNode)){var d=i[Ht]||null;e:switch(i=o.stateNode,o.type){case"input":if(Cc(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+fn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var h=d[o];if(h!==i&&h.form===i.form){var y=h[Ht]||null;if(!y)throw Error(a(90));Cc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<d.length;o++)h=d[o],h.form===i.form&&bu(h)}break e;case"textarea":ft(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Pe(i,!!d.multiple,o,!1)}}}var Si=!1;function ho(i,o,d){if(Si)return i(o,d);Si=!0;try{var h=i(o);return h}finally{if(Si=!1,(ir!==null||or!==null)&&(xp(),ir&&(o=ir,i=or,or=ir=null,uo(o),i)))for(o=0;o<i.length;o++)uo(i[o])}}function Er(i,o){var d=i.stateNode;if(d===null)return null;var h=d[Ht]||null;if(h===null)return null;d=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(a(231,o,typeof d));return d}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(xn)try{var po={};Object.defineProperty(po,"passive",{get:function(){mo=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{mo=!1}var Ar=null,Tc=null,jl=null;function wu(){if(jl)return jl;var i,o=Tc,d=o.length,h,y="value"in Ar?Ar.value:Ar.textContent,b=y.length;for(i=0;i<d&&o[i]===y[i];i++);var I=d-i;for(h=1;h<=I&&o[d-h]===y[b-h];h++);return jl=y.slice(i,1<h?1-h:void 0)}function Nl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Sl(){return!0}function ju(){return!1}function Ka(i){function o(d,h,y,b,I){this._reactName=d,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(d=i[U],this[U]=d?d(b):b[U]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Sl:ju,this.isPropagationStopped=ju,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),o}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Ka(Hr),fo=g({},Hr,{view:0,detail:0}),bm=Ka(fo),kc,Ec,go,Tl=g({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==go&&(go&&i.type==="mousemove"?(kc=i.screenX-go.screenX,Ec=i.screenY-go.screenY):Ec=kc=0,go=i),kc)},movementY:function(i){return"movementY"in i?i.movementY:Ec}}),Nu=Ka(Tl),wm=g({},Tl,{dataTransfer:0}),jm=Ka(wm),Nm=g({},fo,{relatedTarget:0}),Ac=Ka(Nm),Sm=g({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cm=Ka(Sm),Tm=g({},Hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),km=Ka(Tm),Em=g({},Hr,{data:0}),Su=Ka(Em),Am={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Im[i])?!!o[i]:!1}function Dc(){return Pm}var Rm=g({},fo,{key:function(i){if(i.key){var o=Am[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Nl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Dm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(i){return i.type==="keypress"?Nl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Nl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Om=Ka(Rm),Mm=g({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sa=Ka(Mm),kl=g({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),xo=Ka(kl),wO=g({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),jO=Ka(wO),NO=g({},Tl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),SO=Ka(NO),CO=g({},Hr,{newState:0,oldState:0}),TO=Ka(CO),kO=[9,13,27,32],Rg=xn&&"CompositionEvent"in window,Cu=null;xn&&"documentMode"in document&&(Cu=document.documentMode);var EO=xn&&"TextEvent"in window&&!Cu,gj=xn&&(!Rg||Cu&&8<Cu&&11>=Cu),xj=" ",yj=!1;function vj(i,o){switch(i){case"keyup":return kO.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ic=!1;function AO(i,o){switch(i){case"compositionend":return bj(o);case"keypress":return o.which!==32?null:(yj=!0,xj);case"textInput":return i=o.data,i===xj&&yj?null:i;default:return null}}function DO(i,o){if(Ic)return i==="compositionend"||!Rg&&vj(i,o)?(i=wu(),jl=Tc=Ar=null,Ic=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return gj&&o.locale!=="ko"?null:o.data;default:return null}}var IO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wj(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!IO[i.type]:o==="textarea"}function jj(i,o,d,h){ir?or?or.push(h):or=[h]:ir=h,o=Sp(o,"onChange"),0<o.length&&(d=new Cl("onChange","change",null,d,h),i.push({event:d,listeners:o}))}var Tu=null,ku=null;function PO(i){nS(i,0)}function _m(i){var o=Z(i);if(bu(o))return i}function Nj(i,o){if(i==="change")return o}var Sj=!1;if(xn){var Og;if(xn){var Mg="oninput"in document;if(!Mg){var Cj=document.createElement("div");Cj.setAttribute("oninput","return;"),Mg=typeof Cj.oninput=="function"}Og=Mg}else Og=!1;Sj=Og&&(!document.documentMode||9<document.documentMode)}function Tj(){Tu&&(Tu.detachEvent("onpropertychange",kj),ku=Tu=null)}function kj(i){if(i.propertyName==="value"&&_m(ku)){var o=[];jj(o,ku,i,Ni(i)),ho(PO,o)}}function RO(i,o,d){i==="focusin"?(Tj(),Tu=o,ku=d,Tu.attachEvent("onpropertychange",kj)):i==="focusout"&&Tj()}function OO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _m(ku)}function MO(i,o){if(i==="click")return _m(o)}function _O(i,o){if(i==="input"||i==="change")return _m(o)}function LO(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Bn=typeof Object.is=="function"?Object.is:LO;function Eu(i,o){if(Bn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),h=Object.keys(o);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var y=d[h];if(!it.call(o,y)||!Bn(i[y],o[y]))return!1}return!0}function Ej(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Aj(i,o){var d=Ej(i);i=0;for(var h;d;){if(d.nodeType===3){if(h=i+d.textContent.length,i<=o&&h>=o)return{node:d,offset:o-i};i=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ej(d)}}function Dj(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Dj(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Ij(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=nr(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=nr(i.document)}return o}function _g(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var FO=xn&&"documentMode"in document&&11>=document.documentMode,Pc=null,Lg=null,Au=null,Fg=!1;function Pj(i,o,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Fg||Pc==null||Pc!==nr(h)||(h=Pc,"selectionStart"in h&&_g(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Au&&Eu(Au,h)||(Au=h,h=Sp(Lg,"onSelect"),0<h.length&&(o=new Cl("onSelect","select",null,o,d),i.push({event:o,listeners:h}),o.target=Pc)))}function El(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var Rc={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionrun:El("Transition","TransitionRun"),transitionstart:El("Transition","TransitionStart"),transitioncancel:El("Transition","TransitionCancel"),transitionend:El("Transition","TransitionEnd")},Ug={},Rj={};xn&&(Rj=document.createElement("div").style,"AnimationEvent"in window||(delete Rc.animationend.animation,delete Rc.animationiteration.animation,delete Rc.animationstart.animation),"TransitionEvent"in window||delete Rc.transitionend.transition);function Al(i){if(Ug[i])return Ug[i];if(!Rc[i])return i;var o=Rc[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in Rj)return Ug[i]=o[d];return i}var Oj=Al("animationend"),Mj=Al("animationiteration"),_j=Al("animationstart"),UO=Al("transitionrun"),VO=Al("transitionstart"),BO=Al("transitioncancel"),Lj=Al("transitionend"),Fj=new Map,Vg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vg.push("scrollEnd");function Dr(i,o){Fj.set(i,o),Wa(o,[i])}var Lm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},lr=[],Oc=0,Bg=0;function Fm(){for(var i=Oc,o=Bg=Oc=0;o<i;){var d=lr[o];lr[o++]=null;var h=lr[o];lr[o++]=null;var y=lr[o];lr[o++]=null;var b=lr[o];if(lr[o++]=null,h!==null&&y!==null){var I=h.pending;I===null?y.next=y:(y.next=I.next,I.next=y),h.pending=y}b!==0&&Uj(d,y,b)}}function Um(i,o,d,h){lr[Oc++]=i,lr[Oc++]=o,lr[Oc++]=d,lr[Oc++]=h,Bg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function zg(i,o,d,h){return Um(i,o,d,h),Vm(i)}function Dl(i,o){return Um(i,null,null,o),Vm(i)}function Uj(i,o,d){i.lanes|=d;var h=i.alternate;h!==null&&(h.lanes|=d);for(var y=!1,b=i.return;b!==null;)b.childLanes|=d,h=b.alternate,h!==null&&(h.childLanes|=d),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&o!==null&&(y=31-bt(d),i=b.hiddenUpdates,h=i[y],h===null?i[y]=[o]:h.push(o),o.lane=d|536870912),b):null}function Vm(i){if(50<Ju)throw Ju=0,Jx=null,Error(a(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Mc={};function zO(i,o,d,h){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,o,d,h){return new zO(i,o,d,h)}function qg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ci(i,o){var d=i.alternate;return d===null?(d=zn(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function Vj(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Bm(i,o,d,h,y,b){var I=0;if(h=i,typeof i=="function")qg(i)&&(I=1);else if(typeof i=="string")I=Y4(i,d,$.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=zn(31,d,o,y),i.elementType=z,i.lanes=b,i;case j:return Il(d.children,y,b,o);case S:I=8,y|=24;break;case E:return i=zn(12,d,o,y|2),i.elementType=E,i.lanes=b,i;case D:return i=zn(13,d,o,y),i.elementType=D,i.lanes=b,i;case A:return i=zn(19,d,o,y),i.elementType=A,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:I=10;break e;case T:I=9;break e;case P:I=11;break e;case R:I=14;break e;case F:I=16,h=null;break e}I=29,d=Error(a(130,i===null?"null":typeof i,"")),h=null}return o=zn(I,d,o,y),o.elementType=i,o.type=h,o.lanes=b,o}function Il(i,o,d,h){return i=zn(7,i,h,o),i.lanes=d,i}function $g(i,o,d){return i=zn(6,i,null,o),i.lanes=d,i}function Bj(i){var o=zn(18,null,null,0);return o.stateNode=i,o}function Gg(i,o,d){return o=zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var zj=new WeakMap;function cr(i,o){if(typeof i=="object"&&i!==null){var d=zj.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Ge(o)},zj.set(i,o),o)}return{value:i,source:o,stack:Ge(o)}}var _c=[],Lc=0,zm=null,Du=0,dr=[],ur=0,yo=null,Yr=1,Wr="";function Ti(i,o){_c[Lc++]=Du,_c[Lc++]=zm,zm=i,Du=o}function qj(i,o,d){dr[ur++]=Yr,dr[ur++]=Wr,dr[ur++]=yo,yo=i;var h=Yr;i=Wr;var y=32-bt(h)-1;h&=~(1<<y),d+=1;var b=32-bt(o)+y;if(30<b){var I=y-y%5;b=(h&(1<<I)-1).toString(32),h>>=I,y-=I,Yr=1<<32-bt(o)+y|d<<y|h,Wr=b+i}else Yr=1<<b|d<<y|h,Wr=i}function Hg(i){i.return!==null&&(Ti(i,1),qj(i,1,0))}function Yg(i){for(;i===zm;)zm=_c[--Lc],_c[Lc]=null,Du=_c[--Lc],_c[Lc]=null;for(;i===yo;)yo=dr[--ur],dr[ur]=null,Wr=dr[--ur],dr[ur]=null,Yr=dr[--ur],dr[ur]=null}function $j(i,o){dr[ur++]=Yr,dr[ur++]=Wr,dr[ur++]=yo,Yr=o.id,Wr=o.overflow,yo=i}var Qa=null,Hs=null,ns=!1,vo=null,hr=!1,Wg=Error(a(519));function bo(i){var o=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Iu(cr(o,i)),Wg}function Gj(i){var o=i.stateNode,d=i.type,h=i.memoizedProps;switch(o[zs]=i,o[Ht]=h,d){case"dialog":Jt("cancel",o),Jt("close",o);break;case"iframe":case"object":case"embed":Jt("load",o);break;case"video":case"audio":for(d=0;d<Zu.length;d++)Jt(Zu[d],o);break;case"source":Jt("error",o);break;case"img":case"image":case"link":Jt("error",o),Jt("load",o);break;case"details":Jt("toggle",o);break;case"input":Jt("invalid",o),O(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Jt("invalid",o);break;case"textarea":Jt("invalid",o),It(o,h.value,h.defaultValue,h.children)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||h.suppressHydrationWarning===!0||lS(o.textContent,d)?(h.popover!=null&&(Jt("beforetoggle",o),Jt("toggle",o)),h.onScroll!=null&&Jt("scroll",o),h.onScrollEnd!=null&&Jt("scrollend",o),h.onClick!=null&&(o.onclick=gn),o=!0):o=!1,o||bo(i,!0)}function Hj(i){for(Qa=i.return;Qa;)switch(Qa.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:Qa=Qa.return}}function Fc(i){if(i!==Qa)return!1;if(!ns)return Hj(i),ns=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||hy(i.type,i.memoizedProps)),d=!d),d&&Hs&&bo(i),Hj(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Hs=xS(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Hs=xS(i)}else o===27?(o=Hs,Oo(i.type)?(i=xy,xy=null,Hs=i):Hs=o):Hs=Qa?pr(i.stateNode.nextSibling):null;return!0}function Pl(){Hs=Qa=null,ns=!1}function Kg(){var i=vo;return i!==null&&(Pn===null?Pn=i:Pn.push.apply(Pn,i),vo=null),i}function Iu(i){vo===null?vo=[i]:vo.push(i)}var Qg=M(null),Rl=null,ki=null;function wo(i,o,d){W(Qg,o._currentValue),o._currentValue=d}function Ei(i){i._currentValue=Qg.current,V(Qg)}function Jg(i,o,d){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===d)break;i=i.return}}function Xg(i,o,d,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var I=y.child;b=b.firstContext;e:for(;b!==null;){var U=b;b=y;for(var ne=0;ne<o.length;ne++)if(U.context===o[ne]){b.lanes|=d,U=b.alternate,U!==null&&(U.lanes|=d),Jg(b.return,d,i),h||(I=null);break e}b=U.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(a(341));I.lanes|=d,b=I.alternate,b!==null&&(b.lanes|=d),Jg(I,d,i),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===i){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function Uc(i,o,d,h){i=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(a(387));if(I=I.memoizedProps,I!==null){var U=y.type;Bn(y.pendingProps.value,I.value)||(i!==null?i.push(U):i=[U])}}else if(y===ue.current){if(I=y.alternate,I===null)throw Error(a(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(nh):i=[nh])}y=y.return}i!==null&&Xg(o,i,d,h),o.flags|=262144}function qm(i){for(i=i.firstContext;i!==null;){if(!Bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ol(i){Rl=i,ki=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ja(i){return Yj(Rl,i)}function $m(i,o){return Rl===null&&Ol(i),Yj(i,o)}function Yj(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},ki===null){if(i===null)throw Error(a(308));ki=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ki=ki.next=o;return d}var qO=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},$O=e.unstable_scheduleCallback,GO=e.unstable_NormalPriority,Aa={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zg(){return{controller:new qO,data:new Map,refCount:0}}function Pu(i){i.refCount--,i.refCount===0&&$O(GO,function(){i.controller.abort()})}var Ru=null,ex=0,Vc=0,Bc=null;function HO(i,o){if(Ru===null){var d=Ru=[];ex=0,Vc=ay(),Bc={status:"pending",value:void 0,then:function(h){d.push(h)}}}return ex++,o.then(Wj,Wj),o}function Wj(){if(--ex===0&&Ru!==null){Bc!==null&&(Bc.status="fulfilled");var i=Ru;Ru=null,Vc=0,Bc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function YO(i,o){var d=[],h={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<d.length;y++)(0,d[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),h}var Kj=L.S;L.S=function(i,o){PN=Fe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&HO(i,o),Kj!==null&&Kj(i,o)};var Ml=M(null);function tx(){var i=Ml.current;return i!==null?i:Fs.pooledCache}function Gm(i,o){o===null?W(Ml,Ml.current):W(Ml,o.pool)}function Qj(){var i=tx();return i===null?null:{parent:Aa._currentValue,pool:i}}var zc=Error(a(460)),sx=Error(a(474)),Hm=Error(a(542)),Ym={then:function(){}};function Jj(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Xj(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(gn,gn),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,e1(i),i;default:if(typeof o.status=="string")o.then(gn,gn);else{if(i=Fs,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,e1(i),i}throw Ll=o,zc}}function _l(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ll=d,zc):d}}var Ll=null;function Zj(){if(Ll===null)throw Error(a(459));var i=Ll;return Ll=null,i}function e1(i){if(i===zc||i===Hm)throw Error(a(483))}var qc=null,Ou=0;function Wm(i){var o=Ou;return Ou+=1,qc===null&&(qc=[]),Xj(qc,i,o)}function Mu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Km(i,o){throw o.$$typeof===v?Error(a(525)):(i=Object.prototype.toString.call(o),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function t1(i){function o(pe,oe){if(i){var ve=pe.deletions;ve===null?(pe.deletions=[oe],pe.flags|=16):ve.push(oe)}}function d(pe,oe){if(!i)return null;for(;oe!==null;)o(pe,oe),oe=oe.sibling;return null}function h(pe){for(var oe=new Map;pe!==null;)pe.key!==null?oe.set(pe.key,pe):oe.set(pe.index,pe),pe=pe.sibling;return oe}function y(pe,oe){return pe=Ci(pe,oe),pe.index=0,pe.sibling=null,pe}function b(pe,oe,ve){return pe.index=ve,i?(ve=pe.alternate,ve!==null?(ve=ve.index,ve<oe?(pe.flags|=67108866,oe):ve):(pe.flags|=67108866,oe)):(pe.flags|=1048576,oe)}function I(pe){return i&&pe.alternate===null&&(pe.flags|=67108866),pe}function U(pe,oe,ve,Re){return oe===null||oe.tag!==6?(oe=$g(ve,pe.mode,Re),oe.return=pe,oe):(oe=y(oe,ve),oe.return=pe,oe)}function ne(pe,oe,ve,Re){var Nt=ve.type;return Nt===j?Ae(pe,oe,ve.props.children,Re,ve.key):oe!==null&&(oe.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===F&&_l(Nt)===oe.type)?(oe=y(oe,ve.props),Mu(oe,ve),oe.return=pe,oe):(oe=Bm(ve.type,ve.key,ve.props,null,pe.mode,Re),Mu(oe,ve),oe.return=pe,oe)}function we(pe,oe,ve,Re){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ve.containerInfo||oe.stateNode.implementation!==ve.implementation?(oe=Gg(ve,pe.mode,Re),oe.return=pe,oe):(oe=y(oe,ve.children||[]),oe.return=pe,oe)}function Ae(pe,oe,ve,Re,Nt){return oe===null||oe.tag!==7?(oe=Il(ve,pe.mode,Re,Nt),oe.return=pe,oe):(oe=y(oe,ve),oe.return=pe,oe)}function Me(pe,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=$g(""+oe,pe.mode,ve),oe.return=pe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return ve=Bm(oe.type,oe.key,oe.props,null,pe.mode,ve),Mu(ve,oe),ve.return=pe,ve;case N:return oe=Gg(oe,pe.mode,ve),oe.return=pe,oe;case F:return oe=_l(oe),Me(pe,oe,ve)}if(ie(oe)||X(oe))return oe=Il(oe,pe.mode,ve,null),oe.return=pe,oe;if(typeof oe.then=="function")return Me(pe,Wm(oe),ve);if(oe.$$typeof===C)return Me(pe,$m(pe,oe),ve);Km(pe,oe)}return null}function Ne(pe,oe,ve,Re){var Nt=oe!==null?oe.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Nt!==null?null:U(pe,oe,""+ve,Re);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:return ve.key===Nt?ne(pe,oe,ve,Re):null;case N:return ve.key===Nt?we(pe,oe,ve,Re):null;case F:return ve=_l(ve),Ne(pe,oe,ve,Re)}if(ie(ve)||X(ve))return Nt!==null?null:Ae(pe,oe,ve,Re,null);if(typeof ve.then=="function")return Ne(pe,oe,Wm(ve),Re);if(ve.$$typeof===C)return Ne(pe,oe,$m(pe,ve),Re);Km(pe,ve)}return null}function Ce(pe,oe,ve,Re,Nt){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return pe=pe.get(ve)||null,U(oe,pe,""+Re,Nt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case w:return pe=pe.get(Re.key===null?ve:Re.key)||null,ne(oe,pe,Re,Nt);case N:return pe=pe.get(Re.key===null?ve:Re.key)||null,we(oe,pe,Re,Nt);case F:return Re=_l(Re),Ce(pe,oe,ve,Re,Nt)}if(ie(Re)||X(Re))return pe=pe.get(ve)||null,Ae(oe,pe,Re,Nt,null);if(typeof Re.then=="function")return Ce(pe,oe,ve,Wm(Re),Nt);if(Re.$$typeof===C)return Ce(pe,oe,ve,$m(oe,Re),Nt);Km(oe,Re)}return null}function ct(pe,oe,ve,Re){for(var Nt=null,hs=null,gt=oe,zt=oe=0,ss=null;gt!==null&&zt<ve.length;zt++){gt.index>zt?(ss=gt,gt=null):ss=gt.sibling;var ms=Ne(pe,gt,ve[zt],Re);if(ms===null){gt===null&&(gt=ss);break}i&&gt&&ms.alternate===null&&o(pe,gt),oe=b(ms,oe,zt),hs===null?Nt=ms:hs.sibling=ms,hs=ms,gt=ss}if(zt===ve.length)return d(pe,gt),ns&&Ti(pe,zt),Nt;if(gt===null){for(;zt<ve.length;zt++)gt=Me(pe,ve[zt],Re),gt!==null&&(oe=b(gt,oe,zt),hs===null?Nt=gt:hs.sibling=gt,hs=gt);return ns&&Ti(pe,zt),Nt}for(gt=h(gt);zt<ve.length;zt++)ss=Ce(gt,pe,zt,ve[zt],Re),ss!==null&&(i&&ss.alternate!==null&&gt.delete(ss.key===null?zt:ss.key),oe=b(ss,oe,zt),hs===null?Nt=ss:hs.sibling=ss,hs=ss);return i&&gt.forEach(function(Uo){return o(pe,Uo)}),ns&&Ti(pe,zt),Nt}function Et(pe,oe,ve,Re){if(ve==null)throw Error(a(151));for(var Nt=null,hs=null,gt=oe,zt=oe=0,ss=null,ms=ve.next();gt!==null&&!ms.done;zt++,ms=ve.next()){gt.index>zt?(ss=gt,gt=null):ss=gt.sibling;var Uo=Ne(pe,gt,ms.value,Re);if(Uo===null){gt===null&&(gt=ss);break}i&&gt&&Uo.alternate===null&&o(pe,gt),oe=b(Uo,oe,zt),hs===null?Nt=Uo:hs.sibling=Uo,hs=Uo,gt=ss}if(ms.done)return d(pe,gt),ns&&Ti(pe,zt),Nt;if(gt===null){for(;!ms.done;zt++,ms=ve.next())ms=Me(pe,ms.value,Re),ms!==null&&(oe=b(ms,oe,zt),hs===null?Nt=ms:hs.sibling=ms,hs=ms);return ns&&Ti(pe,zt),Nt}for(gt=h(gt);!ms.done;zt++,ms=ve.next())ms=Ce(gt,pe,zt,ms.value,Re),ms!==null&&(i&&ms.alternate!==null&&gt.delete(ms.key===null?zt:ms.key),oe=b(ms,oe,zt),hs===null?Nt=ms:hs.sibling=ms,hs=ms);return i&&gt.forEach(function(nM){return o(pe,nM)}),ns&&Ti(pe,zt),Nt}function Ps(pe,oe,ve,Re){if(typeof ve=="object"&&ve!==null&&ve.type===j&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:e:{for(var Nt=ve.key;oe!==null;){if(oe.key===Nt){if(Nt=ve.type,Nt===j){if(oe.tag===7){d(pe,oe.sibling),Re=y(oe,ve.props.children),Re.return=pe,pe=Re;break e}}else if(oe.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===F&&_l(Nt)===oe.type){d(pe,oe.sibling),Re=y(oe,ve.props),Mu(Re,ve),Re.return=pe,pe=Re;break e}d(pe,oe);break}else o(pe,oe);oe=oe.sibling}ve.type===j?(Re=Il(ve.props.children,pe.mode,Re,ve.key),Re.return=pe,pe=Re):(Re=Bm(ve.type,ve.key,ve.props,null,pe.mode,Re),Mu(Re,ve),Re.return=pe,pe=Re)}return I(pe);case N:e:{for(Nt=ve.key;oe!==null;){if(oe.key===Nt)if(oe.tag===4&&oe.stateNode.containerInfo===ve.containerInfo&&oe.stateNode.implementation===ve.implementation){d(pe,oe.sibling),Re=y(oe,ve.children||[]),Re.return=pe,pe=Re;break e}else{d(pe,oe);break}else o(pe,oe);oe=oe.sibling}Re=Gg(ve,pe.mode,Re),Re.return=pe,pe=Re}return I(pe);case F:return ve=_l(ve),Ps(pe,oe,ve,Re)}if(ie(ve))return ct(pe,oe,ve,Re);if(X(ve)){if(Nt=X(ve),typeof Nt!="function")throw Error(a(150));return ve=Nt.call(ve),Et(pe,oe,ve,Re)}if(typeof ve.then=="function")return Ps(pe,oe,Wm(ve),Re);if(ve.$$typeof===C)return Ps(pe,oe,$m(pe,ve),Re);Km(pe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,oe!==null&&oe.tag===6?(d(pe,oe.sibling),Re=y(oe,ve),Re.return=pe,pe=Re):(d(pe,oe),Re=$g(ve,pe.mode,Re),Re.return=pe,pe=Re),I(pe)):d(pe,oe)}return function(pe,oe,ve,Re){try{Ou=0;var Nt=Ps(pe,oe,ve,Re);return qc=null,Nt}catch(gt){if(gt===zc||gt===Hm)throw gt;var hs=zn(29,gt,null,pe.mode);return hs.lanes=Re,hs.return=pe,hs}finally{}}}var Fl=t1(!0),s1=t1(!1),jo=!1;function ax(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function No(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function So(i,o,d){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(fs&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Vm(i),Uj(i,null,d),o}return Um(i,h,o,d),Vm(i)}function _u(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,d|=h,o.lanes=d,Wt(i,d)}}function rx(i,o){var d=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var y=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var I={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?y=b=I:b=b.next=I,d=d.next}while(d!==null);b===null?y=b=o:b=b.next=o}else y=b=o;d={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var ix=!1;function Lu(){if(ix){var i=Bc;if(i!==null)throw i}}function Fu(i,o,d,h){ix=!1;var y=i.updateQueue;jo=!1;var b=y.firstBaseUpdate,I=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var ne=U,we=ne.next;ne.next=null,I===null?b=we:I.next=we,I=ne;var Ae=i.alternate;Ae!==null&&(Ae=Ae.updateQueue,U=Ae.lastBaseUpdate,U!==I&&(U===null?Ae.firstBaseUpdate=we:U.next=we,Ae.lastBaseUpdate=ne))}if(b!==null){var Me=y.baseState;I=0,Ae=we=ne=null,U=b;do{var Ne=U.lane&-536870913,Ce=Ne!==U.lane;if(Ce?(ts&Ne)===Ne:(h&Ne)===Ne){Ne!==0&&Ne===Vc&&(ix=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var ct=i,Et=U;Ne=o;var Ps=d;switch(Et.tag){case 1:if(ct=Et.payload,typeof ct=="function"){Me=ct.call(Ps,Me,Ne);break e}Me=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Et.payload,Ne=typeof ct=="function"?ct.call(Ps,Me,Ne):ct,Ne==null)break e;Me=g({},Me,Ne);break e;case 2:jo=!0}}Ne=U.callback,Ne!==null&&(i.flags|=64,Ce&&(i.flags|=8192),Ce=y.callbacks,Ce===null?y.callbacks=[Ne]:Ce.push(Ne))}else Ce={lane:Ne,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ae===null?(we=Ae=Ce,ne=Me):Ae=Ae.next=Ce,I|=Ne;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;Ce=U,U=Ce.next,Ce.next=null,y.lastBaseUpdate=Ce,y.shared.pending=null}}while(!0);Ae===null&&(ne=Me),y.baseState=ne,y.firstBaseUpdate=we,y.lastBaseUpdate=Ae,b===null&&(y.shared.lanes=0),Ao|=I,i.lanes=I,i.memoizedState=Me}}function a1(i,o){if(typeof i!="function")throw Error(a(191,i));i.call(o)}function n1(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)a1(d[i],o)}var $c=M(null),Qm=M(0);function r1(i,o){i=Li,W(Qm,i),W($c,o),Li=i|o.baseLanes}function ox(){W(Qm,Li),W($c,$c.current)}function lx(){Li=Qm.current,V($c),V(Qm)}var qn=M(null),mr=null;function Co(i){var o=i.alternate;W(ja,ja.current&1),W(qn,i),mr===null&&(o===null||$c.current!==null||o.memoizedState!==null)&&(mr=i)}function cx(i){W(ja,ja.current),W(qn,i),mr===null&&(mr=i)}function i1(i){i.tag===22?(W(ja,ja.current),W(qn,i),mr===null&&(mr=i)):To()}function To(){W(ja,ja.current),W(qn,qn.current)}function $n(i){V(qn),mr===i&&(mr=null),V(ja)}var ja=M(0);function Jm(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||fy(d)||gy(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ai=0,Vt=null,Ds=null,Da=null,Xm=!1,Gc=!1,Ul=!1,Zm=0,Uu=0,Hc=null,WO=0;function ha(){throw Error(a(321))}function dx(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Bn(i[d],o[d]))return!1;return!0}function ux(i,o,d,h,y,b){return Ai=b,Vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=i===null||i.memoizedState===null?q1:Tx,Ul=!1,b=d(h,y),Ul=!1,Gc&&(b=l1(o,d,h,y)),o1(i),b}function o1(i){L.H=zu;var o=Ds!==null&&Ds.next!==null;if(Ai=0,Da=Ds=Vt=null,Xm=!1,Uu=0,Hc=null,o)throw Error(a(300));i===null||Ia||(i=i.dependencies,i!==null&&qm(i)&&(Ia=!0))}function l1(i,o,d,h){Vt=i;var y=0;do{if(Gc&&(Hc=null),Uu=0,Gc=!1,25<=y)throw Error(a(301));if(y+=1,Da=Ds=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}L.H=$1,b=o(d,h)}while(Gc);return b}function KO(){var i=L.H,o=i.useState()[0];return o=typeof o.then=="function"?Vu(o):o,i=i.useState()[0],(Ds!==null?Ds.memoizedState:null)!==i&&(Vt.flags|=1024),o}function hx(){var i=Zm!==0;return Zm=0,i}function mx(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function px(i){if(Xm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Xm=!1}Ai=0,Da=Ds=Vt=null,Gc=!1,Uu=Zm=0,Hc=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Da===null?Vt.memoizedState=Da=i:Da=Da.next=i,Da}function Na(){if(Ds===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=Ds.next;var o=Da===null?Vt.memoizedState:Da.next;if(o!==null)Da=o,Ds=i;else{if(i===null)throw Vt.alternate===null?Error(a(467)):Error(a(310));Ds=i,i={memoizedState:Ds.memoizedState,baseState:Ds.baseState,baseQueue:Ds.baseQueue,queue:Ds.queue,next:null},Da===null?Vt.memoizedState=Da=i:Da=Da.next=i}return Da}function ep(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vu(i){var o=Uu;return Uu+=1,Hc===null&&(Hc=[]),i=Xj(Hc,i,o),o=Vt,(Da===null?o.memoizedState:Da.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?q1:Tx),i}function tp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vu(i);if(i.$$typeof===C)return Ja(i)}throw Error(a(438,String(i)))}function fx(i){var o=null,d=Vt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var h=Vt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=ep(),Vt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),h=0;h<i;h++)d[h]=J;return o.index++,d}function Di(i,o){return typeof o=="function"?o(i):o}function sp(i){var o=Na();return gx(o,Ds,i)}function gx(i,o,d){var h=i.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=d;var y=i.baseQueue,b=h.pending;if(b!==null){if(y!==null){var I=y.next;y.next=b.next,b.next=I}o.baseQueue=y=b,h.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{o=y.next;var U=I=null,ne=null,we=o,Ae=!1;do{var Me=we.lane&-536870913;if(Me!==we.lane?(ts&Me)===Me:(Ai&Me)===Me){var Ne=we.revertLane;if(Ne===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Me===Vc&&(Ae=!0);else if((Ai&Ne)===Ne){we=we.next,Ne===Vc&&(Ae=!0);continue}else Me={lane:0,revertLane:we.revertLane,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ne===null?(U=ne=Me,I=b):ne=ne.next=Me,Vt.lanes|=Ne,Ao|=Ne;Me=we.action,Ul&&d(b,Me),b=we.hasEagerState?we.eagerState:d(b,Me)}else Ne={lane:Me,revertLane:we.revertLane,gesture:we.gesture,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ne===null?(U=ne=Ne,I=b):ne=ne.next=Ne,Vt.lanes|=Me,Ao|=Me;we=we.next}while(we!==null&&we!==o);if(ne===null?I=b:ne.next=U,!Bn(b,i.memoizedState)&&(Ia=!0,Ae&&(d=Bc,d!==null)))throw d;i.memoizedState=b,i.baseState=I,i.baseQueue=ne,h.lastRenderedState=b}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function xx(i){var o=Na(),d=o.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=i;var h=d.dispatch,y=d.pending,b=o.memoizedState;if(y!==null){d.pending=null;var I=y=y.next;do b=i(b,I.action),I=I.next;while(I!==y);Bn(b,o.memoizedState)||(Ia=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),d.lastRenderedState=b}return[b,h]}function c1(i,o,d){var h=Vt,y=Na(),b=ns;if(b){if(d===void 0)throw Error(a(407));d=d()}else d=o();var I=!Bn((Ds||y).memoizedState,d);if(I&&(y.memoizedState=d,Ia=!0),y=y.queue,bx(h1.bind(null,h,y,i),[i]),y.getSnapshot!==o||I||Da!==null&&Da.memoizedState.tag&1){if(h.flags|=2048,Yc(9,{destroy:void 0},u1.bind(null,h,y,d,o),null),Fs===null)throw Error(a(349));b||(Ai&127)!==0||d1(h,o,d)}return d}function d1(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Vt.updateQueue,o===null?(o=ep(),Vt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function u1(i,o,d,h){o.value=d,o.getSnapshot=h,m1(o)&&p1(i)}function h1(i,o,d){return d(function(){m1(o)&&p1(i)})}function m1(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Bn(i,d)}catch{return!0}}function p1(i){var o=Dl(i,2);o!==null&&Rn(o,i,2)}function yx(i){var o=yn();if(typeof i=="function"){var d=i;if(i=d(),Ul){Ks(!0);try{d()}finally{Ks(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:i},o}function f1(i,o,d,h){return i.baseState=d,gx(i,Ds,typeof h=="function"?h:Di)}function QO(i,o,d,h,y){if(rp(i))throw Error(a(485));if(i=o.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){b.listeners.push(I)}};L.T!==null?d(!0):b.isTransition=!1,h(b),d=o.pending,d===null?(b.next=o.pending=b,g1(o,b)):(b.next=d.next,o.pending=d.next=b)}}function g1(i,o){var d=o.action,h=o.payload,y=i.state;if(o.isTransition){var b=L.T,I={};L.T=I;try{var U=d(y,h),ne=L.S;ne!==null&&ne(I,U),x1(i,o,U)}catch(we){vx(i,o,we)}finally{b!==null&&I.types!==null&&(b.types=I.types),L.T=b}}else try{b=d(y,h),x1(i,o,b)}catch(we){vx(i,o,we)}}function x1(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){y1(i,o,h)},function(h){return vx(i,o,h)}):y1(i,o,d)}function y1(i,o,d){o.status="fulfilled",o.value=d,v1(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,g1(i,d)))}function vx(i,o,d){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=d,v1(o),o=o.next;while(o!==h)}i.action=null}function v1(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function b1(i,o){return o}function w1(i,o){if(ns){var d=Fs.formState;if(d!==null){e:{var h=Vt;if(ns){if(Hs){t:{for(var y=Hs,b=hr;y.nodeType!==8;){if(!b){y=null;break t}if(y=pr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Hs=pr(y.nextSibling),h=y.data==="F!";break e}}bo(h)}h=!1}h&&(o=d[0])}}return d=yn(),d.memoizedState=d.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b1,lastRenderedState:o},d.queue=h,d=V1.bind(null,Vt,h),h.dispatch=d,h=yx(!1),b=Cx.bind(null,Vt,!1,h.queue),h=yn(),y={state:o,dispatch:null,action:i,pending:null},h.queue=y,d=QO.bind(null,Vt,y,b,d),y.dispatch=d,h.memoizedState=i,[o,d,!1]}function j1(i){var o=Na();return N1(o,Ds,i)}function N1(i,o,d){if(o=gx(i,o,b1)[0],i=sp(Di)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Vu(o)}catch(I){throw I===zc?Hm:I}else h=o;o=Na();var y=o.queue,b=y.dispatch;return d!==o.memoizedState&&(Vt.flags|=2048,Yc(9,{destroy:void 0},JO.bind(null,y,d),null)),[h,b,i]}function JO(i,o){i.action=o}function S1(i){var o=Na(),d=Ds;if(d!==null)return N1(o,d,i);Na(),o=o.memoizedState,d=Na();var h=d.queue.dispatch;return d.memoizedState=i,[o,h,!1]}function Yc(i,o,d,h){return i={tag:i,create:d,deps:h,inst:o,next:null},o=Vt.updateQueue,o===null&&(o=ep(),Vt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(h=d.next,d.next=i,i.next=h,o.lastEffect=i),i}function C1(){return Na().memoizedState}function ap(i,o,d,h){var y=yn();Vt.flags|=i,y.memoizedState=Yc(1|o,{destroy:void 0},d,h===void 0?null:h)}function np(i,o,d,h){var y=Na();h=h===void 0?null:h;var b=y.memoizedState.inst;Ds!==null&&h!==null&&dx(h,Ds.memoizedState.deps)?y.memoizedState=Yc(o,b,d,h):(Vt.flags|=i,y.memoizedState=Yc(1|o,b,d,h))}function T1(i,o){ap(8390656,8,i,o)}function bx(i,o){np(2048,8,i,o)}function XO(i){Vt.flags|=4;var o=Vt.updateQueue;if(o===null)o=ep(),Vt.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function k1(i){var o=Na().memoizedState;return XO({ref:o,nextImpl:i}),function(){if((fs&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}function E1(i,o){return np(4,2,i,o)}function A1(i,o){return np(4,4,i,o)}function D1(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function I1(i,o,d){d=d!=null?d.concat([i]):null,np(4,4,D1.bind(null,o,i),d)}function wx(){}function P1(i,o){var d=Na();o=o===void 0?null:o;var h=d.memoizedState;return o!==null&&dx(o,h[1])?h[0]:(d.memoizedState=[i,o],i)}function R1(i,o){var d=Na();o=o===void 0?null:o;var h=d.memoizedState;if(o!==null&&dx(o,h[1]))return h[0];if(h=i(),Ul){Ks(!0);try{i()}finally{Ks(!1)}}return d.memoizedState=[h,o],h}function jx(i,o,d){return d===void 0||(Ai&1073741824)!==0&&(ts&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=ON(),Vt.lanes|=i,Ao|=i,d)}function O1(i,o,d,h){return Bn(d,o)?d:$c.current!==null?(i=jx(i,d,h),Bn(i,o)||(Ia=!0),i):(Ai&42)===0||(Ai&1073741824)!==0&&(ts&261930)===0?(Ia=!0,i.memoizedState=d):(i=ON(),Vt.lanes|=i,Ao|=i,o)}function M1(i,o,d,h,y){var b=B.p;B.p=b!==0&&8>b?b:8;var I=L.T,U={};L.T=U,Cx(i,!1,o,d);try{var ne=y(),we=L.S;if(we!==null&&we(U,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ae=YO(ne,h);Bu(i,o,Ae,Yn(i))}else Bu(i,o,h,Yn(i))}catch(Me){Bu(i,o,{then:function(){},status:"rejected",reason:Me},Yn())}finally{B.p=b,I!==null&&U.types!==null&&(I.types=U.types),L.T=I}}function ZO(){}function Nx(i,o,d,h){if(i.tag!==5)throw Error(a(476));var y=_1(i).queue;M1(i,y,o,Y,d===null?ZO:function(){return L1(i),d(h)})}function _1(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:Y},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function L1(i){var o=_1(i);o.next===null&&(o=i.alternate.memoizedState),Bu(i,o.next.queue,{},Yn())}function Sx(){return Ja(nh)}function F1(){return Na().memoizedState}function U1(){return Na().memoizedState}function e4(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=Yn();i=No(d);var h=So(o,i,d);h!==null&&(Rn(h,o,d),_u(h,o,d)),o={cache:Zg()},i.payload=o;return}o=o.return}}function t4(i,o,d){var h=Yn();d={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},rp(i)?B1(o,d):(d=zg(i,o,d,h),d!==null&&(Rn(d,i,h),z1(d,o,h)))}function V1(i,o,d){var h=Yn();Bu(i,o,d,h)}function Bu(i,o,d,h){var y={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(rp(i))B1(o,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var I=o.lastRenderedState,U=b(I,d);if(y.hasEagerState=!0,y.eagerState=U,Bn(U,I))return Um(i,o,y,0),Fs===null&&Fm(),!1}catch{}finally{}if(d=zg(i,o,y,h),d!==null)return Rn(d,i,h),z1(d,o,h),!0}return!1}function Cx(i,o,d,h){if(h={lane:2,revertLane:ay(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},rp(i)){if(o)throw Error(a(479))}else o=zg(i,d,h,2),o!==null&&Rn(o,i,2)}function rp(i){var o=i.alternate;return i===Vt||o!==null&&o===Vt}function B1(i,o){Gc=Xm=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function z1(i,o,d){if((d&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,d|=h,o.lanes=d,Wt(i,d)}}var zu={readContext:Ja,use:tp,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useLayoutEffect:ha,useInsertionEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useSyncExternalStore:ha,useId:ha,useHostTransitionStatus:ha,useFormState:ha,useActionState:ha,useOptimistic:ha,useMemoCache:ha,useCacheRefresh:ha};zu.useEffectEvent=ha;var q1={readContext:Ja,use:tp,useCallback:function(i,o){return yn().memoizedState=[i,o===void 0?null:o],i},useContext:Ja,useEffect:T1,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,ap(4194308,4,D1.bind(null,o,i),d)},useLayoutEffect:function(i,o){return ap(4194308,4,i,o)},useInsertionEffect:function(i,o){ap(4,2,i,o)},useMemo:function(i,o){var d=yn();o=o===void 0?null:o;var h=i();if(Ul){Ks(!0);try{i()}finally{Ks(!1)}}return d.memoizedState=[h,o],h},useReducer:function(i,o,d){var h=yn();if(d!==void 0){var y=d(o);if(Ul){Ks(!0);try{d(o)}finally{Ks(!1)}}}else y=o;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=t4.bind(null,Vt,i),[h.memoizedState,i]},useRef:function(i){var o=yn();return i={current:i},o.memoizedState=i},useState:function(i){i=yx(i);var o=i.queue,d=V1.bind(null,Vt,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:wx,useDeferredValue:function(i,o){var d=yn();return jx(d,i,o)},useTransition:function(){var i=yx(!1);return i=M1.bind(null,Vt,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var h=Vt,y=yn();if(ns){if(d===void 0)throw Error(a(407));d=d()}else{if(d=o(),Fs===null)throw Error(a(349));(ts&127)!==0||d1(h,o,d)}y.memoizedState=d;var b={value:d,getSnapshot:o};return y.queue=b,T1(h1.bind(null,h,b,i),[i]),h.flags|=2048,Yc(9,{destroy:void 0},u1.bind(null,h,b,d,o),null),d},useId:function(){var i=yn(),o=Fs.identifierPrefix;if(ns){var d=Wr,h=Yr;d=(h&~(1<<32-bt(h)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Zm++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=WO++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Sx,useFormState:w1,useActionState:w1,useOptimistic:function(i){var o=yn();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Cx.bind(null,Vt,!0,d),d.dispatch=o,[i,o]},useMemoCache:fx,useCacheRefresh:function(){return yn().memoizedState=e4.bind(null,Vt)},useEffectEvent:function(i){var o=yn(),d={impl:i};return o.memoizedState=d,function(){if((fs&2)!==0)throw Error(a(440));return d.impl.apply(void 0,arguments)}}},Tx={readContext:Ja,use:tp,useCallback:P1,useContext:Ja,useEffect:bx,useImperativeHandle:I1,useInsertionEffect:E1,useLayoutEffect:A1,useMemo:R1,useReducer:sp,useRef:C1,useState:function(){return sp(Di)},useDebugValue:wx,useDeferredValue:function(i,o){var d=Na();return O1(d,Ds.memoizedState,i,o)},useTransition:function(){var i=sp(Di)[0],o=Na().memoizedState;return[typeof i=="boolean"?i:Vu(i),o]},useSyncExternalStore:c1,useId:F1,useHostTransitionStatus:Sx,useFormState:j1,useActionState:j1,useOptimistic:function(i,o){var d=Na();return f1(d,Ds,i,o)},useMemoCache:fx,useCacheRefresh:U1};Tx.useEffectEvent=k1;var $1={readContext:Ja,use:tp,useCallback:P1,useContext:Ja,useEffect:bx,useImperativeHandle:I1,useInsertionEffect:E1,useLayoutEffect:A1,useMemo:R1,useReducer:xx,useRef:C1,useState:function(){return xx(Di)},useDebugValue:wx,useDeferredValue:function(i,o){var d=Na();return Ds===null?jx(d,i,o):O1(d,Ds.memoizedState,i,o)},useTransition:function(){var i=xx(Di)[0],o=Na().memoizedState;return[typeof i=="boolean"?i:Vu(i),o]},useSyncExternalStore:c1,useId:F1,useHostTransitionStatus:Sx,useFormState:S1,useActionState:S1,useOptimistic:function(i,o){var d=Na();return Ds!==null?f1(d,Ds,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:fx,useCacheRefresh:U1};$1.useEffectEvent=k1;function kx(i,o,d,h){o=i.memoizedState,d=d(h,o),d=d==null?o:g({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Ex={enqueueSetState:function(i,o,d){i=i._reactInternals;var h=Yn(),y=No(h);y.payload=o,d!=null&&(y.callback=d),o=So(i,y,h),o!==null&&(Rn(o,i,h),_u(o,i,h))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var h=Yn(),y=No(h);y.tag=1,y.payload=o,d!=null&&(y.callback=d),o=So(i,y,h),o!==null&&(Rn(o,i,h),_u(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=Yn(),h=No(d);h.tag=2,o!=null&&(h.callback=o),o=So(i,h,d),o!==null&&(Rn(o,i,d),_u(o,i,d))}};function G1(i,o,d,h,y,b,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,I):o.prototype&&o.prototype.isPureReactComponent?!Eu(d,h)||!Eu(y,b):!0}function H1(i,o,d,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,h),o.state!==i&&Ex.enqueueReplaceState(o,o.state,null)}function Vl(i,o){var d=o;if("ref"in o){d={};for(var h in o)h!=="ref"&&(d[h]=o[h])}if(i=i.defaultProps){d===o&&(d=g({},d));for(var y in i)d[y]===void 0&&(d[y]=i[y])}return d}function Y1(i){Lm(i)}function W1(i){console.error(i)}function K1(i){Lm(i)}function ip(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Q1(i,o,d){try{var h=i.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ax(i,o,d){return d=No(d),d.tag=3,d.payload={element:null},d.callback=function(){ip(i,o)},d}function J1(i){return i=No(i),i.tag=3,i}function X1(i,o,d,h){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;i.payload=function(){return y(b)},i.callback=function(){Q1(o,d,h)}}var I=d.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){Q1(o,d,h),typeof y!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function s4(i,o,d,h,y){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=d.alternate,o!==null&&Uc(o,d,y,!0),d=qn.current,d!==null){switch(d.tag){case 31:case 13:return mr===null?yp():d.alternate===null&&ma===0&&(ma=3),d.flags&=-257,d.flags|=65536,d.lanes=y,h===Ym?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([h]):o.add(h),ey(i,h,y)),!1;case 22:return d.flags|=65536,h===Ym?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([h]):d.add(h)),ey(i,h,y)),!1}throw Error(a(435,d.tag))}return ey(i,h,y),yp(),!1}if(ns)return o=qn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==Wg&&(i=Error(a(422),{cause:h}),Iu(cr(i,d)))):(h!==Wg&&(o=Error(a(423),{cause:h}),Iu(cr(o,d))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=cr(h,d),y=Ax(i.stateNode,h,y),rx(i,y),ma!==4&&(ma=2)),!1;var b=Error(a(520),{cause:h});if(b=cr(b,d),Qu===null?Qu=[b]:Qu.push(b),ma!==4&&(ma=2),o===null)return!0;h=cr(h,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=y&-y,d.lanes|=i,i=Ax(d.stateNode,h,i),rx(d,i),!1;case 1:if(o=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Do===null||!Do.has(b))))return d.flags|=65536,y&=-y,d.lanes|=y,y=J1(y),X1(y,i,d,h),rx(d,y),!1}d=d.return}while(d!==null);return!1}var Dx=Error(a(461)),Ia=!1;function Xa(i,o,d,h){o.child=i===null?s1(o,null,d,h):Fl(o,i.child,d,h)}function Z1(i,o,d,h,y){d=d.render;var b=o.ref;if("ref"in h){var I={};for(var U in h)U!=="ref"&&(I[U]=h[U])}else I=h;return Ol(o),h=ux(i,o,d,I,b,y),U=hx(),i!==null&&!Ia?(mx(i,o,y),Ii(i,o,y)):(ns&&U&&Hg(o),o.flags|=1,Xa(i,o,h,y),o.child)}function eN(i,o,d,h,y){if(i===null){var b=d.type;return typeof b=="function"&&!qg(b)&&b.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=b,tN(i,o,b,h,y)):(i=Bm(d.type,null,h,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!Fx(i,y)){var I=b.memoizedProps;if(d=d.compare,d=d!==null?d:Eu,d(I,h)&&i.ref===o.ref)return Ii(i,o,y)}return o.flags|=1,i=Ci(b,h),i.ref=o.ref,i.return=o,o.child=i}function tN(i,o,d,h,y){if(i!==null){var b=i.memoizedProps;if(Eu(b,h)&&i.ref===o.ref)if(Ia=!1,o.pendingProps=h=b,Fx(i,y))(i.flags&131072)!==0&&(Ia=!0);else return o.lanes=i.lanes,Ii(i,o,y)}return Ix(i,o,d,h,y)}function sN(i,o,d,h){var y=h.children,b=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|d:d,i!==null){for(h=o.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,o.child=null;return aN(i,o,b,d,h)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gm(o,b!==null?b.cachePool:null),b!==null?r1(o,b):ox(),i1(o);else return h=o.lanes=536870912,aN(i,o,b!==null?b.baseLanes|d:d,d,h)}else b!==null?(Gm(o,b.cachePool),r1(o,b),To(),o.memoizedState=null):(i!==null&&Gm(o,null),ox(),To());return Xa(i,o,y,d),o.child}function qu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function aN(i,o,d,h,y){var b=tx();return b=b===null?null:{parent:Aa._currentValue,pool:b},o.memoizedState={baseLanes:d,cachePool:b},i!==null&&Gm(o,null),ox(),i1(o),i!==null&&Uc(i,o,h,!0),o.childLanes=y,null}function op(i,o){return o=cp({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function nN(i,o,d){return Fl(o,i.child,null,d),i=op(o,o.pendingProps),i.flags|=2,$n(o),o.memoizedState=null,i}function a4(i,o,d){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ns){if(h.mode==="hidden")return i=op(o,h),o.lanes=536870912,qu(null,i);if(cx(o),(i=Hs)?(i=gS(i,hr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:yo!==null?{id:Yr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},d=Bj(i),d.return=o,o.child=d,Qa=o,Hs=null)):i=null,i===null)throw bo(o);return o.lanes=536870912,null}return op(o,h)}var b=i.memoizedState;if(b!==null){var I=b.dehydrated;if(cx(o),y)if(o.flags&256)o.flags&=-257,o=nN(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(a(558));else if(Ia||Uc(i,o,d,!1),y=(d&i.childLanes)!==0,Ia||y){if(h=Fs,h!==null&&(I=ea(h,d),I!==0&&I!==b.retryLane))throw b.retryLane=I,Dl(i,I),Rn(h,i,I),Dx;yp(),o=nN(i,o,d)}else i=b.treeContext,Hs=pr(I.nextSibling),Qa=o,ns=!0,vo=null,hr=!1,i!==null&&$j(o,i),o=op(o,h),o.flags|=4096;return o}return i=Ci(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function lp(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function Ix(i,o,d,h,y){return Ol(o),d=ux(i,o,d,h,void 0,y),h=hx(),i!==null&&!Ia?(mx(i,o,y),Ii(i,o,y)):(ns&&h&&Hg(o),o.flags|=1,Xa(i,o,d,y),o.child)}function rN(i,o,d,h,y,b){return Ol(o),o.updateQueue=null,d=l1(o,h,d,y),o1(i),h=hx(),i!==null&&!Ia?(mx(i,o,b),Ii(i,o,b)):(ns&&h&&Hg(o),o.flags|=1,Xa(i,o,d,b),o.child)}function iN(i,o,d,h,y){if(Ol(o),o.stateNode===null){var b=Mc,I=d.contextType;typeof I=="object"&&I!==null&&(b=Ja(I)),b=new d(h,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Ex,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=h,b.state=o.memoizedState,b.refs={},ax(o),I=d.contextType,b.context=typeof I=="object"&&I!==null?Ja(I):Mc,b.state=o.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(kx(o,d,I,h),b.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(I=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),I!==b.state&&Ex.enqueueReplaceState(b,b.state,null),Fu(o,h,b,y),Lu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){b=o.stateNode;var U=o.memoizedProps,ne=Vl(d,U);b.props=ne;var we=b.context,Ae=d.contextType;I=Mc,typeof Ae=="object"&&Ae!==null&&(I=Ja(Ae));var Me=d.getDerivedStateFromProps;Ae=typeof Me=="function"||typeof b.getSnapshotBeforeUpdate=="function",U=o.pendingProps!==U,Ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U||we!==I)&&H1(o,b,h,I),jo=!1;var Ne=o.memoizedState;b.state=Ne,Fu(o,h,b,y),Lu(),we=o.memoizedState,U||Ne!==we||jo?(typeof Me=="function"&&(kx(o,d,Me,h),we=o.memoizedState),(ne=jo||G1(o,d,ne,h,Ne,we,I))?(Ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=we),b.props=h,b.state=we,b.context=I,h=ne):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,nx(i,o),I=o.memoizedProps,Ae=Vl(d,I),b.props=Ae,Me=o.pendingProps,Ne=b.context,we=d.contextType,ne=Mc,typeof we=="object"&&we!==null&&(ne=Ja(we)),U=d.getDerivedStateFromProps,(we=typeof U=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==Me||Ne!==ne)&&H1(o,b,h,ne),jo=!1,Ne=o.memoizedState,b.state=Ne,Fu(o,h,b,y),Lu();var Ce=o.memoizedState;I!==Me||Ne!==Ce||jo||i!==null&&i.dependencies!==null&&qm(i.dependencies)?(typeof U=="function"&&(kx(o,d,U,h),Ce=o.memoizedState),(Ae=jo||G1(o,d,Ae,h,Ne,Ce,ne)||i!==null&&i.dependencies!==null&&qm(i.dependencies))?(we||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,Ce,ne),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,Ce,ne)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&Ne===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ce),b.props=h,b.state=Ce,b.context=ne,h=Ae):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&Ne===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Ne===i.memoizedState||(o.flags|=1024),h=!1)}return b=h,lp(i,o),h=(o.flags&128)!==0,b||h?(b=o.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&h?(o.child=Fl(o,i.child,null,y),o.child=Fl(o,null,d,y)):Xa(i,o,d,y),o.memoizedState=b.state,i=o.child):i=Ii(i,o,y),i}function oN(i,o,d,h){return Pl(),o.flags|=256,Xa(i,o,d,h),o.child}var Px={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rx(i){return{baseLanes:i,cachePool:Qj()}}function Ox(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=Hn),i}function lN(i,o,d){var h=o.pendingProps,y=!1,b=(o.flags&128)!==0,I;if((I=b)||(I=i!==null&&i.memoizedState===null?!1:(ja.current&2)!==0),I&&(y=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,i===null){if(ns){if(y?Co(o):To(),(i=Hs)?(i=gS(i,hr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:yo!==null?{id:Yr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},d=Bj(i),d.return=o,o.child=d,Qa=o,Hs=null)):i=null,i===null)throw bo(o);return gy(i)?o.lanes=32:o.lanes=536870912,null}var U=h.children;return h=h.fallback,y?(To(),y=o.mode,U=cp({mode:"hidden",children:U},y),h=Il(h,y,d,null),U.return=o,h.return=o,U.sibling=h,o.child=U,h=o.child,h.memoizedState=Rx(d),h.childLanes=Ox(i,I,d),o.memoizedState=Px,qu(null,h)):(Co(o),Mx(o,U))}var ne=i.memoizedState;if(ne!==null&&(U=ne.dehydrated,U!==null)){if(b)o.flags&256?(Co(o),o.flags&=-257,o=_x(i,o,d)):o.memoizedState!==null?(To(),o.child=i.child,o.flags|=128,o=null):(To(),U=h.fallback,y=o.mode,h=cp({mode:"visible",children:h.children},y),U=Il(U,y,d,null),U.flags|=2,h.return=o,U.return=o,h.sibling=U,o.child=h,Fl(o,i.child,null,d),h=o.child,h.memoizedState=Rx(d),h.childLanes=Ox(i,I,d),o.memoizedState=Px,o=qu(null,h));else if(Co(o),gy(U)){if(I=U.nextSibling&&U.nextSibling.dataset,I)var we=I.dgst;I=we,h=Error(a(419)),h.stack="",h.digest=I,Iu({value:h,source:null,stack:null}),o=_x(i,o,d)}else if(Ia||Uc(i,o,d,!1),I=(d&i.childLanes)!==0,Ia||I){if(I=Fs,I!==null&&(h=ea(I,d),h!==0&&h!==ne.retryLane))throw ne.retryLane=h,Dl(i,h),Rn(I,i,h),Dx;fy(U)||yp(),o=_x(i,o,d)}else fy(U)?(o.flags|=192,o.child=i.child,o=null):(i=ne.treeContext,Hs=pr(U.nextSibling),Qa=o,ns=!0,vo=null,hr=!1,i!==null&&$j(o,i),o=Mx(o,h.children),o.flags|=4096);return o}return y?(To(),U=h.fallback,y=o.mode,ne=i.child,we=ne.sibling,h=Ci(ne,{mode:"hidden",children:h.children}),h.subtreeFlags=ne.subtreeFlags&65011712,we!==null?U=Ci(we,U):(U=Il(U,y,d,null),U.flags|=2),U.return=o,h.return=o,h.sibling=U,o.child=h,qu(null,h),h=o.child,U=i.child.memoizedState,U===null?U=Rx(d):(y=U.cachePool,y!==null?(ne=Aa._currentValue,y=y.parent!==ne?{parent:ne,pool:ne}:y):y=Qj(),U={baseLanes:U.baseLanes|d,cachePool:y}),h.memoizedState=U,h.childLanes=Ox(i,I,d),o.memoizedState=Px,qu(i.child,h)):(Co(o),d=i.child,i=d.sibling,d=Ci(d,{mode:"visible",children:h.children}),d.return=o,d.sibling=null,i!==null&&(I=o.deletions,I===null?(o.deletions=[i],o.flags|=16):I.push(i)),o.child=d,o.memoizedState=null,d)}function Mx(i,o){return o=cp({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function cp(i,o){return i=zn(22,i,null,o),i.lanes=0,i}function _x(i,o,d){return Fl(o,i.child,null,d),i=Mx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function cN(i,o,d){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Jg(i.return,o,d)}function Lx(i,o,d,h,y,b){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:y,treeForkCount:b}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=d,I.tailMode=y,I.treeForkCount=b)}function dN(i,o,d){var h=o.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var I=ja.current,U=(I&2)!==0;if(U?(I=I&1|2,o.flags|=128):I&=1,W(ja,I),Xa(i,o,h,d),h=ns?Du:0,!U&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cN(i,d,o);else if(i.tag===19)cN(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(d=o.child,y=null;d!==null;)i=d.alternate,i!==null&&Jm(i)===null&&(y=d),d=d.sibling;d=y,d===null?(y=o.child,o.child=null):(y=d.sibling,d.sibling=null),Lx(o,!1,y,d,b,h);break;case"backwards":case"unstable_legacy-backwards":for(d=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Jm(i)===null){o.child=y;break}i=y.sibling,y.sibling=d,d=y,y=i}Lx(o,!0,d,null,b,h);break;case"together":Lx(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Ii(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),Ao|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(Uc(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(a(153));if(o.child!==null){for(i=o.child,d=Ci(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=Ci(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Fx(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&qm(i)))}function n4(i,o,d){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),wo(o,Aa,i.memoizedState.cache),Pl();break;case 27:case 5:H(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:wo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,cx(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Co(o),o.flags|=128,null):(d&o.child.childLanes)!==0?lN(i,o,d):(Co(o),i=Ii(i,o,d),i!==null?i.sibling:null);Co(o);break;case 19:var y=(i.flags&128)!==0;if(h=(d&o.childLanes)!==0,h||(Uc(i,o,d,!1),h=(d&o.childLanes)!==0),y){if(h)return dN(i,o,d);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),W(ja,ja.current),h)break;return null;case 22:return o.lanes=0,sN(i,o,d,o.pendingProps);case 24:wo(o,Aa,i.memoizedState.cache)}return Ii(i,o,d)}function uN(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)Ia=!0;else{if(!Fx(i,d)&&(o.flags&128)===0)return Ia=!1,n4(i,o,d);Ia=(i.flags&131072)!==0}else Ia=!1,ns&&(o.flags&1048576)!==0&&qj(o,Du,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=_l(o.elementType),o.type=i,typeof i=="function")qg(i)?(h=Vl(i,h),o.tag=1,o=iN(null,o,i,h,d)):(o.tag=0,o=Ix(null,o,i,h,d));else{if(i!=null){var y=i.$$typeof;if(y===P){o.tag=11,o=Z1(null,o,i,h,d);break e}else if(y===R){o.tag=14,o=eN(null,o,i,h,d);break e}}throw o=q(i)||i,Error(a(306,o,""))}}return o;case 0:return Ix(i,o,o.type,o.pendingProps,d);case 1:return h=o.type,y=Vl(h,o.pendingProps),iN(i,o,h,y,d);case 3:e:{if(be(o,o.stateNode.containerInfo),i===null)throw Error(a(387));h=o.pendingProps;var b=o.memoizedState;y=b.element,nx(i,o),Fu(o,h,null,d);var I=o.memoizedState;if(h=I.cache,wo(o,Aa,h),h!==b.cache&&Xg(o,[Aa],d,!0),Lu(),h=I.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=oN(i,o,h,d);break e}else if(h!==y){y=cr(Error(a(424)),o),Iu(y),o=oN(i,o,h,d);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Hs=pr(i.firstChild),Qa=o,ns=!0,vo=null,hr=!0,d=s1(o,null,h,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Pl(),h===y){o=Ii(i,o,d);break e}Xa(i,o,h,d)}o=o.child}return o;case 26:return lp(i,o),i===null?(d=jS(o.type,null,o.pendingProps,null))?o.memoizedState=d:ns||(d=o.type,i=o.pendingProps,h=Cp(ge.current).createElement(d),h[zs]=o,h[Ht]=i,Za(h,d,i),wa(h),o.stateNode=h):o.memoizedState=jS(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return H(o),i===null&&ns&&(h=o.stateNode=vS(o.type,o.pendingProps,ge.current),Qa=o,hr=!0,y=Hs,Oo(o.type)?(xy=y,Hs=pr(h.firstChild)):Hs=y),Xa(i,o,o.pendingProps.children,d),lp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ns&&((y=h=Hs)&&(h=O4(h,o.type,o.pendingProps,hr),h!==null?(o.stateNode=h,Qa=o,Hs=pr(h.firstChild),hr=!1,y=!0):y=!1),y||bo(o)),H(o),y=o.type,b=o.pendingProps,I=i!==null?i.memoizedProps:null,h=b.children,hy(y,b)?h=null:I!==null&&hy(y,I)&&(o.flags|=32),o.memoizedState!==null&&(y=ux(i,o,KO,null,null,d),nh._currentValue=y),lp(i,o),Xa(i,o,h,d),o.child;case 6:return i===null&&ns&&((i=d=Hs)&&(d=M4(d,o.pendingProps,hr),d!==null?(o.stateNode=d,Qa=o,Hs=null,i=!0):i=!1),i||bo(o)),null;case 13:return lN(i,o,d);case 4:return be(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Fl(o,null,h,d):Xa(i,o,h,d),o.child;case 11:return Z1(i,o,o.type,o.pendingProps,d);case 7:return Xa(i,o,o.pendingProps,d),o.child;case 8:return Xa(i,o,o.pendingProps.children,d),o.child;case 12:return Xa(i,o,o.pendingProps.children,d),o.child;case 10:return h=o.pendingProps,wo(o,o.type,h.value),Xa(i,o,h.children,d),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Ol(o),y=Ja(y),h=h(y),o.flags|=1,Xa(i,o,h,d),o.child;case 14:return eN(i,o,o.type,o.pendingProps,d);case 15:return tN(i,o,o.type,o.pendingProps,d);case 19:return dN(i,o,d);case 31:return a4(i,o,d);case 22:return sN(i,o,d,o.pendingProps);case 24:return Ol(o),h=Ja(Aa),i===null?(y=tx(),y===null&&(y=Fs,b=Zg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=d),y=b),o.memoizedState={parent:h,cache:y},ax(o),wo(o,Aa,y)):((i.lanes&d)!==0&&(nx(i,o),Fu(o,null,null,d),Lu()),y=i.memoizedState,b=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),wo(o,Aa,h)):(h=b.cache,wo(o,Aa,h),h!==y.cache&&Xg(o,[Aa],d,!0))),Xa(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function Pi(i){i.flags|=4}function Ux(i,o,d,h,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(FN())i.flags|=8192;else throw Ll=Ym,sx}else i.flags&=-16777217}function hN(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!kS(o))if(FN())i.flags|=8192;else throw Ll=Ym,sx}function dp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?_():536870912,i.lanes|=o,Jc|=o)}function $u(i,o){if(!ns)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ys(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,h=0;if(o)for(var y=i.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=d,o}function r4(i,o,d){var h=o.pendingProps;switch(Yg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(o),null;case 1:return Ys(o),null;case 3:return d=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ei(Aa),Ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Fc(o)?Pi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Kg())),Ys(o),null;case 26:var y=o.type,b=o.memoizedState;return i===null?(Pi(o),b!==null?(Ys(o),hN(o,b)):(Ys(o),Ux(o,y,null,h,d))):b?b!==i.memoizedState?(Pi(o),Ys(o),hN(o,b)):(Ys(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Pi(o),Ys(o),Ux(o,y,i,h,d)),null;case 27:if(fe(o),d=ge.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Pi(o);else{if(!h){if(o.stateNode===null)throw Error(a(166));return Ys(o),null}i=$.current,Fc(o)?Gj(o):(i=vS(y,h,d),o.stateNode=i,Pi(o))}return Ys(o),null;case 5:if(fe(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Pi(o);else{if(!h){if(o.stateNode===null)throw Error(a(166));return Ys(o),null}if(b=$.current,Fc(o))Gj(o);else{var I=Cp(ge.current);switch(b){case 1:b=I.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=I.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=I.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=I.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?I.createElement(y,{is:h.is}):I.createElement(y)}}b[zs]=o,b[Ht]=h;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)b.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=b;e:switch(Za(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Pi(o)}}return Ys(o),Ux(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Pi(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(a(166));if(i=ge.current,Fc(o)){if(i=o.stateNode,d=o.memoizedProps,h=null,y=Qa,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[zs]=o,i=!!(i.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||lS(i.nodeValue,d)),i||bo(o,!0)}else i=Cp(i).createTextNode(h),i[zs]=o,o.stateNode=i}return Ys(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(h=Fc(o),d!==null){if(i===null){if(!h)throw Error(a(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[zs]=o}else Pl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ys(o),i=!1}else d=Kg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?($n(o),o):($n(o),null);if((o.flags&128)!==0)throw Error(a(558))}return Ys(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Fc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(a(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[zs]=o}else Pl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ys(o),y=!1}else y=Kg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?($n(o),o):($n(o),null)}return $n(o),(o.flags&128)!==0?(o.lanes=d,o):(d=h!==null,i=i!==null&&i.memoizedState!==null,d&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),dp(o,o.updateQueue),Ys(o),null);case 4:return Ee(),i===null&&oy(o.stateNode.containerInfo),Ys(o),null;case 10:return Ei(o.type),Ys(o),null;case 19:if(V(ja),h=o.memoizedState,h===null)return Ys(o),null;if(y=(o.flags&128)!==0,b=h.rendering,b===null)if(y)$u(h,!1);else{if(ma!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=Jm(i),b!==null){for(o.flags|=128,$u(h,!1),i=b.updateQueue,o.updateQueue=i,dp(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)Vj(d,i),d=d.sibling;return W(ja,ja.current&1|2),ns&&Ti(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&Fe()>fp&&(o.flags|=128,y=!0,$u(h,!1),o.lanes=4194304)}else{if(!y)if(i=Jm(b),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,dp(o,i),$u(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!ns)return Ys(o),null}else 2*Fe()-h.renderingStartTime>fp&&d!==536870912&&(o.flags|=128,y=!0,$u(h,!1),o.lanes=4194304);h.isBackwards?(b.sibling=o.child,o.child=b):(i=h.last,i!==null?i.sibling=b:o.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Fe(),i.sibling=null,d=ja.current,W(ja,y?d&1|2:d&1),ns&&Ti(o,h.treeForkCount),i):(Ys(o),null);case 22:case 23:return $n(o),lx(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(d&536870912)!==0&&(o.flags&128)===0&&(Ys(o),o.subtreeFlags&6&&(o.flags|=8192)):Ys(o),d=o.updateQueue,d!==null&&dp(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048),i!==null&&V(Ml),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ei(Aa),Ys(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function i4(i,o){switch(Yg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ei(Aa),Ee(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return fe(o),null;case 31:if(o.memoizedState!==null){if($n(o),o.alternate===null)throw Error(a(340));Pl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if($n(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(a(340));Pl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return V(ja),null;case 4:return Ee(),null;case 10:return Ei(o.type),null;case 22:case 23:return $n(o),lx(),i!==null&&V(Ml),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ei(Aa),null;case 25:return null;default:return null}}function mN(i,o){switch(Yg(o),o.tag){case 3:Ei(Aa),Ee();break;case 26:case 27:case 5:fe(o);break;case 4:Ee();break;case 31:o.memoizedState!==null&&$n(o);break;case 13:$n(o);break;case 19:V(ja);break;case 10:Ei(o.type);break;case 22:case 23:$n(o),lx(),i!==null&&V(Ml);break;case 24:Ei(Aa)}}function Gu(i,o){try{var d=o.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var y=h.next;d=y;do{if((d.tag&i)===i){h=void 0;var b=d.create,I=d.inst;h=b(),I.destroy=h}d=d.next}while(d!==y)}}catch(U){Ss(o,o.return,U)}}function ko(i,o,d){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&i)===i){var I=h.inst,U=I.destroy;if(U!==void 0){I.destroy=void 0,y=o;var ne=d,we=U;try{we()}catch(Ae){Ss(y,ne,Ae)}}}h=h.next}while(h!==b)}}catch(Ae){Ss(o,o.return,Ae)}}function pN(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{n1(o,d)}catch(h){Ss(i,i.return,h)}}}function fN(i,o,d){d.props=Vl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(h){Ss(i,o,h)}}function Hu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof d=="function"?i.refCleanup=d(h):d.current=h}}catch(y){Ss(i,o,y)}}function Kr(i,o){var d=i.ref,h=i.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(y){Ss(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){Ss(i,o,y)}else d.current=null}function gN(i){var o=i.type,d=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(y){Ss(i,i.return,y)}}function Vx(i,o,d){try{var h=i.stateNode;E4(h,i.type,d,o),h[Ht]=o}catch(y){Ss(i,i.return,y)}}function xN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Oo(i.type)||i.tag===4}function Bx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Oo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zx(i,o,d){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=gn));else if(h!==4&&(h===27&&Oo(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(zx(i,o,d),i=i.sibling;i!==null;)zx(i,o,d),i=i.sibling}function up(i,o,d){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(h!==4&&(h===27&&Oo(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(up(i,o,d),i=i.sibling;i!==null;)up(i,o,d),i=i.sibling}function yN(i){var o=i.stateNode,d=i.memoizedProps;try{for(var h=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Za(o,h,d),o[zs]=i,o[Ht]=d}catch(b){Ss(i,i.return,b)}}var Ri=!1,Pa=!1,qx=!1,vN=typeof WeakSet=="function"?WeakSet:Set,$a=null;function o4(i,o){if(i=i.containerInfo,dy=Pp,i=Ij(i),_g(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var I=0,U=-1,ne=-1,we=0,Ae=0,Me=i,Ne=null;t:for(;;){for(var Ce;Me!==d||y!==0&&Me.nodeType!==3||(U=I+y),Me!==b||h!==0&&Me.nodeType!==3||(ne=I+h),Me.nodeType===3&&(I+=Me.nodeValue.length),(Ce=Me.firstChild)!==null;)Ne=Me,Me=Ce;for(;;){if(Me===i)break t;if(Ne===d&&++we===y&&(U=I),Ne===b&&++Ae===h&&(ne=I),(Ce=Me.nextSibling)!==null)break;Me=Ne,Ne=Me.parentNode}Me=Ce}d=U===-1||ne===-1?null:{start:U,end:ne}}else d=null}d=d||{start:0,end:0}}else d=null;for(uy={focusedElem:i,selectionRange:d},Pp=!1,$a=o;$a!==null;)if(o=$a,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,$a=i;else for(;$a!==null;){switch(o=$a,b=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)y=i[d],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,d=o,y=b.memoizedProps,b=b.memoizedState,h=d.stateNode;try{var ct=Vl(d.type,y);i=h.getSnapshotBeforeUpdate(ct,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Et){Ss(d,d.return,Et)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)py(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":py(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=o.sibling,i!==null){i.return=o.return,$a=i;break}$a=o.return}}function bN(i,o,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:Mi(i,d),h&4&&Gu(5,d);break;case 1:if(Mi(i,d),h&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(I){Ss(d,d.return,I)}else{var y=Vl(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Ss(d,d.return,I)}}h&64&&pN(d),h&512&&Hu(d,d.return);break;case 3:if(Mi(i,d),h&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{n1(i,o)}catch(I){Ss(d,d.return,I)}}break;case 27:o===null&&h&4&&yN(d);case 26:case 5:Mi(i,d),o===null&&h&4&&gN(d),h&512&&Hu(d,d.return);break;case 12:Mi(i,d);break;case 31:Mi(i,d),h&4&&NN(i,d);break;case 13:Mi(i,d),h&4&&SN(i,d),h&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=g4.bind(null,d),_4(i,d))));break;case 22:if(h=d.memoizedState!==null||Ri,!h){o=o!==null&&o.memoizedState!==null||Pa,y=Ri;var b=Pa;Ri=h,(Pa=o)&&!b?_i(i,d,(d.subtreeFlags&8772)!==0):Mi(i,d),Ri=y,Pa=b}break;case 30:break;default:Mi(i,d)}}function wN(i){var o=i.alternate;o!==null&&(i.alternate=null,wN(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&co(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Qs=null,An=!1;function Oi(i,o,d){for(d=d.child;d!==null;)jN(i,o,d),d=d.sibling}function jN(i,o,d){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(cs,d)}catch{}switch(d.tag){case 26:Pa||Kr(d,o),Oi(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Pa||Kr(d,o);var h=Qs,y=An;Oo(d.type)&&(Qs=d.stateNode,An=!1),Oi(i,o,d),th(d.stateNode),Qs=h,An=y;break;case 5:Pa||Kr(d,o);case 6:if(h=Qs,y=An,Qs=null,Oi(i,o,d),Qs=h,An=y,Qs!==null)if(An)try{(Qs.nodeType===9?Qs.body:Qs.nodeName==="HTML"?Qs.ownerDocument.body:Qs).removeChild(d.stateNode)}catch(b){Ss(d,o,b)}else try{Qs.removeChild(d.stateNode)}catch(b){Ss(d,o,b)}break;case 18:Qs!==null&&(An?(i=Qs,pS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),rd(i)):pS(Qs,d.stateNode));break;case 4:h=Qs,y=An,Qs=d.stateNode.containerInfo,An=!0,Oi(i,o,d),Qs=h,An=y;break;case 0:case 11:case 14:case 15:ko(2,d,o),Pa||ko(4,d,o),Oi(i,o,d);break;case 1:Pa||(Kr(d,o),h=d.stateNode,typeof h.componentWillUnmount=="function"&&fN(d,o,h)),Oi(i,o,d);break;case 21:Oi(i,o,d);break;case 22:Pa=(h=Pa)||d.memoizedState!==null,Oi(i,o,d),Pa=h;break;default:Oi(i,o,d)}}function NN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{rd(i)}catch(d){Ss(o,o.return,d)}}}function SN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rd(i)}catch(d){Ss(o,o.return,d)}}function l4(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new vN),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new vN),o;default:throw Error(a(435,i.tag))}}function hp(i,o){var d=l4(i);o.forEach(function(h){if(!d.has(h)){d.add(h);var y=x4.bind(null,i,h);h.then(y,y)}})}function Dn(i,o){var d=o.deletions;if(d!==null)for(var h=0;h<d.length;h++){var y=d[h],b=i,I=o,U=I;e:for(;U!==null;){switch(U.tag){case 27:if(Oo(U.type)){Qs=U.stateNode,An=!1;break e}break;case 5:Qs=U.stateNode,An=!1;break e;case 3:case 4:Qs=U.stateNode.containerInfo,An=!0;break e}U=U.return}if(Qs===null)throw Error(a(160));jN(b,I,y),Qs=null,An=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)CN(o,i),o=o.sibling}var Ir=null;function CN(i,o){var d=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(o,i),In(i),h&4&&(ko(3,i,i.return),Gu(3,i),ko(5,i,i.return));break;case 1:Dn(o,i),In(i),h&512&&(Pa||d===null||Kr(d,d.return)),h&64&&Ri&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var y=Ir;if(Dn(o,i),In(i),h&512&&(Pa||d===null||Kr(d,d.return)),h&4){var b=d!==null?d.memoizedState:null;if(h=i.memoizedState,d===null)if(h===null)if(i.stateNode===null){e:{h=i.type,d=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[js]||b[zs]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),Za(b,h,d),b[zs]=i,wa(b),h=b;break e;case"link":var I=CS("link","href",y).get(h+(d.href||""));if(I){for(var U=0;U<I.length;U++)if(b=I[U],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){I.splice(U,1);break t}}b=y.createElement(h),Za(b,h,d),y.head.appendChild(b);break;case"meta":if(I=CS("meta","content",y).get(h+(d.content||""))){for(U=0;U<I.length;U++)if(b=I[U],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){I.splice(U,1);break t}}b=y.createElement(h),Za(b,h,d),y.head.appendChild(b);break;default:throw Error(a(468,h))}b[zs]=i,wa(b),h=b}i.stateNode=h}else TS(y,i.type,i.stateNode);else i.stateNode=SS(y,h,i.memoizedProps);else b!==h?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,h===null?TS(y,i.type,i.stateNode):SS(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Vx(i,i.memoizedProps,d.memoizedProps)}break;case 27:Dn(o,i),In(i),h&512&&(Pa||d===null||Kr(d,d.return)),d!==null&&h&4&&Vx(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Dn(o,i),In(i),h&512&&(Pa||d===null||Kr(d,d.return)),i.flags&32){y=i.stateNode;try{He(y,"")}catch(ct){Ss(i,i.return,ct)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,Vx(i,y,d!==null?d.memoizedProps:y)),h&1024&&(qx=!0);break;case 6:if(Dn(o,i),In(i),h&4){if(i.stateNode===null)throw Error(a(162));h=i.memoizedProps,d=i.stateNode;try{d.nodeValue=h}catch(ct){Ss(i,i.return,ct)}}break;case 3:if(Ep=null,y=Ir,Ir=Tp(o.containerInfo),Dn(o,i),Ir=y,In(i),h&4&&d!==null&&d.memoizedState.isDehydrated)try{rd(o.containerInfo)}catch(ct){Ss(i,i.return,ct)}qx&&(qx=!1,TN(i));break;case 4:h=Ir,Ir=Tp(i.stateNode.containerInfo),Dn(o,i),In(i),Ir=h;break;case 12:Dn(o,i),In(i);break;case 31:Dn(o,i),In(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,hp(i,h)));break;case 13:Dn(o,i),In(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(pp=Fe()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,hp(i,h)));break;case 22:y=i.memoizedState!==null;var ne=d!==null&&d.memoizedState!==null,we=Ri,Ae=Pa;if(Ri=we||y,Pa=Ae||ne,Dn(o,i),Pa=Ae,Ri=we,In(i),h&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(d===null||ne||Ri||Pa||Bl(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){ne=d=o;try{if(b=ne.stateNode,y)I=b.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{U=ne.stateNode;var Me=ne.memoizedProps.style,Ne=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;U.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(ct){Ss(ne,ne.return,ct)}}}else if(o.tag===6){if(d===null){ne=o;try{ne.stateNode.nodeValue=y?"":ne.memoizedProps}catch(ct){Ss(ne,ne.return,ct)}}}else if(o.tag===18){if(d===null){ne=o;try{var Ce=ne.stateNode;y?fS(Ce,!0):fS(ne.stateNode,!1)}catch(ct){Ss(ne,ne.return,ct)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,hp(i,d))));break;case 19:Dn(o,i),In(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,hp(i,h)));break;case 30:break;case 21:break;default:Dn(o,i),In(i)}}function In(i){var o=i.flags;if(o&2){try{for(var d,h=i.return;h!==null;){if(xN(h)){d=h;break}h=h.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var y=d.stateNode,b=Bx(i);up(i,b,y);break;case 5:var I=d.stateNode;d.flags&32&&(He(I,""),d.flags&=-33);var U=Bx(i);up(i,U,I);break;case 3:case 4:var ne=d.stateNode.containerInfo,we=Bx(i);zx(i,we,ne);break;default:throw Error(a(161))}}catch(Ae){Ss(i,i.return,Ae)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function TN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;TN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Mi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)bN(i,o.alternate,o),o=o.sibling}function Bl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ko(4,o,o.return),Bl(o);break;case 1:Kr(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&fN(o,o.return,d),Bl(o);break;case 27:th(o.stateNode);case 26:case 5:Kr(o,o.return),Bl(o);break;case 22:o.memoizedState===null&&Bl(o);break;case 30:Bl(o);break;default:Bl(o)}i=i.sibling}}function _i(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=i,b=o,I=b.flags;switch(b.tag){case 0:case 11:case 15:_i(y,b,d),Gu(4,b);break;case 1:if(_i(y,b,d),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(we){Ss(h,h.return,we)}if(h=b,y=h.updateQueue,y!==null){var U=h.stateNode;try{var ne=y.shared.hiddenCallbacks;if(ne!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ne.length;y++)a1(ne[y],U)}catch(we){Ss(h,h.return,we)}}d&&I&64&&pN(b),Hu(b,b.return);break;case 27:yN(b);case 26:case 5:_i(y,b,d),d&&h===null&&I&4&&gN(b),Hu(b,b.return);break;case 12:_i(y,b,d);break;case 31:_i(y,b,d),d&&I&4&&NN(y,b);break;case 13:_i(y,b,d),d&&I&4&&SN(y,b);break;case 22:b.memoizedState===null&&_i(y,b,d),Hu(b,b.return);break;case 30:break;default:_i(y,b,d)}o=o.sibling}}function $x(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Pu(d))}function Gx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Pu(i))}function Pr(i,o,d,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)kN(i,o,d,h),o=o.sibling}function kN(i,o,d,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Pr(i,o,d,h),y&2048&&Gu(9,o);break;case 1:Pr(i,o,d,h);break;case 3:Pr(i,o,d,h),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Pu(i)));break;case 12:if(y&2048){Pr(i,o,d,h),i=o.stateNode;try{var b=o.memoizedProps,I=b.id,U=b.onPostCommit;typeof U=="function"&&U(I,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ne){Ss(o,o.return,ne)}}else Pr(i,o,d,h);break;case 31:Pr(i,o,d,h);break;case 13:Pr(i,o,d,h);break;case 23:break;case 22:b=o.stateNode,I=o.alternate,o.memoizedState!==null?b._visibility&2?Pr(i,o,d,h):Yu(i,o):b._visibility&2?Pr(i,o,d,h):(b._visibility|=2,Wc(i,o,d,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&$x(I,o);break;case 24:Pr(i,o,d,h),y&2048&&Gx(o.alternate,o);break;default:Pr(i,o,d,h)}}function Wc(i,o,d,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=i,I=o,U=d,ne=h,we=I.flags;switch(I.tag){case 0:case 11:case 15:Wc(b,I,U,ne,y),Gu(8,I);break;case 23:break;case 22:var Ae=I.stateNode;I.memoizedState!==null?Ae._visibility&2?Wc(b,I,U,ne,y):Yu(b,I):(Ae._visibility|=2,Wc(b,I,U,ne,y)),y&&we&2048&&$x(I.alternate,I);break;case 24:Wc(b,I,U,ne,y),y&&we&2048&&Gx(I.alternate,I);break;default:Wc(b,I,U,ne,y)}o=o.sibling}}function Yu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,h=o,y=h.flags;switch(h.tag){case 22:Yu(d,h),y&2048&&$x(h.alternate,h);break;case 24:Yu(d,h),y&2048&&Gx(h.alternate,h);break;default:Yu(d,h)}o=o.sibling}}var Wu=8192;function Kc(i,o,d){if(i.subtreeFlags&Wu)for(i=i.child;i!==null;)EN(i,o,d),i=i.sibling}function EN(i,o,d){switch(i.tag){case 26:Kc(i,o,d),i.flags&Wu&&i.memoizedState!==null&&W4(d,Ir,i.memoizedState,i.memoizedProps);break;case 5:Kc(i,o,d);break;case 3:case 4:var h=Ir;Ir=Tp(i.stateNode.containerInfo),Kc(i,o,d),Ir=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Wu,Wu=16777216,Kc(i,o,d),Wu=h):Kc(i,o,d));break;default:Kc(i,o,d)}}function AN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ku(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];$a=h,IN(h,i)}AN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)DN(i),i=i.sibling}function DN(i){switch(i.tag){case 0:case 11:case 15:Ku(i),i.flags&2048&&ko(9,i,i.return);break;case 3:Ku(i);break;case 12:Ku(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,mp(i)):Ku(i);break;default:Ku(i)}}function mp(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];$a=h,IN(h,i)}AN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ko(8,o,o.return),mp(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,mp(o));break;default:mp(o)}i=i.sibling}}function IN(i,o){for(;$a!==null;){var d=$a;switch(d.tag){case 0:case 11:case 15:ko(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Pu(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,$a=h;else e:for(d=i;$a!==null;){h=$a;var y=h.sibling,b=h.return;if(wN(h),h===d){$a=null;break e}if(y!==null){y.return=b,$a=y;break e}$a=b}}}var c4={getCacheForType:function(i){var o=Ja(Aa),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Ja(Aa).controller.signal}},d4=typeof WeakMap=="function"?WeakMap:Map,fs=0,Fs=null,Qt=null,ts=0,Ns=0,Gn=null,Eo=!1,Qc=!1,Hx=!1,Li=0,ma=0,Ao=0,zl=0,Yx=0,Hn=0,Jc=0,Qu=null,Pn=null,Wx=!1,pp=0,PN=0,fp=1/0,gp=null,Do=null,Fa=0,Io=null,Xc=null,Fi=0,Kx=0,Qx=null,RN=null,Ju=0,Jx=null;function Yn(){return(fs&2)!==0&&ts!==0?ts&-ts:L.T!==null?ay():Gs()}function ON(){if(Hn===0)if((ts&536870912)===0||ns){var i=Ft;Ft<<=1,(Ft&3932160)===0&&(Ft=262144),Hn=i}else Hn=536870912;return i=qn.current,i!==null&&(i.flags|=32),Hn}function Rn(i,o,d){(i===Fs&&(Ns===2||Ns===9)||i.cancelPendingCommit!==null)&&(Zc(i,0),Po(i,ts,Hn,!1)),Be(i,d),((fs&2)===0||i!==Fs)&&(i===Fs&&((fs&2)===0&&(zl|=d),ma===4&&Po(i,ts,Hn,!1)),Qr(i))}function MN(i,o,d){if((fs&6)!==0)throw Error(a(327));var h=!d&&(o&127)===0&&(o&i.expiredLanes)===0||Se(i,o),y=h?m4(i,o):Zx(i,o,!0),b=h;do{if(y===0){Qc&&!h&&Po(i,o,0,!1);break}else{if(d=i.current.alternate,b&&!u4(d)){y=Zx(i,o,!1),b=!1;continue}if(y===2){if(b=o,i.errorRecoveryDisabledLanes&b)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var U=i;y=Qu;var ne=U.current.memoizedState.isDehydrated;if(ne&&(Zc(U,I).flags|=256),I=Zx(U,I,!1),I!==2){if(Hx&&!ne){U.errorRecoveryDisabledLanes|=b,zl|=b,y=4;break e}b=Pn,Pn=y,b!==null&&(Pn===null?Pn=b:Pn.push.apply(Pn,b))}y=I}if(b=!1,y!==2)continue}}if(y===1){Zc(i,0),Po(i,o,0,!0);break}e:{switch(h=i,b=y,b){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:Po(h,o,Hn,!Eo);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(y=pp+300-Fe(),10<y)){if(Po(h,o,Hn,!Eo),le(h,0,!0)!==0)break e;Fi=o,h.timeoutHandle=hS(_N.bind(null,h,d,Pn,gp,Wx,o,Hn,zl,Jc,Eo,b,"Throttled",-0,0),y);break e}_N(h,d,Pn,gp,Wx,o,Hn,zl,Jc,Eo,b,null,-0,0)}}break}while(!0);Qr(i)}function _N(i,o,d,h,y,b,I,U,ne,we,Ae,Me,Ne,Ce){if(i.timeoutHandle=-1,Me=o.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},EN(o,b,Me);var ct=(b&62914560)===b?pp-Fe():(b&4194048)===b?PN-Fe():0;if(ct=K4(Me,ct),ct!==null){Fi=b,i.cancelPendingCommit=ct($N.bind(null,i,o,b,d,h,y,I,U,ne,Ae,Me,null,Ne,Ce)),Po(i,b,I,!we);return}}$N(i,o,b,d,h,y,I,U,ne)}function u4(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var y=d[h],b=y.getSnapshot;y=y.value;try{if(!Bn(b(),y))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Po(i,o,d,h){o&=~Yx,o&=~zl,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var y=o;0<y;){var b=31-bt(y),I=1<<b;h[b]=-1,y&=~I}d!==0&&Gt(i,d,o)}function xp(){return(fs&6)===0?(Xu(0),!1):!0}function Xx(){if(Qt!==null){if(Ns===0)var i=Qt.return;else i=Qt,ki=Rl=null,px(i),qc=null,Ou=0,i=Qt;for(;i!==null;)mN(i.alternate,i),i=i.return;Qt=null}}function Zc(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,I4(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Fi=0,Xx(),Fs=i,Qt=d=Ci(i.current,null),ts=o,Ns=0,Gn=null,Eo=!1,Qc=Se(i,o),Hx=!1,Jc=Hn=Yx=zl=Ao=ma=0,Pn=Qu=null,Wx=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var y=31-bt(h),b=1<<y;o|=i[y],h&=~b}return Li=o,Fm(),d}function LN(i,o){Vt=null,L.H=zu,o===zc||o===Hm?(o=Zj(),Ns=3):o===sx?(o=Zj(),Ns=4):Ns=o===Dx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Gn=o,Qt===null&&(ma=1,ip(i,cr(o,i.current)))}function FN(){var i=qn.current;return i===null?!0:(ts&4194048)===ts?mr===null:(ts&62914560)===ts||(ts&536870912)!==0?i===mr:!1}function UN(){var i=L.H;return L.H=zu,i===null?zu:i}function VN(){var i=L.A;return L.A=c4,i}function yp(){ma=4,Eo||(ts&4194048)!==ts&&qn.current!==null||(Qc=!0),(Ao&134217727)===0&&(zl&134217727)===0||Fs===null||Po(Fs,ts,Hn,!1)}function Zx(i,o,d){var h=fs;fs|=2;var y=UN(),b=VN();(Fs!==i||ts!==o)&&(gp=null,Zc(i,o)),o=!1;var I=ma;e:do try{if(Ns!==0&&Qt!==null){var U=Qt,ne=Gn;switch(Ns){case 8:Xx(),I=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(o=!0);var we=Ns;if(Ns=0,Gn=null,ed(i,U,ne,we),d&&Qc){I=0;break e}break;default:we=Ns,Ns=0,Gn=null,ed(i,U,ne,we)}}h4(),I=ma;break}catch(Ae){LN(i,Ae)}while(!0);return o&&i.shellSuspendCounter++,ki=Rl=null,fs=h,L.H=y,L.A=b,Qt===null&&(Fs=null,ts=0,Fm()),I}function h4(){for(;Qt!==null;)BN(Qt)}function m4(i,o){var d=fs;fs|=2;var h=UN(),y=VN();Fs!==i||ts!==o?(gp=null,fp=Fe()+500,Zc(i,o)):Qc=Se(i,o);e:do try{if(Ns!==0&&Qt!==null){o=Qt;var b=Gn;t:switch(Ns){case 1:Ns=0,Gn=null,ed(i,o,b,1);break;case 2:case 9:if(Jj(b)){Ns=0,Gn=null,zN(o);break}o=function(){Ns!==2&&Ns!==9||Fs!==i||(Ns=7),Qr(i)},b.then(o,o);break e;case 3:Ns=7;break e;case 4:Ns=5;break e;case 7:Jj(b)?(Ns=0,Gn=null,zN(o)):(Ns=0,Gn=null,ed(i,o,b,7));break;case 5:var I=null;switch(Qt.tag){case 26:I=Qt.memoizedState;case 5:case 27:var U=Qt;if(I?kS(I):U.stateNode.complete){Ns=0,Gn=null;var ne=U.sibling;if(ne!==null)Qt=ne;else{var we=U.return;we!==null?(Qt=we,vp(we)):Qt=null}break t}}Ns=0,Gn=null,ed(i,o,b,5);break;case 6:Ns=0,Gn=null,ed(i,o,b,6);break;case 8:Xx(),ma=6;break e;default:throw Error(a(462))}}p4();break}catch(Ae){LN(i,Ae)}while(!0);return ki=Rl=null,L.H=h,L.A=y,fs=d,Qt!==null?0:(Fs=null,ts=0,Fm(),ma)}function p4(){for(;Qt!==null&&!xs();)BN(Qt)}function BN(i){var o=uN(i.alternate,i,Li);i.memoizedProps=i.pendingProps,o===null?vp(i):Qt=o}function zN(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=rN(d,o,o.pendingProps,o.type,void 0,ts);break;case 11:o=rN(d,o,o.pendingProps,o.type.render,o.ref,ts);break;case 5:px(o);default:mN(d,o),o=Qt=Vj(o,Li),o=uN(d,o,Li)}i.memoizedProps=i.pendingProps,o===null?vp(i):Qt=o}function ed(i,o,d,h){ki=Rl=null,px(o),qc=null,Ou=0;var y=o.return;try{if(s4(i,y,o,d,ts)){ma=1,ip(i,cr(d,i.current)),Qt=null;return}}catch(b){if(y!==null)throw Qt=y,b;ma=1,ip(i,cr(d,i.current)),Qt=null;return}o.flags&32768?(ns||h===1?i=!0:Qc||(ts&536870912)!==0?i=!1:(Eo=i=!0,(h===2||h===9||h===3||h===6)&&(h=qn.current,h!==null&&h.tag===13&&(h.flags|=16384))),qN(o,i)):vp(o)}function vp(i){var o=i;do{if((o.flags&32768)!==0){qN(o,Eo);return}i=o.return;var d=r4(o.alternate,o,Li);if(d!==null){Qt=d;return}if(o=o.sibling,o!==null){Qt=o;return}Qt=o=i}while(o!==null);ma===0&&(ma=5)}function qN(i,o){do{var d=i4(i.alternate,i);if(d!==null){d.flags&=32767,Qt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){Qt=i;return}Qt=i=d}while(i!==null);ma=6,Qt=null}function $N(i,o,d,h,y,b,I,U,ne){i.cancelPendingCommit=null;do bp();while(Fa!==0);if((fs&6)!==0)throw Error(a(327));if(o!==null){if(o===i.current)throw Error(a(177));if(b=o.lanes|o.childLanes,b|=Bg,kt(i,d,b,I,U,ne),i===Fs&&(Qt=Fs=null,ts=0),Xc=o,Io=i,Fi=d,Kx=b,Qx=y,RN=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,y4(es,function(){return KN(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=L.T,L.T=null,y=B.p,B.p=2,I=fs,fs|=4;try{o4(i,o,d)}finally{fs=I,B.p=y,L.T=h}}Fa=1,GN(),HN(),YN()}}function GN(){if(Fa===1){Fa=0;var i=Io,o=Xc,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var h=B.p;B.p=2;var y=fs;fs|=4;try{CN(o,i);var b=uy,I=Ij(i.containerInfo),U=b.focusedElem,ne=b.selectionRange;if(I!==U&&U&&U.ownerDocument&&Dj(U.ownerDocument.documentElement,U)){if(ne!==null&&_g(U)){var we=ne.start,Ae=ne.end;if(Ae===void 0&&(Ae=we),"selectionStart"in U)U.selectionStart=we,U.selectionEnd=Math.min(Ae,U.value.length);else{var Me=U.ownerDocument||document,Ne=Me&&Me.defaultView||window;if(Ne.getSelection){var Ce=Ne.getSelection(),ct=U.textContent.length,Et=Math.min(ne.start,ct),Ps=ne.end===void 0?Et:Math.min(ne.end,ct);!Ce.extend&&Et>Ps&&(I=Ps,Ps=Et,Et=I);var pe=Aj(U,Et),oe=Aj(U,Ps);if(pe&&oe&&(Ce.rangeCount!==1||Ce.anchorNode!==pe.node||Ce.anchorOffset!==pe.offset||Ce.focusNode!==oe.node||Ce.focusOffset!==oe.offset)){var ve=Me.createRange();ve.setStart(pe.node,pe.offset),Ce.removeAllRanges(),Et>Ps?(Ce.addRange(ve),Ce.extend(oe.node,oe.offset)):(ve.setEnd(oe.node,oe.offset),Ce.addRange(ve))}}}}for(Me=[],Ce=U;Ce=Ce.parentNode;)Ce.nodeType===1&&Me.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Me.length;U++){var Re=Me[U];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}Pp=!!dy,uy=dy=null}finally{fs=y,B.p=h,L.T=d}}i.current=o,Fa=2}}function HN(){if(Fa===2){Fa=0;var i=Io,o=Xc,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var h=B.p;B.p=2;var y=fs;fs|=4;try{bN(i,o.alternate,o)}finally{fs=y,B.p=h,L.T=d}}Fa=3}}function YN(){if(Fa===4||Fa===3){Fa=0,va();var i=Io,o=Xc,d=Fi,h=RN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fa=5:(Fa=0,Xc=Io=null,WN(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Do=null),Le(d),o=o.stateNode,ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(cs,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=L.T,y=B.p,B.p=2,L.T=null;try{for(var b=i.onRecoverableError,I=0;I<h.length;I++){var U=h[I];b(U.value,{componentStack:U.stack})}}finally{L.T=o,B.p=y}}(Fi&3)!==0&&bp(),Qr(i),y=i.pendingLanes,(d&261930)!==0&&(y&42)!==0?i===Jx?Ju++:(Ju=0,Jx=i):Ju=0,Xu(0)}}function WN(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Pu(o)))}function bp(){return GN(),HN(),YN(),KN()}function KN(){if(Fa!==5)return!1;var i=Io,o=Kx;Kx=0;var d=Le(Fi),h=L.T,y=B.p;try{B.p=32>d?32:d,L.T=null,d=Qx,Qx=null;var b=Io,I=Fi;if(Fa=0,Xc=Io=null,Fi=0,(fs&6)!==0)throw Error(a(331));var U=fs;if(fs|=4,DN(b.current),kN(b,b.current,I,d),fs=U,Xu(0,!1),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(cs,b)}catch{}return!0}finally{B.p=y,L.T=h,WN(i,o)}}function QN(i,o,d){o=cr(d,o),o=Ax(i.stateNode,o,2),i=So(i,o,2),i!==null&&(Be(i,2),Qr(i))}function Ss(i,o,d){if(i.tag===3)QN(i,i,d);else for(;o!==null;){if(o.tag===3){QN(o,i,d);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Do===null||!Do.has(h))){i=cr(d,i),d=J1(2),h=So(o,d,2),h!==null&&(X1(d,h,o,i),Be(h,2),Qr(h));break}}o=o.return}}function ey(i,o,d){var h=i.pingCache;if(h===null){h=i.pingCache=new d4;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(d)||(Hx=!0,y.add(d),i=f4.bind(null,i,o,d),o.then(i,i))}function f4(i,o,d){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Fs===i&&(ts&d)===d&&(ma===4||ma===3&&(ts&62914560)===ts&&300>Fe()-pp?(fs&2)===0&&Zc(i,0):Yx|=d,Jc===ts&&(Jc=0)),Qr(i)}function JN(i,o){o===0&&(o=_()),i=Dl(i,o),i!==null&&(Be(i,o),Qr(i))}function g4(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),JN(i,d)}function x4(i,o){var d=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(d=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(o),JN(i,d)}function y4(i,o){return Tt(i,o)}var wp=null,td=null,ty=!1,jp=!1,sy=!1,Ro=0;function Qr(i){i!==td&&i.next===null&&(td===null?wp=td=i:td=td.next=i),jp=!0,ty||(ty=!0,b4())}function Xu(i,o){if(!sy&&jp){sy=!0;do for(var d=!1,h=wp;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var I=h.suspendedLanes,U=h.pingedLanes;b=(1<<31-bt(42|i)+1)-1,b&=y&~(I&~U),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,tS(h,b))}else b=ts,b=le(h,h===Fs?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Se(h,b)||(d=!0,tS(h,b));h=h.next}while(d);sy=!1}}function v4(){XN()}function XN(){jp=ty=!1;var i=0;Ro!==0&&D4()&&(i=Ro);for(var o=Fe(),d=null,h=wp;h!==null;){var y=h.next,b=ZN(h,o);b===0?(h.next=null,d===null?wp=y:d.next=y,y===null&&(td=d)):(d=h,(i!==0||(b&3)!==0)&&(jp=!0)),h=y}Fa!==0&&Fa!==5||Xu(i),Ro!==0&&(Ro=0)}function ZN(i,o){for(var d=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var I=31-bt(b),U=1<<I,ne=y[I];ne===-1?((U&d)===0||(U&h)!==0)&&(y[I]=dt(U,o)):ne<=o&&(i.expiredLanes|=U),b&=~U}if(o=Fs,d=ts,d=le(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,d===0||i===o&&(Ns===2||Ns===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&yt(h),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Se(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(h!==null&&yt(h),Le(d)){case 2:case 8:d=as;break;case 32:d=es;break;case 268435456:d=Ye;break;default:d=es}return h=eS.bind(null,i),d=Tt(d,h),i.callbackPriority=o,i.callbackNode=d,o}return h!==null&&h!==null&&yt(h),i.callbackPriority=2,i.callbackNode=null,2}function eS(i,o){if(Fa!==0&&Fa!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(bp()&&i.callbackNode!==d)return null;var h=ts;return h=le(i,i===Fs?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(MN(i,h,o),ZN(i,Fe()),i.callbackNode!=null&&i.callbackNode===d?eS.bind(null,i):null)}function tS(i,o){if(bp())return null;MN(i,o,!0)}function b4(){P4(function(){(fs&6)!==0?Tt(Zt,v4):XN()})}function ay(){if(Ro===0){var i=Vc;i===0&&(i=jt,jt<<=1,(jt&261888)===0&&(jt=256)),Ro=i}return Ro}function sS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rr(""+i)}function aS(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function w4(i,o,d,h,y){if(o==="submit"&&d&&d.stateNode===y){var b=sS((y[Ht]||null).action),I=h.submitter;I&&(o=(o=I[Ht]||null)?sS(o.formAction):I.getAttribute("formAction"),o!==null&&(b=o,I=null));var U=new Cl("action","action",null,h,y);i.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ro!==0){var ne=I?aS(y,I):new FormData(y);Nx(d,{pending:!0,data:ne,method:y.method,action:b},null,ne)}}else typeof b=="function"&&(U.preventDefault(),ne=I?aS(y,I):new FormData(y),Nx(d,{pending:!0,data:ne,method:y.method,action:b},b,ne))},currentTarget:y}]})}}for(var ny=0;ny<Vg.length;ny++){var ry=Vg[ny],j4=ry.toLowerCase(),N4=ry[0].toUpperCase()+ry.slice(1);Dr(j4,"on"+N4)}Dr(Oj,"onAnimationEnd"),Dr(Mj,"onAnimationIteration"),Dr(_j,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(UO,"onTransitionRun"),Dr(VO,"onTransitionStart"),Dr(BO,"onTransitionCancel"),Dr(Lj,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function nS(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var h=i[d],y=h.event;h=h.listeners;e:{var b=void 0;if(o)for(var I=h.length-1;0<=I;I--){var U=h[I],ne=U.instance,we=U.currentTarget;if(U=U.listener,ne!==b&&y.isPropagationStopped())break e;b=U,y.currentTarget=we;try{b(y)}catch(Ae){Lm(Ae)}y.currentTarget=null,b=ne}else for(I=0;I<h.length;I++){if(U=h[I],ne=U.instance,we=U.currentTarget,U=U.listener,ne!==b&&y.isPropagationStopped())break e;b=U,y.currentTarget=we;try{b(y)}catch(Ae){Lm(Ae)}y.currentTarget=null,b=ne}}}}function Jt(i,o){var d=o[Kt];d===void 0&&(d=o[Kt]=new Set);var h=i+"__bubble";d.has(h)||(rS(o,i,2,!1),d.add(h))}function iy(i,o,d){var h=0;o&&(h|=4),rS(d,i,h,o)}var Np="_reactListening"+Math.random().toString(36).slice(2);function oy(i){if(!i[Np]){i[Np]=!0,yu.forEach(function(d){d!=="selectionchange"&&(S4.has(d)||iy(d,!1,i),iy(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Np]||(o[Np]=!0,iy("selectionchange",!1,o))}}function rS(i,o,d,h){switch(OS(o)){case 2:var y=X4;break;case 8:y=Z4;break;default:y=jy}d=y.bind(null,o,d,i),y=void 0,!mo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(o,d,{capture:!0,passive:y}):i.addEventListener(o,d,!0):y!==void 0?i.addEventListener(o,d,{passive:y}):i.addEventListener(o,d,!1)}function ly(i,o,d,h,y){var b=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var U=h.stateNode.containerInfo;if(U===y)break;if(I===4)for(I=h.return;I!==null;){var ne=I.tag;if((ne===3||ne===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;U!==null;){if(I=et(U),I===null)return;if(ne=I.tag,ne===5||ne===6||ne===26||ne===27){h=b=I;continue e}U=U.parentNode}}h=h.return}ho(function(){var we=b,Ae=Ni(d),Me=[];e:{var Ne=Fj.get(i);if(Ne!==void 0){var Ce=Cl,ct=i;switch(i){case"keypress":if(Nl(d)===0)break e;case"keydown":case"keyup":Ce=Om;break;case"focusin":ct="focus",Ce=Ac;break;case"focusout":ct="blur",Ce=Ac;break;case"beforeblur":case"afterblur":Ce=Ac;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=xo;break;case Oj:case Mj:case _j:Ce=Cm;break;case Lj:Ce=jO;break;case"scroll":case"scrollend":Ce=bm;break;case"wheel":Ce=SO;break;case"copy":case"cut":case"paste":Ce=km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=sa;break;case"toggle":case"beforetoggle":Ce=TO}var Et=(o&4)!==0,Ps=!Et&&(i==="scroll"||i==="scrollend"),pe=Et?Ne!==null?Ne+"Capture":null:Ne;Et=[];for(var oe=we,ve;oe!==null;){var Re=oe;if(ve=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||ve===null||pe===null||(Re=Er(oe,pe),Re!=null&&Et.push(eh(oe,Re,ve))),Ps)break;oe=oe.return}0<Et.length&&(Ne=new Ce(Ne,ct,null,d,Ae),Me.push({event:Ne,listeners:Et}))}}if((o&7)===0){e:{if(Ne=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",Ne&&d!==ji&&(ct=d.relatedTarget||d.fromElement)&&(et(ct)||ct[Ut]))break e;if((Ce||Ne)&&(Ne=Ae.window===Ae?Ae:(Ne=Ae.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Ce?(ct=d.relatedTarget||d.toElement,Ce=we,ct=ct?et(ct):null,ct!==null&&(Ps=l(ct),Et=ct.tag,ct!==Ps||Et!==5&&Et!==27&&Et!==6)&&(ct=null)):(Ce=null,ct=we),Ce!==ct)){if(Et=Nu,Re="onMouseLeave",pe="onMouseEnter",oe="mouse",(i==="pointerout"||i==="pointerover")&&(Et=sa,Re="onPointerLeave",pe="onPointerEnter",oe="pointer"),Ps=Ce==null?Ne:Z(Ce),ve=ct==null?Ne:Z(ct),Ne=new Et(Re,oe+"leave",Ce,d,Ae),Ne.target=Ps,Ne.relatedTarget=ve,Re=null,et(Ae)===we&&(Et=new Et(pe,oe+"enter",ct,d,Ae),Et.target=ve,Et.relatedTarget=Ps,Re=Et),Ps=Re,Ce&&ct)t:{for(Et=C4,pe=Ce,oe=ct,ve=0,Re=pe;Re;Re=Et(Re))ve++;Re=0;for(var Nt=oe;Nt;Nt=Et(Nt))Re++;for(;0<ve-Re;)pe=Et(pe),ve--;for(;0<Re-ve;)oe=Et(oe),Re--;for(;ve--;){if(pe===oe||oe!==null&&pe===oe.alternate){Et=pe;break t}pe=Et(pe),oe=Et(oe)}Et=null}else Et=null;Ce!==null&&iS(Me,Ne,Ce,Et,!1),ct!==null&&Ps!==null&&iS(Me,Ps,ct,Et,!0)}}e:{if(Ne=we?Z(we):window,Ce=Ne.nodeName&&Ne.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Ne.type==="file")var hs=Nj;else if(wj(Ne))if(Sj)hs=_O;else{hs=OO;var gt=RO}else Ce=Ne.nodeName,!Ce||Ce.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?we&&Ls(we.elementType)&&(hs=Nj):hs=MO;if(hs&&(hs=hs(i,we))){jj(Me,hs,d,Ae);break e}gt&&gt(i,Ne,we),i==="focusout"&&we&&Ne.type==="number"&&we.memoizedProps.value!=null&&Q(Ne,"number",Ne.value)}switch(gt=we?Z(we):window,i){case"focusin":(wj(gt)||gt.contentEditable==="true")&&(Pc=gt,Lg=we,Au=null);break;case"focusout":Au=Lg=Pc=null;break;case"mousedown":Fg=!0;break;case"contextmenu":case"mouseup":case"dragend":Fg=!1,Pj(Me,d,Ae);break;case"selectionchange":if(FO)break;case"keydown":case"keyup":Pj(Me,d,Ae)}var zt;if(Rg)e:{switch(i){case"compositionstart":var ss="onCompositionStart";break e;case"compositionend":ss="onCompositionEnd";break e;case"compositionupdate":ss="onCompositionUpdate";break e}ss=void 0}else Ic?vj(i,d)&&(ss="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ss="onCompositionStart");ss&&(gj&&d.locale!=="ko"&&(Ic||ss!=="onCompositionStart"?ss==="onCompositionEnd"&&Ic&&(zt=wu()):(Ar=Ae,Tc="value"in Ar?Ar.value:Ar.textContent,Ic=!0)),gt=Sp(we,ss),0<gt.length&&(ss=new Su(ss,i,null,d,Ae),Me.push({event:ss,listeners:gt}),zt?ss.data=zt:(zt=bj(d),zt!==null&&(ss.data=zt)))),(zt=EO?AO(i,d):DO(i,d))&&(ss=Sp(we,"onBeforeInput"),0<ss.length&&(gt=new Su("onBeforeInput","beforeinput",null,d,Ae),Me.push({event:gt,listeners:ss}),gt.data=zt)),w4(Me,i,we,d,Ae)}nS(Me,o)})}function eh(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Sp(i,o){for(var d=o+"Capture",h=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Er(i,d),y!=null&&h.unshift(eh(i,y,b)),y=Er(i,o),y!=null&&h.push(eh(i,y,b))),i.tag===3)return h;i=i.return}return[]}function C4(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function iS(i,o,d,h,y){for(var b=o._reactName,I=[];d!==null&&d!==h;){var U=d,ne=U.alternate,we=U.stateNode;if(U=U.tag,ne!==null&&ne===h)break;U!==5&&U!==26&&U!==27||we===null||(ne=we,y?(we=Er(d,b),we!=null&&I.unshift(eh(d,we,ne))):y||(we=Er(d,b),we!=null&&I.push(eh(d,we,ne)))),d=d.return}I.length!==0&&i.push({event:o,listeners:I})}var T4=/\r\n?/g,k4=/\u0000|\uFFFD/g;function oS(i){return(typeof i=="string"?i:""+i).replace(T4,`
`).replace(k4,"")}function lS(i,o){return o=oS(o),oS(i)===o}function Is(i,o,d,h,y,b){switch(d){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||He(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&He(i,""+h);break;case"className":wl(i,"class",h);break;case"tabIndex":wl(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(i,d,h);break;case"style":Mt(i,h,b);break;case"data":if(o!=="object"){wl(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(d);break}h=rr(""+h),i.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(o!=="input"&&Is(i,o,"name",y.name,y,null),Is(i,o,"formEncType",y.formEncType,y,null),Is(i,o,"formMethod",y.formMethod,y,null),Is(i,o,"formTarget",y.formTarget,y,null)):(Is(i,o,"encType",y.encType,y,null),Is(i,o,"method",y.method,y,null),Is(i,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(d);break}h=rr(""+h),i.setAttribute(d,h);break;case"onClick":h!=null&&(i.onclick=gn);break;case"onScroll":h!=null&&Jt("scroll",i);break;case"onScrollEnd":h!=null&&Jt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=d}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}d=rr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(d,""+h):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":h===!0?i.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(d,h):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(d,h):i.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(d):i.setAttribute(d,h);break;case"popover":Jt("beforetoggle",i),Jt("toggle",i),wi(i,"popover",h);break;case"xlinkActuate":En(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":En(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":En(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":En(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":En(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":En(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":En(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":En(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":En(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":wi(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Vn.get(d)||d,wi(i,d,h))}}function cy(i,o,d,h,y,b){switch(d){case"style":Mt(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=d}}break;case"children":typeof h=="string"?He(i,h):(typeof h=="number"||typeof h=="bigint")&&He(i,""+h);break;case"onScroll":h!=null&&Jt("scroll",i);break;case"onScrollEnd":h!=null&&Jt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vu.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),o=d.slice(2,y?d.length-7:void 0),b=i[Ht]||null,b=b!=null?b[d]:null,typeof b=="function"&&i.removeEventListener(o,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,h,y);break e}d in i?i[d]=h:h===!0?i.setAttribute(d,""):wi(i,d,h)}}}function Za(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",i),Jt("load",i);var h=!1,y=!1,b;for(b in d)if(d.hasOwnProperty(b)){var I=d[b];if(I!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Is(i,o,b,I,d,null)}}y&&Is(i,o,"srcSet",d.srcSet,d,null),h&&Is(i,o,"src",d.src,d,null);return;case"input":Jt("invalid",i);var U=b=I=y=null,ne=null,we=null;for(h in d)if(d.hasOwnProperty(h)){var Ae=d[h];if(Ae!=null)switch(h){case"name":y=Ae;break;case"type":I=Ae;break;case"checked":ne=Ae;break;case"defaultChecked":we=Ae;break;case"value":b=Ae;break;case"defaultValue":U=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(a(137,o));break;default:Is(i,o,h,Ae,d,null)}}O(i,b,U,ne,we,I,y,!1);return;case"select":Jt("invalid",i),h=I=b=null;for(y in d)if(d.hasOwnProperty(y)&&(U=d[y],U!=null))switch(y){case"value":b=U;break;case"defaultValue":I=U;break;case"multiple":h=U;default:Is(i,o,y,U,d,null)}o=b,d=I,i.multiple=!!h,o!=null?Pe(i,!!h,o,!1):d!=null&&Pe(i,!!h,d,!0);return;case"textarea":Jt("invalid",i),b=y=h=null;for(I in d)if(d.hasOwnProperty(I)&&(U=d[I],U!=null))switch(I){case"value":h=U;break;case"defaultValue":y=U;break;case"children":b=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:Is(i,o,I,U,d,null)}It(i,h,y,b);return;case"option":for(ne in d)if(d.hasOwnProperty(ne)&&(h=d[ne],h!=null))switch(ne){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Is(i,o,ne,h,d,null)}return;case"dialog":Jt("beforetoggle",i),Jt("toggle",i),Jt("cancel",i),Jt("close",i);break;case"iframe":case"object":Jt("load",i);break;case"video":case"audio":for(h=0;h<Zu.length;h++)Jt(Zu[h],i);break;case"image":Jt("error",i),Jt("load",i);break;case"details":Jt("toggle",i);break;case"embed":case"source":case"link":Jt("error",i),Jt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in d)if(d.hasOwnProperty(we)&&(h=d[we],h!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Is(i,o,we,h,d,null)}return;default:if(Ls(o)){for(Ae in d)d.hasOwnProperty(Ae)&&(h=d[Ae],h!==void 0&&cy(i,o,Ae,h,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(h=d[U],h!=null&&Is(i,o,U,h,d,null))}function E4(i,o,d,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,I=null,U=null,ne=null,we=null,Ae=null;for(Ce in d){var Me=d[Ce];if(d.hasOwnProperty(Ce)&&Me!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":ne=Me;default:h.hasOwnProperty(Ce)||Is(i,o,Ce,null,h,Me)}}for(var Ne in h){var Ce=h[Ne];if(Me=d[Ne],h.hasOwnProperty(Ne)&&(Ce!=null||Me!=null))switch(Ne){case"type":b=Ce;break;case"name":y=Ce;break;case"checked":we=Ce;break;case"defaultChecked":Ae=Ce;break;case"value":I=Ce;break;case"defaultValue":U=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,o));break;default:Ce!==Me&&Is(i,o,Ne,Ce,h,Me)}}Cc(i,I,U,ne,we,Ae,b,y);return;case"select":Ce=I=U=Ne=null;for(b in d)if(ne=d[b],d.hasOwnProperty(b)&&ne!=null)switch(b){case"value":break;case"multiple":Ce=ne;default:h.hasOwnProperty(b)||Is(i,o,b,null,h,ne)}for(y in h)if(b=h[y],ne=d[y],h.hasOwnProperty(y)&&(b!=null||ne!=null))switch(y){case"value":Ne=b;break;case"defaultValue":U=b;break;case"multiple":I=b;default:b!==ne&&Is(i,o,y,b,h,ne)}o=U,d=I,h=Ce,Ne!=null?Pe(i,!!d,Ne,!1):!!h!=!!d&&(o!=null?Pe(i,!!d,o,!0):Pe(i,!!d,d?[]:"",!1));return;case"textarea":Ce=Ne=null;for(U in d)if(y=d[U],d.hasOwnProperty(U)&&y!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Is(i,o,U,null,h,y)}for(I in h)if(y=h[I],b=d[I],h.hasOwnProperty(I)&&(y!=null||b!=null))switch(I){case"value":Ne=y;break;case"defaultValue":Ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==b&&Is(i,o,I,y,h,b)}ft(i,Ne,Ce);return;case"option":for(var ct in d)if(Ne=d[ct],d.hasOwnProperty(ct)&&Ne!=null&&!h.hasOwnProperty(ct))switch(ct){case"selected":i.selected=!1;break;default:Is(i,o,ct,null,h,Ne)}for(ne in h)if(Ne=h[ne],Ce=d[ne],h.hasOwnProperty(ne)&&Ne!==Ce&&(Ne!=null||Ce!=null))switch(ne){case"selected":i.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol";break;default:Is(i,o,ne,Ne,h,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in d)Ne=d[Et],d.hasOwnProperty(Et)&&Ne!=null&&!h.hasOwnProperty(Et)&&Is(i,o,Et,null,h,Ne);for(we in h)if(Ne=h[we],Ce=d[we],h.hasOwnProperty(we)&&Ne!==Ce&&(Ne!=null||Ce!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(a(137,o));break;default:Is(i,o,we,Ne,h,Ce)}return;default:if(Ls(o)){for(var Ps in d)Ne=d[Ps],d.hasOwnProperty(Ps)&&Ne!==void 0&&!h.hasOwnProperty(Ps)&&cy(i,o,Ps,void 0,h,Ne);for(Ae in h)Ne=h[Ae],Ce=d[Ae],!h.hasOwnProperty(Ae)||Ne===Ce||Ne===void 0&&Ce===void 0||cy(i,o,Ae,Ne,h,Ce);return}}for(var pe in d)Ne=d[pe],d.hasOwnProperty(pe)&&Ne!=null&&!h.hasOwnProperty(pe)&&Is(i,o,pe,null,h,Ne);for(Me in h)Ne=h[Me],Ce=d[Me],!h.hasOwnProperty(Me)||Ne===Ce||Ne==null&&Ce==null||Is(i,o,Me,Ne,h,Ce)}function cS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A4(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),h=0;h<d.length;h++){var y=d[h],b=y.transferSize,I=y.initiatorType,U=y.duration;if(b&&U&&cS(I)){for(I=0,U=y.responseEnd,h+=1;h<d.length;h++){var ne=d[h],we=ne.startTime;if(we>U)break;var Ae=ne.transferSize,Me=ne.initiatorType;Ae&&cS(Me)&&(ne=ne.responseEnd,I+=Ae*(ne<U?1:(U-we)/(ne-we)))}if(--h,o+=8*(b+I)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var dy=null,uy=null;function Cp(i){return i.nodeType===9?i:i.ownerDocument}function dS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uS(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function hy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var my=null;function D4(){var i=window.event;return i&&i.type==="popstate"?i===my?!1:(my=i,!0):(my=null,!1)}var hS=typeof setTimeout=="function"?setTimeout:void 0,I4=typeof clearTimeout=="function"?clearTimeout:void 0,mS=typeof Promise=="function"?Promise:void 0,P4=typeof queueMicrotask=="function"?queueMicrotask:typeof mS<"u"?function(i){return mS.resolve(null).then(i).catch(R4)}:hS;function R4(i){setTimeout(function(){throw i})}function Oo(i){return i==="head"}function pS(i,o){var d=o,h=0;do{var y=d.nextSibling;if(i.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"||d==="/&"){if(h===0){i.removeChild(y),rd(o);return}h--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")h++;else if(d==="html")th(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,th(d);for(var b=d.firstChild;b;){var I=b.nextSibling,U=b.nodeName;b[js]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||d.removeChild(b),b=I}}else d==="body"&&th(i.ownerDocument.body);d=y}while(d);rd(o)}function fS(i,o){var d=i;i=0;do{var h=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),h&&h.nodeType===8)if(d=h.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=h}while(d)}function py(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":py(d),co(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function O4(i,o,d,h){for(;i.nodeType===1;){var y=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[js])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=pr(i.nextSibling),i===null)break}return null}function M4(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=pr(i.nextSibling),i===null))return null;return i}function gS(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=pr(i.nextSibling),i===null))return null;return i}function fy(i){return i.data==="$?"||i.data==="$~"}function gy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function _4(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var h=function(){o(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function pr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var xy=null;function xS(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return pr(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function yS(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function vS(i,o,d){switch(o=Cp(d),i){case"html":if(i=o.documentElement,!i)throw Error(a(452));return i;case"head":if(i=o.head,!i)throw Error(a(453));return i;case"body":if(i=o.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function th(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);co(i)}var fr=new Map,bS=new Set;function Tp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ui=B.d;B.d={f:L4,r:F4,D:U4,C:V4,L:B4,m:z4,X:$4,S:q4,M:G4};function L4(){var i=Ui.f(),o=xp();return i||o}function F4(i){var o=ua(i);o!==null&&o.tag===5&&o.type==="form"?L1(o):Ui.r(i)}var sd=typeof document>"u"?null:document;function wS(i,o,d){var h=sd;if(h&&typeof o=="string"&&o){var y=fn(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),bS.has(y)||(bS.add(y),i={rel:i,crossOrigin:d,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Za(o,"link",i),wa(o),h.head.appendChild(o)))}}function U4(i){Ui.D(i),wS("dns-prefetch",i,null)}function V4(i,o){Ui.C(i,o),wS("preconnect",i,o)}function B4(i,o,d){Ui.L(i,o,d);var h=sd;if(h&&i&&o){var y='link[rel="preload"][as="'+fn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+fn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+fn(d.imageSizes)+'"]')):y+='[href="'+fn(i)+'"]';var b=y;switch(o){case"style":b=ad(i);break;case"script":b=nd(i)}fr.has(b)||(i=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),fr.set(b,i),h.querySelector(y)!==null||o==="style"&&h.querySelector(sh(b))||o==="script"&&h.querySelector(ah(b))||(o=h.createElement("link"),Za(o,"link",i),wa(o),h.head.appendChild(o)))}}function z4(i,o){Ui.m(i,o);var d=sd;if(d&&i){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+fn(h)+'"][href="'+fn(i)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=nd(i)}if(!fr.has(b)&&(i=g({rel:"modulepreload",href:i},o),fr.set(b,i),d.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ah(b)))return}h=d.createElement("link"),Za(h,"link",i),wa(h),d.head.appendChild(h)}}}function q4(i,o,d){Ui.S(i,o,d);var h=sd;if(h&&i){var y=pt(h).hoistableStyles,b=ad(i);o=o||"default";var I=y.get(b);if(!I){var U={loading:0,preload:null};if(I=h.querySelector(sh(b)))U.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},d),(d=fr.get(b))&&yy(i,d);var ne=I=h.createElement("link");wa(ne),Za(ne,"link",i),ne._p=new Promise(function(we,Ae){ne.onload=we,ne.onerror=Ae}),ne.addEventListener("load",function(){U.loading|=1}),ne.addEventListener("error",function(){U.loading|=2}),U.loading|=4,kp(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:U},y.set(b,I)}}}function $4(i,o){Ui.X(i,o);var d=sd;if(d&&i){var h=pt(d).hoistableScripts,y=nd(i),b=h.get(y);b||(b=d.querySelector(ah(y)),b||(i=g({src:i,async:!0},o),(o=fr.get(y))&&vy(i,o),b=d.createElement("script"),wa(b),Za(b,"link",i),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function G4(i,o){Ui.M(i,o);var d=sd;if(d&&i){var h=pt(d).hoistableScripts,y=nd(i),b=h.get(y);b||(b=d.querySelector(ah(y)),b||(i=g({src:i,async:!0,type:"module"},o),(o=fr.get(y))&&vy(i,o),b=d.createElement("script"),wa(b),Za(b,"link",i),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function jS(i,o,d,h){var y=(y=ge.current)?Tp(y):null;if(!y)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=ad(d.href),d=pt(y).hoistableStyles,h=d.get(o),h||(h={type:"style",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=ad(d.href);var b=pt(y).hoistableStyles,I=b.get(i);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,I),(b=y.querySelector(sh(i)))&&!b._p&&(I.instance=b,I.state.loading=5),fr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},fr.set(i,d),b||H4(y,i,d,I.state))),o&&h===null)throw Error(a(528,""));return I}if(o&&h!==null)throw Error(a(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=nd(d),d=pt(y).hoistableScripts,h=d.get(o),h||(h={type:"script",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function ad(i){return'href="'+fn(i)+'"'}function sh(i){return'link[rel="stylesheet"]['+i+"]"}function NS(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function H4(i,o,d,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Za(o,"link",d),wa(o),i.head.appendChild(o))}function nd(i){return'[src="'+fn(i)+'"]'}function ah(i){return"script[async]"+i}function SS(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+fn(d.href)+'"]');if(h)return o.instance=h,wa(h),h;var y=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),wa(h),Za(h,"style",y),kp(h,d.precedence,i),o.instance=h;case"stylesheet":y=ad(d.href);var b=i.querySelector(sh(y));if(b)return o.state.loading|=4,o.instance=b,wa(b),b;h=NS(d),(y=fr.get(y))&&yy(h,y),b=(i.ownerDocument||i).createElement("link"),wa(b);var I=b;return I._p=new Promise(function(U,ne){I.onload=U,I.onerror=ne}),Za(b,"link",h),o.state.loading|=4,kp(b,d.precedence,i),o.instance=b;case"script":return b=nd(d.src),(y=i.querySelector(ah(b)))?(o.instance=y,wa(y),y):(h=d,(y=fr.get(b))&&(h=g({},d),vy(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),wa(y),Za(y,"link",h),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,kp(h,d.precedence,i));return o.instance}function kp(i,o,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,I=0;I<h.length;I++){var U=h[I];if(U.dataset.precedence===o)b=U;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function yy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function vy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Ep=null;function CS(i,o,d){if(Ep===null){var h=new Map,y=Ep=new Map;y.set(d,h)}else y=Ep,h=y.get(d),h||(h=new Map,y.set(d,h));if(h.has(i))return h;for(h.set(i,null),d=d.getElementsByTagName(i),y=0;y<d.length;y++){var b=d[y];if(!(b[js]||b[zs]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var I=b.getAttribute(o)||"";I=i+I;var U=h.get(I);U?U.push(b):h.set(I,[b])}}return h}function TS(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function Y4(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function W4(i,o,d,h){if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var y=ad(h.href),b=o.querySelector(sh(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Ap.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=b,wa(b);return}b=o.ownerDocument||o,h=NS(h),(y=fr.get(y))&&yy(h,y),b=b.createElement("link"),wa(b);var I=b;I._p=new Promise(function(U,ne){I.onload=U,I.onerror=ne}),Za(b,"link",h),d.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=Ap.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var by=0;function K4(i,o){return i.stylesheets&&i.count===0&&Ip(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var h=setTimeout(function(){if(i.stylesheets&&Ip(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+o);0<i.imgBytes&&by===0&&(by=62500*A4());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ip(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>by?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Ap(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Dp=null;function Ip(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Dp=new Map,o.forEach(Q4,i),Dp=null,Ap.call(i))}function Q4(i,o){if(!(o.state.loading&4)){var d=Dp.get(i);if(d)var h=d.get(null);else{d=new Map,Dp.set(i,d);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var I=y[b];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(d.set(I.dataset.precedence,I),h=I)}h&&d.set(null,h)}y=o.instance,I=y.getAttribute("data-precedence"),b=d.get(I)||h,b===h&&d.set(null,y),d.set(I,y),this.count++,h=Ap.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var nh={$$typeof:C,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function J4(i,o,d,h,y,b,I,U,ne){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function ES(i,o,d,h,y,b,I,U,ne,we,Ae,Me){return i=new J4(i,o,d,I,ne,we,Ae,Me,U),o=1,b===!0&&(o|=24),b=zn(3,null,null,o),i.current=b,b.stateNode=i,o=Zg(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:h,isDehydrated:d,cache:o},ax(b),i}function AS(i){return i?(i=Mc,i):Mc}function DS(i,o,d,h,y,b){y=AS(y),h.context===null?h.context=y:h.pendingContext=y,h=No(o),h.payload={element:d},b=b===void 0?null:b,b!==null&&(h.callback=b),d=So(i,h,o),d!==null&&(Rn(d,i,o),_u(d,i,o))}function IS(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function wy(i,o){IS(i,o),(i=i.alternate)&&IS(i,o)}function PS(i){if(i.tag===13||i.tag===31){var o=Dl(i,67108864);o!==null&&Rn(o,i,67108864),wy(i,67108864)}}function RS(i){if(i.tag===13||i.tag===31){var o=Yn();o=qt(o);var d=Dl(i,o);d!==null&&Rn(d,i,o),wy(i,o)}}var Pp=!0;function X4(i,o,d,h){var y=L.T;L.T=null;var b=B.p;try{B.p=2,jy(i,o,d,h)}finally{B.p=b,L.T=y}}function Z4(i,o,d,h){var y=L.T;L.T=null;var b=B.p;try{B.p=8,jy(i,o,d,h)}finally{B.p=b,L.T=y}}function jy(i,o,d,h){if(Pp){var y=Ny(h);if(y===null)ly(i,o,h,Rp,d),MS(i,h);else if(tM(y,i,o,d,h))h.stopPropagation();else if(MS(i,h),o&4&&-1<eM.indexOf(i)){for(;y!==null;){var b=ua(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var I=te(b.pendingLanes);if(I!==0){var U=b;for(U.pendingLanes|=2,U.entangledLanes|=2;I;){var ne=1<<31-bt(I);U.entanglements[1]|=ne,I&=~ne}Qr(b),(fs&6)===0&&(fp=Fe()+500,Xu(0))}}break;case 31:case 13:U=Dl(b,2),U!==null&&Rn(U,b,2),xp(),wy(b,2)}if(b=Ny(h),b===null&&ly(i,o,h,Rp,d),b===y)break;y=b}y!==null&&h.stopPropagation()}else ly(i,o,h,null,d)}}function Ny(i){return i=Ni(i),Sy(i)}var Rp=null;function Sy(i){if(Rp=null,i=et(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rp=i,null}function OS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Zt:return 2;case as:return 8;case es:case ae:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Cy=!1,Mo=null,_o=null,Lo=null,rh=new Map,ih=new Map,Fo=[],eM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MS(i,o){switch(i){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":rh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(o.pointerId)}}function oh(i,o,d,h,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:d,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},o!==null&&(o=ua(o),o!==null&&PS(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function tM(i,o,d,h,y){switch(o){case"focusin":return Mo=oh(Mo,i,o,d,h,y),!0;case"dragenter":return _o=oh(_o,i,o,d,h,y),!0;case"mouseover":return Lo=oh(Lo,i,o,d,h,y),!0;case"pointerover":var b=y.pointerId;return rh.set(b,oh(rh.get(b)||null,i,o,d,h,y)),!0;case"gotpointercapture":return b=y.pointerId,ih.set(b,oh(ih.get(b)||null,i,o,d,h,y)),!0}return!1}function _S(i){var o=et(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,ba(i.priority,function(){RS(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,ba(i.priority,function(){RS(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Op(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=Ny(i.nativeEvent);if(d===null){d=i.nativeEvent;var h=new d.constructor(d.type,d);ji=h,d.target.dispatchEvent(h),ji=null}else return o=ua(d),o!==null&&PS(o),i.blockedOn=d,!1;o.shift()}return!0}function LS(i,o,d){Op(i)&&d.delete(o)}function sM(){Cy=!1,Mo!==null&&Op(Mo)&&(Mo=null),_o!==null&&Op(_o)&&(_o=null),Lo!==null&&Op(Lo)&&(Lo=null),rh.forEach(LS),ih.forEach(LS)}function Mp(i,o){i.blockedOn===o&&(i.blockedOn=null,Cy||(Cy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sM)))}var _p=null;function FS(i){_p!==i&&(_p=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_p===i&&(_p=null);for(var o=0;o<i.length;o+=3){var d=i[o],h=i[o+1],y=i[o+2];if(typeof h!="function"){if(Sy(h||d)===null)continue;break}var b=ua(d);b!==null&&(i.splice(o,3),o-=3,Nx(b,{pending:!0,data:y,method:d.method,action:h},h,y))}}))}function rd(i){function o(ne){return Mp(ne,i)}Mo!==null&&Mp(Mo,i),_o!==null&&Mp(_o,i),Lo!==null&&Mp(Lo,i),rh.forEach(o),ih.forEach(o);for(var d=0;d<Fo.length;d++){var h=Fo[d];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Fo.length&&(d=Fo[0],d.blockedOn===null);)_S(d),d.blockedOn===null&&Fo.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var y=d[h],b=d[h+1],I=y[Ht]||null;if(typeof b=="function")I||FS(d);else if(I){var U=null;if(b&&b.hasAttribute("formAction")){if(y=b,I=b[Ht]||null)U=I.formAction;else if(Sy(y)!==null)continue}else U=I.action;typeof U=="function"?d[h+1]=U:(d.splice(h,3),h-=3),FS(d)}}}function US(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(I){return y=I})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(d,20)}function d(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Ty(i){this._internalRoot=i}Lp.prototype.render=Ty.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(a(409));var d=o.current,h=Yn();DS(d,h,i,o,null,null)},Lp.prototype.unmount=Ty.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;DS(i.current,2,null,i,null,null),xp(),o[Ut]=null}};function Lp(i){this._internalRoot=i}Lp.prototype.unstable_scheduleHydration=function(i){if(i){var o=Gs();i={blockedOn:null,target:i,priority:o};for(var d=0;d<Fo.length&&o!==0&&o<Fo[d].priority;d++);Fo.splice(d,0,i),d===0&&_S(i)}};var VS=s.version;if(VS!=="19.2.0")throw Error(a(527,VS,"19.2.0"));B.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=p(o),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var aM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{cs=Fp.inject(aM),ys=Fp}catch{}}return ch.createRoot=function(i,o){if(!r(i))throw Error(a(299));var d=!1,h="",y=Y1,b=W1,I=K1;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=ES(i,1,!1,null,null,d,h,null,y,b,I,US),i[Ut]=o.current,oy(i),new Ty(o)},ch.hydrateRoot=function(i,o,d){if(!r(i))throw Error(a(299));var h=!1,y="",b=Y1,I=W1,U=K1,ne=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(I=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.formState!==void 0&&(ne=d.formState)),o=ES(i,1,!0,o,d??null,h,y,ne,b,I,U,US),o.context=AS(null),d=o.current,h=Yn(),h=qt(h),y=No(h),y.callback=null,So(d,y,h),d=h,o.current.lanes=d,Be(o,d),Qr(o),i[Ut]=o.current,oy(i),new Lp(o)},ch.version="19.2.0",ch}var JS;function fM(){if(JS)return Dy.exports;JS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),Dy.exports=pM(),Dy.exports}var gM=fM();const xM=em(gM),yM="modulepreload",vM=function(e){return"/"+e},XS={},mi=function(s,n,a){let r=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=c(n.map(p=>{if(p=vM(p),p in XS)return;XS[p]=!0;const f=p.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":yM,f||(v.as="script"),v.crossOrigin="",v.href=p,m&&v.setAttribute("nonce",m),document.head.appendChild(v),f)return new Promise((w,N)=>{v.addEventListener("load",w),v.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return r.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return s().catch(l)})};/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZS="popstate";function bM(e={}){function s(a,r){let{pathname:l,search:c,hash:u}=a.location;return D0("",{pathname:l,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:Oh(r)}return jM(s,n,null,e)}function Xs(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function Cr(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function wM(){return Math.random().toString(36).substring(2,10)}function eC(e,s){return{usr:e.state,key:e.key,idx:s}}function D0(e,s,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof s=="string"?eu(s):s,state:n,key:s&&s.key||a||wM()}}function Oh({pathname:e="/",search:s="",hash:n=""}){return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function eu(e){let s={};if(e){let n=e.indexOf("#");n>=0&&(s.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(s.search=e.substring(a),e=e.substring(0,a)),e&&(s.pathname=e)}return s}function jM(e,s,n,a={}){let{window:r=document.defaultView,v5Compat:l=!1}=a,c=r.history,u="POP",m=null,p=f();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function f(){return(c.state||{idx:null}).idx}function g(){u="POP";let S=f(),E=S==null?null:S-p;p=S,m&&m({action:u,location:j.location,delta:E})}function v(S,E){u="PUSH";let T=D0(j.location,S,E);p=f()+1;let C=eC(T,p),P=j.createHref(T);try{c.pushState(C,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(P)}l&&m&&m({action:u,location:j.location,delta:1})}function w(S,E){u="REPLACE";let T=D0(j.location,S,E);p=f();let C=eC(T,p),P=j.createHref(T);c.replaceState(C,"",P),l&&m&&m({action:u,location:j.location,delta:0})}function N(S){return NM(S)}let j={get action(){return u},get location(){return e(r,c)},listen(S){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(ZS,g),m=S,()=>{r.removeEventListener(ZS,g),m=null}},createHref(S){return s(r,S)},createURL:N,encodeLocation(S){let E=N(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:w,go(S){return c.go(S)}};return j}function NM(e,s=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xs(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Oh(e);return a=a.replace(/ $/,"%20"),!s&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Mk(e,s,n="/"){return SM(e,s,n,!1)}function SM(e,s,n,a){let r=typeof s=="string"?eu(s):s,l=to(r.pathname||"/",n);if(l==null)return null;let c=_k(e);CM(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let p=_M(l);u=OM(c[m],p,a)}return u}function _k(e,s=[],n=[],a="",r=!1){let l=(c,u,m=r,p)=>{let f={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(a)&&m)return;Xs(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length)}let g=Xi([a,f.relativePath]),v=n.concat(f);c.children&&c.children.length>0&&(Xs(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_k(c.children,s,v,g,m)),!(c.path==null&&!c.index)&&s.push({path:g,score:PM(g,c.index),routesMeta:v})};return e.forEach((c,u)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,u);else for(let p of Lk(c.path))l(c,u,!0,p)}),s}function Lk(e){let s=e.split("/");if(s.length===0)return[];let[n,...a]=s,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return r?[l,""]:[l];let c=Lk(a.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),r&&u.push(...c),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function CM(e){e.sort((s,n)=>s.score!==n.score?n.score-s.score:RM(s.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var TM=/^:[\w-]+$/,kM=3,EM=2,AM=1,DM=10,IM=-2,tC=e=>e==="*";function PM(e,s){let n=e.split("/"),a=n.length;return n.some(tC)&&(a+=IM),s&&(a+=EM),n.filter(r=>!tC(r)).reduce((r,l)=>r+(TM.test(l)?kM:l===""?AM:DM),a)}function RM(e,s){return e.length===s.length&&e.slice(0,-1).every((a,r)=>a===s[r])?e[e.length-1]-s[s.length-1]:0}function OM(e,s,n=!1){let{routesMeta:a}=e,r={},l="/",c=[];for(let u=0;u<a.length;++u){let m=a[u],p=u===a.length-1,f=l==="/"?s:s.slice(l.length)||"/",g=Tf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},f),v=m.route;if(!g&&p&&n&&!a[a.length-1].route.index&&(g=Tf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},f)),!g)return null;Object.assign(r,g.params),c.push({params:r,pathname:Xi([l,g.pathname]),pathnameBase:VM(Xi([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=Xi([l,g.pathnameBase]))}return c}function Tf(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=MM(e.path,e.caseSensitive,e.end),r=s.match(n);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:a.reduce((p,{paramName:f,isOptional:g},v)=>{if(f==="*"){let N=u[v]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const w=u[v];return g&&!w?p[f]=void 0:p[f]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function MM(e,s=!1,n=!0){Cr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(a.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,s?void 0:"i"),a]}function _M(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Cr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),e}}function to(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function LM(e,s="/"){let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?eu(e):e;return{pathname:n?n.startsWith("/")?n:FM(n,s):s,search:BM(a),hash:zM(r)}}function FM(e,s){let n=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Oy(e,s,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${s}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UM(e){return e.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function wb(e){let s=UM(e);return s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase)}function jb(e,s,n,a=!1){let r;typeof e=="string"?r=eu(e):(r={...e},Xs(!r.pathname||!r.pathname.includes("?"),Oy("?","pathname","search",r)),Xs(!r.pathname||!r.pathname.includes("#"),Oy("#","pathname","hash",r)),Xs(!r.search||!r.search.includes("#"),Oy("#","search","hash",r)));let l=e===""||r.pathname==="",c=l?"/":r.pathname,u;if(c==null)u=n;else{let g=s.length-1;if(!a&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}u=g>=0?s[g]:"/"}let m=LM(r,u),p=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||f)&&(m.pathname+="/"),m}var Xi=e=>e.join("/").replace(/\/\/+/g,"/"),VM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Fk=["POST","PUT","PATCH","DELETE"];new Set(Fk);var $M=["GET",...Fk];new Set($M);var tu=x.createContext(null);tu.displayName="DataRouter";var ng=x.createContext(null);ng.displayName="DataRouterState";x.createContext(!1);var Uk=x.createContext({isTransitioning:!1});Uk.displayName="ViewTransition";var GM=x.createContext(new Map);GM.displayName="Fetchers";var HM=x.createContext(null);HM.displayName="Await";var $r=x.createContext(null);$r.displayName="Navigation";var tm=x.createContext(null);tm.displayName="Location";var gi=x.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Nb=x.createContext(null);Nb.displayName="RouteError";function YM(e,{relative:s}={}){Xs(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=x.useContext($r),{hash:r,pathname:l,search:c}=sm(e,{relative:s}),u=l;return n!=="/"&&(u=l==="/"?n:Xi([n,l])),a.createHref({pathname:u,search:c,hash:r})}function su(){return x.useContext(tm)!=null}function kn(){return Xs(su(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(tm).location}var Vk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bk(e){x.useContext($r).static||x.useLayoutEffect(e)}function Tr(){let{isDataRoute:e}=x.useContext(gi);return e?i5():WM()}function WM(){Xs(su(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(tu),{basename:s,navigator:n}=x.useContext($r),{matches:a}=x.useContext(gi),{pathname:r}=kn(),l=JSON.stringify(wb(a)),c=x.useRef(!1);return Bk(()=>{c.current=!0}),x.useCallback((m,p={})=>{if(Cr(c.current,Vk),!c.current)return;if(typeof m=="number"){n.go(m);return}let f=jb(m,JSON.parse(l),r,p.relative==="path");e==null&&s!=="/"&&(f.pathname=f.pathname==="/"?s:Xi([s,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[s,n,l,r,e])}x.createContext(null);function sm(e,{relative:s}={}){let{matches:n}=x.useContext(gi),{pathname:a}=kn(),r=JSON.stringify(wb(n));return x.useMemo(()=>jb(e,JSON.parse(r),a,s==="path"),[e,r,a,s])}function KM(e,s){return zk(e,s)}function zk(e,s,n,a,r){var T;Xs(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext($r),{matches:c}=x.useContext(gi),u=c[c.length-1],m=u?u.params:{},p=u?u.pathname:"/",f=u?u.pathnameBase:"/",g=u&&u.route;{let C=g&&g.path||"";qk(p,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=kn(),w;if(s){let C=typeof s=="string"?eu(s):s;Xs(f==="/"||((T=C.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=v;let N=w.pathname||"/",j=N;if(f!=="/"){let C=f.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Mk(e,{pathname:j});Cr(g||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Cr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=e5(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:Xi([f,l.encodeLocation?l.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:Xi([f,l.encodeLocation?l.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),c,n,a,r);return s&&E?x.createElement(tm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function QM(){let e=r5(),s=qM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},s),n?x.createElement("pre",{style:r},n):null,c)}var JM=x.createElement(QM,null),XM=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){this.props.unstable_onError?this.props.unstable_onError(e,s):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(gi.Provider,{value:this.props.routeContext},x.createElement(Nb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZM({routeContext:e,match:s,children:n}){let a=x.useContext(tu);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),x.createElement(gi.Provider,{value:e},n)}function e5(e,s=[],n=null,a=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(s.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);Xs(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let f=l[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=p),f.route.id){let{loaderData:g,errors:v}=n,w=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||w){u=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,f,g)=>{let v,w=!1,N=null,j=null;n&&(v=c&&f.route.id?c[f.route.id]:void 0,N=f.route.errorElement||JM,u&&(m<0&&g===0?(qk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):m===g&&(w=!0,j=f.route.hydrateFallbackElement||null)));let S=s.concat(l.slice(0,g+1)),E=()=>{let T;return v?T=N:w?T=j:f.route.Component?T=x.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=p,x.createElement(ZM,{match:f,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?x.createElement(XM,{location:n.location,revalidation:n.revalidation,component:N,error:v,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:a}):E()},null)}function Sb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t5(e){let s=x.useContext(tu);return Xs(s,Sb(e)),s}function s5(e){let s=x.useContext(ng);return Xs(s,Sb(e)),s}function a5(e){let s=x.useContext(gi);return Xs(s,Sb(e)),s}function Cb(e){let s=a5(e),n=s.matches[s.matches.length-1];return Xs(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function n5(){return Cb("useRouteId")}function r5(){var a;let e=x.useContext(Nb),s=s5("useRouteError"),n=Cb("useRouteError");return e!==void 0?e:(a=s.errors)==null?void 0:a[n]}function i5(){let{router:e}=t5("useNavigate"),s=Cb("useNavigate"),n=x.useRef(!1);return Bk(()=>{n.current=!0}),x.useCallback(async(r,l={})=>{Cr(n.current,Vk),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:s,...l}))},[e,s])}var sC={};function qk(e,s,n){!s&&!sC[e]&&(sC[e]=!0,Cr(!1,n))}x.memo(o5);function o5({routes:e,future:s,state:n,unstable_onError:a}){return zk(e,void 0,n,a,s)}function $k({to:e,replace:s,state:n,relative:a}){Xs(su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=x.useContext($r);Cr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(gi),{pathname:c}=kn(),u=Tr(),m=jb(e,wb(l),c,a==="path"),p=JSON.stringify(m);return x.useEffect(()=>{u(JSON.parse(p),{replace:s,state:n,relative:a})},[u,p,a,s,n]),null}function en(e){Xs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l5({basename:e="/",children:s=null,location:n,navigationType:a="POP",navigator:r,static:l=!1}){Xs(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof n=="string"&&(n=eu(n));let{pathname:m="/",search:p="",hash:f="",state:g=null,key:v="default"}=n,w=x.useMemo(()=>{let N=to(m,c);return N==null?null:{location:{pathname:N,search:p,hash:f,state:g,key:v},navigationType:a}},[c,m,p,f,g,v,a]);return Cr(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement($r.Provider,{value:u},x.createElement(tm.Provider,{children:s,value:w}))}function aC({children:e,location:s}){return KM(I0(e),s)}function I0(e,s=[]){let n=[];return x.Children.forEach(e,(a,r)=>{if(!x.isValidElement(a))return;let l=[...s,r];if(a.type===x.Fragment){n.push.apply(n,I0(a.props.children,l));return}Xs(a.type===en,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xs(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=I0(a.props.children,l)),n.push(c)}),n}var lf="get",cf="application/x-www-form-urlencoded";function rg(e){return e!=null&&typeof e.tagName=="string"}function c5(e){return rg(e)&&e.tagName.toLowerCase()==="button"}function d5(e){return rg(e)&&e.tagName.toLowerCase()==="form"}function u5(e){return rg(e)&&e.tagName.toLowerCase()==="input"}function h5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m5(e,s){return e.button===0&&(!s||s==="_self")&&!h5(e)}function P0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,n)=>{let a=e[n];return s.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function p5(e,s){let n=P0(e);return s&&s.forEach((a,r)=>{n.has(r)||s.getAll(r).forEach(l=>{n.append(r,l)})}),n}var Vp=null;function f5(){if(Vp===null)try{new FormData(document.createElement("form"),0),Vp=!1}catch{Vp=!0}return Vp}var g5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function My(e){return e!=null&&!g5.has(e)?(Cr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cf}"`),null):e}function x5(e,s){let n,a,r,l,c;if(d5(e)){let u=e.getAttribute("action");a=u?to(u,s):null,n=e.getAttribute("method")||lf,r=My(e.getAttribute("enctype"))||cf,l=new FormData(e)}else if(c5(e)||u5(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(a=m?to(m,s):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||lf,r=My(e.getAttribute("formenctype"))||My(u.getAttribute("enctype"))||cf,l=new FormData(u,e),!f5()){let{name:p,type:f,value:g}=e;if(f==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,g)}}else{if(rg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lf,a=null,r=cf,c=e}return l&&r==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tb(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function y5(e,s,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:s&&to(a.pathname,s)==="/"?a.pathname=`${s.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function v5(e,s){if(e.id in s)return s[e.id];try{let n=await import(e.module);return s[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function w5(e,s,n){let a=await Promise.all(e.map(async r=>{let l=s.routes[r.route.id];if(l){let c=await v5(l,n);return c.links?c.links():[]}return[]}));return C5(a.flat(1).filter(b5).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function nC(e,s,n,a,r,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,u=(m,p)=>{var f;return n[p].pathname!==m.pathname||((f=n[p].route.path)==null?void 0:f.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?s.filter((m,p)=>c(m,p)||u(m,p)):l==="data"?s.filter((m,p)=>{var g;let f=a.routes[m.route.id];if(!f||!f.hasLoader)return!1;if(c(m,p)||u(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function j5(e,s,{includeHydrateFallback:n}={}){return N5(e.map(a=>{let r=s.routes[a.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function N5(e){return[...new Set(e)]}function S5(e){let s={},n=Object.keys(e).sort();for(let a of n)s[a]=e[a];return s}function C5(e,s){let n=new Set;return new Set(s),e.reduce((a,r)=>{let l=JSON.stringify(S5(r));return n.has(l)||(n.add(l),a.push({key:l,link:r})),a},[])}function Gk(){let e=x.useContext(tu);return Tb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function T5(){let e=x.useContext(ng);return Tb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var kb=x.createContext(void 0);kb.displayName="FrameworkContext";function Hk(){let e=x.useContext(kb);return Tb(e,"You must render this element inside a <HydratedRouter> element"),e}function k5(e,s){let n=x.useContext(kb),[a,r]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:p,onMouseLeave:f,onTouchStart:g}=s,v=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=E=>{E.forEach(T=>{c(T.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(a){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[a]);let w=()=>{r(!0)},N=()=>{r(!1),c(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:dh(u,w),onBlur:dh(m,N),onMouseEnter:dh(p,w),onMouseLeave:dh(f,N),onTouchStart:dh(g,w)}]:[!1,v,{}]}function dh(e,s){return n=>{e&&e(n),n.defaultPrevented||s(n)}}function E5({page:e,...s}){let{router:n}=Gk(),a=x.useMemo(()=>Mk(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?x.createElement(D5,{page:e,matches:a,...s}):null}function A5(e){let{manifest:s,routeModules:n}=Hk(),[a,r]=x.useState([]);return x.useEffect(()=>{let l=!1;return w5(e,s,n).then(c=>{l||r(c)}),()=>{l=!0}},[e,s,n]),a}function D5({page:e,matches:s,...n}){let a=kn(),{manifest:r,routeModules:l}=Hk(),{basename:c}=Gk(),{loaderData:u,matches:m}=T5(),p=x.useMemo(()=>nC(e,s,m,r,a,"data"),[e,s,m,r,a]),f=x.useMemo(()=>nC(e,s,m,r,a,"assets"),[e,s,m,r,a]),g=x.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let N=new Set,j=!1;if(s.forEach(E=>{var C;let T=r.routes[E.route.id];!T||!T.hasLoader||(!p.some(P=>P.route.id===E.route.id)&&E.route.id in u&&((C=l[E.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?j=!0:N.add(E.route.id))}),N.size===0)return[];let S=y5(e,c,"data");return j&&N.size>0&&S.searchParams.set("_routes",s.filter(E=>N.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[c,u,a,r,p,s,e,l]),v=x.useMemo(()=>j5(f,r),[f,r]),w=A5(f);return x.createElement(x.Fragment,null,g.map(N=>x.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),v.map(N=>x.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),w.map(({key:N,link:j})=>x.createElement("link",{key:N,nonce:n.nonce,...j})))}function I5(...e){return s=>{e.forEach(n=>{typeof n=="function"?n(s):n!=null&&(n.current=s)})}}var Yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yk&&(window.__reactRouterVersion="7.8.2")}catch{}function P5({basename:e,children:s,window:n}){let a=x.useRef();a.current==null&&(a.current=bM({window:n,v5Compat:!0}));let r=a.current,[l,c]=x.useState({action:r.action,location:r.location}),u=x.useCallback(m=>{x.startTransition(()=>c(m))},[c]);return x.useLayoutEffect(()=>r.listen(u),[r,u]),x.createElement(l5,{basename:e,children:s,location:l.location,navigationType:l.action,navigator:r})}var Wk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pi=x.forwardRef(function({onClick:s,discover:n="render",prefetch:a="none",relative:r,reloadDocument:l,replace:c,state:u,target:m,to:p,preventScrollReset:f,viewTransition:g,...v},w){let{basename:N}=x.useContext($r),j=typeof p=="string"&&Wk.test(p),S,E=!1;if(typeof p=="string"&&j&&(S=p,Yk))try{let z=new URL(window.location.href),J=p.startsWith("//")?new URL(z.protocol+p):new URL(p),K=to(J.pathname,N);J.origin===z.origin&&K!=null?p=K+J.search+J.hash:E=!0}catch{Cr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=YM(p,{relative:r}),[C,P,D]=k5(a,v),A=_5(p,{replace:c,state:u,target:m,preventScrollReset:f,relative:r,viewTransition:g});function R(z){s&&s(z),z.defaultPrevented||A(z)}let F=x.createElement("a",{...v,...D,href:S||T,onClick:E||l?s:R,ref:I5(w,P),target:m,"data-discover":!j&&n==="render"?"true":void 0});return C&&!j?x.createElement(x.Fragment,null,F,x.createElement(E5,{page:T})):F});pi.displayName="Link";var R5=x.forwardRef(function({"aria-current":s="page",caseSensitive:n=!1,className:a="",end:r=!1,style:l,to:c,viewTransition:u,children:m,...p},f){let g=sm(c,{relative:p.relative}),v=kn(),w=x.useContext(ng),{navigator:N,basename:j}=x.useContext($r),S=w!=null&&z5(g)&&u===!0,E=N.encodeLocation?N.encodeLocation(g).pathname:g.pathname,T=v.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(T=T.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&j&&(C=to(C,j)||C);const P=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=T===E||!r&&T.startsWith(E)&&T.charAt(P)==="/",A=C!=null&&(C===E||!r&&C.startsWith(E)&&C.charAt(E.length)==="/"),R={isActive:D,isPending:A,isTransitioning:S},F=D?s:void 0,z;typeof a=="function"?z=a(R):z=[a,D?"active":null,A?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(R):l;return x.createElement(pi,{...p,"aria-current":F,className:z,ref:f,style:J,to:c,viewTransition:u},typeof m=="function"?m(R):m)});R5.displayName="NavLink";var O5=x.forwardRef(({discover:e="render",fetcherKey:s,navigate:n,reloadDocument:a,replace:r,state:l,method:c=lf,action:u,onSubmit:m,relative:p,preventScrollReset:f,viewTransition:g,...v},w)=>{let N=V5(),j=B5(u,{relative:p}),S=c.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&Wk.test(u),T=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||c;N(P||C.currentTarget,{fetcherKey:s,method:D,navigate:n,replace:r,state:l,relative:p,preventScrollReset:f,viewTransition:g})};return x.createElement("form",{ref:w,method:S,action:j,onSubmit:a?m:T,...v,"data-discover":!E&&e==="render"?"true":void 0})});O5.displayName="Form";function M5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kk(e){let s=x.useContext(tu);return Xs(s,M5(e)),s}function _5(e,{target:s,replace:n,state:a,preventScrollReset:r,relative:l,viewTransition:c}={}){let u=Tr(),m=kn(),p=sm(e,{relative:l});return x.useCallback(f=>{if(m5(f,s)){f.preventDefault();let g=n!==void 0?n:Oh(m)===Oh(p);u(e,{replace:g,state:a,preventScrollReset:r,relative:l,viewTransition:c})}},[m,u,p,n,a,s,e,r,l,c])}function L5(e){Cr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=x.useRef(P0(e)),n=x.useRef(!1),a=kn(),r=x.useMemo(()=>p5(a.search,n.current?null:s.current),[a.search]),l=Tr(),c=x.useCallback((u,m)=>{const p=P0(typeof u=="function"?u(new URLSearchParams(r)):u);n.current=!0,l("?"+p,m)},[l,r]);return[r,c]}var F5=0,U5=()=>`__${String(++F5)}__`;function V5(){let{router:e}=Kk("useSubmit"),{basename:s}=x.useContext($r),n=n5();return x.useCallback(async(a,r={})=>{let{action:l,method:c,encType:u,formData:m,body:p}=x5(a,s);if(r.navigate===!1){let f=r.fetcherKey||U5();await e.fetch(f,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:m,body:p,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await e.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:m,body:p,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,s,n])}function B5(e,{relative:s}={}){let{basename:n}=x.useContext($r),a=x.useContext(gi);Xs(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),l={...sm(e||".",{relative:s})},c=kn();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),m=u.getAll("index");if(m.some(f=>f==="")){u.delete("index"),m.filter(g=>g).forEach(g=>u.append("index",g));let f=u.toString();l.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Xi([n,l.pathname])),Oh(l)}function z5(e,{relative:s}={}){let n=x.useContext(Uk);Xs(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Kk("useViewTransitionState"),r=sm(e,{relative:s});if(!n.isTransitioning)return!1;let l=to(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=to(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Tf(r.pathname,c)!=null||Tf(r.pathname,l)!=null}var au=Ok();const q5=em(au);var nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pc=typeof window>"u"||"Deno"in globalThis;function wn(){}function $5(e,s){return typeof e=="function"?e(s):e}function R0(e){return typeof e=="number"&&e>=0&&e!==1/0}function Qk(e,s){return Math.max(e+(s||0)-Date.now(),0)}function ol(e,s){return typeof e=="function"?e(s):e}function br(e,s){return typeof e=="function"?e(s):e}function rC(e,s){const{type:n="all",exact:a,fetchStatus:r,predicate:l,queryKey:c,stale:u}=e;if(c){if(a){if(s.queryHash!==Eb(c,s.options))return!1}else if(!Mh(s.queryKey,c))return!1}if(n!=="all"){const m=s.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof u=="boolean"&&s.isStale()!==u||r&&r!==s.state.fetchStatus||l&&!l(s))}function iC(e,s){const{exact:n,status:a,predicate:r,mutationKey:l}=e;if(l){if(!s.options.mutationKey)return!1;if(n){if(fc(s.options.mutationKey)!==fc(l))return!1}else if(!Mh(s.options.mutationKey,l))return!1}return!(a&&s.state.status!==a||r&&!r(s))}function Eb(e,s){return((s==null?void 0:s.queryKeyHashFn)||fc)(e)}function fc(e){return JSON.stringify(e,(s,n)=>O0(n)?Object.keys(n).sort().reduce((a,r)=>(a[r]=n[r],a),{}):n)}function Mh(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(n=>Mh(e[n],s[n])):!1}function Jk(e,s){if(e===s)return e;const n=oC(e)&&oC(s);if(n||O0(e)&&O0(s)){const a=n?e:Object.keys(e),r=a.length,l=n?s:Object.keys(s),c=l.length,u=n?[]:{},m=new Set(a);let p=0;for(let f=0;f<c;f++){const g=n?f:l[f];(!n&&m.has(g)||n)&&e[g]===void 0&&s[g]===void 0?(u[g]=void 0,p++):(u[g]=Jk(e[g],s[g]),u[g]===e[g]&&e[g]!==void 0&&p++)}return r===c&&p===r?e:u}return s}function kf(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}function oC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function O0(e){if(!lC(e))return!1;const s=e.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!lC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lC(e){return Object.prototype.toString.call(e)==="[object Object]"}function G5(e){return new Promise(s=>{setTimeout(s,e)})}function M0(e,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,s):n.structuralSharing!==!1?Jk(e,s):s}function H5(e,s,n=0){const a=[...e,s];return n&&a.length>n?a.slice(1):a}function Y5(e,s,n=0){const a=[s,...e];return n&&a.length>n?a.slice(0,-1):a}var Ab=Symbol();function Xk(e,s){return!e.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!e.queryFn||e.queryFn===Ab?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Zk(e,s){return typeof e=="function"?e(...s):!!e}var nc,Ko,Id,Nk,W5=(Nk=class extends nu{constructor(){super();Ct(this,nc);Ct(this,Ko);Ct(this,Id);tt(this,Id,s=>{if(!pc&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){re(this,Ko)||this.setEventListener(re(this,Id))}onUnsubscribe(){var s;this.hasListeners()||((s=re(this,Ko))==null||s.call(this),tt(this,Ko,void 0))}setEventListener(s){var n;tt(this,Id,s),(n=re(this,Ko))==null||n.call(this),tt(this,Ko,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){re(this,nc)!==s&&(tt(this,nc,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){var s;return typeof re(this,nc)=="boolean"?re(this,nc):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},nc=new WeakMap,Ko=new WeakMap,Id=new WeakMap,Nk),Db=new W5,Pd,Qo,Rd,Sk,K5=(Sk=class extends nu{constructor(){super();Ct(this,Pd,!0);Ct(this,Qo);Ct(this,Rd);tt(this,Rd,s=>{if(!pc&&window.addEventListener){const n=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){re(this,Qo)||this.setEventListener(re(this,Rd))}onUnsubscribe(){var s;this.hasListeners()||((s=re(this,Qo))==null||s.call(this),tt(this,Qo,void 0))}setEventListener(s){var n;tt(this,Rd,s),(n=re(this,Qo))==null||n.call(this),tt(this,Qo,s(this.setOnline.bind(this)))}setOnline(s){re(this,Pd)!==s&&(tt(this,Pd,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return re(this,Pd)}},Pd=new WeakMap,Qo=new WeakMap,Rd=new WeakMap,Sk),Ef=new K5;function _0(){let e,s;const n=new Promise((r,l)=>{e=r,s=l});n.status="pending",n.catch(()=>{});function a(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{a({status:"fulfilled",value:r}),e(r)},n.reject=r=>{a({status:"rejected",reason:r}),s(r)},n}function Q5(e){return Math.min(1e3*2**e,3e4)}function eE(e){return(e??"online")==="online"?Ef.isOnline():!0}var L0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function tE(e){let s=!1,n=0,a;const r=_0(),l=()=>r.status!=="pending",c=j=>{var S;if(!l()){const E=new L0(j);v(E),(S=e.onCancel)==null||S.call(e,E)}},u=()=>{s=!0},m=()=>{s=!1},p=()=>Db.isFocused()&&(e.networkMode==="always"||Ef.isOnline())&&e.canRun(),f=()=>eE(e.networkMode)&&e.canRun(),g=j=>{l()||(a==null||a(),r.resolve(j))},v=j=>{l()||(a==null||a(),r.reject(j))},w=()=>new Promise(j=>{var S;a=E=>{(l()||p())&&j(E)},(S=e.onPause)==null||S.call(e)}).then(()=>{var j;a=void 0,l()||(j=e.onContinue)==null||j.call(e)}),N=()=>{if(l())return;let j;const S=n===0?e.initialPromise:void 0;try{j=S??e.fn()}catch(E){j=Promise.reject(E)}Promise.resolve(j).then(g).catch(E=>{var A;if(l())return;const T=e.retry??(pc?0:3),C=e.retryDelay??Q5,P=typeof C=="function"?C(n,E):C,D=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,E);if(s||!D){v(E);return}n++,(A=e.onFail)==null||A.call(e,n,E),G5(P).then(()=>p()?void 0:w()).then(()=>{s?v(E):N()})})};return{promise:r,status:()=>r.status,cancel:c,continue:()=>(a==null||a(),r),cancelRetry:u,continueRetry:m,canStart:f,start:()=>(f()?N():w().then(N),r)}}var J5=e=>setTimeout(e,0);function X5(){let e=[],s=0,n=u=>{u()},a=u=>{u()},r=J5;const l=u=>{s?e.push(u):r(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&r(()=>{a(()=>{u.forEach(m=>{n(m)})})})};return{batch:u=>{let m;s++;try{m=u()}finally{s--,s||c()}return m},batchCalls:u=>(...m)=>{l(()=>{u(...m)})},schedule:l,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{r=u}}}var Ba=X5(),rc,Ck,sE=(Ck=class{constructor(){Ct(this,rc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R0(this.gcTime)&&tt(this,rc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pc?1/0:300*1e3))}clearGcTimeout(){re(this,rc)&&(clearTimeout(re(this,rc)),tt(this,rc,void 0))}},rc=new WeakMap,Ck),Od,Md,vr,ic,Ha,Qh,oc,Fr,zi,Tk,Z5=(Tk=class extends sE{constructor(s){super();Ct(this,Fr);Ct(this,Od);Ct(this,Md);Ct(this,vr);Ct(this,ic);Ct(this,Ha);Ct(this,Qh);Ct(this,oc);tt(this,oc,!1),tt(this,Qh,s.defaultOptions),this.setOptions(s.options),this.observers=[],tt(this,ic,s.client),tt(this,vr,re(this,ic).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,tt(this,Od,e3(this.options)),this.state=s.state??re(this,Od),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=re(this,Ha))==null?void 0:s.promise}setOptions(s){this.options={...re(this,Qh),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,vr).remove(this)}setData(s,n){const a=M0(this.state.data,s,this.options);return $t(this,Fr,zi).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(s,n){$t(this,Fr,zi).call(this,{type:"setState",state:s,setStateOptions:n})}cancel(s){var a,r;const n=(a=re(this,Ha))==null?void 0:a.promise;return(r=re(this,Ha))==null||r.cancel(s),n?n.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,Od))}isActive(){return this.observers.some(s=>br(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ab||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>ol(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Qk(this.state.dataUpdatedAt,s)}onFocus(){var n;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(n=re(this,Ha))==null||n.continue()}onOnline(){var n;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(n=re(this,Ha))==null||n.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),re(this,vr).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(re(this,Ha)&&(re(this,oc)?re(this,Ha).cancel({revert:!0}):re(this,Ha).cancelRetry()),this.scheduleGc()),re(this,vr).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,Fr,zi).call(this,{type:"invalidate"})}async fetch(s,n){var m,p,f,g,v,w,N,j,S,E,T,C;if(this.state.fetchStatus!=="idle"&&((m=re(this,Ha))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(re(this,Ha))return re(this,Ha).continueRetry(),re(this,Ha).promise}if(s&&this.setOptions(s),!this.options.queryFn){const P=this.observers.find(D=>D.options.queryFn);P&&this.setOptions(P.options)}const a=new AbortController,r=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(tt(this,oc,!0),a.signal)})},l=()=>{const P=Xk(this.options,n),A=(()=>{const R={client:re(this,ic),queryKey:this.queryKey,meta:this.meta};return r(R),R})();return tt(this,oc,!1),this.options.persister?this.options.persister(P,A,this):P(A)},u=(()=>{const P={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:re(this,ic),state:this.state,fetchFn:l};return r(P),P})();(p=this.options.behavior)==null||p.onFetch(u,this),tt(this,Md,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&$t(this,Fr,zi).call(this,{type:"fetch",meta:(g=u.fetchOptions)==null?void 0:g.meta}),tt(this,Ha,tE({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:P=>{P instanceof L0&&P.revert&&this.setState({...re(this,Md),fetchStatus:"idle"}),a.abort()},onFail:(P,D)=>{$t(this,Fr,zi).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{$t(this,Fr,zi).call(this,{type:"pause"})},onContinue:()=>{$t(this,Fr,zi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const P=await re(this,Ha).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(w=(v=re(this,vr).config).onSuccess)==null||w.call(v,P,this),(j=(N=re(this,vr).config).onSettled)==null||j.call(N,P,this.state.error,this),P}catch(P){if(P instanceof L0){if(P.silent)return re(this,Ha).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw $t(this,Fr,zi).call(this,{type:"error",error:P}),(E=(S=re(this,vr).config).onError)==null||E.call(S,P,this),(C=(T=re(this,vr).config).onSettled)==null||C.call(T,this.state.data,P,this),P}finally{this.scheduleGc()}}},Od=new WeakMap,Md=new WeakMap,vr=new WeakMap,ic=new WeakMap,Ha=new WeakMap,Qh=new WeakMap,oc=new WeakMap,Fr=new WeakSet,zi=function(s){const n=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...aE(a.data,this.options),fetchMeta:s.meta??null};case"success":const r={...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return tt(this,Md,s.manual?r:void 0),r;case"error":const l=s.error;return{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=n(this.state),Ba.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),re(this,vr).notify({query:this,type:"updated",action:s})})},Tk);function aE(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eE(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function e3(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,n=s!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ei,kk,t3=(kk=class extends nu{constructor(s={}){super();Ct(this,ei);this.config=s,tt(this,ei,new Map)}build(s,n,a){const r=n.queryKey,l=n.queryHash??Eb(r,n);let c=this.get(l);return c||(c=new Z5({client:s,queryKey:r,queryHash:l,options:s.defaultQueryOptions(n),state:a,defaultOptions:s.getQueryDefaults(r)}),this.add(c)),c}add(s){re(this,ei).has(s.queryHash)||(re(this,ei).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=re(this,ei).get(s.queryHash);n&&(s.destroy(),n===s&&re(this,ei).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Ba.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return re(this,ei).get(s)}getAll(){return[...re(this,ei).values()]}find(s){const n={exact:!0,...s};return this.getAll().find(a=>rC(n,a))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(a=>rC(s,a)):n}notify(s){Ba.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){Ba.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Ba.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},ei=new WeakMap,kk),ti,vn,lc,si,Ho,Ek,s3=(Ek=class extends sE{constructor(s){super();Ct(this,si);Ct(this,ti);Ct(this,vn);Ct(this,lc);this.mutationId=s.mutationId,tt(this,vn,s.mutationCache),tt(this,ti,[]),this.state=s.state||nE(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){re(this,ti).includes(s)||(re(this,ti).push(s),this.clearGcTimeout(),re(this,vn).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){tt(this,ti,re(this,ti).filter(n=>n!==s)),this.scheduleGc(),re(this,vn).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){re(this,ti).length||(this.state.status==="pending"?this.scheduleGc():re(this,vn).remove(this))}continue(){var s;return((s=re(this,lc))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,c,u,m,p,f,g,v,w,N,j,S,E,T,C,P,D,A,R,F;const n=()=>{$t(this,si,Ho).call(this,{type:"continue"})};tt(this,lc,tE({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(z,J)=>{$t(this,si,Ho).call(this,{type:"failed",failureCount:z,error:J})},onPause:()=>{$t(this,si,Ho).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,vn).canRun(this)}));const a=this.state.status==="pending",r=!re(this,lc).canStart();try{if(a)n();else{$t(this,si,Ho).call(this,{type:"pending",variables:s,isPaused:r}),await((c=(l=re(this,vn).config).onMutate)==null?void 0:c.call(l,s,this));const J=await((m=(u=this.options).onMutate)==null?void 0:m.call(u,s));J!==this.state.context&&$t(this,si,Ho).call(this,{type:"pending",context:J,variables:s,isPaused:r})}const z=await re(this,lc).start();return await((f=(p=re(this,vn).config).onSuccess)==null?void 0:f.call(p,z,s,this.state.context,this)),await((v=(g=this.options).onSuccess)==null?void 0:v.call(g,z,s,this.state.context)),await((N=(w=re(this,vn).config).onSettled)==null?void 0:N.call(w,z,null,this.state.variables,this.state.context,this)),await((S=(j=this.options).onSettled)==null?void 0:S.call(j,z,null,s,this.state.context)),$t(this,si,Ho).call(this,{type:"success",data:z}),z}catch(z){try{throw await((T=(E=re(this,vn).config).onError)==null?void 0:T.call(E,z,s,this.state.context,this)),await((P=(C=this.options).onError)==null?void 0:P.call(C,z,s,this.state.context)),await((A=(D=re(this,vn).config).onSettled)==null?void 0:A.call(D,void 0,z,this.state.variables,this.state.context,this)),await((F=(R=this.options).onSettled)==null?void 0:F.call(R,void 0,z,s,this.state.context)),z}finally{$t(this,si,Ho).call(this,{type:"error",error:z})}}finally{re(this,vn).runNext(this)}}},ti=new WeakMap,vn=new WeakMap,lc=new WeakMap,si=new WeakSet,Ho=function(s){const n=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ba.batch(()=>{re(this,ti).forEach(a=>{a.onMutationUpdate(s)}),re(this,vn).notify({mutation:this,type:"updated",action:s})})},Ek);function nE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $i,Ur,Jh,Ak,a3=(Ak=class extends nu{constructor(s={}){super();Ct(this,$i);Ct(this,Ur);Ct(this,Jh);this.config=s,tt(this,$i,new Set),tt(this,Ur,new Map),tt(this,Jh,0)}build(s,n,a){const r=new s3({mutationCache:this,mutationId:++Up(this,Jh)._,options:s.defaultMutationOptions(n),state:a});return this.add(r),r}add(s){re(this,$i).add(s);const n=Bp(s);if(typeof n=="string"){const a=re(this,Ur).get(n);a?a.push(s):re(this,Ur).set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(re(this,$i).delete(s)){const n=Bp(s);if(typeof n=="string"){const a=re(this,Ur).get(n);if(a)if(a.length>1){const r=a.indexOf(s);r!==-1&&a.splice(r,1)}else a[0]===s&&re(this,Ur).delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=Bp(s);if(typeof n=="string"){const a=re(this,Ur).get(n),r=a==null?void 0:a.find(l=>l.state.status==="pending");return!r||r===s}else return!0}runNext(s){var a;const n=Bp(s);if(typeof n=="string"){const r=(a=re(this,Ur).get(n))==null?void 0:a.find(l=>l!==s&&l.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ba.batch(()=>{re(this,$i).forEach(s=>{this.notify({type:"removed",mutation:s})}),re(this,$i).clear(),re(this,Ur).clear()})}getAll(){return Array.from(re(this,$i))}find(s){const n={exact:!0,...s};return this.getAll().find(a=>iC(n,a))}findAll(s={}){return this.getAll().filter(n=>iC(s,n))}notify(s){Ba.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return Ba.batch(()=>Promise.all(s.map(n=>n.continue().catch(wn))))}},$i=new WeakMap,Ur=new WeakMap,Jh=new WeakMap,Ak);function Bp(e){var s;return(s=e.options.scope)==null?void 0:s.id}function cC(e){return{onFetch:(s,n)=>{var f,g,v,w,N;const a=s.options,r=(v=(g=(f=s.fetchOptions)==null?void 0:f.meta)==null?void 0:g.fetchMore)==null?void 0:v.direction,l=((w=s.state.data)==null?void 0:w.pages)||[],c=((N=s.state.data)==null?void 0:N.pageParams)||[];let u={pages:[],pageParams:[]},m=0;const p=async()=>{let j=!1;const S=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(s.signal.aborted?j=!0:s.signal.addEventListener("abort",()=>{j=!0}),s.signal)})},E=Xk(s.options,s.fetchOptions),T=async(C,P,D)=>{if(j)return Promise.reject();if(P==null&&C.pages.length)return Promise.resolve(C);const R=(()=>{const K={client:s.client,queryKey:s.queryKey,pageParam:P,direction:D?"backward":"forward",meta:s.options.meta};return S(K),K})(),F=await E(R),{maxPages:z}=s.options,J=D?Y5:H5;return{pages:J(C.pages,F,z),pageParams:J(C.pageParams,P,z)}};if(r&&l.length){const C=r==="backward",P=C?n3:dC,D={pages:l,pageParams:c},A=P(a,D);u=await T(D,A,C)}else{const C=e??l.length;do{const P=m===0?c[0]??a.initialPageParam:dC(a,u);if(m>0&&P==null)break;u=await T(u,P),m++}while(m<C)}return u};s.options.persister?s.fetchFn=()=>{var j,S;return(S=(j=s.options).persister)==null?void 0:S.call(j,p,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n)}:s.fetchFn=p}}}function dC(e,{pages:s,pageParams:n}){const a=s.length-1;return s.length>0?e.getNextPageParam(s[a],s,n[a],n):void 0}function n3(e,{pages:s,pageParams:n}){var a;return s.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,s[0],s,n[0],n):void 0}var pa,Jo,Xo,_d,Ld,Zo,Fd,Ud,Dk,r3=(Dk=class{constructor(e={}){Ct(this,pa);Ct(this,Jo);Ct(this,Xo);Ct(this,_d);Ct(this,Ld);Ct(this,Zo);Ct(this,Fd);Ct(this,Ud);tt(this,pa,e.queryCache||new t3),tt(this,Jo,e.mutationCache||new a3),tt(this,Xo,e.defaultOptions||{}),tt(this,_d,new Map),tt(this,Ld,new Map),tt(this,Zo,0)}mount(){Up(this,Zo)._++,re(this,Zo)===1&&(tt(this,Fd,Db.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,pa).onFocus())})),tt(this,Ud,Ef.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,pa).onOnline())})))}unmount(){var e,s;Up(this,Zo)._--,re(this,Zo)===0&&((e=re(this,Fd))==null||e.call(this),tt(this,Fd,void 0),(s=re(this,Ud))==null||s.call(this),tt(this,Ud,void 0))}isFetching(e){return re(this,pa).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,Jo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const s=this.defaultQueryOptions({queryKey:e});return(n=re(this,pa).get(s.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),n=re(this,pa).build(this,s),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ol(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(e){return re(this,pa).findAll(e).map(({queryKey:s,state:n})=>{const a=n.data;return[s,a]})}setQueryData(e,s,n){const a=this.defaultQueryOptions({queryKey:e}),r=re(this,pa).get(a.queryHash),l=r==null?void 0:r.state.data,c=$5(s,l);if(c!==void 0)return re(this,pa).build(this,a).setData(c,{...n,manual:!0})}setQueriesData(e,s,n){return Ba.batch(()=>re(this,pa).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,s,n)]))}getQueryState(e){var n;const s=this.defaultQueryOptions({queryKey:e});return(n=re(this,pa).get(s.queryHash))==null?void 0:n.state}removeQueries(e){const s=re(this,pa);Ba.batch(()=>{s.findAll(e).forEach(n=>{s.remove(n)})})}resetQueries(e,s){const n=re(this,pa);return Ba.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const n={revert:!0,...s},a=Ba.batch(()=>re(this,pa).findAll(e).map(r=>r.cancel(n)));return Promise.all(a).then(wn).catch(wn)}invalidateQueries(e,s={}){return Ba.batch(()=>(re(this,pa).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},a=Ba.batch(()=>re(this,pa).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let l=r.fetch(void 0,n);return n.throwOnError||(l=l.catch(wn)),r.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(wn)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const n=re(this,pa).build(this,s);return n.isStaleByTime(ol(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wn).catch(wn)}fetchInfiniteQuery(e){return e.behavior=cC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wn).catch(wn)}ensureInfiniteQueryData(e){return e.behavior=cC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ef.isOnline()?re(this,Jo).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,pa)}getMutationCache(){return re(this,Jo)}getDefaultOptions(){return re(this,Xo)}setDefaultOptions(e){tt(this,Xo,e)}setQueryDefaults(e,s){re(this,_d).set(fc(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...re(this,_d).values()],n={};return s.forEach(a=>{Mh(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,s){re(this,Ld).set(fc(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...re(this,Ld).values()],n={};return s.forEach(a=>{Mh(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const s={...re(this,Xo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=Eb(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Ab&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,Xo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,pa).clear(),re(this,Jo).clear()}},pa=new WeakMap,Jo=new WeakMap,Xo=new WeakMap,_d=new WeakMap,Ld=new WeakMap,Zo=new WeakMap,Fd=new WeakMap,Ud=new WeakMap,Dk),On,rs,Xh,bn,cc,Vd,Gi,el,Zh,Bd,zd,dc,uc,tl,qd,ws,vh,F0,U0,V0,B0,z0,q0,$0,rE,Ik,i3=(Ik=class extends nu{constructor(s,n){super();Ct(this,ws);Ct(this,On);Ct(this,rs);Ct(this,Xh);Ct(this,bn);Ct(this,cc);Ct(this,Vd);Ct(this,Gi);Ct(this,el);Ct(this,Zh);Ct(this,Bd);Ct(this,zd);Ct(this,dc);Ct(this,uc);Ct(this,tl);Ct(this,qd,new Set);this.options=n,tt(this,On,s),tt(this,el,null),tt(this,Gi,_0()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(re(this,rs).addObserver(this),uC(re(this,rs),this.options)?$t(this,ws,vh).call(this):this.updateResult(),$t(this,ws,B0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return G0(re(this,rs),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return G0(re(this,rs),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$t(this,ws,z0).call(this),$t(this,ws,q0).call(this),re(this,rs).removeObserver(this)}setOptions(s){const n=this.options,a=re(this,rs);if(this.options=re(this,On).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof br(this.options.enabled,re(this,rs))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$t(this,ws,$0).call(this),re(this,rs).setOptions(this.options),n._defaulted&&!kf(this.options,n)&&re(this,On).getQueryCache().notify({type:"observerOptionsUpdated",query:re(this,rs),observer:this});const r=this.hasListeners();r&&hC(re(this,rs),a,this.options,n)&&$t(this,ws,vh).call(this),this.updateResult(),r&&(re(this,rs)!==a||br(this.options.enabled,re(this,rs))!==br(n.enabled,re(this,rs))||ol(this.options.staleTime,re(this,rs))!==ol(n.staleTime,re(this,rs)))&&$t(this,ws,F0).call(this);const l=$t(this,ws,U0).call(this);r&&(re(this,rs)!==a||br(this.options.enabled,re(this,rs))!==br(n.enabled,re(this,rs))||l!==re(this,tl))&&$t(this,ws,V0).call(this,l)}getOptimisticResult(s){const n=re(this,On).getQueryCache().build(re(this,On),s),a=this.createResult(n,s);return l3(this,a)&&(tt(this,bn,a),tt(this,Vd,this.options),tt(this,cc,re(this,rs).state)),a}getCurrentResult(){return re(this,bn)}trackResult(s,n){return new Proxy(s,{get:(a,r)=>(this.trackProp(r),n==null||n(r),r==="promise"&&!this.options.experimental_prefetchInRender&&re(this,Gi).status==="pending"&&re(this,Gi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(a,r))})}trackProp(s){re(this,qd).add(s)}getCurrentQuery(){return re(this,rs)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const n=re(this,On).defaultQueryOptions(s),a=re(this,On).getQueryCache().build(re(this,On),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(s){return $t(this,ws,vh).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),re(this,bn)))}createResult(s,n){var z;const a=re(this,rs),r=this.options,l=re(this,bn),c=re(this,cc),u=re(this,Vd),p=s!==a?s.state:re(this,Xh),{state:f}=s;let g={...f},v=!1,w;if(n._optimisticResults){const J=this.hasListeners(),K=!J&&uC(s,n),X=J&&hC(s,a,n,r);(K||X)&&(g={...g,...aE(f.data,s.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:N,errorUpdatedAt:j,status:S}=g;w=g.data;let E=!1;if(n.placeholderData!==void 0&&w===void 0&&S==="pending"){let J;l!=null&&l.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(J=l.data,E=!0):J=typeof n.placeholderData=="function"?n.placeholderData((z=re(this,zd))==null?void 0:z.state.data,re(this,zd)):n.placeholderData,J!==void 0&&(S="success",w=M0(l==null?void 0:l.data,J,n),v=!0)}if(n.select&&w!==void 0&&!E)if(l&&w===(c==null?void 0:c.data)&&n.select===re(this,Zh))w=re(this,Bd);else try{tt(this,Zh,n.select),w=n.select(w),w=M0(l==null?void 0:l.data,w,n),tt(this,Bd,w),tt(this,el,null)}catch(J){tt(this,el,J)}re(this,el)&&(N=re(this,el),w=re(this,Bd),j=Date.now(),S="error");const T=g.fetchStatus==="fetching",C=S==="pending",P=S==="error",D=C&&T,A=w!==void 0,F={status:S,fetchStatus:g.fetchStatus,isPending:C,isSuccess:S==="success",isError:P,isInitialLoading:D,isLoading:D,data:w,dataUpdatedAt:g.dataUpdatedAt,error:N,errorUpdatedAt:j,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!C,isLoadingError:P&&!A,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:P&&A,isStale:Ib(s,n),refetch:this.refetch,promise:re(this,Gi),isEnabled:br(n.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const J=ce=>{F.status==="error"?ce.reject(F.error):F.data!==void 0&&ce.resolve(F.data)},K=()=>{const ce=tt(this,Gi,F.promise=_0());J(ce)},X=re(this,Gi);switch(X.status){case"pending":s.queryHash===a.queryHash&&J(X);break;case"fulfilled":(F.status==="error"||F.data!==X.value)&&K();break;case"rejected":(F.status!=="error"||F.error!==X.reason)&&K();break}}return F}updateResult(){const s=re(this,bn),n=this.createResult(re(this,rs),this.options);if(tt(this,cc,re(this,rs).state),tt(this,Vd,this.options),re(this,cc).data!==void 0&&tt(this,zd,re(this,rs)),kf(n,s))return;tt(this,bn,n);const a=()=>{if(!s)return!0;const{notifyOnChangeProps:r}=this.options,l=typeof r=="function"?r():r;if(l==="all"||!l&&!re(this,qd).size)return!0;const c=new Set(l??re(this,qd));return this.options.throwOnError&&c.add("error"),Object.keys(re(this,bn)).some(u=>{const m=u;return re(this,bn)[m]!==s[m]&&c.has(m)})};$t(this,ws,rE).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$t(this,ws,B0).call(this)}},On=new WeakMap,rs=new WeakMap,Xh=new WeakMap,bn=new WeakMap,cc=new WeakMap,Vd=new WeakMap,Gi=new WeakMap,el=new WeakMap,Zh=new WeakMap,Bd=new WeakMap,zd=new WeakMap,dc=new WeakMap,uc=new WeakMap,tl=new WeakMap,qd=new WeakMap,ws=new WeakSet,vh=function(s){$t(this,ws,$0).call(this);let n=re(this,rs).fetch(this.options,s);return s!=null&&s.throwOnError||(n=n.catch(wn)),n},F0=function(){$t(this,ws,z0).call(this);const s=ol(this.options.staleTime,re(this,rs));if(pc||re(this,bn).isStale||!R0(s))return;const a=Qk(re(this,bn).dataUpdatedAt,s)+1;tt(this,dc,setTimeout(()=>{re(this,bn).isStale||this.updateResult()},a))},U0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(re(this,rs)):this.options.refetchInterval)??!1},V0=function(s){$t(this,ws,q0).call(this),tt(this,tl,s),!(pc||br(this.options.enabled,re(this,rs))===!1||!R0(re(this,tl))||re(this,tl)===0)&&tt(this,uc,setInterval(()=>{(this.options.refetchIntervalInBackground||Db.isFocused())&&$t(this,ws,vh).call(this)},re(this,tl)))},B0=function(){$t(this,ws,F0).call(this),$t(this,ws,V0).call(this,$t(this,ws,U0).call(this))},z0=function(){re(this,dc)&&(clearTimeout(re(this,dc)),tt(this,dc,void 0))},q0=function(){re(this,uc)&&(clearInterval(re(this,uc)),tt(this,uc,void 0))},$0=function(){const s=re(this,On).getQueryCache().build(re(this,On),this.options);if(s===re(this,rs))return;const n=re(this,rs);tt(this,rs,s),tt(this,Xh,s.state),this.hasListeners()&&(n==null||n.removeObserver(this),s.addObserver(this))},rE=function(s){Ba.batch(()=>{s.listeners&&this.listeners.forEach(n=>{n(re(this,bn))}),re(this,On).getQueryCache().notify({query:re(this,rs),type:"observerResultsUpdated"})})},Ik);function o3(e,s){return br(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function uC(e,s){return o3(e,s)||e.state.data!==void 0&&G0(e,s,s.refetchOnMount)}function G0(e,s,n){if(br(s.enabled,e)!==!1&&ol(s.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&Ib(e,s)}return!1}function hC(e,s,n,a){return(e!==s||br(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ib(e,n)}function Ib(e,s){return br(s.enabled,e)!==!1&&e.isStaleByTime(ol(s.staleTime,e))}function l3(e,s){return!kf(e.getCurrentResult(),s)}var sl,al,Mn,Hi,eo,df,H0,Pk,c3=(Pk=class extends nu{constructor(n,a){super();Ct(this,eo);Ct(this,sl);Ct(this,al);Ct(this,Mn);Ct(this,Hi);tt(this,sl,n),this.setOptions(a),this.bindMethods(),$t(this,eo,df).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const a=this.options;this.options=re(this,sl).defaultMutationOptions(n),kf(this.options,a)||re(this,sl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:re(this,Mn),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&fc(a.mutationKey)!==fc(this.options.mutationKey)?this.reset():((r=re(this,Mn))==null?void 0:r.state.status)==="pending"&&re(this,Mn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=re(this,Mn))==null||n.removeObserver(this)}onMutationUpdate(n){$t(this,eo,df).call(this),$t(this,eo,H0).call(this,n)}getCurrentResult(){return re(this,al)}reset(){var n;(n=re(this,Mn))==null||n.removeObserver(this),tt(this,Mn,void 0),$t(this,eo,df).call(this),$t(this,eo,H0).call(this)}mutate(n,a){var r;return tt(this,Hi,a),(r=re(this,Mn))==null||r.removeObserver(this),tt(this,Mn,re(this,sl).getMutationCache().build(re(this,sl),this.options)),re(this,Mn).addObserver(this),re(this,Mn).execute(n)}},sl=new WeakMap,al=new WeakMap,Mn=new WeakMap,Hi=new WeakMap,eo=new WeakSet,df=function(){var a;const n=((a=re(this,Mn))==null?void 0:a.state)??nE();tt(this,al,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},H0=function(n){Ba.batch(()=>{var a,r,l,c,u,m,p,f;if(re(this,Hi)&&this.hasListeners()){const g=re(this,al).variables,v=re(this,al).context;(n==null?void 0:n.type)==="success"?((r=(a=re(this,Hi)).onSuccess)==null||r.call(a,n.data,g,v),(c=(l=re(this,Hi)).onSettled)==null||c.call(l,n.data,null,g,v)):(n==null?void 0:n.type)==="error"&&((m=(u=re(this,Hi)).onError)==null||m.call(u,n.error,g,v),(f=(p=re(this,Hi)).onSettled)==null||f.call(p,void 0,n.error,g,v))}this.listeners.forEach(g=>{g(re(this,al))})})},Pk),iE=x.createContext(void 0),za=e=>{const s=x.useContext(iE);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},d3=({client:e,children:s})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(iE.Provider,{value:e,children:s})),oE=x.createContext(!1),u3=()=>x.useContext(oE);oE.Provider;function h3(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var m3=x.createContext(h3()),p3=()=>x.useContext(m3),f3=(e,s)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(s.isReset()||(e.retryOnMount=!1))},g3=e=>{x.useEffect(()=>{e.clearReset()},[e])},x3=({result:e,errorResetBoundary:s,throwOnError:n,query:a,suspense:r})=>e.isError&&!s.isReset()&&!e.isFetching&&a&&(r&&e.data===void 0||Zk(n,[e.error,a])),y3=e=>{if(e.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>s(n(...a)):s(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},v3=(e,s)=>e.isLoading&&e.isFetching&&!s,b3=(e,s)=>(e==null?void 0:e.suspense)&&s.isPending,mC=(e,s,n)=>s.fetchOptimistic(e).catch(()=>{n.clearReset()});function w3(e,s,n){var g,v,w,N,j;const a=u3(),r=p3(),l=za(),c=l.defaultQueryOptions(e);(v=(g=l.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||v.call(g,c),c._optimisticResults=a?"isRestoring":"optimistic",y3(c),f3(c,r),g3(r);const u=!l.getQueryCache().get(c.queryHash),[m]=x.useState(()=>new s(l,c)),p=m.getOptimisticResult(c),f=!a&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(S=>{const E=f?m.subscribe(Ba.batchCalls(S)):wn;return m.updateResult(),E},[m,f]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),x.useEffect(()=>{m.setOptions(c)},[c,m]),b3(c,p))throw mC(c,m,r);if(x3({result:p,errorResetBoundary:r,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((N=(w=l.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||N.call(w,c,p),c.experimental_prefetchInRender&&!pc&&v3(p,a)){const S=u?mC(c,m,r):(j=l.getQueryCache().get(c.queryHash))==null?void 0:j.promise;S==null||S.catch(wn).finally(()=>{m.updateResult()})}return c.notifyOnChangeProps?p:m.trackResult(p)}function Xt(e,s){return w3(e,i3)}function vs(e,s){const n=za(),[a]=x.useState(()=>new c3(n,e));x.useEffect(()=>{a.setOptions(e)},[a,e]);const r=x.useSyncExternalStore(x.useCallback(c=>a.subscribe(Ba.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=x.useCallback((c,u)=>{a.mutate(c,u).catch(wn)},[a]);if(r.error&&Zk(a.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:l,mutateAsync:r.mutate}}const j3=1,N3=1e6;let _y=0;function S3(){return _y=(_y+1)%Number.MAX_SAFE_INTEGER,_y.toString()}const Ly=new Map,pC=e=>{if(Ly.has(e))return;const s=setTimeout(()=>{Ly.delete(e),Th({type:"REMOVE_TOAST",toastId:e})},N3);Ly.set(e,s)},C3=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,j3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?pC(n):e.toasts.forEach(a=>{pC(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==s.toastId)}}},uf=[];let hf={toasts:[]};function Th(e){hf=C3(hf,e),uf.forEach(s=>{s(hf)})}function lE({...e}){const s=S3(),n=r=>Th({type:"UPDATE_TOAST",toast:{...r,id:s}}),a=()=>Th({type:"DISMISS_TOAST",toastId:s});return Th({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:r=>{r||a()}}}),{id:s,dismiss:a,update:n}}function da(){const[e,s]=x.useState(hf);return x.useEffect(()=>(uf.push(s),()=>{const n=uf.indexOf(s);n>-1&&uf.splice(n,1)}),[e]),{...e,toast:lE,dismiss:n=>Th({type:"DISMISS_TOAST",toastId:n})}}function At(e,s,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return s==null?void 0:s(r)}}function fC(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function cE(...e){return s=>{let n=!1;const a=e.map(r=>{const l=fC(r,s);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let r=0;r<a.length;r++){const l=a[r];typeof l=="function"?l():fC(e[r],null)}}}}function Ms(...e){return x.useCallback(cE(...e),e)}function T3(e,s){const n=x.createContext(s),a=l=>{const{children:c,...u}=l,m=x.useMemo(()=>u,Object.values(u));return t.jsx(n.Provider,{value:m,children:c})};a.displayName=e+"Provider";function r(l){const c=x.useContext(n);if(c)return c;if(s!==void 0)return s;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[a,r]}function xi(e,s=[]){let n=[];function a(l,c){const u=x.createContext(c),m=n.length;n=[...n,c];const p=g=>{var E;const{scope:v,children:w,...N}=g,j=((E=v==null?void 0:v[e])==null?void 0:E[m])||u,S=x.useMemo(()=>N,Object.values(N));return t.jsx(j.Provider,{value:S,children:w})};p.displayName=l+"Provider";function f(g,v){var j;const w=((j=v==null?void 0:v[e])==null?void 0:j[m])||u,N=x.useContext(w);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[p,f]}const r=()=>{const l=n.map(c=>x.createContext(c));return function(u){const m=(u==null?void 0:u[e])||l;return x.useMemo(()=>({[`__scope${e}`]:{...u,[e]:m}}),[u,m])}};return r.scopeName=e,[a,k3(r,...s)]}function k3(...e){const s=e[0];if(e.length===1)return s;const n=()=>{const a=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const c=a.reduce((u,{useScope:m,scopeName:p})=>{const g=m(l)[`__scope${p}`];return{...u,...g}},{});return x.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return n.scopeName=s.scopeName,n}function gc(e){const s=E3(e),n=x.forwardRef((a,r)=>{const{children:l,...c}=a,u=x.Children.toArray(l),m=u.find(D3);if(m){const p=m.props.children,f=u.map(g=>g===m?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:g);return t.jsx(s,{...c,ref:r,children:x.isValidElement(p)?x.cloneElement(p,void 0,f):null})}return t.jsx(s,{...c,ref:r,children:l})});return n.displayName=`${e}.Slot`,n}var dE=gc("Slot");function E3(e){const s=x.forwardRef((n,a)=>{const{children:r,...l}=n;if(x.isValidElement(r)){const c=P3(r),u=I3(l,r.props);return r.type!==x.Fragment&&(u.ref=a?cE(a,c):c),x.cloneElement(r,u)}return x.Children.count(r)>1?x.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var A3=Symbol("radix.slottable");function D3(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===A3}function I3(e,s){const n={...s};for(const a in s){const r=e[a],l=s[a];/^on[A-Z]/.test(a)?r&&l?n[a]=(...u)=>{const m=l(...u);return r(...u),m}:r&&(n[a]=r):a==="style"?n[a]={...r,...l}:a==="className"&&(n[a]=[r,l].filter(Boolean).join(" "))}return{...e,...n}}function P3(e){var a,r;let s=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Pb(e){const s=e+"CollectionProvider",[n,a]=xi(s),[r,l]=n(s,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:S,children:E}=j,T=qe.useRef(null),C=qe.useRef(new Map).current;return t.jsx(r,{scope:S,itemMap:C,collectionRef:T,children:E})};c.displayName=s;const u=e+"CollectionSlot",m=gc(u),p=qe.forwardRef((j,S)=>{const{scope:E,children:T}=j,C=l(u,E),P=Ms(S,C.collectionRef);return t.jsx(m,{ref:P,children:T})});p.displayName=u;const f=e+"CollectionItemSlot",g="data-radix-collection-item",v=gc(f),w=qe.forwardRef((j,S)=>{const{scope:E,children:T,...C}=j,P=qe.useRef(null),D=Ms(S,P),A=l(f,E);return qe.useEffect(()=>(A.itemMap.set(P,{ref:P,...C}),()=>void A.itemMap.delete(P))),t.jsx(v,{[g]:"",ref:D,children:T})});w.displayName=f;function N(j){const S=l(e+"CollectionConsumer",j);return qe.useCallback(()=>{const T=S.collectionRef.current;if(!T)return[];const C=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((A,R)=>C.indexOf(A.ref.current)-C.indexOf(R.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:p,ItemSlot:w},N,a]}var R3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=R3.reduce((e,s)=>{const n=gc(`Primitive.${s}`),a=x.forwardRef((r,l)=>{const{asChild:c,...u}=r,m=c?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...u,ref:l})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{});function uE(e,s){e&&au.flushSync(()=>e.dispatchEvent(s))}function tr(e){const s=x.useRef(e);return x.useEffect(()=>{s.current=e}),x.useMemo(()=>(...n)=>{var a;return(a=s.current)==null?void 0:a.call(s,...n)},[])}function O3(e,s=globalThis==null?void 0:globalThis.document){const n=tr(e);x.useEffect(()=>{const a=r=>{r.key==="Escape"&&n(r)};return s.addEventListener("keydown",a,{capture:!0}),()=>s.removeEventListener("keydown",a,{capture:!0})},[n,s])}var M3="DismissableLayer",Y0="dismissableLayer.update",_3="dismissableLayer.pointerDownOutside",L3="dismissableLayer.focusOutside",gC,hE=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),am=x.forwardRef((e,s)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...m}=e,p=x.useContext(hE),[f,g]=x.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),N=Ms(s,R=>g(R)),j=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),E=j.indexOf(S),T=f?j.indexOf(f):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,P=T>=E,D=U3(R=>{const F=R.target,z=[...p.branches].some(J=>J.contains(F));!P||z||(r==null||r(R),c==null||c(R),R.defaultPrevented||u==null||u())},v),A=V3(R=>{const F=R.target;[...p.branches].some(J=>J.contains(F))||(l==null||l(R),c==null||c(R),R.defaultPrevented||u==null||u())},v);return O3(R=>{T===p.layers.size-1&&(a==null||a(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},v),x.useEffect(()=>{if(f)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(gC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(f)),p.layers.add(f),xC(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=gC)}},[f,v,n,p]),x.useEffect(()=>()=>{f&&(p.layers.delete(f),p.layersWithOutsidePointerEventsDisabled.delete(f),xC())},[f,p]),x.useEffect(()=>{const R=()=>w({});return document.addEventListener(Y0,R),()=>document.removeEventListener(Y0,R)},[]),t.jsx(Ot.div,{...m,ref:N,style:{pointerEvents:C?P?"auto":"none":void 0,...e.style},onFocusCapture:At(e.onFocusCapture,A.onFocusCapture),onBlurCapture:At(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:At(e.onPointerDownCapture,D.onPointerDownCapture)})});am.displayName=M3;var F3="DismissableLayerBranch",mE=x.forwardRef((e,s)=>{const n=x.useContext(hE),a=x.useRef(null),r=Ms(s,a);return x.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),t.jsx(Ot.div,{...e,ref:r})});mE.displayName=F3;function U3(e,s=globalThis==null?void 0:globalThis.document){const n=tr(e),a=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const l=u=>{if(u.target&&!a.current){let m=function(){pE(_3,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(s.removeEventListener("click",r.current),r.current=m,s.addEventListener("click",r.current,{once:!0})):m()}else s.removeEventListener("click",r.current);a.current=!1},c=window.setTimeout(()=>{s.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),s.removeEventListener("pointerdown",l),s.removeEventListener("click",r.current)}},[s,n]),{onPointerDownCapture:()=>a.current=!0}}function V3(e,s=globalThis==null?void 0:globalThis.document){const n=tr(e),a=x.useRef(!1);return x.useEffect(()=>{const r=l=>{l.target&&!a.current&&pE(L3,n,{originalEvent:l},{discrete:!1})};return s.addEventListener("focusin",r),()=>s.removeEventListener("focusin",r)},[s,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function xC(){const e=new CustomEvent(Y0);document.dispatchEvent(e)}function pE(e,s,n,{discrete:a}){const r=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});s&&r.addEventListener(e,s,{once:!0}),a?uE(r,l):r.dispatchEvent(l)}var B3=am,z3=mE,Oa=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},q3="Portal",nm=x.forwardRef((e,s)=>{var u;const{container:n,...a}=e,[r,l]=x.useState(!1);Oa(()=>l(!0),[]);const c=n||r&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?q5.createPortal(t.jsx(Ot.div,{...a,ref:s}),c):null});nm.displayName=q3;function $3(e,s){return x.useReducer((n,a)=>s[n][a]??n,e)}var lo=e=>{const{present:s,children:n}=e,a=G3(s),r=typeof n=="function"?n({present:a.isPresent}):x.Children.only(n),l=Ms(a.ref,H3(r));return typeof n=="function"||a.isPresent?x.cloneElement(r,{ref:l}):null};lo.displayName="Presence";function G3(e){const[s,n]=x.useState(),a=x.useRef(null),r=x.useRef(e),l=x.useRef("none"),c=e?"mounted":"unmounted",[u,m]=$3(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=zp(a.current);l.current=u==="mounted"?p:"none"},[u]),Oa(()=>{const p=a.current,f=r.current;if(f!==e){const v=l.current,w=zp(p);e?m("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(f&&v!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,m]),Oa(()=>{if(s){let p;const f=s.ownerDocument.defaultView??window,g=w=>{const j=zp(a.current).includes(CSS.escape(w.animationName));if(w.target===s&&j&&(m("ANIMATION_END"),!r.current)){const S=s.style.animationFillMode;s.style.animationFillMode="forwards",p=f.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=S)})}},v=w=>{w.target===s&&(l.current=zp(a.current))};return s.addEventListener("animationstart",v),s.addEventListener("animationcancel",g),s.addEventListener("animationend",g),()=>{f.clearTimeout(p),s.removeEventListener("animationstart",v),s.removeEventListener("animationcancel",g),s.removeEventListener("animationend",g)}}else m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(p=>{a.current=p?getComputedStyle(p):null,n(p)},[])}}function zp(e){return(e==null?void 0:e.animationName)||"none"}function H3(e){var a,r;let s=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Y3=Rk[" useInsertionEffect ".trim().toString()]||Oa;function dl({prop:e,defaultProp:s,onChange:n=()=>{},caller:a}){const[r,l,c]=W3({defaultProp:s,onChange:n}),u=e!==void 0,m=u?e:r;{const f=x.useRef(e!==void 0);x.useEffect(()=>{const g=f.current;g!==u&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=u},[u,a])}const p=x.useCallback(f=>{var g;if(u){const v=K3(f)?f(e):f;v!==e&&((g=c.current)==null||g.call(c,v))}else l(f)},[u,e,l,c]);return[m,p]}function W3({defaultProp:e,onChange:s}){const[n,a]=x.useState(e),r=x.useRef(n),l=x.useRef(s);return Y3(()=>{l.current=s},[s]),x.useEffect(()=>{var c;r.current!==n&&((c=l.current)==null||c.call(l,n),r.current=n)},[n,r]),[n,a,l]}function K3(e){return typeof e=="function"}var fE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Q3="VisuallyHidden",Rb=x.forwardRef((e,s)=>t.jsx(Ot.span,{...e,ref:s,style:{...fE,...e.style}}));Rb.displayName=Q3;var Ob="ToastProvider",[Mb,J3,X3]=Pb("Toast"),[gE,dX]=xi("Toast",[X3]),[Z3,ig]=gE(Ob),xE=e=>{const{__scopeToast:s,label:n="Notification",duration:a=5e3,swipeDirection:r="right",swipeThreshold:l=50,children:c}=e,[u,m]=x.useState(null),[p,f]=x.useState(0),g=x.useRef(!1),v=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ob}\`. Expected non-empty \`string\`.`),t.jsx(Mb.Provider,{scope:s,children:t.jsx(Z3,{scope:s,label:n,duration:a,swipeDirection:r,swipeThreshold:l,toastCount:p,viewport:u,onViewportChange:m,onToastAdd:x.useCallback(()=>f(w=>w+1),[]),onToastRemove:x.useCallback(()=>f(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:c})})};xE.displayName=Ob;var yE="ToastViewport",e6=["F8"],W0="toast.viewportPause",K0="toast.viewportResume",vE=x.forwardRef((e,s)=>{const{__scopeToast:n,hotkey:a=e6,label:r="Notifications ({hotkey})",...l}=e,c=ig(yE,n),u=J3(n),m=x.useRef(null),p=x.useRef(null),f=x.useRef(null),g=x.useRef(null),v=Ms(s,g,c.onViewportChange),w=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=c.toastCount>0;x.useEffect(()=>{const S=E=>{var C;a.length!==0&&a.every(P=>E[P]||E.code===P)&&((C=g.current)==null||C.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[a]),x.useEffect(()=>{const S=m.current,E=g.current;if(N&&S&&E){const T=()=>{if(!c.isClosePausedRef.current){const A=new CustomEvent(W0);E.dispatchEvent(A),c.isClosePausedRef.current=!0}},C=()=>{if(c.isClosePausedRef.current){const A=new CustomEvent(K0);E.dispatchEvent(A),c.isClosePausedRef.current=!1}},P=A=>{!S.contains(A.relatedTarget)&&C()},D=()=>{S.contains(document.activeElement)||C()};return S.addEventListener("focusin",T),S.addEventListener("focusout",P),S.addEventListener("pointermove",T),S.addEventListener("pointerleave",D),window.addEventListener("blur",T),window.addEventListener("focus",C),()=>{S.removeEventListener("focusin",T),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",T),S.removeEventListener("pointerleave",D),window.removeEventListener("blur",T),window.removeEventListener("focus",C)}}},[N,c.isClosePausedRef]);const j=x.useCallback(({tabbingDirection:S})=>{const T=u().map(C=>{const P=C.ref.current,D=[P,...m6(P)];return S==="forwards"?D:D.reverse()});return(S==="forwards"?T.reverse():T).flat()},[u]);return x.useEffect(()=>{const S=g.current;if(S){const E=T=>{var D,A,R;const C=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!C){const F=document.activeElement,z=T.shiftKey;if(T.target===S&&z){(D=p.current)==null||D.focus();return}const X=j({tabbingDirection:z?"backwards":"forwards"}),ce=X.findIndex(q=>q===F);Fy(X.slice(ce+1))?T.preventDefault():z?(A=p.current)==null||A.focus():(R=f.current)==null||R.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[u,j]),t.jsxs(z3,{ref:m,role:"region","aria-label":r.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&t.jsx(Q0,{ref:p,onFocusFromOutsideViewport:()=>{const S=j({tabbingDirection:"forwards"});Fy(S)}}),t.jsx(Mb.Slot,{scope:n,children:t.jsx(Ot.ol,{tabIndex:-1,...l,ref:v})}),N&&t.jsx(Q0,{ref:f,onFocusFromOutsideViewport:()=>{const S=j({tabbingDirection:"backwards"});Fy(S)}})]})});vE.displayName=yE;var bE="ToastFocusProxy",Q0=x.forwardRef((e,s)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...r}=e,l=ig(bE,n);return t.jsx(Rb,{tabIndex:0,...r,ref:s,style:{position:"fixed"},onFocus:c=>{var p;const u=c.relatedTarget;!((p=l.viewport)!=null&&p.contains(u))&&a()}})});Q0.displayName=bE;var rm="Toast",t6="toast.swipeStart",s6="toast.swipeMove",a6="toast.swipeCancel",n6="toast.swipeEnd",wE=x.forwardRef((e,s)=>{const{forceMount:n,open:a,defaultOpen:r,onOpenChange:l,...c}=e,[u,m]=dl({prop:a,defaultProp:r??!0,onChange:l,caller:rm});return t.jsx(lo,{present:n||u,children:t.jsx(o6,{open:u,...c,ref:s,onClose:()=>m(!1),onPause:tr(e.onPause),onResume:tr(e.onResume),onSwipeStart:At(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:At(e.onSwipeMove,p=>{const{x:f,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:At(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:At(e.onSwipeEnd,p=>{const{x:f,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),m(!1)})})})});wE.displayName=rm;var[r6,i6]=gE(rm,{onClose(){}}),o6=x.forwardRef((e,s)=>{const{__scopeToast:n,type:a="foreground",duration:r,open:l,onClose:c,onEscapeKeyDown:u,onPause:m,onResume:p,onSwipeStart:f,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:w,...N}=e,j=ig(rm,n),[S,E]=x.useState(null),T=Ms(s,q=>E(q)),C=x.useRef(null),P=x.useRef(null),D=r||j.duration,A=x.useRef(0),R=x.useRef(D),F=x.useRef(0),{onToastAdd:z,onToastRemove:J}=j,K=tr(()=>{var ie;(S==null?void 0:S.contains(document.activeElement))&&((ie=j.viewport)==null||ie.focus()),c()}),X=x.useCallback(q=>{!q||q===1/0||(window.clearTimeout(F.current),A.current=new Date().getTime(),F.current=window.setTimeout(K,q))},[K]);x.useEffect(()=>{const q=j.viewport;if(q){const ie=()=>{X(R.current),p==null||p()},L=()=>{const B=new Date().getTime()-A.current;R.current=R.current-B,window.clearTimeout(F.current),m==null||m()};return q.addEventListener(W0,L),q.addEventListener(K0,ie),()=>{q.removeEventListener(W0,L),q.removeEventListener(K0,ie)}}},[j.viewport,D,m,p,X]),x.useEffect(()=>{l&&!j.isClosePausedRef.current&&X(D)},[l,D,j.isClosePausedRef,X]),x.useEffect(()=>(z(),()=>J()),[z,J]);const ce=x.useMemo(()=>S?EE(S):null,[S]);return j.viewport?t.jsxs(t.Fragment,{children:[ce&&t.jsx(l6,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:ce}),t.jsx(r6,{scope:n,onClose:K,children:au.createPortal(t.jsx(Mb.ItemSlot,{scope:n,children:t.jsx(B3,{asChild:!0,onEscapeKeyDown:At(u,()=>{j.isFocusedToastEscapeKeyDownRef.current||K(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(Ot.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":j.swipeDirection,...N,ref:T,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:At(e.onKeyDown,q=>{q.key==="Escape"&&(u==null||u(q.nativeEvent),q.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:At(e.onPointerDown,q=>{q.button===0&&(C.current={x:q.clientX,y:q.clientY})}),onPointerMove:At(e.onPointerMove,q=>{if(!C.current)return;const ie=q.clientX-C.current.x,L=q.clientY-C.current.y,B=!!P.current,Y=["left","right"].includes(j.swipeDirection),de=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,G=Y?de(0,ie):0,M=Y?0:de(0,L),V=q.pointerType==="touch"?10:2,W={x:G,y:M},$={originalEvent:q,delta:W};B?(P.current=W,qp(s6,g,$,{discrete:!1})):yC(W,j.swipeDirection,V)?(P.current=W,qp(t6,f,$,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ie)>V||Math.abs(L)>V)&&(C.current=null)}),onPointerUp:At(e.onPointerUp,q=>{const ie=P.current,L=q.target;if(L.hasPointerCapture(q.pointerId)&&L.releasePointerCapture(q.pointerId),P.current=null,C.current=null,ie){const B=q.currentTarget,Y={originalEvent:q,delta:ie};yC(ie,j.swipeDirection,j.swipeThreshold)?qp(n6,w,Y,{discrete:!0}):qp(a6,v,Y,{discrete:!0}),B.addEventListener("click",de=>de.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),l6=e=>{const{__scopeToast:s,children:n,...a}=e,r=ig(rm,s),[l,c]=x.useState(!1),[u,m]=x.useState(!1);return u6(()=>c(!0)),x.useEffect(()=>{const p=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:t.jsx(nm,{asChild:!0,children:t.jsx(Rb,{...a,children:l&&t.jsxs(t.Fragment,{children:[r.label," ",n]})})})},c6="ToastTitle",jE=x.forwardRef((e,s)=>{const{__scopeToast:n,...a}=e;return t.jsx(Ot.div,{...a,ref:s})});jE.displayName=c6;var d6="ToastDescription",NE=x.forwardRef((e,s)=>{const{__scopeToast:n,...a}=e;return t.jsx(Ot.div,{...a,ref:s})});NE.displayName=d6;var SE="ToastAction",CE=x.forwardRef((e,s)=>{const{altText:n,...a}=e;return n.trim()?t.jsx(kE,{altText:n,asChild:!0,children:t.jsx(_b,{...a,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${SE}\`. Expected non-empty \`string\`.`),null)});CE.displayName=SE;var TE="ToastClose",_b=x.forwardRef((e,s)=>{const{__scopeToast:n,...a}=e,r=i6(TE,n);return t.jsx(kE,{asChild:!0,children:t.jsx(Ot.button,{type:"button",...a,ref:s,onClick:At(e.onClick,r.onClose)})})});_b.displayName=TE;var kE=x.forwardRef((e,s)=>{const{__scopeToast:n,altText:a,...r}=e;return t.jsx(Ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...r,ref:s})});function EE(e){const s=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&s.push(a.textContent),h6(a)){const r=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!r)if(l){const c=a.dataset.radixToastAnnounceAlt;c&&s.push(c)}else s.push(...EE(a))}}),s}function qp(e,s,n,{discrete:a}){const r=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});s&&r.addEventListener(e,s,{once:!0}),a?uE(r,l):r.dispatchEvent(l)}var yC=(e,s,n=0)=>{const a=Math.abs(e.x),r=Math.abs(e.y),l=a>r;return s==="left"||s==="right"?l&&a>n:!l&&r>n};function u6(e=()=>{}){const s=tr(e);Oa(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[s])}function h6(e){return e.nodeType===e.ELEMENT_NODE}function m6(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function Fy(e){const s=document.activeElement;return e.some(n=>n===s?!0:(n.focus(),document.activeElement!==s))}var p6=xE,AE=vE,DE=wE,IE=jE,PE=NE,RE=CE,OE=_b;function ME(e){var s,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(s=0;s<r;s++)e[s]&&(n=ME(e[s]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function _E(){for(var e,s,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(s=ME(e))&&(a&&(a+=" "),a+=s);return a}const vC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bC=_E,og=(e,s)=>n=>{var a;if((s==null?void 0:s.variants)==null)return bC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:l}=s,c=Object.keys(r).map(p=>{const f=n==null?void 0:n[p],g=l==null?void 0:l[p];if(f===null)return null;const v=vC(f)||vC(g);return r[p][v]}),u=n&&Object.entries(n).reduce((p,f)=>{let[g,v]=f;return v===void 0||(p[g]=v),p},{}),m=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((p,f)=>{let{class:g,className:v,...w}=f;return Object.entries(w).every(N=>{let[j,S]=N;return Array.isArray(S)?S.includes({...l,...u}[j]):{...l,...u}[j]===S})?[...p,g,v]:p},[]);return bC(e,c,m,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,a)=>a?a.toUpperCase():n.toLowerCase()),wC=e=>{const s=g6(e);return s.charAt(0).toUpperCase()+s.slice(1)},LE=(...e)=>e.filter((s,n,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=x.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:l,iconNode:c,...u},m)=>x.createElement("svg",{ref:m,...x6,width:s,height:s,stroke:e,strokeWidth:a?Number(n)*24/Number(s):n,className:LE("lucide",r),...u},[...c.map(([p,f])=>x.createElement(p,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,s)=>{const n=x.forwardRef(({className:a,...r},l)=>x.createElement(y6,{ref:l,iconNode:s,className:LE(`lucide-${f6(wC(e))}`,`lucide-${e}`,a),...r}));return n.displayName=wC(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Uy=$e("activity",v6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]],w6=$e("alarm-clock",b6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Af=$e("arrow-left",j6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Df=$e("arrow-right",N6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],_n=$e("banknote",S6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],T6=$e("bed-double",C6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],E6=$e("bed",k6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ca=$e("building-2",A6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],I6=$e("building",D6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],R6=$e("calendar-check",P6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],M6=$e("calendar-clock",O6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],uh=$e("calendar-days",_6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qs=$e("calendar",L6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],FE=$e("camera",F6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Va=$e("chart-column",U6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],jC=$e("chart-pie",V6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],an=$e("check",B6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_h=$e("chevron-down",z6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Lb=$e("chevron-up",q6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],is=$e("circle-alert",$6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lh=$e("circle-check",G6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ca=$e("circle-check-big",H6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],NC=$e("circle-play",Y6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],K6=$e("circle-plus",W6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lg=$e("circle-x",Q6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],If=$e("circle",J6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Fb=$e("clipboard-check",X6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],e_=$e("clipboard-list",Z6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],s_=$e("clock-4",t_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Zn=$e("clock",a_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nl=$e("credit-card",n_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ub=$e("database",r_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ln=$e("download",i_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],J0=$e("ellipsis-vertical",o_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],un=$e("eye",l_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rs=$e("file-text",c_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],u_=$e("funnel",d_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Kl=$e("globe",h_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],UE=$e("hotel",m_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Pf=$e("house",p_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],X0=$e("image",f_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],_r=$e("indian-rupee",g_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y_=$e("info",x_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]],b_=$e("kanban",v_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],j_=$e("layout-dashboard",w_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],VE=$e("layout-grid",N_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],bh=$e("list-todo",S_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],T_=$e("list",C_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tn=$e("loader-circle",k_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vb=$e("lock",E_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],qi=$e("log-in",A_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Fh=$e("log-out",D_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],$d=$e("mail",I_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],BE=$e("map-pin",P_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],O_=$e("maximize-2",R_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],zE=$e("menu",M_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],L_=$e("minimize-2",__);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],SC=$e("palette",F_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mf=$e("pencil",U_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],qE=$e("phone",V_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ra=$e("plus",B_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Cn=$e("receipt",z_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mt=$e("refresh-cw",q_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],G_=$e("rotate-cw",$_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$E=$e("save",H_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Rf=$e("search",Y_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],md=$e("settings",W_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nn=$e("shield",K_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],J_=$e("siren",Q_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],pf=$e("sliders-horizontal",X_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Wn=$e("sparkles",Z_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Of=$e("square-check-big",eL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jr=$e("square-pen",tL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],GE=$e("star",sL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nL=$e("target",aL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],jn=$e("trash-2",rL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Zl=$e("trending-down",iL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bb=$e("triangle-alert",oL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Nn=$e("trending-up",lL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ul=$e("upload",cL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],kh=$e("user-check",dL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],hL=$e("user-cog",uL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pL=$e("user-minus",mL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Mf=$e("user-plus",fL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],xL=$e("user-x",gL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ya=$e("user",yL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Wi=$e("users",vL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],CC=$e("wallet",bL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jL=$e("wifi-off",wL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ws=$e("x",NL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],CL=$e("zap",SL),zb="-",TL=e=>{const s=EL(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{const u=c.split(zb);return u[0]===""&&u.length!==1&&u.shift(),HE(u,s)||kL(c)},getConflictingClassGroupIds:(c,u)=>{const m=n[c]||[];return u&&a[c]?[...m,...a[c]]:m}}},HE=(e,s)=>{var c;if(e.length===0)return s.classGroupId;const n=e[0],a=s.nextPart.get(n),r=a?HE(e.slice(1),a):void 0;if(r)return r;if(s.validators.length===0)return;const l=e.join(zb);return(c=s.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},TC=/^\[(.+)\]$/,kL=e=>{if(TC.test(e)){const s=TC.exec(e)[1],n=s==null?void 0:s.substring(0,s.indexOf(":"));if(n)return"arbitrary.."+n}},EL=e=>{const{theme:s,classGroups:n}=e,a={nextPart:new Map,validators:[]};for(const r in n)Z0(n[r],a,r,s);return a},Z0=(e,s,n,a)=>{e.forEach(r=>{if(typeof r=="string"){const l=r===""?s:kC(s,r);l.classGroupId=n;return}if(typeof r=="function"){if(AL(r)){Z0(r(a),s,n,a);return}s.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([l,c])=>{Z0(c,kC(s,l),n,a)})})},kC=(e,s)=>{let n=e;return s.split(zb).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},AL=e=>e.isThemeGetter,DL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,n=new Map,a=new Map;const r=(l,c)=>{n.set(l,c),s++,s>e&&(s=0,a=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=a.get(l))!==void 0)return r(l,c),c},set(l,c){n.has(l)?n.set(l,c):r(l,c)}}},ev="!",tv=":",IL=tv.length,PL=e=>{const{prefix:s,experimentalParseClassName:n}=e;let a=r=>{const l=[];let c=0,u=0,m=0,p;for(let N=0;N<r.length;N++){let j=r[N];if(c===0&&u===0){if(j===tv){l.push(r.slice(m,N)),m=N+IL;continue}if(j==="/"){p=N;continue}}j==="["?c++:j==="]"?c--:j==="("?u++:j===")"&&u--}const f=l.length===0?r:r.substring(m),g=RL(f),v=g!==f,w=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:w}};if(s){const r=s+tv,l=a;a=c=>c.startsWith(r)?l(c.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const r=a;a=l=>n({className:l,parseClassName:r})}return a},RL=e=>e.endsWith(ev)?e.substring(0,e.length-1):e.startsWith(ev)?e.substring(1):e,OL=e=>{const s=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const r=[];let l=[];return a.forEach(c=>{c[0]==="["||s[c]?(r.push(...l.sort(),c),l=[]):l.push(c)}),r.push(...l.sort()),r}},ML=e=>({cache:DL(e.cacheSize),parseClassName:PL(e),sortModifiers:OL(e),...TL(e)}),_L=/\s+/,LL=(e,s)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:r,sortModifiers:l}=s,c=[],u=e.trim().split(_L);let m="";for(let p=u.length-1;p>=0;p-=1){const f=u[p],{isExternal:g,modifiers:v,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:j}=n(f);if(g){m=f+(m.length>0?" "+m:m);continue}let S=!!j,E=a(S?N.substring(0,j):N);if(!E){if(!S){m=f+(m.length>0?" "+m:m);continue}if(E=a(N),!E){m=f+(m.length>0?" "+m:m);continue}S=!1}const T=l(v).join(":"),C=w?T+ev:T,P=C+E;if(c.includes(P))continue;c.push(P);const D=r(E,S);for(let A=0;A<D.length;++A){const R=D[A];c.push(C+R)}m=f+(m.length>0?" "+m:m)}return m};function FL(){let e=0,s,n,a="";for(;e<arguments.length;)(s=arguments[e++])&&(n=YE(s))&&(a&&(a+=" "),a+=n);return a}const YE=e=>{if(typeof e=="string")return e;let s,n="";for(let a=0;a<e.length;a++)e[a]&&(s=YE(e[a]))&&(n&&(n+=" "),n+=s);return n};function UL(e,...s){let n,a,r,l=c;function c(m){const p=s.reduce((f,g)=>g(f),e());return n=ML(p),a=n.cache.get,r=n.cache.set,l=u,u(m)}function u(m){const p=a(m);if(p)return p;const f=LL(m,n);return r(m,f),f}return function(){return l(FL.apply(null,arguments))}}const Ua=e=>{const s=n=>n[e]||[];return s.isThemeGetter=!0,s},WE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VL=/^\d+\/\d+$/,BL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$L=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,id=e=>VL.test(e),Yt=e=>!!e&&!Number.isNaN(Number(e)),Vo=e=>!!e&&Number.isInteger(Number(e)),Vy=e=>e.endsWith("%")&&Yt(e.slice(0,-1)),Vi=e=>BL.test(e),HL=()=>!0,YL=e=>zL.test(e)&&!qL.test(e),QE=()=>!1,WL=e=>$L.test(e),KL=e=>GL.test(e),QL=e=>!ut(e)&&!ht(e),JL=e=>ru(e,ZE,QE),ut=e=>WE.test(e),ql=e=>ru(e,eA,YL),By=e=>ru(e,sF,Yt),EC=e=>ru(e,JE,QE),XL=e=>ru(e,XE,KL),$p=e=>ru(e,tA,WL),ht=e=>KE.test(e),hh=e=>iu(e,eA),ZL=e=>iu(e,aF),AC=e=>iu(e,JE),eF=e=>iu(e,ZE),tF=e=>iu(e,XE),Gp=e=>iu(e,tA,!0),ru=(e,s,n)=>{const a=WE.exec(e);return a?a[1]?s(a[1]):n(a[2]):!1},iu=(e,s,n=!1)=>{const a=KE.exec(e);return a?a[1]?s(a[1]):n:!1},JE=e=>e==="position"||e==="percentage",XE=e=>e==="image"||e==="url",ZE=e=>e==="length"||e==="size"||e==="bg-size",eA=e=>e==="length",sF=e=>e==="number",aF=e=>e==="family-name",tA=e=>e==="shadow",nF=()=>{const e=Ua("color"),s=Ua("font"),n=Ua("text"),a=Ua("font-weight"),r=Ua("tracking"),l=Ua("leading"),c=Ua("breakpoint"),u=Ua("container"),m=Ua("spacing"),p=Ua("radius"),f=Ua("shadow"),g=Ua("inset-shadow"),v=Ua("text-shadow"),w=Ua("drop-shadow"),N=Ua("blur"),j=Ua("perspective"),S=Ua("aspect"),E=Ua("ease"),T=Ua("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...P(),ht,ut],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],F=()=>[ht,ut,m],z=()=>[id,"full","auto",...F()],J=()=>[Vo,"none","subgrid",ht,ut],K=()=>["auto",{span:["full",Vo,ht,ut]},Vo,ht,ut],X=()=>[Vo,"auto",ht,ut],ce=()=>["auto","min","max","fr",ht,ut],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...F()],B=()=>[id,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],Y=()=>[e,ht,ut],de=()=>[...P(),AC,EC,{position:[ht,ut]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",eF,JL,{size:[ht,ut]}],V=()=>[Vy,hh,ql],W=()=>["","none","full",p,ht,ut],$=()=>["",Yt,hh,ql],me=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[Yt,Vy,AC,EC],be=()=>["","none",N,ht,ut],Ee=()=>["none",Yt,ht,ut],H=()=>["none",Yt,ht,ut],fe=()=>[Yt,ht,ut],je=()=>[id,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vi],breakpoint:[Vi],color:[HL],container:[Vi],"drop-shadow":[Vi],ease:["in","out","in-out"],font:[QL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vi],shadow:[Vi],spacing:["px",Yt],text:[Vi],"text-shadow":[Vi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",id,ut,ht,S]}],container:["container"],columns:[{columns:[Yt,ut,ht,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Vo,"auto",ht,ut]}],basis:[{basis:[id,"full","auto",u,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Yt,id,"auto","initial","none",ut]}],grow:[{grow:["",Yt,ht,ut]}],shrink:[{shrink:["",Yt,ht,ut]}],order:[{order:[Vo,"first","last","none",ht,ut]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ce()}],"auto-rows":[{"auto-rows":ce()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[u,"screen",...B()]}],"min-w":[{"min-w":[u,"screen","none",...B()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,hh,ql]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ht,By]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vy,ut]}],"font-family":[{font:[ZL,ut,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ht,ut]}],"line-clamp":[{"line-clamp":[Yt,"none",ht,By]}],leading:[{leading:[l,...F()]}],"list-image":[{"list-image":["none",ht,ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ht,ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Yt,"from-font","auto",ht,ql]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Yt,"auto",ht,ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht,ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht,ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vo,ht,ut],radial:["",ht,ut],conic:[Vo,ht,ut]},tF,XL]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Yt,ht,ut]}],"outline-w":[{outline:["",Yt,hh,ql]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",f,Gp,$p]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",g,Gp,$p]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Yt,ql]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",v,Gp,$p]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Yt,ht,ut]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[ht,ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ht,ut]}],filter:[{filter:["","none",ht,ut]}],blur:[{blur:be()}],brightness:[{brightness:[Yt,ht,ut]}],contrast:[{contrast:[Yt,ht,ut]}],"drop-shadow":[{"drop-shadow":["","none",w,Gp,$p]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Yt,ht,ut]}],"hue-rotate":[{"hue-rotate":[Yt,ht,ut]}],invert:[{invert:["",Yt,ht,ut]}],saturate:[{saturate:[Yt,ht,ut]}],sepia:[{sepia:["",Yt,ht,ut]}],"backdrop-filter":[{"backdrop-filter":["","none",ht,ut]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[Yt,ht,ut]}],"backdrop-contrast":[{"backdrop-contrast":[Yt,ht,ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Yt,ht,ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Yt,ht,ut]}],"backdrop-invert":[{"backdrop-invert":["",Yt,ht,ut]}],"backdrop-opacity":[{"backdrop-opacity":[Yt,ht,ut]}],"backdrop-saturate":[{"backdrop-saturate":[Yt,ht,ut]}],"backdrop-sepia":[{"backdrop-sepia":["",Yt,ht,ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ht,ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Yt,"initial",ht,ut]}],ease:[{ease:["linear","initial",E,ht,ut]}],delay:[{delay:[Yt,ht,ut]}],animate:[{animate:["none",T,ht,ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ht,ut]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[ht,ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht,ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht,ut]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Yt,hh,ql,By]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},rF=UL(nF);function Xe(...e){return rF(_E(e))}const iF=p6,sA=x.forwardRef(({className:e,...s},n)=>t.jsx(AE,{ref:n,className:Xe("fixed z-[100] flex flex-col p-4 pointer-events-none gap-2 w-full","top-0 left-0 right-0 items-center md:items-end md:top-auto md:bottom-0 md:right-0 md:left-auto",e),...s}));sA.displayName=AE.displayName;const oF=og("group pointer-events-auto relative flex w-[calc(100vw-2rem)] sm:w-full sm:max-w-[400px] items-start gap-3 overflow-hidden rounded-lg border bg-background/95 backdrop-blur-sm p-4 shadow-lg transition-all data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:slide-in-from-top-full data-[state=closed]:slide-out-to-top-full md:data-[state=open]:slide-in-from-bottom-full md:data-[state=closed]:slide-out-to-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"group border-red-300 bg-background text-red-900 dark:text-red-200 border-l-4 border-l-red-500",success:"group border-green-300 bg-background text-green-900 dark:text-green-200 border-l-4 border-l-green-500"}},defaultVariants:{variant:"default"}}),aA=x.forwardRef(({className:e,variant:s,...n},a)=>t.jsx(DE,{ref:a,className:Xe(oF({variant:s}),e),...n}));aA.displayName=DE.displayName;const lF=x.forwardRef(({className:e,...s},n)=>t.jsx(RE,{ref:n,className:Xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...s}));lF.displayName=RE.displayName;const nA=x.forwardRef(({className:e,...s},n)=>t.jsx(OE,{ref:n,className:Xe("absolute right-1 top-1 rounded-md p-2 text-foreground/50 opacity-70 transition-opacity hover:text-foreground hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-1 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...s,children:t.jsx(Ws,{className:"h-4 w-4"})}));nA.displayName=OE.displayName;const rA=x.forwardRef(({className:e,...s},n)=>t.jsx(IE,{ref:n,className:Xe("text-sm font-semibold [&+div]:text-xs",e),...s}));rA.displayName=IE.displayName;const iA=x.forwardRef(({className:e,...s},n)=>t.jsx(PE,{ref:n,className:Xe("text-sm opacity-90",e),...s}));iA.displayName=PE.displayName;function cF(){const{toasts:e}=da();return t.jsxs(iF,{children:[e.map(function({id:s,title:n,description:a,action:r,...l}){const c=l==null?void 0:l.variant,u=c==="success"?Ca:c==="destructive"?is:y_,m=c==="success"?"text-green-600":c==="destructive"?"text-red-600":"text-blue-600";return t.jsxs(aA,{...l,children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 shrink-0",children:t.jsx(u,{className:`h-5 w-5 ${m}`})}),t.jsxs("div",{className:"grid gap-1",children:[n&&t.jsx(rA,{className:"text-base font-semibold",children:n}),a&&t.jsx(iA,{className:"text-sm opacity-90",children:a})]})]}),r,t.jsx(nA,{})]},s)}),t.jsx(sA,{})]})}const oA="http://localhost:4000";function dF(e){return`https://${e}-hospitality-management-platform-cr8i.encr.app`}const uF=typeof globalThis=="object"&&"window"in globalThis;class ou{constructor(s,n){Ve(this,"analytics");Ve(this,"auth");Ve(this,"branding");Ve(this,"cache");Ve(this,"communication");Ve(this,"config");Ve(this,"cron");Ve(this,"dashboard");Ve(this,"database");Ve(this,"documents");Ve(this,"finance");Ve(this,"guest_checkin");Ve(this,"monitoring");Ve(this,"orgs");Ve(this,"properties");Ve(this,"realtime");Ve(this,"reports");Ve(this,"seed");Ve(this,"cache_service");Ve(this,"events_service");Ve(this,"finance_service");Ve(this,"reports_service");Ve(this,"staff");Ve(this,"tasks");Ve(this,"telemetry");Ve(this,"uploads");Ve(this,"users");Ve(this,"validation");Ve(this,"options");Ve(this,"target");this.target=s,this.options=n??{};const a=new xF(this.target,this.options);this.analytics=new sv.ServiceClient(a),this.auth=new av.ServiceClient(a),this.branding=new nv.ServiceClient(a),this.cache=new rv.ServiceClient(a),this.communication=new iv.ServiceClient(a),this.config=new ov.ServiceClient(a),this.cron=new lv.ServiceClient(a),this.dashboard=new cv.ServiceClient(a),this.database=new dv.ServiceClient(a),this.documents=new uv.ServiceClient(a),this.finance=new hv.ServiceClient(a),this.guest_checkin=new mv.ServiceClient(a),this.monitoring=new pv.ServiceClient(a),this.orgs=new fv.ServiceClient(a),this.properties=new gv.ServiceClient(a),this.realtime=new xv.ServiceClient(a),this.reports=new yv.ServiceClient(a),this.seed=new vv.ServiceClient(a),this.cache_service=new bv.ServiceClient(a),this.events_service=new wv.ServiceClient(a),this.finance_service=new jv.ServiceClient(a),this.reports_service=new Nv.ServiceClient(a),this.staff=new Sv.ServiceClient(a),this.tasks=new Cv.ServiceClient(a),this.telemetry=new Tv.ServiceClient(a),this.uploads=new kv.ServiceClient(a),this.users=new Ev.ServiceClient(a),this.validation=new Av.ServiceClient(a)}with(s){return new ou(this.target,{...this.options,...s})}}var sv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.overview=this.overview.bind(this),this.overviewV1=this.overviewV1.bind(this),this.subscribeAnalyticsRealtime=this.subscribeAnalyticsRealtime.bind(this),this.subscribeAnalyticsRealtimeV1=this.subscribeAnalyticsRealtimeV1.bind(this)}async overview(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),regionId:a.regionId===void 0?void 0:String(a.regionId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/analytics/overview",void 0,{query:r})).json()}async overviewV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),regionId:a.regionId===void 0?void 0:String(a.regionId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/analytics/overview",void 0,{query:r})).json()}async subscribeAnalyticsRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/analytics/realtime/subscribe",void 0,{query:r})).json()}async subscribeAnalyticsRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/analytics/realtime/subscribe",void 0,{query:r})).json()}}e.ServiceClient=s})(sv||(sv={}));var av;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.forgotPassword=this.forgotPassword.bind(this),this.forgotPasswordV1=this.forgotPasswordV1.bind(this),this.login=this.login.bind(this),this.loginV1=this.loginV1.bind(this),this.logout=this.logout.bind(this),this.logoutV1=this.logoutV1.bind(this),this.me=this.me.bind(this),this.meV1=this.meV1.bind(this),this.refresh=this.refresh.bind(this),this.refreshV1=this.refreshV1.bind(this),this.resetPassword=this.resetPassword.bind(this),this.resetPasswordV1=this.resetPasswordV1.bind(this),this.signup=this.signup.bind(this),this.signupV1=this.signupV1.bind(this)}async forgotPassword(a){return await(await this.baseClient.callTypedAPI("POST","/auth/forgot-password",JSON.stringify(a))).json()}async forgotPasswordV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/forgot-password",JSON.stringify(a))).json()}async login(a){return await(await this.baseClient.callTypedAPI("POST","/auth/login",JSON.stringify(a))).json()}async loginV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/login",JSON.stringify(a))).json()}async logout(a){await this.baseClient.callTypedAPI("POST","/auth/logout",JSON.stringify(a))}async logoutV1(a){await this.baseClient.callTypedAPI("POST","/v1/auth/logout",JSON.stringify(a))}async me(){return await(await this.baseClient.callTypedAPI("GET","/auth/me")).json()}async meV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/auth/me")).json()}async refresh(a){return await(await this.baseClient.callTypedAPI("POST","/auth/refresh",JSON.stringify(a))).json()}async refreshV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/refresh",JSON.stringify(a))).json()}async resetPassword(a){return await(await this.baseClient.callTypedAPI("POST","/auth/reset-password",JSON.stringify(a))).json()}async resetPasswordV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/reset-password",JSON.stringify(a))).json()}async signup(a){return await(await this.baseClient.callTypedAPI("POST","/auth/signup",JSON.stringify(a))).json()}async signupV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/signup",JSON.stringify(a))).json()}}e.ServiceClient=s})(av||(av={}));var nv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.cleanupCorruptedTheme=this.cleanupCorruptedTheme.bind(this),this.cleanupCorruptedThemeV1=this.cleanupCorruptedThemeV1.bind(this),this.getTheme=this.getTheme.bind(this),this.getThemeV1=this.getThemeV1.bind(this),this.serveLogo=this.serveLogo.bind(this),this.serveLogoV1=this.serveLogoV1.bind(this),this.subscribeBrandingRealtime=this.subscribeBrandingRealtime.bind(this),this.subscribeBrandingRealtimeV1=this.subscribeBrandingRealtimeV1.bind(this),this.updateTheme=this.updateTheme.bind(this),this.updateThemeV1=this.updateThemeV1.bind(this),this.uploadLogo=this.uploadLogo.bind(this),this.uploadLogoV1=this.uploadLogoV1.bind(this)}async cleanupCorruptedTheme(){return await(await this.baseClient.callTypedAPI("POST","/branding/cleanup-theme")).json()}async cleanupCorruptedThemeV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/branding/cleanup-theme")).json()}async getTheme(){return await(await this.baseClient.callTypedAPI("GET","/branding/theme")).json()}async getThemeV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/branding/theme")).json()}async serveLogo(a,r){return await(await this.baseClient.callTypedAPI("GET",`/branding/logo/${encodeURIComponent(a)}/${encodeURIComponent(r)}`)).json()}async serveLogoV1(a,r){return await(await this.baseClient.callTypedAPI("GET",`/v1/branding/logo/${encodeURIComponent(a)}/${encodeURIComponent(r)}`)).json()}async subscribeBrandingRealtime(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/branding/realtime/subscribe",void 0,{query:r})).json()}async subscribeBrandingRealtimeV1(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/branding/realtime/subscribe",void 0,{query:r})).json()}async updateTheme(a){return await(await this.baseClient.callTypedAPI("PATCH","/branding/theme",JSON.stringify(a))).json()}async updateThemeV1(a){return await(await this.baseClient.callTypedAPI("PATCH","/v1/branding/theme",JSON.stringify(a))).json()}async uploadLogo(a){return await(await this.baseClient.callTypedAPI("POST","/branding/logo",JSON.stringify(a))).json()}async uploadLogoV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/branding/logo",JSON.stringify(a))).json()}}e.ServiceClient=s})(nv||(nv={}));var rv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.collectCacheWarmingStats=this.collectCacheWarmingStats.bind(this),this.collectCacheWarmingStatsV1=this.collectCacheWarmingStatsV1.bind(this),this.getCacheMetrics=this.getCacheMetrics.bind(this),this.getCacheMetricsV1=this.getCacheMetricsV1.bind(this),this.getCacheStatus=this.getCacheStatus.bind(this),this.getCacheStatusV1=this.getCacheStatusV1.bind(this),this.warmHighTrafficCache=this.warmHighTrafficCache.bind(this),this.warmHighTrafficCacheV1=this.warmHighTrafficCacheV1.bind(this),this.warmSpecificOrganizationCache=this.warmSpecificOrganizationCache.bind(this),this.warmSpecificOrganizationCacheV1=this.warmSpecificOrganizationCacheV1.bind(this)}async collectCacheWarmingStats(){await this.baseClient.callTypedAPI("POST","/cache/collect-stats")}async collectCacheWarmingStatsV1(){await this.baseClient.callTypedAPI("POST","/v1/system/cache/collect-stats")}async getCacheMetrics(){return await(await this.baseClient.callTypedAPI("GET","/cache/metrics")).json()}async getCacheMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/cache/metrics")).json()}async getCacheStatus(){await this.baseClient.callTypedAPI("GET","/cache/status")}async getCacheStatusV1(){await this.baseClient.callTypedAPI("GET","/v1/system/cache/status")}async warmHighTrafficCache(){await this.baseClient.callTypedAPI("POST","/cache/warm-high-traffic")}async warmHighTrafficCacheV1(){await this.baseClient.callTypedAPI("POST","/v1/system/cache/warm-high-traffic")}async warmSpecificOrganizationCache(){await this.baseClient.callTypedAPI("POST","/cache/warm-specific-org")}async warmSpecificOrganizationCacheV1(){await this.baseClient.callTypedAPI("POST","/v1/system/cache/warm-specific-org")}}e.ServiceClient=s})(rv||(rv={}));var iv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.getAllServicesHealth=this.getAllServicesHealth.bind(this),this.getAllServicesHealthV1=this.getAllServicesHealthV1.bind(this),this.getGatewayHealth=this.getGatewayHealth.bind(this),this.getGatewayHealthV1=this.getGatewayHealthV1.bind(this),this.getServiceHealth=this.getServiceHealth.bind(this),this.getServiceHealthV1=this.getServiceHealthV1.bind(this),this.resetCircuitBreaker=this.resetCircuitBreaker.bind(this),this.resetCircuitBreakerV1=this.resetCircuitBreakerV1.bind(this),this.routeRequest=this.routeRequest.bind(this),this.routeRequestV1=this.routeRequestV1.bind(this)}async getAllServicesHealth(){return await(await this.baseClient.callTypedAPI("GET","/gateway/health")).json()}async getAllServicesHealthV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/gateway/health")).json()}async getGatewayHealth(){return await(await this.baseClient.callTypedAPI("GET","/gateway/status")).json()}async getGatewayHealthV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/gateway/status")).json()}async getServiceHealth(a){return await(await this.baseClient.callTypedAPI("GET",`/gateway/health/${encodeURIComponent(a)}`)).json()}async getServiceHealthV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/system/gateway/health/${encodeURIComponent(a)}`)).json()}async resetCircuitBreaker(a){return await(await this.baseClient.callTypedAPI("POST","/gateway/reset-circuit-breaker",JSON.stringify(a))).json()}async resetCircuitBreakerV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/gateway/reset-circuit-breaker",JSON.stringify(a))).json()}async routeRequest(a){return await(await this.baseClient.callTypedAPI("POST","/gateway/route",JSON.stringify(a))).json()}async routeRequestV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/gateway/route",JSON.stringify(a))).json()}}e.ServiceClient=s})(iv||(iv={}));var ov;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.healthCheck=this.healthCheck.bind(this),this.healthCheckV1=this.healthCheckV1.bind(this)}async healthCheck(){await this.baseClient.callTypedAPI("GET","/config/health")}async healthCheckV1(){await this.baseClient.callTypedAPI("GET","/v1/system/config/health")}}e.ServiceClient=s})(ov||(ov={}));var lv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.cleanupOrphanedDocuments=this.cleanupOrphanedDocuments.bind(this),this.cleanupOrphanedDocumentsV1=this.cleanupOrphanedDocumentsV1.bind(this),this.getCleanupStats=this.getCleanupStats.bind(this),this.getCleanupStatsV1=this.getCleanupStatsV1.bind(this)}async cleanupOrphanedDocuments(){return await(await this.baseClient.callTypedAPI("POST","/cron/cleanup-orphaned-documents")).json()}async cleanupOrphanedDocumentsV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/system/cron/cleanup-orphaned-documents")).json()}async getCleanupStats(){return await(await this.baseClient.callTypedAPI("GET","/cron/cleanup-stats")).json()}async getCleanupStatsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/cron/cleanup-stats")).json()}}e.ServiceClient=s})(lv||(lv={}));var cv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.subscribeDashboardRealtime=this.subscribeDashboardRealtime.bind(this),this.subscribeDashboardRealtimeV1=this.subscribeDashboardRealtimeV1.bind(this)}async subscribeDashboardRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/dashboard/realtime/subscribe",void 0,{query:r})).json()}async subscribeDashboardRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/dashboard/realtime/subscribe",void 0,{query:r})).json()}}e.ServiceClient=s})(cv||(cv={}));var dv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.getConnectionPoolStats=this.getConnectionPoolStats.bind(this),this.getConnectionPoolStatsV1=this.getConnectionPoolStatsV1.bind(this),this.getReplicaLag=this.getReplicaLag.bind(this),this.getReplicaLagV1=this.getReplicaLagV1.bind(this),this.getReplicaStatus=this.getReplicaStatus.bind(this),this.getReplicaStatusV1=this.getReplicaStatusV1.bind(this),this.replicaHealthCheck=this.replicaHealthCheck.bind(this),this.replicaHealthCheckV1=this.replicaHealthCheckV1.bind(this)}async getConnectionPoolStats(){await this.baseClient.callTypedAPI("GET","/database/connection-pool/stats")}async getConnectionPoolStatsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/database/connection-pool/stats")}async getReplicaLag(){await this.baseClient.callTypedAPI("GET","/database/replicas/lag")}async getReplicaLagV1(){await this.baseClient.callTypedAPI("GET","/v1/system/database/replicas/lag")}async getReplicaStatus(){await this.baseClient.callTypedAPI("GET","/database/replicas/status")}async getReplicaStatusV1(){await this.baseClient.callTypedAPI("GET","/v1/system/database/replicas/status")}async replicaHealthCheck(){await this.baseClient.callTypedAPI("GET","/database/replicas/health")}async replicaHealthCheckV1(){await this.baseClient.callTypedAPI("GET","/v1/system/database/replicas/health")}}e.ServiceClient=s})(dv||(dv={}));var uv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.createExport=this.createExport.bind(this),this.createExportV1=this.createExportV1.bind(this),this.deleteExport=this.deleteExport.bind(this),this.deleteExportV1=this.deleteExportV1.bind(this),this.downloadExport=this.downloadExport.bind(this),this.downloadExportV1=this.downloadExportV1.bind(this),this.getExportStatus=this.getExportStatus.bind(this),this.getExportStatusV1=this.getExportStatusV1.bind(this),this.listExports=this.listExports.bind(this),this.listExportsV1=this.listExportsV1.bind(this),this.retryExport=this.retryExport.bind(this),this.retryExportV1=this.retryExportV1.bind(this)}async createExport(a){return await(await this.baseClient.callTypedAPI("POST","/documents/exports/create",JSON.stringify(a))).json()}async createExportV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/documents/exports/create",JSON.stringify(a))).json()}async deleteExport(a){return await(await this.baseClient.callTypedAPI("DELETE",`/documents/exports/${encodeURIComponent(a)}`)).json()}async deleteExportV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/documents/exports/${encodeURIComponent(a)}`)).json()}async downloadExport(a){return await(await this.baseClient.callTypedAPI("GET",`/documents/exports/${encodeURIComponent(a)}/download`)).json()}async downloadExportV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/documents/exports/${encodeURIComponent(a)}/download`)).json()}async getExportStatus(a){return await(await this.baseClient.callTypedAPI("GET",`/documents/exports/${encodeURIComponent(a)}/status`)).json()}async getExportStatusV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/documents/exports/${encodeURIComponent(a)}/status`)).json()}async listExports(a){const r=De({exportType:a.exportType===void 0?void 0:String(a.exportType),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/documents/exports",void 0,{query:r})).json()}async listExportsV1(a){const r=De({exportType:a.exportType===void 0?void 0:String(a.exportType),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/documents/exports",void 0,{query:r})).json()}async retryExport(a){return await(await this.baseClient.callTypedAPI("POST",`/documents/exports/${encodeURIComponent(a)}/retry`)).json()}async retryExportV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/documents/exports/${encodeURIComponent(a)}/retry`)).json()}}e.ServiceClient=s})(uv||(uv={}));var hv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.addExpense=this.addExpense.bind(this),this.addExpenseV1=this.addExpenseV1.bind(this),this.addMissingColumns=this.addMissingColumns.bind(this),this.addPerformanceIndexes=this.addPerformanceIndexes.bind(this),this.addReceiptFileIdColumns=this.addReceiptFileIdColumns.bind(this),this.addRevenue=this.addRevenue.bind(this),this.addRevenueMinimal=this.addRevenueMinimal.bind(this),this.addRevenueV1=this.addRevenueV1.bind(this),this.applyAllMigrationsEndpoint=this.applyAllMigrationsEndpoint.bind(this),this.applyMigrationEndpoint=this.applyMigrationEndpoint.bind(this),this.approveExpense=this.approveExpense.bind(this),this.approveExpenseById=this.approveExpenseById.bind(this),this.approveExpenseByIdV1=this.approveExpenseByIdV1.bind(this),this.approveExpenseV1=this.approveExpenseV1.bind(this),this.approveRevenue=this.approveRevenue.bind(this),this.approveRevenueById=this.approveRevenueById.bind(this),this.approveRevenueByIdV1=this.approveRevenueByIdV1.bind(this),this.approveRevenueV1=this.approveRevenueV1.bind(this),this.bulkApproveTransactions=this.bulkApproveTransactions.bind(this),this.bulkApproveTransactionsV1=this.bulkApproveTransactionsV1.bind(this),this.checkDailyApproval=this.checkDailyApproval.bind(this),this.checkDailyApprovalV1=this.checkDailyApprovalV1.bind(this),this.checkDailyApprovalsSchema=this.checkDailyApprovalsSchema.bind(this),this.checkDbSchemaDirect=this.checkDbSchemaDirect.bind(this),this.checkDbStatus=this.checkDbStatus.bind(this),this.checkExpenseSchema=this.checkExpenseSchema.bind(this),this.checkNotifications=this.checkNotifications.bind(this),this.checkNotificationsV1=this.checkNotificationsV1.bind(this),this.checkPaymentColumns=this.checkPaymentColumns.bind(this),this.checkSchema=this.checkSchema.bind(this),this.checkSchemaComprehensive=this.checkSchemaComprehensive.bind(this),this.clearResolvedAlertsEndpoint=this.clearResolvedAlertsEndpoint.bind(this),this.dbHealthCheck=this.dbHealthCheck.bind(this),this.debugDailyApproval=this.debugDailyApproval.bind(this),this.debugTransactionStatus=this.debugTransactionStatus.bind(this),this.deleteExpense=this.deleteExpense.bind(this),this.deleteExpenseV1=this.deleteExpenseV1.bind(this),this.deleteRevenue=this.deleteRevenue.bind(this),this.deleteRevenueV1=this.deleteRevenueV1.bind(this),this.ensureDailyApprovalsTable=this.ensureDailyApprovalsTable.bind(this),this.ensureNotificationsTable=this.ensureNotificationsTable.bind(this),this.ensureSchema=this.ensureSchema.bind(this),this.fixDailyApprovalsTable=this.fixDailyApprovalsTable.bind(this),this.fixMigrationIssues=this.fixMigrationIssues.bind(this),this.fixSchema=this.fixSchema.bind(this),this.forceInitDb=this.forceInitDb.bind(this),this.getAlertsEndpoint=this.getAlertsEndpoint.bind(this),this.getBankAccounts=this.getBankAccounts.bind(this),this.getBankAccountsV1=this.getBankAccountsV1.bind(this),this.getDailyApprovalStats=this.getDailyApprovalStats.bind(this),this.getDailyApprovalStatsV1=this.getDailyApprovalStatsV1.bind(this),this.getDailyApprovalSummary=this.getDailyApprovalSummary.bind(this),this.getDailyApprovalSummaryV1=this.getDailyApprovalSummaryV1.bind(this),this.getEventHistory=this.getEventHistory.bind(this),this.getEventHistoryV1=this.getEventHistoryV1.bind(this),this.getEventMetrics=this.getEventMetrics.bind(this),this.getEventMetricsV1=this.getEventMetricsV1.bind(this),this.getEventMonitoring=this.getEventMonitoring.bind(this),this.getEventMonitoringV1=this.getEventMonitoringV1.bind(this),this.getEventValidationHealth=this.getEventValidationHealth.bind(this),this.getEventValidationHealthV1=this.getEventValidationHealthV1.bind(this),this.getExpenseById=this.getExpenseById.bind(this),this.getExpenseByIdV1=this.getExpenseByIdV1.bind(this),this.getFinanceRealtimeMetrics=this.getFinanceRealtimeMetrics.bind(this),this.getFinanceRealtimeMetricsV1=this.getFinanceRealtimeMetricsV1.bind(this),this.getFinancialSummary=this.getFinancialSummary.bind(this),this.getFinancialSummaryV1=this.getFinancialSummaryV1.bind(this),this.getMigrationStatusEndpoint=this.getMigrationStatusEndpoint.bind(this),this.getPendingApprovals=this.getPendingApprovals.bind(this),this.getPendingApprovalsV1=this.getPendingApprovalsV1.bind(this),this.getRevenueById=this.getRevenueById.bind(this),this.getRevenueByIdV1=this.getRevenueByIdV1.bind(this),this.getSchemaStatus=this.getSchemaStatus.bind(this),this.getTodayPendingTransactions=this.getTodayPendingTransactions.bind(this),this.getTodayPendingTransactionsV1=this.getTodayPendingTransactionsV1.bind(this),this.getValidEventTypes=this.getValidEventTypes.bind(this),this.getValidEventTypesV1=this.getValidEventTypesV1.bind(this),this.grantDailyApproval=this.grantDailyApproval.bind(this),this.grantDailyApprovalV1=this.grantDailyApprovalV1.bind(this),this.healthCheckEndpoint=this.healthCheckEndpoint.bind(this),this.initDb=this.initDb.bind(this),this.listExpenses=this.listExpenses.bind(this),this.listExpensesV1=this.listExpensesV1.bind(this),this.listRevenues=this.listRevenues.bind(this),this.listRevenuesV1=this.listRevenuesV1.bind(this),this.markNotificationsRead=this.markNotificationsRead.bind(this),this.markNotificationsReadV1=this.markNotificationsReadV1.bind(this),this.performanceReportEndpoint=this.performanceReportEndpoint.bind(this),this.performanceTest=this.performanceTest.bind(this),this.queryPerformanceTest=this.queryPerformanceTest.bind(this),this.quickHealthCheckEndpoint=this.quickHealthCheckEndpoint.bind(this),this.quickSetup=this.quickSetup.bind(this),this.reconcileTransaction=this.reconcileTransaction.bind(this),this.reconcileTransactionV1=this.reconcileTransactionV1.bind(this),this.resetApprovalStatus=this.resetApprovalStatus.bind(this),this.resetApprovalStatusV1=this.resetApprovalStatusV1.bind(this),this.resolveAlertEndpoint=this.resolveAlertEndpoint.bind(this),this.rollbackMigrationEndpoint=this.rollbackMigrationEndpoint.bind(this),this.runMigration=this.runMigration.bind(this),this.runMigration13=this.runMigration13.bind(this),this.runMigrationApi=this.runMigrationApi.bind(this),this.runMigrationNoAuth=this.runMigrationNoAuth.bind(this),this.runPaymentMigration=this.runPaymentMigration.bind(this),this.setupDatabase=this.setupDatabase.bind(this),this.simpleTest=this.simpleTest.bind(this),this.subscribeFinanceEvents=this.subscribeFinanceEvents.bind(this),this.subscribeFinanceEventsV1=this.subscribeFinanceEventsV1.bind(this),this.subscribeFinanceRealtime=this.subscribeFinanceRealtime.bind(this),this.subscribeFinanceRealtimeV1=this.subscribeFinanceRealtimeV1.bind(this),this.syncBankTransactions=this.syncBankTransactions.bind(this),this.syncBankTransactionsV1=this.syncBankTransactionsV1.bind(this),this.testAddExpense=this.testAddExpense.bind(this),this.testAddRevenue=this.testAddRevenue.bind(this),this.testDatabase=this.testDatabase.bind(this),this.testDbSchema=this.testDbSchema.bind(this),this.testDbTables=this.testDbTables.bind(this),this.testMinimalAdd=this.testMinimalAdd.bind(this),this.testPaymentMode=this.testPaymentMode.bind(this),this.testSimple=this.testSimple.bind(this),this.testSimpleRevenue=this.testSimpleRevenue.bind(this),this.updateExpense=this.updateExpense.bind(this),this.updateExpenseV1=this.updateExpenseV1.bind(this),this.updateRevenue=this.updateRevenue.bind(this),this.updateRevenueV1=this.updateRevenueV1.bind(this),this.validateMigrationsEndpoint=this.validateMigrationsEndpoint.bind(this),this.verySimpleTest=this.verySimpleTest.bind(this)}async addExpense(a){return await(await this.baseClient.callTypedAPI("POST","/finance/expenses",JSON.stringify(a))).json()}async addExpenseV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/expenses",JSON.stringify(a))).json()}async addMissingColumns(){return await(await this.baseClient.callTypedAPI("POST","/finance/add-missing-columns")).json()}async addPerformanceIndexes(){return await(await this.baseClient.callTypedAPI("POST","/finance/add-performance-indexes")).json()}async addReceiptFileIdColumns(){return await(await this.baseClient.callTypedAPI("POST","/finance/add-receipt-file-id-columns")).json()}async addRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/revenues",JSON.stringify(a))).json()}async addRevenueMinimal(a){return await(await this.baseClient.callTypedAPI("POST","/finance/revenues-minimal",JSON.stringify(a))).json()}async addRevenueV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/revenues",JSON.stringify(a))).json()}async applyAllMigrationsEndpoint(){return await(await this.baseClient.callTypedAPI("POST","/finance/apply-migrations")).json()}async applyMigrationEndpoint(a){return await(await this.baseClient.callTypedAPI("POST",`/finance/apply-migration/${encodeURIComponent(a)}`)).json()}async approveExpense(a){return await(await this.baseClient.callTypedAPI("POST","/finance/expenses/approve",JSON.stringify(a))).json()}async approveExpenseById(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/finance/expenses/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveExpenseByIdV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/finance/expenses/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveExpenseV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/expenses/approve",JSON.stringify(a))).json()}async approveRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/revenues/approve",JSON.stringify(a))).json()}async approveRevenueById(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/finance/revenues/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveRevenueByIdV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/finance/revenues/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveRevenueV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/revenues/approve",JSON.stringify(a))).json()}async bulkApproveTransactions(a){return await(await this.baseClient.callTypedAPI("POST","/finance/bulk-approve",JSON.stringify(a))).json()}async bulkApproveTransactionsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/bulk-approve",JSON.stringify(a))).json()}async checkDailyApproval(){return await(await this.baseClient.callTypedAPI("POST","/finance/check-daily-approval")).json()}async checkDailyApprovalV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/check-daily-approval")).json()}async checkDailyApprovalsSchema(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-daily-approvals-schema")).json()}async checkDbSchemaDirect(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-db-schema-direct")).json()}async checkDbStatus(){await this.baseClient.callTypedAPI("GET","/finance/check-db-status")}async checkExpenseSchema(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-expense-schema")).json()}async checkNotifications(a){var c;const r=De({lastChecked:a.lastChecked===void 0?void 0:String(a.lastChecked),limit:a.limit===void 0?void 0:String(a.limit),types:(c=a.types)==null?void 0:c.map(u=>u)});return await(await this.baseClient.callTypedAPI("GET","/finance/notifications",void 0,{query:r})).json()}async checkNotificationsV1(a){var c;const r=De({lastChecked:a.lastChecked===void 0?void 0:String(a.lastChecked),limit:a.limit===void 0?void 0:String(a.limit),types:(c=a.types)==null?void 0:c.map(u=>u)});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/notifications",void 0,{query:r})).json()}async checkPaymentColumns(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-payment-columns")).json()}async checkSchema(){await this.baseClient.callTypedAPI("GET","/finance/check-schema")}async checkSchemaComprehensive(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-schema-comprehensive")).json()}async clearResolvedAlertsEndpoint(){return await(await this.baseClient.callTypedAPI("POST","/finance/alerts/clear-resolved")).json()}async dbHealthCheck(){return await(await this.baseClient.callTypedAPI("GET","/finance/db-health-check")).json()}async debugDailyApproval(){return await(await this.baseClient.callTypedAPI("POST","/finance/debug-daily-approval")).json()}async debugTransactionStatus(){return await(await this.baseClient.callTypedAPI("POST","/finance/debug-transaction-status")).json()}async deleteExpense(a){return await(await this.baseClient.callTypedAPI("DELETE",`/finance/expenses/${encodeURIComponent(a)}`)).json()}async deleteExpenseV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/finance/expenses/${encodeURIComponent(a)}`)).json()}async deleteRevenue(a){return await(await this.baseClient.callTypedAPI("DELETE",`/finance/revenues/${encodeURIComponent(a)}`)).json()}async deleteRevenueV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/finance/revenues/${encodeURIComponent(a)}`)).json()}async ensureDailyApprovalsTable(){await this.baseClient.callTypedAPI("POST","/finance/ensure-daily-approvals-table")}async ensureNotificationsTable(){await this.baseClient.callTypedAPI("POST","/finance/ensure-notifications-table")}async ensureSchema(){await this.baseClient.callTypedAPI("POST","/finance/ensure-schema")}async fixDailyApprovalsTable(){return await(await this.baseClient.callTypedAPI("POST","/finance/fix-daily-approvals-table")).json()}async fixMigrationIssues(a){return await(await this.baseClient.callTypedAPI("POST","/finance/fix-migration-issues",JSON.stringify(a))).json()}async fixSchema(){return await(await this.baseClient.callTypedAPI("POST","/finance/fix-schema")).json()}async forceInitDb(){await this.baseClient.callTypedAPI("POST","/finance/force-init-db")}async getAlertsEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/alerts")).json()}async getBankAccounts(){return await(await this.baseClient.callTypedAPI("GET","/finance/bank-accounts")).json()}async getBankAccountsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/finance/bank-accounts")).json()}async getDailyApprovalStats(a){const r=De({date:a.date});return await(await this.baseClient.callTypedAPI("GET","/finance/daily-approval-stats",void 0,{query:r})).json()}async getDailyApprovalStatsV1(a){const r=De({date:a.date});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/daily-approval-stats",void 0,{query:r})).json()}async getDailyApprovalSummary(a){const r=De({endDate:a.endDate,startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/finance/daily-approval-summary",void 0,{query:r})).json()}async getDailyApprovalSummaryV1(a){const r=De({endDate:a.endDate,startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/daily-approval-summary",void 0,{query:r})).json()}async getEventHistory(a){const r=De({entityId:a.entityId===void 0?void 0:String(a.entityId),entityType:a.entityType,fromDate:a.fromDate,limit:a.limit===void 0?void 0:String(a.limit),toDate:a.toDate});return await(await this.baseClient.callTypedAPI("GET","/finance/events/history",void 0,{query:r})).json()}async getEventHistoryV1(a){const r=De({entityId:a.entityId===void 0?void 0:String(a.entityId),entityType:a.entityType,fromDate:a.fromDate,limit:a.limit===void 0?void 0:String(a.limit),toDate:a.toDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/events/history",void 0,{query:r})).json()}async getEventMetrics(){await this.baseClient.callTypedAPI("GET","/finance/events/metrics")}async getEventMetricsV1(){await this.baseClient.callTypedAPI("GET","/v1/finance/events/metrics")}async getEventMonitoring(){return await(await this.baseClient.callTypedAPI("GET","/finance/events/monitoring")).json()}async getEventMonitoringV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/finance/events/monitoring")).json()}async getEventValidationHealth(){return await(await this.baseClient.callTypedAPI("GET","/finance/events/health")).json()}async getEventValidationHealthV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/finance/events/health")).json()}async getExpenseById(a){return await(await this.baseClient.callTypedAPI("GET",`/finance/expenses/${encodeURIComponent(a)}`)).json()}async getExpenseByIdV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/finance/expenses/${encodeURIComponent(a)}`)).json()}async getFinanceRealtimeMetrics(){return await(await this.baseClient.callTypedAPI("GET","/finance/realtime/metrics")).json()}async getFinanceRealtimeMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/finance/realtime/metrics")).json()}async getFinancialSummary(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/finance/summary",void 0,{query:r})).json()}async getFinancialSummaryV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/summary",void 0,{query:r})).json()}async getMigrationStatusEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/migration-status")).json()}async getPendingApprovals(){return await(await this.baseClient.callTypedAPI("GET","/finance/pending-approvals")).json()}async getPendingApprovalsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/finance/pending-approvals")).json()}async getRevenueById(a){return await(await this.baseClient.callTypedAPI("GET",`/finance/revenues/${encodeURIComponent(a)}`)).json()}async getRevenueByIdV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/finance/revenues/${encodeURIComponent(a)}`)).json()}async getSchemaStatus(){return await(await this.baseClient.callTypedAPI("GET","/finance/schema-status")).json()}async getTodayPendingTransactions(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/finance/today-pending-transactions",void 0,{query:r})).json()}async getTodayPendingTransactionsV1(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/today-pending-transactions",void 0,{query:r})).json()}async getValidEventTypes(){return await(await this.baseClient.callTypedAPI("GET","/finance/events/types")).json()}async getValidEventTypesV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/finance/events/types")).json()}async grantDailyApproval(a){return await(await this.baseClient.callTypedAPI("POST","/finance/grant-daily-approval",JSON.stringify(a))).json()}async grantDailyApprovalV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/grant-daily-approval",JSON.stringify(a))).json()}async healthCheckEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/health-check")).json()}async initDb(){await this.baseClient.callTypedAPI("POST","/finance/init-db")}async listExpenses(a){const r=De({category:a.category,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate,status:a.status});return await(await this.baseClient.callTypedAPI("GET","/finance/expenses",void 0,{query:r})).json()}async listExpensesV1(a){const r=De({category:a.category,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate,status:a.status});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/expenses",void 0,{query:r})).json()}async listRevenues(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),source:a.source,startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/finance/revenues",void 0,{query:r})).json()}async listRevenuesV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),source:a.source,startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/revenues",void 0,{query:r})).json()}async markNotificationsRead(a){return await(await this.baseClient.callTypedAPI("POST","/finance/notifications/mark-read",JSON.stringify(a))).json()}async markNotificationsReadV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/notifications/mark-read",JSON.stringify(a))).json()}async performanceReportEndpoint(a){const r=De({hours:a.hours===void 0?void 0:String(a.hours)});return await(await this.baseClient.callTypedAPI("GET","/finance/performance-report",void 0,{query:r})).json()}async performanceTest(){return await(await this.baseClient.callTypedAPI("GET","/finance/performance-test")).json()}async queryPerformanceTest(){return await(await this.baseClient.callTypedAPI("GET","/finance/query-performance-test")).json()}async quickHealthCheckEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/health-check/quick")).json()}async quickSetup(){await this.baseClient.callTypedAPI("POST","/finance/quick-setup")}async reconcileTransaction(a){return await(await this.baseClient.callTypedAPI("POST","/finance/reconcile-transaction",JSON.stringify(a))).json()}async reconcileTransactionV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/reconcile",JSON.stringify(a))).json()}async resetApprovalStatus(){return await(await this.baseClient.callTypedAPI("POST","/finance/reset-approval-status")).json()}async resetApprovalStatusV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/reset-approval-status")).json()}async resolveAlertEndpoint(a){return await(await this.baseClient.callTypedAPI("POST","/finance/alerts/resolve",JSON.stringify(a))).json()}async rollbackMigrationEndpoint(a){return await(await this.baseClient.callTypedAPI("POST",`/finance/rollback-migration/${encodeURIComponent(a)}`)).json()}async runMigration(){await this.baseClient.callTypedAPI("POST","/finance/run-migration")}async runMigration13(){await this.baseClient.callTypedAPI("POST","/finance/run-migration-13")}async runMigrationApi(){return await(await this.baseClient.callTypedAPI("POST","/finance/run-migration-auth")).json()}async runMigrationNoAuth(){return await(await this.baseClient.callTypedAPI("POST","/finance/run-migration-no-auth")).json()}async runPaymentMigration(){return await(await this.baseClient.callTypedAPI("POST","/finance/run-payment-migration")).json()}async setupDatabase(){await this.baseClient.callTypedAPI("POST","/finance/setup-database")}async simpleTest(){await this.baseClient.callTypedAPI("GET","/finance/simple-test")}async subscribeFinanceEvents(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/finance/events/subscribe",void 0,{query:r})).json()}async subscribeFinanceEventsV1(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/events/subscribe",void 0,{query:r})).json()}async subscribeFinanceRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/finance/realtime/subscribe",void 0,{query:r})).json()}async subscribeFinanceRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/realtime/subscribe",void 0,{query:r})).json()}async syncBankTransactions(a){return await(await this.baseClient.callTypedAPI("POST","/finance/sync-bank-transactions",JSON.stringify(a))).json()}async syncBankTransactionsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/bank-sync",JSON.stringify(a))).json()}async testAddExpense(a){return await(await this.baseClient.callTypedAPI("POST","/finance/test-add-expense",JSON.stringify(a))).json()}async testAddRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/test-add-revenue",JSON.stringify(a))).json()}async testDatabase(){await this.baseClient.callTypedAPI("GET","/finance/test-database")}async testDbSchema(){return await(await this.baseClient.callTypedAPI("GET","/finance/test-db-schema")).json()}async testDbTables(){return await(await this.baseClient.callTypedAPI("GET","/finance/test-db-tables")).json()}async testMinimalAdd(a){return await(await this.baseClient.callTypedAPI("POST","/finance/test-minimal-add",JSON.stringify(a))).json()}async testPaymentMode(){return await(await this.baseClient.callTypedAPI("GET","/finance/test-payment-mode")).json()}async testSimple(){await this.baseClient.callTypedAPI("GET","/finance/test-simple")}async testSimpleRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/test-simple-revenue",JSON.stringify(a))).json()}async updateExpense(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/finance/expenses/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateExpenseV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/finance/expenses/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateRevenue(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/finance/revenues/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateRevenueV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/finance/revenues/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async validateMigrationsEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/validate-migrations")).json()}async verySimpleTest(){await this.baseClient.callTypedAPI("GET","/finance/very-simple-test")}}e.ServiceClient=s})(hv||(hv={}));var mv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.checkOutGuest=this.checkOutGuest.bind(this),this.checkOutGuestV1=this.checkOutGuestV1.bind(this),this.createCheckIn=this.createCheckIn.bind(this),this.createCheckInV1=this.createCheckInV1.bind(this),this.createCheckInWithDocuments=this.createCheckInWithDocuments.bind(this),this.createCheckInWithDocumentsV1=this.createCheckInWithDocumentsV1.bind(this),this.debugDocuments=this.debugDocuments.bind(this),this.deleteCheckIn=this.deleteCheckIn.bind(this),this.deleteCheckInV1=this.deleteCheckInV1.bind(this),this.deleteDocument=this.deleteDocument.bind(this),this.deleteDocumentV1=this.deleteDocumentV1.bind(this),this.downloadDocument=this.downloadDocument.bind(this),this.downloadDocumentV1=this.downloadDocumentV1.bind(this),this.exportAuditLogs=this.exportAuditLogs.bind(this),this.exportAuditLogsV1=this.exportAuditLogsV1.bind(this),this.extractDocumentDataOnly=this.extractDocumentDataOnly.bind(this),this.extractDocumentDataOnlyV1=this.extractDocumentDataOnlyV1.bind(this),this.generateCForm=this.generateCForm.bind(this),this.generateCFormV1=this.generateCFormV1.bind(this),this.getAuditLogDetail=this.getAuditLogDetail.bind(this),this.getAuditLogDetailV1=this.getAuditLogDetailV1.bind(this),this.getAuditSummary=this.getAuditSummary.bind(this),this.getAuditSummaryV1=this.getAuditSummaryV1.bind(this),this.getCheckIn=this.getCheckIn.bind(this),this.getCheckInStats=this.getCheckInStats.bind(this),this.getCheckInStatsV1=this.getCheckInStatsV1.bind(this),this.getCheckInV1=this.getCheckInV1.bind(this),this.getDocumentStats=this.getDocumentStats.bind(this),this.getDocumentStatsV1=this.getDocumentStatsV1.bind(this),this.getDocumentThumbnail=this.getDocumentThumbnail.bind(this),this.getDocumentThumbnailV1=this.getDocumentThumbnailV1.bind(this),this.getGuestCheckinRealtimeMetrics=this.getGuestCheckinRealtimeMetrics.bind(this),this.getGuestEventMetrics=this.getGuestEventMetrics.bind(this),this.getGuestEventMetricsV1=this.getGuestEventMetricsV1.bind(this),this.listAuditLogs=this.listAuditLogs.bind(this),this.listAuditLogsV1=this.listAuditLogsV1.bind(this),this.listCheckIns=this.listCheckIns.bind(this),this.listCheckInsV1=this.listCheckInsV1.bind(this),this.listDocuments=this.listDocuments.bind(this),this.listDocumentsV1=this.listDocumentsV1.bind(this),this.logViewDocuments=this.logViewDocuments.bind(this),this.logViewDocumentsV1=this.logViewDocumentsV1.bind(this),this.logViewGuestDetails=this.logViewGuestDetails.bind(this),this.logViewGuestDetailsV1=this.logViewGuestDetailsV1.bind(this),this.retryDocumentExtraction=this.retryDocumentExtraction.bind(this),this.retryDocumentExtractionV1=this.retryDocumentExtractionV1.bind(this),this.subscribeAuditEvents=this.subscribeAuditEvents.bind(this),this.subscribeAuditEventsV1=this.subscribeAuditEventsV1.bind(this),this.subscribeAuditEventsV2=this.subscribeAuditEventsV2.bind(this),this.subscribeGuestCheckinEvents=this.subscribeGuestCheckinEvents.bind(this),this.subscribeGuestCheckinRealtime=this.subscribeGuestCheckinRealtime.bind(this),this.subscribeGuestEventsV2=this.subscribeGuestEventsV2.bind(this),this.updateCheckIn=this.updateCheckIn.bind(this),this.updateCheckInV1=this.updateCheckInV1.bind(this),this.uploadDocument=this.uploadDocument.bind(this),this.uploadDocumentV1=this.uploadDocumentV1.bind(this),this.verifyDocument=this.verifyDocument.bind(this),this.verifyDocumentV1=this.verifyDocumentV1.bind(this),this.verifySchema=this.verifySchema.bind(this),this.viewDocument=this.viewDocument.bind(this),this.viewDocumentV1=this.viewDocumentV1.bind(this)}async checkOutGuest(a,r){return await(await this.baseClient.callTypedAPI("POST",`/guest-checkin/${encodeURIComponent(a)}/checkout`,JSON.stringify(r))).json()}async checkOutGuestV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/guest-checkin/${encodeURIComponent(a)}/checkout`,JSON.stringify(r))).json()}async createCheckIn(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/create",JSON.stringify(a))).json()}async createCheckInV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/create",JSON.stringify(a))).json()}async createCheckInWithDocuments(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/create-with-documents",JSON.stringify(a))).json()}async createCheckInWithDocumentsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/create-with-documents",JSON.stringify(a))).json()}async debugDocuments(){return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/debug/db-test")).json()}async deleteCheckIn(a){return await(await this.baseClient.callTypedAPI("DELETE",`/guest-checkin/${encodeURIComponent(a)}`)).json()}async deleteCheckInV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/guest-checkin/${encodeURIComponent(a)}`)).json()}async deleteDocument(a,r){const l=De({hardDelete:r.hardDelete===void 0?void 0:String(r.hardDelete),reason:r.reason});return await(await this.baseClient.callTypedAPI("DELETE",`/guest-checkin/documents/${encodeURIComponent(a)}`,void 0,{query:l})).json()}async deleteDocumentV1(a,r){const l=De({hardDelete:r.hardDelete===void 0?void 0:String(r.hardDelete),reason:r.reason});return await(await this.baseClient.callTypedAPI("DELETE",`/v1/guest-checkin/documents/${encodeURIComponent(a)}`,void 0,{query:l})).json()}async downloadDocument(a){return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/documents/${encodeURIComponent(a)}/download`)).json()}async downloadDocumentV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/download`)).json()}async exportAuditLogs(a){const r=De({actionType:a.actionType,endDate:a.endDate,guestCheckInId:a.guestCheckInId===void 0?void 0:String(a.guestCheckInId),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),resourceType:a.resourceType,startDate:a.startDate,success:a.success===void 0?void 0:String(a.success),userId:a.userId===void 0?void 0:String(a.userId)});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/audit-logs/export",void 0,{query:r})).json()}async exportAuditLogsV1(a){const r=De({actionType:a.actionType,endDate:a.endDate,guestCheckInId:a.guestCheckInId===void 0?void 0:String(a.guestCheckInId),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),resourceType:a.resourceType,startDate:a.startDate,success:a.success===void 0?void 0:String(a.success),userId:a.userId===void 0?void 0:String(a.userId)});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-logs/export",void 0,{query:r})).json()}async extractDocumentDataOnly(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/documents/extract-only",JSON.stringify(a))).json()}async extractDocumentDataOnlyV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/documents/extract-only",JSON.stringify(a))).json()}async generateCForm(a){return await(await this.baseClient.callTypedAPI("POST",`/guest-checkin/${encodeURIComponent(a)}/generate-c-form`)).json()}async generateCFormV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/guest-checkin/${encodeURIComponent(a)}/generate-c-form`)).json()}async getAuditLogDetail(a){return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/audit-logs/${encodeURIComponent(a)}`)).json()}async getAuditLogDetailV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/audit-logs/${encodeURIComponent(a)}`)).json()}async getAuditSummary(){return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/audit-logs/summary")).json()}async getAuditSummaryV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-logs/summary")).json()}async getCheckIn(a){return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/${encodeURIComponent(a)}`)).json()}async getCheckInStats(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/stats",void 0,{query:r})).json()}async getCheckInStatsV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/stats",void 0,{query:r})).json()}async getCheckInV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/${encodeURIComponent(a)}`)).json()}async getDocumentStats(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/documents/stats",void 0,{query:r})).json()}async getDocumentStatsV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/documents/stats",void 0,{query:r})).json()}async getDocumentThumbnail(a,r){const l=De({token:r.token});return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/documents/${encodeURIComponent(a)}/thumbnail`,void 0,{query:l})).json()}async getDocumentThumbnailV1(a,r){const l=De({token:r.token});return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/thumbnail`,void 0,{query:l})).json()}async getGuestCheckinRealtimeMetrics(){return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/realtime/metrics")).json()}async getGuestEventMetrics(){return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/events/metrics")).json()}async getGuestEventMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/events/metrics")).json()}async listAuditLogs(a){const r=De({actionType:a.actionType,endDate:a.endDate,guestCheckInId:a.guestCheckInId===void 0?void 0:String(a.guestCheckInId),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),resourceType:a.resourceType,startDate:a.startDate,success:a.success===void 0?void 0:String(a.success),userId:a.userId===void 0?void 0:String(a.userId)});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/audit-logs",void 0,{query:r})).json()}async listAuditLogsV1(a){const r=De({actionType:a.actionType,endDate:a.endDate,guestCheckInId:a.guestCheckInId===void 0?void 0:String(a.guestCheckInId),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),resourceType:a.resourceType,startDate:a.startDate,success:a.success===void 0?void 0:String(a.success),userId:a.userId===void 0?void 0:String(a.userId)});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-logs",void 0,{query:r})).json()}async listCheckIns(a){const r=De({endDate:a.endDate,guestType:a.guestType===void 0?void 0:String(a.guestType),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,startDate:a.startDate,status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/list",void 0,{query:r})).json()}async listCheckInsV1(a){const r=De({endDate:a.endDate,guestType:a.guestType===void 0?void 0:String(a.guestType),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,startDate:a.startDate,status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/list",void 0,{query:r})).json()}async listDocuments(a,r){const l=De({documentType:r.documentType,includeDeleted:r.includeDeleted===void 0?void 0:String(r.includeDeleted)});return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/${encodeURIComponent(a)}/documents`,void 0,{query:l})).json()}async listDocumentsV1(a,r){const l=De({documentType:r.documentType,includeDeleted:r.includeDeleted===void 0?void 0:String(r.includeDeleted)});return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/${encodeURIComponent(a)}/documents`,void 0,{query:l})).json()}async logViewDocuments(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/audit/view-documents",JSON.stringify(a))).json()}async logViewDocumentsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/audit/view-documents",JSON.stringify(a))).json()}async logViewGuestDetails(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/audit/view-guest-details",JSON.stringify(a))).json()}async logViewGuestDetailsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/audit/view-guest-details",JSON.stringify(a))).json()}async retryDocumentExtraction(a){return await(await this.baseClient.callTypedAPI("POST",`/guest-checkin/documents/${encodeURIComponent(a)}/retry-extraction`)).json()}async retryDocumentExtractionV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/retry-extraction`)).json()}async subscribeAuditEvents(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/audit-events/subscribe",void 0,{query:r})).json()}async subscribeAuditEventsV1(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-events/subscribe-simple",void 0,{query:r})).json()}async subscribeAuditEventsV2(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-events/subscribe",void 0,{query:r})).json()}async subscribeGuestCheckinEvents(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/events/subscribe",void 0,{query:r})).json()}async subscribeGuestCheckinRealtime(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/realtime/subscribe-v3",void 0,{query:r})).json()}async subscribeGuestEventsV2(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/realtime/subscribe",void 0,{query:r})).json()}async updateCheckIn(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/guest-checkin/${encodeURIComponent(a)}/update`,JSON.stringify(r))).json()}async updateCheckInV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/guest-checkin/${encodeURIComponent(a)}/update`,JSON.stringify(r))).json()}async uploadDocument(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/documents/upload",JSON.stringify(a))).json()}async uploadDocumentV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/documents/upload",JSON.stringify(a))).json()}async verifyDocument(a,r){return await(await this.baseClient.callTypedAPI("POST",`/guest-checkin/documents/${encodeURIComponent(a)}/verify`,JSON.stringify(r))).json()}async verifyDocumentV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/verify`,JSON.stringify(r))).json()}async verifySchema(){return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/verify-schema")).json()}async viewDocument(a,r){const l=De({token:r.token});return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/documents/${encodeURIComponent(a)}/view`,void 0,{query:l})).json()}async viewDocumentV1(a,r){const l=De({token:r.token});return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/view`,void 0,{query:l})).json()}}e.ServiceClient=s})(mv||(mv={}));var pv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.acknowledgeAlert=this.acknowledgeAlert.bind(this),this.acknowledgeAlertV1=this.acknowledgeAlertV1.bind(this),this.clearAlert=this.clearAlert.bind(this),this.clearAlertV1=this.clearAlertV1.bind(this),this.getActiveAlerts=this.getActiveAlerts.bind(this),this.getActiveAlertsV1=this.getActiveAlertsV1.bind(this),this.getAggregatedMetrics=this.getAggregatedMetrics.bind(this),this.getAggregatedMetricsV1=this.getAggregatedMetricsV1.bind(this),this.getAlertHistory=this.getAlertHistory.bind(this),this.getAlertHistoryV1=this.getAlertHistoryV1.bind(this),this.getAlertStats=this.getAlertStats.bind(this),this.getAlertStatsV1=this.getAlertStatsV1.bind(this),this.getAllMetrics=this.getAllMetrics.bind(this),this.getAllMetricsV1=this.getAllMetricsV1.bind(this),this.getCacheInvalidationMetrics=this.getCacheInvalidationMetrics.bind(this),this.getCacheInvalidationMetricsV1=this.getCacheInvalidationMetricsV1.bind(this),this.getCacheKeyStats=this.getCacheKeyStats.bind(this),this.getCacheKeyStatsV1=this.getCacheKeyStatsV1.bind(this),this.getMetricHistory=this.getMetricHistory.bind(this),this.getMetricHistoryV1=this.getMetricHistoryV1.bind(this),this.getPartitionMetrics=this.getPartitionMetrics.bind(this),this.getPartitionMetricsV1=this.getPartitionMetricsV1.bind(this),this.getPartitionTableStats=this.getPartitionTableStats.bind(this),this.getPartitionTableStatsV1=this.getPartitionTableStatsV1.bind(this),this.getPerformanceMetrics=this.getPerformanceMetrics.bind(this),this.getSystemHealth=this.getSystemHealth.bind(this),this.getSystemHealthDashboard=this.getSystemHealthDashboard.bind(this),this.getSystemHealthDashboardV1=this.getSystemHealthDashboardV1.bind(this),this.getSystemHealthV1=this.getSystemHealthV1.bind(this),this.getSystemMetrics=this.getSystemMetrics.bind(this),this.getUnifiedMetrics=this.getUnifiedMetrics.bind(this),this.getUnifiedMetricsV1=this.getUnifiedMetricsV1.bind(this),this.healthCheck=this.healthCheck.bind(this),this.healthCheckSimple=this.healthCheckSimple.bind(this),this.healthCheckSimpleV1=this.healthCheckSimpleV1.bind(this),this.livenessCheck=this.livenessCheck.bind(this),this.livenessCheckV1=this.livenessCheckV1.bind(this),this.readinessCheck=this.readinessCheck.bind(this),this.readinessCheckV1=this.readinessCheckV1.bind(this),this.resetCacheMetrics=this.resetCacheMetrics.bind(this),this.resetCacheMetricsV1=this.resetCacheMetricsV1.bind(this),this.runPartitionMigration=this.runPartitionMigration.bind(this),this.runPartitionMigrationV1=this.runPartitionMigrationV1.bind(this),this.verifyPartitions=this.verifyPartitions.bind(this),this.verifyPartitionsV1=this.verifyPartitionsV1.bind(this)}async acknowledgeAlert(a){return await(await this.baseClient.callTypedAPI("POST",`/alerts/${encodeURIComponent(a)}/acknowledge`)).json()}async acknowledgeAlertV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/system/alerts/${encodeURIComponent(a)}/acknowledge`)).json()}async clearAlert(a){return await(await this.baseClient.callTypedAPI("POST",`/alerts/${encodeURIComponent(a)}/clear`)).json()}async clearAlertV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/system/alerts/${encodeURIComponent(a)}/clear`)).json()}async getActiveAlerts(){await this.baseClient.callTypedAPI("GET","/alerts/active")}async getActiveAlertsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/alerts/active")}async getAggregatedMetrics(){await this.baseClient.callTypedAPI("GET","/metrics/aggregated")}async getAggregatedMetricsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/metrics/aggregated")}async getAlertHistory(){await this.baseClient.callTypedAPI("GET","/alerts/history")}async getAlertHistoryV1(){await this.baseClient.callTypedAPI("GET","/v1/system/alerts/history")}async getAlertStats(){await this.baseClient.callTypedAPI("GET","/alerts/stats")}async getAlertStatsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/alerts/stats")}async getAllMetrics(){await this.baseClient.callTypedAPI("GET","/metrics/all")}async getAllMetricsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/metrics/all")}async getCacheInvalidationMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/cache/invalidation-metrics")).json()}async getCacheInvalidationMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/cache/invalidation-metrics")).json()}async getCacheKeyStats(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/cache/key-stats")).json()}async getCacheKeyStatsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/cache/key-stats")).json()}async getMetricHistory(a){return await(await this.baseClient.callTypedAPI("GET",`/metrics/${encodeURIComponent(a)}`)).json()}async getMetricHistoryV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/system/metrics/${encodeURIComponent(a)}`)).json()}async getPartitionMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/partitions/metrics")).json()}async getPartitionMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/partitions/metrics")).json()}async getPartitionTableStats(a){const r=De({tableName:a.tableName});return await(await this.baseClient.callTypedAPI("GET","/monitoring/partitions/table-stats",void 0,{query:r})).json()}async getPartitionTableStatsV1(a){const r=De({tableName:a.tableName});return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/partitions/table-stats",void 0,{query:r})).json()}async getPerformanceMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/performance")).json()}async getSystemHealth(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/unified/health")).json()}async getSystemHealthDashboard(){await this.baseClient.callTypedAPI("GET","/monitoring/dashboard")}async getSystemHealthDashboardV1(){await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/dashboard")}async getSystemHealthV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/unified/health")).json()}async getSystemMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/system")).json()}async getUnifiedMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/unified/metrics")).json()}async getUnifiedMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/unified/metrics")).json()}async healthCheck(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/health")).json()}async healthCheckSimple(){await this.baseClient.callTypedAPI("GET","/health")}async healthCheckSimpleV1(){await this.baseClient.callTypedAPI("GET","/v1/system/health")}async livenessCheck(){await this.baseClient.callTypedAPI("GET","/live")}async livenessCheckV1(){await this.baseClient.callTypedAPI("GET","/v1/system/live")}async readinessCheck(){await this.baseClient.callTypedAPI("GET","/ready")}async readinessCheckV1(){await this.baseClient.callTypedAPI("GET","/v1/system/ready")}async resetCacheMetrics(){return await(await this.baseClient.callTypedAPI("POST","/monitoring/cache/reset-metrics")).json()}async resetCacheMetricsV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/system/monitoring/cache/reset-metrics")).json()}async runPartitionMigration(){return await(await this.baseClient.callTypedAPI("POST","/monitoring/run-partition-migration")).json()}async runPartitionMigrationV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/system/monitoring/partitions/migrate")).json()}async verifyPartitions(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/verify-partitions")).json()}async verifyPartitionsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/partitions/verify")).json()}}e.ServiceClient=s})(pv||(pv={}));var fv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.create=this.create.bind(this),this.createV1=this.createV1.bind(this),this.invite=this.invite.bind(this),this.inviteV1=this.inviteV1.bind(this)}async create(a){return await(await this.baseClient.callTypedAPI("POST","/orgs",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/orgs",JSON.stringify(a))).json()}async invite(a){return await(await this.baseClient.callTypedAPI("POST","/orgs/invite",JSON.stringify(a))).json()}async inviteV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/orgs/invite",JSON.stringify(a))).json()}}e.ServiceClient=s})(fv||(fv={}));var gv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.create=this.create.bind(this),this.createV1=this.createV1.bind(this),this.deleteProperty=this.deleteProperty.bind(this),this.deletePropertyV1=this.deletePropertyV1.bind(this),this.getOccupancy=this.getOccupancy.bind(this),this.getOccupancyV1=this.getOccupancyV1.bind(this),this.list=this.list.bind(this),this.listV1=this.listV1.bind(this),this.subscribePropertiesRealtime=this.subscribePropertiesRealtime.bind(this),this.subscribePropertiesRealtimeV1=this.subscribePropertiesRealtimeV1.bind(this),this.update=this.update.bind(this),this.updateV1=this.updateV1.bind(this)}async create(a){return await(await this.baseClient.callTypedAPI("POST","/properties",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/properties",JSON.stringify(a))).json()}async deleteProperty(a){return await(await this.baseClient.callTypedAPI("DELETE",`/properties/${encodeURIComponent(a)}`)).json()}async deletePropertyV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/properties/${encodeURIComponent(a)}`)).json()}async getOccupancy(a){return await(await this.baseClient.callTypedAPI("GET",`/properties/${encodeURIComponent(a)}/occupancy`)).json()}async getOccupancyV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/properties/${encodeURIComponent(a)}/occupancy`)).json()}async list(a){const r=De({regionId:a.regionId===void 0?void 0:String(a.regionId),type:a.type===void 0?void 0:String(a.type)});return await(await this.baseClient.callTypedAPI("GET","/properties",void 0,{query:r})).json()}async listV1(a){const r=De({regionId:a.regionId===void 0?void 0:String(a.regionId),type:a.type===void 0?void 0:String(a.type)});return await(await this.baseClient.callTypedAPI("GET","/v1/properties",void 0,{query:r})).json()}async subscribePropertiesRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/properties/realtime/subscribe",void 0,{query:r})).json()}async subscribePropertiesRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/properties/realtime/subscribe",void 0,{query:r})).json()}async update(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/properties/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/properties/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}}e.ServiceClient=s})(gv||(gv={}));var xv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.getStreamingMetrics=this.getStreamingMetrics.bind(this),this.streamRealtimeEvents=this.streamRealtimeEvents.bind(this)}async getStreamingMetrics(){return await(await this.baseClient.callTypedAPI("GET","/v2/realtime/metrics")).json()}async streamRealtimeEvents(a){const r=De({lastSeq:a.lastSeq===void 0?void 0:String(a.lastSeq),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),services:a.services.map(l=>String(l)),version:String(a.version)});return await this.baseClient.createStreamIn("/v2/realtime/stream",{query:r})}}e.ServiceClient=s})(xv||(xv={}));var yv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.auditPropertyBalances=this.auditPropertyBalances.bind(this),this.auditPropertyBalancesV1=this.auditPropertyBalancesV1.bind(this),this.calculateOpeningBalanceEndpoint=this.calculateOpeningBalanceEndpoint.bind(this),this.checkDataIntegrity=this.checkDataIntegrity.bind(this),this.checkSchema=this.checkSchema.bind(this),this.clearCache=this.clearCache.bind(this),this.clearCacheV1=this.clearCacheV1.bind(this),this.debugAllTransactions=this.debugAllTransactions.bind(this),this.debugDailyReport=this.debugDailyReport.bind(this),this.debugDailyReportStructure=this.debugDailyReportStructure.bind(this),this.exportDailyReportExcel=this.exportDailyReportExcel.bind(this),this.exportDailyReportExcelV1=this.exportDailyReportExcelV1.bind(this),this.exportDailyReportExcelv2=this.exportDailyReportExcelv2.bind(this),this.exportDailyReportPDF=this.exportDailyReportPDF.bind(this),this.exportDailyReportPDFV1=this.exportDailyReportPDFV1.bind(this),this.exportDailyReportPDFv2=this.exportDailyReportPDFv2.bind(this),this.exportMonthlyReportExcel=this.exportMonthlyReportExcel.bind(this),this.exportMonthlyReportExcelV1=this.exportMonthlyReportExcelV1.bind(this),this.exportMonthlyReportExcelv2=this.exportMonthlyReportExcelv2.bind(this),this.exportMonthlyReportPDF=this.exportMonthlyReportPDF.bind(this),this.exportMonthlyReportPDFV1=this.exportMonthlyReportPDFV1.bind(this),this.exportMonthlyReportPDFv2=this.exportMonthlyReportPDFv2.bind(this),this.fixBalanceCarryForward=this.fixBalanceCarryForward.bind(this),this.fixBalanceCarryForwardPermanent=this.fixBalanceCarryForwardPermanent.bind(this),this.fixBalanceChain=this.fixBalanceChain.bind(this),this.fixSingleDate=this.fixSingleDate.bind(this),this.forceBalanceCacheInvalidation=this.forceBalanceCacheInvalidation.bind(this),this.generatePDF=this.generatePDF.bind(this),this.generatePDFV1=this.generatePDFV1.bind(this),this.getCacheMetrics=this.getCacheMetrics.bind(this),this.getCacheMetricsV1=this.getCacheMetricsV1.bind(this),this.getDailyReport=this.getDailyReport.bind(this),this.getDailyReportV1=this.getDailyReportV1.bind(this),this.getDailyReports=this.getDailyReports.bind(this),this.getDailyReportsV1=this.getDailyReportsV1.bind(this),this.getDateTransactions=this.getDateTransactions.bind(this),this.getDateTransactionsV1=this.getDateTransactionsV1.bind(this),this.getMonthlyReport=this.getMonthlyReport.bind(this),this.getMonthlyReportV1=this.getMonthlyReportV1.bind(this),this.getMonthlySummary=this.getMonthlySummary.bind(this),this.getMonthlySummaryV1=this.getMonthlySummaryV1.bind(this),this.getMonthlyYearlyReport=this.getMonthlyYearlyReport.bind(this),this.getMonthlyYearlyReportV1=this.getMonthlyYearlyReportV1.bind(this),this.getQuarterlySummary=this.getQuarterlySummary.bind(this),this.getQuarterlySummaryV1=this.getQuarterlySummaryV1.bind(this),this.getYearlySummary=this.getYearlySummary.bind(this),this.getYearlySummaryV1=this.getYearlySummaryV1.bind(this),this.pollRealtimeUpdates=this.pollRealtimeUpdates.bind(this),this.pollRealtimeUpdatesV1=this.pollRealtimeUpdatesV1.bind(this),this.reconcileDailyCashBalance=this.reconcileDailyCashBalance.bind(this),this.reconcileDailyCashBalanceV1=this.reconcileDailyCashBalanceV1.bind(this),this.runCompleteMigration=this.runCompleteMigration.bind(this),this.runMigration=this.runMigration.bind(this),this.updateDailyCashBalance=this.updateDailyCashBalance.bind(this),this.updateDailyCashBalanceSmart=this.updateDailyCashBalanceSmart.bind(this),this.updateDailyCashBalanceSmartV1=this.updateDailyCashBalanceSmartV1.bind(this),this.updateDailyCashBalanceV1=this.updateDailyCashBalanceV1.bind(this),this.validateBalanceChain=this.validateBalanceChain.bind(this)}async auditPropertyBalances(a){const r=De({endDate:a.endDate,propertyId:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/audit-balances",void 0,{query:r})).json()}async auditPropertyBalancesV1(a){const r=De({endDate:a.endDate,propertyId:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/audit-balances",void 0,{query:r})).json()}async calculateOpeningBalanceEndpoint(a){return await(await this.baseClient.callTypedAPI("POST","/reports/calculate-opening-balance",JSON.stringify(a))).json()}async checkDataIntegrity(a){const r=De({endDate:a.endDate,propertyId:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/check-integrity",void 0,{query:r})).json()}async checkSchema(){await this.baseClient.callTypedAPI("GET","/reports/check-schema")}async clearCache(){await this.baseClient.callTypedAPI("POST","/reports/cache/clear")}async clearCacheV1(){await this.baseClient.callTypedAPI("POST","/v1/reports/cache/clear")}async debugAllTransactions(a){return await(await this.baseClient.callTypedAPI("POST","/reports/debug-all-transactions",JSON.stringify(a))).json()}async debugDailyReport(a){return await(await this.baseClient.callTypedAPI("POST","/reports/debug-daily-report",JSON.stringify(a))).json()}async debugDailyReportStructure(a){const r=De({date:a.date,propertyId:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/reports/debug-daily-report-structure",void 0,{query:r})).json()}async exportDailyReportExcel(a){return await(await this.baseClient.callTypedAPI("POST","/reports/export-daily-excel",JSON.stringify(a))).json()}async exportDailyReportExcelV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/export/daily-excel",JSON.stringify(a))).json()}async exportDailyReportExcelv2(a){return await(await this.baseClient.callTypedAPI("POST","/reports/v2/export-daily-excel",JSON.stringify(a))).json()}async exportDailyReportPDF(a){return await(await this.baseClient.callTypedAPI("POST","/reports/export-daily-pdf",JSON.stringify(a))).json()}async exportDailyReportPDFV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/export/daily-pdf",JSON.stringify(a))).json()}async exportDailyReportPDFv2(a){return await(await this.baseClient.callTypedAPI("POST","/reports/v2/export-daily-pdf",JSON.stringify(a))).json()}async exportMonthlyReportExcel(a){return await(await this.baseClient.callTypedAPI("POST","/reports/export-monthly-excel",JSON.stringify(a))).json()}async exportMonthlyReportExcelV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/export/monthly-excel",JSON.stringify(a))).json()}async exportMonthlyReportExcelv2(a){return await(await this.baseClient.callTypedAPI("POST","/reports/v2/export-monthly-excel",JSON.stringify(a))).json()}async exportMonthlyReportPDF(a){return await(await this.baseClient.callTypedAPI("POST","/reports/export-monthly-pdf",JSON.stringify(a))).json()}async exportMonthlyReportPDFV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/export/monthly-pdf",JSON.stringify(a))).json()}async exportMonthlyReportPDFv2(a){return await(await this.baseClient.callTypedAPI("POST","/reports/v2/export-monthly-pdf",JSON.stringify(a))).json()}async fixBalanceCarryForward(a){return await(await this.baseClient.callTypedAPI("POST","/reports/fix-balance-carry-forward",JSON.stringify(a))).json()}async fixBalanceCarryForwardPermanent(a){return await(await this.baseClient.callTypedAPI("POST","/reports/fix-balance-carry-forward-permanent",JSON.stringify(a))).json()}async fixBalanceChain(a){return await(await this.baseClient.callTypedAPI("POST","/reports/fix-balance-chain",JSON.stringify(a))).json()}async fixSingleDate(a){return await(await this.baseClient.callTypedAPI("POST","/reports/fix-single-date",JSON.stringify(a))).json()}async forceBalanceCacheInvalidation(a){return await(await this.baseClient.callTypedAPI("POST","/reports/force-balance-cache-invalidation",JSON.stringify(a))).json()}async generatePDF(a){return await(await this.baseClient.callTypedAPI("POST","/reports/generate-pdf",JSON.stringify(a))).json()}async generatePDFV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/generate-pdf",JSON.stringify(a))).json()}async getCacheMetrics(){await this.baseClient.callTypedAPI("GET","/reports/cache/metrics")}async getCacheMetricsV1(){await this.baseClient.callTypedAPI("GET","/v1/reports/cache/metrics")}async getDailyReport(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/daily-report",void 0,{query:r})).json()}async getDailyReportV1(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/daily-report",void 0,{query:r})).json()}async getDailyReports(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/daily-reports",void 0,{query:r})).json()}async getDailyReportsV1(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/daily-reports",void 0,{query:r})).json()}async getDateTransactions(a){const r=De({date:a.date,propertyId:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/reports/date-transactions",void 0,{query:r})).json()}async getDateTransactionsV1(a){const r=De({date:a.date,propertyId:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/date-transactions",void 0,{query:r})).json()}async getMonthlyReport(a){const r=De({includePending:a.includePending===void 0?void 0:String(a.includePending),month:String(a.month),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:String(a.year)});return await(await this.baseClient.callTypedAPI("GET","/reports/monthly-report",void 0,{query:r})).json()}async getMonthlyReportV1(a){const r=De({includePending:a.includePending===void 0?void 0:String(a.includePending),month:String(a.month),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:String(a.year)});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/monthly-report",void 0,{query:r})).json()}async getMonthlySummary(a){const r=De({month:a.month,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/reports/monthly-summary",void 0,{query:r})).json()}async getMonthlySummaryV1(a){const r=De({month:a.month,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/monthly-summary",void 0,{query:r})).json()}async getMonthlyYearlyReport(a){const r=De({endDate:a.endDate,includePending:a.includePending===void 0?void 0:String(a.includePending),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/monthly-yearly-report",void 0,{query:r})).json()}async getMonthlyYearlyReportV1(a){const r=De({endDate:a.endDate,includePending:a.includePending===void 0?void 0:String(a.includePending),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/monthly-yearly-report",void 0,{query:r})).json()}async getQuarterlySummary(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId),quarter:String(a.quarter),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/reports/quarterly-summary",void 0,{query:r})).json()}async getQuarterlySummaryV1(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId),quarter:String(a.quarter),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/quarterly-summary",void 0,{query:r})).json()}async getYearlySummary(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/reports/yearly-summary",void 0,{query:r})).json()}async getYearlySummaryV1(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/yearly-summary",void 0,{query:r})).json()}async pollRealtimeUpdates(a){const r=De({lastUpdateTime:a.lastUpdateTime});return await(await this.baseClient.callTypedAPI("GET","/reports/realtime/poll",void 0,{query:r})).json()}async pollRealtimeUpdatesV1(a){const r=De({lastUpdateTime:a.lastUpdateTime});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/realtime/poll",void 0,{query:r})).json()}async reconcileDailyCashBalance(a){return await(await this.baseClient.callTypedAPI("POST","/reports/reconcile-daily-balance",JSON.stringify(a))).json()}async reconcileDailyCashBalanceV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/reconcile-daily-cash-balance",JSON.stringify(a))).json()}async runCompleteMigration(){await this.baseClient.callTypedAPI("POST","/reports/run-complete-migration")}async runMigration(){await this.baseClient.callTypedAPI("POST","/reports/run-migration")}async updateDailyCashBalance(a){return await(await this.baseClient.callTypedAPI("POST","/reports/daily-cash-balance",JSON.stringify(a))).json()}async updateDailyCashBalanceSmart(a){return await(await this.baseClient.callTypedAPI("POST","/reports/daily-cash-balance-smart",JSON.stringify(a))).json()}async updateDailyCashBalanceSmartV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/update-daily-cash-balance-smart",JSON.stringify(a))).json()}async updateDailyCashBalanceV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/update-daily-cash-balance",JSON.stringify(a))).json()}async validateBalanceChain(a){return await(await this.baseClient.callTypedAPI("POST","/reports/validate-balance-chain",JSON.stringify(a))).json()}}e.ServiceClient=s})(yv||(yv={}));var vv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.seedData=this.seedData.bind(this)}async seedData(){await this.baseClient.callTypedAPI("POST","/seed/data")}}e.ServiceClient=s})(vv||(vv={}));var bv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.clearCache=this.clearCache.bind(this),this.getCache=this.getCache.bind(this),this.getCacheHealth=this.getCacheHealth.bind(this),this.getCacheStats=this.getCacheStats.bind(this),this.invalidateCache=this.invalidateCache.bind(this),this.setCache=this.setCache.bind(this)}async clearCache(a){return await(await this.baseClient.callTypedAPI("POST","/cache/clear",JSON.stringify(a))).json()}async getCache(a){const r=De({key:a.key});return await(await this.baseClient.callTypedAPI("GET","/cache/get",void 0,{query:r})).json()}async getCacheHealth(){return await(await this.baseClient.callTypedAPI("GET","/cache/health")).json()}async getCacheStats(){return await(await this.baseClient.callTypedAPI("GET","/cache/stats")).json()}async invalidateCache(a){return await(await this.baseClient.callTypedAPI("POST","/cache/invalidate",JSON.stringify(a))).json()}async setCache(a){return await(await this.baseClient.callTypedAPI("POST","/cache/set",JSON.stringify(a))).json()}}e.ServiceClient=s})(bv||(bv={}));var wv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.batchPublishEvents=this.batchPublishEvents.bind(this),this.getEventStats=this.getEventStats.bind(this),this.getEventsHealth=this.getEventsHealth.bind(this),this.publishEvent=this.publishEvent.bind(this)}async batchPublishEvents(a){return await(await this.baseClient.callTypedAPI("POST","/events/batch-publish",JSON.stringify(a))).json()}async getEventStats(){return await(await this.baseClient.callTypedAPI("GET","/events/stats")).json()}async getEventsHealth(){return await(await this.baseClient.callTypedAPI("GET","/events/health")).json()}async publishEvent(a){return await(await this.baseClient.callTypedAPI("POST","/events/publish",JSON.stringify(a))).json()}}e.ServiceClient=s})(wv||(wv={}));var jv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.addExpense=this.addExpense.bind(this),this.addRevenue=this.addRevenue.bind(this),this.approveTransaction=this.approveTransaction.bind(this),this.getFinanceHealth=this.getFinanceHealth.bind(this)}async addExpense(a){return await(await this.baseClient.callTypedAPI("POST","/finance/expense",JSON.stringify(a))).json()}async addRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/revenue",JSON.stringify(a))).json()}async approveTransaction(a){return await(await this.baseClient.callTypedAPI("POST","/finance/approve",JSON.stringify(a))).json()}async getFinanceHealth(){return await(await this.baseClient.callTypedAPI("GET","/finance/health")).json()}}e.ServiceClient=s})(jv||(jv={}));var Nv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.getDailyReport=this.getDailyReport.bind(this),this.getMonthlyReport=this.getMonthlyReport.bind(this),this.getReportsHealth=this.getReportsHealth.bind(this),this.reconcileDailyBalance=this.reconcileDailyBalance.bind(this)}async getDailyReport(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/daily",void 0,{query:r})).json()}async getMonthlyReport(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/monthly",void 0,{query:r})).json()}async getReportsHealth(){return await(await this.baseClient.callTypedAPI("GET","/reports/health")).json()}async reconcileDailyBalance(a){return await(await this.baseClient.callTypedAPI("POST","/reports/reconcile",JSON.stringify(a))).json()}}e.ServiceClient=s})(Nv||(Nv={}));var Sv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.approveEmergencyLeave=this.approveEmergencyLeave.bind(this),this.approveEmergencyLeaveV1=this.approveEmergencyLeaveV1.bind(this),this.approveLeave=this.approveLeave.bind(this),this.approveLeaveRequest=this.approveLeaveRequest.bind(this),this.approveLeaveRequestV1=this.approveLeaveRequestV1.bind(this),this.approveLeaveV1=this.approveLeaveV1.bind(this),this.approveScheduleChangeRequest=this.approveScheduleChangeRequest.bind(this),this.approveScheduleChangeRequestV1=this.approveScheduleChangeRequestV1.bind(this),this.assignProperty=this.assignProperty.bind(this),this.assignPropertyV1=this.assignPropertyV1.bind(this),this.calculateSalary=this.calculateSalary.bind(this),this.calculateSalaryV1=this.calculateSalaryV1.bind(this),this.checkIn=this.checkIn.bind(this),this.checkInV1=this.checkInV1.bind(this),this.checkOut=this.checkOut.bind(this),this.checkOutV1=this.checkOutV1.bind(this),this.create=this.create.bind(this),this.createEmergencyLeave=this.createEmergencyLeave.bind(this),this.createEmergencyLeaveV1=this.createEmergencyLeaveV1.bind(this),this.createSalaryComponent=this.createSalaryComponent.bind(this),this.createSchedule=this.createSchedule.bind(this),this.createScheduleChangeRequest=this.createScheduleChangeRequest.bind(this),this.createScheduleChangeRequestV1=this.createScheduleChangeRequestV1.bind(this),this.createScheduleV1=this.createScheduleV1.bind(this),this.createV1=this.createV1.bind(this),this.deleteStaff=this.deleteStaff.bind(this),this.deleteStaffV1=this.deleteStaffV1.bind(this),this.exportAttendance=this.exportAttendance.bind(this),this.exportAttendanceV1=this.exportAttendanceV1.bind(this),this.exportAttendancev2=this.exportAttendancev2.bind(this),this.exportLeave=this.exportLeave.bind(this),this.exportLeaveV1=this.exportLeaveV1.bind(this),this.exportLeavev2=this.exportLeavev2.bind(this),this.exportSalary=this.exportSalary.bind(this),this.exportSalaryV1=this.exportSalaryV1.bind(this),this.exportSalaryv2=this.exportSalaryv2.bind(this),this.fixSchema=this.fixSchema.bind(this),this.generatePayslip=this.generatePayslip.bind(this),this.generatePayslipV1=this.generatePayslipV1.bind(this),this.getAttendanceStatistics=this.getAttendanceStatistics.bind(this),this.getAttendanceStatisticsV1=this.getAttendanceStatisticsV1.bind(this),this.getLeaveBalance=this.getLeaveBalance.bind(this),this.getLeaveBalanceV1=this.getLeaveBalanceV1.bind(this),this.getLeaveStatistics=this.getLeaveStatistics.bind(this),this.getLeaveStatisticsV1=this.getLeaveStatisticsV1.bind(this),this.getPayslip=this.getPayslip.bind(this),this.getPayslipV1=this.getPayslipV1.bind(this),this.getSalaryStatistics=this.getSalaryStatistics.bind(this),this.getSalaryStatisticsV1=this.getSalaryStatisticsV1.bind(this),this.getScheduleStatistics=this.getScheduleStatistics.bind(this),this.getScheduleStatisticsV1=this.getScheduleStatisticsV1.bind(this),this.getStatistics=this.getStatistics.bind(this),this.getStatisticsV1=this.getStatisticsV1.bind(this),this.list=this.list.bind(this),this.listAttendance=this.listAttendance.bind(this),this.listAttendanceV1=this.listAttendanceV1.bind(this),this.listLeaveRequests=this.listLeaveRequests.bind(this),this.listLeaveRequestsV1=this.listLeaveRequestsV1.bind(this),this.listPayslips=this.listPayslips.bind(this),this.listPayslipsV1=this.listPayslipsV1.bind(this),this.listSalaryComponents=this.listSalaryComponents.bind(this),this.listScheduleChangeRequests=this.listScheduleChangeRequests.bind(this),this.listScheduleChangeRequestsV1=this.listScheduleChangeRequestsV1.bind(this),this.listSchedules=this.listSchedules.bind(this),this.listSchedulesV1=this.listSchedulesV1.bind(this),this.listV1=this.listV1.bind(this),this.markScheduleCompletion=this.markScheduleCompletion.bind(this),this.markScheduleCompletionV1=this.markScheduleCompletionV1.bind(this),this.requestLeave=this.requestLeave.bind(this),this.requestLeaveV1=this.requestLeaveV1.bind(this),this.search=this.search.bind(this),this.searchV1=this.searchV1.bind(this),this.subscribeStaffRealtime=this.subscribeStaffRealtime.bind(this),this.subscribeStaffRealtimeV1=this.subscribeStaffRealtimeV1.bind(this),this.update=this.update.bind(this),this.updateAttendance=this.updateAttendance.bind(this),this.updateAttendanceV1=this.updateAttendanceV1.bind(this),this.updateDepartment=this.updateDepartment.bind(this),this.updateDepartmentV1=this.updateDepartmentV1.bind(this),this.updateLeaveBalance=this.updateLeaveBalance.bind(this),this.updateLeaveBalanceV1=this.updateLeaveBalanceV1.bind(this),this.updatePayslipStatus=this.updatePayslipStatus.bind(this),this.updatePayslipStatusV1=this.updatePayslipStatusV1.bind(this),this.updatePerformance=this.updatePerformance.bind(this),this.updatePerformanceV1=this.updatePerformanceV1.bind(this),this.updateSimple=this.updateSimple.bind(this),this.updateSimpleV1=this.updateSimpleV1.bind(this),this.updateStatus=this.updateStatus.bind(this),this.updateStatusV1=this.updateStatusV1.bind(this),this.updateV1=this.updateV1.bind(this),this.validateAttendance=this.validateAttendance.bind(this),this.validateAttendanceV1=this.validateAttendanceV1.bind(this),this.validateLeaveRequest=this.validateLeaveRequest.bind(this),this.validateLeaveRequestV1=this.validateLeaveRequestV1.bind(this),this.validateSalary=this.validateSalary.bind(this),this.validateSalaryV1=this.validateSalaryV1.bind(this),this.validateSchedule=this.validateSchedule.bind(this),this.validateScheduleV1=this.validateScheduleV1.bind(this)}async approveEmergencyLeave(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/emergency-leave/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveEmergencyLeaveV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/emergency-leave/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveLeave(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/leave/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveLeaveRequest(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/leave-requests/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveLeaveRequestV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/leave-requests/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveLeaveV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/leave/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveScheduleChangeRequest(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/schedule-change-requests/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveScheduleChangeRequestV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/schedule-change-requests/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async assignProperty(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/assign-property`,JSON.stringify(r))).json()}async assignPropertyV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/assign-property`,JSON.stringify(r))).json()}async calculateSalary(a,r){return await(await this.baseClient.callTypedAPI("POST",`/staff/${encodeURIComponent(a)}/calculate-salary`,JSON.stringify(r))).json()}async calculateSalaryV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/staff/${encodeURIComponent(a)}/calculate-salary`,JSON.stringify(r))).json()}async checkIn(a,r){return await(await this.baseClient.callTypedAPI("POST",`/staff/${encodeURIComponent(a)}/check-in`,JSON.stringify(r))).json()}async checkInV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/staff/${encodeURIComponent(a)}/check-in`,JSON.stringify(r))).json()}async checkOut(a,r){return await(await this.baseClient.callTypedAPI("POST",`/staff/${encodeURIComponent(a)}/check-out`,JSON.stringify(r))).json()}async checkOutV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/staff/${encodeURIComponent(a)}/check-out`,JSON.stringify(r))).json()}async create(a){return await(await this.baseClient.callTypedAPI("POST","/staff",JSON.stringify(a))).json()}async createEmergencyLeave(a){return await(await this.baseClient.callTypedAPI("POST","/staff/emergency-leave",JSON.stringify(a))).json()}async createEmergencyLeaveV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/emergency-leave",JSON.stringify(a))).json()}async createSalaryComponent(a){return await(await this.baseClient.callTypedAPI("POST","/staff/salary-components",JSON.stringify(a))).json()}async createSchedule(a){return await(await this.baseClient.callTypedAPI("POST","/staff/schedules/create",JSON.stringify(a))).json()}async createScheduleChangeRequest(a){return await(await this.baseClient.callTypedAPI("POST","/staff/schedule-change-requests",JSON.stringify(a))).json()}async createScheduleChangeRequestV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/schedule-change-requests",JSON.stringify(a))).json()}async createScheduleV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/schedules/create",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff",JSON.stringify(a))).json()}async deleteStaff(a){return await(await this.baseClient.callTypedAPI("DELETE",`/staff/${encodeURIComponent(a)}`)).json()}async deleteStaffV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/staff/${encodeURIComponent(a)}`)).json()}async exportAttendance(a){return await(await this.baseClient.callTypedAPI("POST","/staff/attendance/export",JSON.stringify(a))).json()}async exportAttendanceV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/export/attendance",JSON.stringify(a))).json()}async exportAttendancev2(a){return await(await this.baseClient.callTypedAPI("POST","/staff/v2/attendance/export",JSON.stringify(a))).json()}async exportLeave(a){return await(await this.baseClient.callTypedAPI("POST","/staff/leave/export",JSON.stringify(a))).json()}async exportLeaveV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/export/leave",JSON.stringify(a))).json()}async exportLeavev2(a){return await(await this.baseClient.callTypedAPI("POST","/staff/v2/leave/export",JSON.stringify(a))).json()}async exportSalary(a){return await(await this.baseClient.callTypedAPI("POST","/staff/salary/export",JSON.stringify(a))).json()}async exportSalaryV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/export/salary",JSON.stringify(a))).json()}async exportSalaryv2(a){return await(await this.baseClient.callTypedAPI("POST","/staff/v2/salary/export",JSON.stringify(a))).json()}async fixSchema(){return await(await this.baseClient.callTypedAPI("POST","/staff/fix-schema")).json()}async generatePayslip(a,r){return await(await this.baseClient.callTypedAPI("POST",`/staff/${encodeURIComponent(a)}/generate-payslip`,JSON.stringify(r))).json()}async generatePayslipV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/staff/${encodeURIComponent(a)}/generate-payslip`,JSON.stringify(r))).json()}async getAttendanceStatistics(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/staff/attendance/statistics",void 0,{query:r})).json()}async getAttendanceStatisticsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/attendance/statistics",void 0,{query:r})).json()}async getLeaveBalance(a){return await(await this.baseClient.callTypedAPI("GET",`/staff/${encodeURIComponent(a)}/leave-balance`)).json()}async getLeaveBalanceV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/staff/${encodeURIComponent(a)}/leave-balance`)).json()}async getLeaveStatistics(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/staff/leave/statistics",void 0,{query:r})).json()}async getLeaveStatisticsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/leave/statistics",void 0,{query:r})).json()}async getPayslip(a){return await(await this.baseClient.callTypedAPI("GET",`/staff/payslips/${encodeURIComponent(a)}`)).json()}async getPayslipV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/staff/payslips/${encodeURIComponent(a)}`)).json()}async getSalaryStatistics(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/staff/salary/statistics",void 0,{query:r})).json()}async getSalaryStatisticsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/salary/statistics",void 0,{query:r})).json()}async getScheduleStatistics(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/staff/schedules/statistics",void 0,{query:r})).json()}async getScheduleStatisticsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/schedules/statistics",void 0,{query:r})).json()}async getStatistics(a){const r=De({department:a.department,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/staff/statistics",void 0,{query:r})).json()}async getStatisticsV1(a){const r=De({department:a.department,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/statistics",void 0,{query:r})).json()}async list(a){const r=De({department:a.department,limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),status:a.status});return await(await this.baseClient.callTypedAPI("GET","/staff",void 0,{query:r})).json()}async listAttendance(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/attendance",void 0,{query:r})).json()}async listAttendanceV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/attendance",void 0,{query:r})).json()}async listLeaveRequests(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),isEmergency:a.isEmergency===void 0?void 0:String(a.isEmergency),leaveType:a.leaveType===void 0?void 0:String(a.leaveType),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/leave-requests",void 0,{query:r})).json()}async listLeaveRequestsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),isEmergency:a.isEmergency===void 0?void 0:String(a.isEmergency),leaveType:a.leaveType===void 0?void 0:String(a.leaveType),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/leave-requests",void 0,{query:r})).json()}async listPayslips(a){const r=De({limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),payPeriodEnd:a.payPeriodEnd===void 0?void 0:String(a.payPeriodEnd),payPeriodStart:a.payPeriodStart===void 0?void 0:String(a.payPeriodStart),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/payslips",void 0,{query:r})).json()}async listPayslipsV1(a){const r=De({limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),payPeriodEnd:a.payPeriodEnd===void 0?void 0:String(a.payPeriodEnd),payPeriodStart:a.payPeriodStart===void 0?void 0:String(a.payPeriodStart),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/payslips",void 0,{query:r})).json()}async listSalaryComponents(a){const r=De({effectiveDate:a.effectiveDate===void 0?void 0:String(a.effectiveDate),isActive:a.isActive===void 0?void 0:String(a.isActive),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId)});return await(await this.baseClient.callTypedAPI("GET","/staff/salary-components",void 0,{query:r})).json()}async listScheduleChangeRequests(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/schedule-change-requests",void 0,{query:r})).json()}async listScheduleChangeRequestsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/schedule-change-requests",void 0,{query:r})).json()}async listSchedules(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),isRecurring:a.isRecurring===void 0?void 0:String(a.isRecurring),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,shiftType:a.shiftType===void 0?void 0:String(a.shiftType),sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/schedules",void 0,{query:r})).json()}async listSchedulesV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),isRecurring:a.isRecurring===void 0?void 0:String(a.isRecurring),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,shiftType:a.shiftType===void 0?void 0:String(a.shiftType),sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/schedules",void 0,{query:r})).json()}async listV1(a){const r=De({department:a.department,limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),status:a.status});return await(await this.baseClient.callTypedAPI("GET","/v1/staff",void 0,{query:r})).json()}async markScheduleCompletion(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/schedules/${encodeURIComponent(a)}/complete`,JSON.stringify(r))).json()}async markScheduleCompletionV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/schedules/${encodeURIComponent(a)}/complete`,JSON.stringify(r))).json()}async requestLeave(a){return await(await this.baseClient.callTypedAPI("POST","/staff/leave-requests",JSON.stringify(a))).json()}async requestLeaveV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/leave-requests",JSON.stringify(a))).json()}async search(a){return await(await this.baseClient.callTypedAPI("POST","/staff/search",JSON.stringify(a))).json()}async searchV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/search",JSON.stringify(a))).json()}async subscribeStaffRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/staff/realtime/subscribe",void 0,{query:r})).json()}async subscribeStaffRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/realtime/subscribe",void 0,{query:r})).json()}async update(a){return await(await this.baseClient.callTypedAPI("PUT","/staff/update",JSON.stringify(a))).json()}async updateAttendance(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/attendance/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateAttendanceV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/attendance/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateDepartment(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/department`,JSON.stringify(r))).json()}async updateDepartmentV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/department`,JSON.stringify(r))).json()}async updateLeaveBalance(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/leave-balance`,JSON.stringify(r))).json()}async updateLeaveBalanceV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/leave-balance`,JSON.stringify(r))).json()}async updatePayslipStatus(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/payslips/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updatePayslipStatusV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/payslips/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updatePerformance(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/performance`,JSON.stringify(r))).json()}async updatePerformanceV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/performance`,JSON.stringify(r))).json()}async updateSimple(a){return await(await this.baseClient.callTypedAPI("PUT","/staff/update-simple",JSON.stringify(a))).json()}async updateSimpleV1(a){return await(await this.baseClient.callTypedAPI("PUT","/v1/staff/update-simple",JSON.stringify(a))).json()}async updateStatus(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updateStatusV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updateV1(a){return await(await this.baseClient.callTypedAPI("PUT","/v1/staff/update",JSON.stringify(a))).json()}async validateAttendance(a){return await(await this.baseClient.callTypedAPI("POST","/staff/attendance/validate",JSON.stringify(a))).json()}async validateAttendanceV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/attendance/validate",JSON.stringify(a))).json()}async validateLeaveRequest(a){return await(await this.baseClient.callTypedAPI("POST","/staff/leave/validate",JSON.stringify(a))).json()}async validateLeaveRequestV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/leave/validate",JSON.stringify(a))).json()}async validateSalary(a){return await(await this.baseClient.callTypedAPI("POST","/staff/salary/validate",JSON.stringify(a))).json()}async validateSalaryV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/salary/validate",JSON.stringify(a))).json()}async validateSchedule(a){return await(await this.baseClient.callTypedAPI("POST","/staff/schedules/validate",JSON.stringify(a))).json()}async validateScheduleV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/schedules/validate",JSON.stringify(a))).json()}}e.ServiceClient=s})(Sv||(Sv={}));var Cv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.addAttachment=this.addAttachment.bind(this),this.addAttachmentV1=this.addAttachmentV1.bind(this),this.addStorageLocationColumns=this.addStorageLocationColumns.bind(this),this.assign=this.assign.bind(this),this.assignV1=this.assignV1.bind(this),this.create=this.create.bind(this),this.createV1=this.createV1.bind(this),this.deleteTask=this.deleteTask.bind(this),this.deleteTaskImage=this.deleteTaskImage.bind(this),this.deleteTaskImageV1=this.deleteTaskImageV1.bind(this),this.deleteTaskV1=this.deleteTaskV1.bind(this),this.getTaskImages=this.getTaskImages.bind(this),this.getTaskImagesV1=this.getTaskImagesV1.bind(this),this.list=this.list.bind(this),this.listV1=this.listV1.bind(this),this.quickSetupAttachments=this.quickSetupAttachments.bind(this),this.setPrimaryImage=this.setPrimaryImage.bind(this),this.setPrimaryImageV1=this.setPrimaryImageV1.bind(this),this.setupTaskAttachmentsTable=this.setupTaskAttachmentsTable.bind(this),this.subscribeTasksRealtime=this.subscribeTasksRealtime.bind(this),this.subscribeTasksRealtimeV1=this.subscribeTasksRealtimeV1.bind(this),this.update=this.update.bind(this),this.updateHours=this.updateHours.bind(this),this.updateHoursV1=this.updateHoursV1.bind(this),this.updateStatus=this.updateStatus.bind(this),this.updateStatusV1=this.updateStatusV1.bind(this),this.updateV1=this.updateV1.bind(this),this.uploadTaskImage=this.uploadTaskImage.bind(this),this.uploadTaskImageV1=this.uploadTaskImageV1.bind(this)}async addAttachment(a){return await(await this.baseClient.callTypedAPI("POST","/tasks/attachments",JSON.stringify(a))).json()}async addAttachmentV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/tasks/attachments",JSON.stringify(a))).json()}async addStorageLocationColumns(){await this.baseClient.callTypedAPI("POST","/tasks/add-storage-location-columns")}async assign(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/tasks/${encodeURIComponent(a)}/assign`,JSON.stringify(r))).json()}async assignV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/tasks/${encodeURIComponent(a)}/assign`,JSON.stringify(r))).json()}async create(a){return await(await this.baseClient.callTypedAPI("POST","/tasks",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/tasks",JSON.stringify(a))).json()}async deleteTask(a){return await(await this.baseClient.callTypedAPI("DELETE",`/tasks/${encodeURIComponent(a)}`)).json()}async deleteTaskImage(a,r){return await(await this.baseClient.callTypedAPI("DELETE",`/tasks/${encodeURIComponent(a)}/images/${encodeURIComponent(r)}`)).json()}async deleteTaskImageV1(a,r){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/tasks/${encodeURIComponent(a)}/images/${encodeURIComponent(r)}`)).json()}async deleteTaskV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/tasks/${encodeURIComponent(a)}`)).json()}async getTaskImages(a){return await(await this.baseClient.callTypedAPI("GET",`/tasks/${encodeURIComponent(a)}/images`)).json()}async getTaskImagesV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/tasks/${encodeURIComponent(a)}/images`)).json()}async list(a){const r=De({assignee:a.assignee===void 0?void 0:String(a.assignee),overdue:a.overdue===void 0?void 0:String(a.overdue),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),status:a.status===void 0?void 0:String(a.status),type:a.type===void 0?void 0:String(a.type)});return await(await this.baseClient.callTypedAPI("GET","/tasks",void 0,{query:r})).json()}async listV1(a){const r=De({assignee:a.assignee===void 0?void 0:String(a.assignee),overdue:a.overdue===void 0?void 0:String(a.overdue),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),status:a.status===void 0?void 0:String(a.status),type:a.type===void 0?void 0:String(a.type)});return await(await this.baseClient.callTypedAPI("GET","/v1/tasks",void 0,{query:r})).json()}async quickSetupAttachments(){await this.baseClient.callTypedAPI("POST","/tasks/quick-setup-attachments")}async setPrimaryImage(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/tasks/${encodeURIComponent(a)}/images/${encodeURIComponent(r)}/primary`)).json()}async setPrimaryImageV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/tasks/${encodeURIComponent(a)}/images/${encodeURIComponent(r)}/primary`)).json()}async setupTaskAttachmentsTable(){await this.baseClient.callTypedAPI("POST","/tasks/setup-attachments-table")}async subscribeTasksRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/tasks/realtime/subscribe",void 0,{query:r})).json()}async subscribeTasksRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/tasks/realtime/subscribe",void 0,{query:r})).json()}async update(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/tasks/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateHours(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/tasks/${encodeURIComponent(a)}/hours`,JSON.stringify(r))).json()}async updateHoursV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/tasks/${encodeURIComponent(a)}/hours`,JSON.stringify(r))).json()}async updateStatus(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/tasks/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updateStatusV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/tasks/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updateV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/tasks/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async uploadTaskImage(a,r){return await(await this.baseClient.callTypedAPI("POST",`/tasks/${encodeURIComponent(a)}/images`,JSON.stringify(r))).json()}async uploadTaskImageV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/tasks/${encodeURIComponent(a)}/images`,JSON.stringify(r))).json()}}e.ServiceClient=s})(Cv||(Cv={}));var Tv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.ingestClientTelemetry=this.ingestClientTelemetry.bind(this),this.ingestClientTelemetryV1=this.ingestClientTelemetryV1.bind(this)}async ingestClientTelemetry(a){return await(await this.baseClient.callTypedAPI("POST","/telemetry/client",JSON.stringify(a))).json()}async ingestClientTelemetryV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/telemetry/client",JSON.stringify(a))).json()}}e.ServiceClient=s})(Tv||(Tv={}));var kv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.checkFilesTable=this.checkFilesTable.bind(this),this.checkFilesTableV1=this.checkFilesTableV1.bind(this),this.cleanupOrphanedFiles=this.cleanupOrphanedFiles.bind(this),this.cleanupOrphanedFilesV1=this.cleanupOrphanedFilesV1.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileV1=this.deleteFileV1.bind(this),this.downloadFile=this.downloadFile.bind(this),this.downloadFileV1=this.downloadFileV1.bind(this),this.getFileInfo=this.getFileInfo.bind(this),this.getFileInfoV1=this.getFileInfoV1.bind(this),this.serveTaskImage=this.serveTaskImage.bind(this),this.serveTaskImageV1=this.serveTaskImageV1.bind(this),this.setupFilesTable=this.setupFilesTable.bind(this),this.updateFile=this.updateFile.bind(this),this.updateFileV1=this.updateFileV1.bind(this),this.uploadFile=this.uploadFile.bind(this),this.uploadFileV1=this.uploadFileV1.bind(this)}async checkFilesTable(){return await(await this.baseClient.callTypedAPI("GET","/uploads/check-files-table")).json()}async checkFilesTableV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/uploads/check-files-table")).json()}async cleanupOrphanedFiles(){return await(await this.baseClient.callTypedAPI("POST","/uploads/cleanup-orphaned")).json()}async cleanupOrphanedFilesV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/uploads/cleanup-orphaned")).json()}async deleteFile(a){return await(await this.baseClient.callTypedAPI("DELETE",`/uploads/file/${encodeURIComponent(a)}`)).json()}async deleteFileV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/uploads/file/${encodeURIComponent(a)}`)).json()}async downloadFile(a){return await(await this.baseClient.callTypedAPI("GET",`/uploads/${encodeURIComponent(a)}/download`)).json()}async downloadFileV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/uploads/${encodeURIComponent(a)}/download`)).json()}async getFileInfo(a){return await(await this.baseClient.callTypedAPI("GET",`/uploads/${encodeURIComponent(a)}/info`)).json()}async getFileInfoV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/uploads/${encodeURIComponent(a)}/info`)).json()}async serveTaskImage(a){return await(await this.baseClient.callTypedAPI("GET",`/uploads/tasks/${encodeURIComponent(a)}`)).json()}async serveTaskImageV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/uploads/tasks/${encodeURIComponent(a)}`)).json()}async setupFilesTable(){await this.baseClient.callTypedAPI("POST","/uploads/setup-files-table")}async updateFile(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/uploads/file/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateFileV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/uploads/file/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async uploadFile(a){return await(await this.baseClient.callTypedAPI("POST","/uploads/file",JSON.stringify(a))).json()}async uploadFileV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/uploads/file",JSON.stringify(a))).json()}}e.ServiceClient=s})(kv||(kv={}));var Ev;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.assignProperties=this.assignProperties.bind(this),this.assignPropertiesV1=this.assignPropertiesV1.bind(this),this.create=this.create.bind(this),this.createV1=this.createV1.bind(this),this.deleteUser=this.deleteUser.bind(this),this.deleteUserV1=this.deleteUserV1.bind(this),this.fixSchema=this.fixSchema.bind(this),this.fixSchemaV1=this.fixSchemaV1.bind(this),this.get=this.get.bind(this),this.getProperties=this.getProperties.bind(this),this.getPropertiesV1=this.getPropertiesV1.bind(this),this.getV1=this.getV1.bind(this),this.list=this.list.bind(this),this.listV1=this.listV1.bind(this),this.subscribeUsersRealtime=this.subscribeUsersRealtime.bind(this),this.subscribeUsersRealtimeV1=this.subscribeUsersRealtimeV1.bind(this),this.update=this.update.bind(this),this.updateActivity=this.updateActivity.bind(this),this.updateActivityV1=this.updateActivityV1.bind(this),this.updateV1=this.updateV1.bind(this)}async assignProperties(a){return await(await this.baseClient.callTypedAPI("POST","/users/assign-properties",JSON.stringify(a))).json()}async assignPropertiesV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/users/assign-properties",JSON.stringify(a))).json()}async create(a){return await(await this.baseClient.callTypedAPI("POST","/users",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/users",JSON.stringify(a))).json()}async deleteUser(a){return await(await this.baseClient.callTypedAPI("DELETE",`/users/${encodeURIComponent(a)}`)).json()}async deleteUserV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/users/${encodeURIComponent(a)}`)).json()}async fixSchema(){return await(await this.baseClient.callTypedAPI("POST","/users/fix-schema")).json()}async fixSchemaV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/users/fix-schema")).json()}async get(a){return await(await this.baseClient.callTypedAPI("GET",`/users/${encodeURIComponent(a)}`)).json()}async getProperties(a){const r=De({id:a.id===void 0?void 0:String(a.id)});return await(await this.baseClient.callTypedAPI("GET","/users/properties",void 0,{query:r})).json()}async getPropertiesV1(a){const r=De({id:a.id===void 0?void 0:String(a.id)});return await(await this.baseClient.callTypedAPI("GET","/v1/users/properties",void 0,{query:r})).json()}async getV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/users/${encodeURIComponent(a)}`)).json()}async list(a){const r=De({role:a.role===void 0?void 0:String(a.role)});return await(await this.baseClient.callTypedAPI("GET","/users",void 0,{query:r})).json()}async listV1(a){const r=De({role:a.role===void 0?void 0:String(a.role)});return await(await this.baseClient.callTypedAPI("GET","/v1/users",void 0,{query:r})).json()}async subscribeUsersRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/users/realtime/subscribe",void 0,{query:r})).json()}async subscribeUsersRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/users/realtime/subscribe",void 0,{query:r})).json()}async update(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/users/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateActivity(a){return await(await this.baseClient.callTypedAPI("POST","/users/activity",JSON.stringify(a))).json()}async updateActivityV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/users/activity",JSON.stringify(a))).json()}async updateV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/users/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}}e.ServiceClient=s})(Ev||(Ev={}));var Av;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.autoRepairDataConsistency=this.autoRepairDataConsistency.bind(this),this.autoRepairDataConsistencyV1=this.autoRepairDataConsistencyV1.bind(this),this.validateDataConsistency=this.validateDataConsistency.bind(this),this.validateDataConsistencyV1=this.validateDataConsistencyV1.bind(this)}async autoRepairDataConsistency(a){return await(await this.baseClient.callTypedAPI("POST","/validation/auto-repair",JSON.stringify(a))).json()}async autoRepairDataConsistencyV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/validation/auto-repair",JSON.stringify(a))).json()}async validateDataConsistency(a){return await(await this.baseClient.callTypedAPI("POST","/validation/check-consistency",JSON.stringify(a))).json()}async validateDataConsistencyV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/validation/check-consistency",JSON.stringify(a))).json()}}e.ServiceClient=s})(Av||(Av={}));function Hp(e){const s=[];for(const n in e){const a=Array.isArray(e[n])?e[n]:[e[n]];for(const r of a)s.push(`${n}=${encodeURIComponent(r)}`)}return s.join("&")}function De(e){for(const s in e)e[s]===void 0&&delete e[s];return e}function hF(e){return"encore.dev.headers."+btoa(JSON.stringify(e)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}class qb{constructor(s,n){Ve(this,"ws");Ve(this,"hasUpdateHandlers",[]);let a=["encore-ws"];n&&a.push(hF(n)),this.ws=new WebSocket(s,a),this.on("error",()=>{this.resolveHasUpdateHandlers()}),this.on("close",()=>{this.resolveHasUpdateHandlers()})}resolveHasUpdateHandlers(){const s=this.hasUpdateHandlers;this.hasUpdateHandlers=[];for(const n of s)n()}async hasUpdate(){await new Promise(s=>{this.hasUpdateHandlers.push(()=>s(null))})}on(s,n){this.ws.addEventListener(s,n)}off(s,n){this.ws.removeEventListener(s,n)}close(){this.ws.close()}}class mF{constructor(s,n){Ve(this,"socket");Ve(this,"buffer",[]);this.socket=new qb(s,n),this.socket.on("message",a=>{this.buffer.push(JSON.parse(a.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async send(s){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(s))}async next(){for await(const s of this)return s}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class pF{constructor(s,n){Ve(this,"socket");Ve(this,"buffer",[]);this.socket=new qb(s,n),this.socket.on("message",a=>{this.buffer.push(JSON.parse(a.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async next(){for await(const s of this)return s}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class fF{constructor(s,n){Ve(this,"socket");Ve(this,"responseValue");let a;this.responseValue=new Promise(r=>a=r),this.socket=new qb(s,n),this.socket.on("message",r=>{a(JSON.parse(r.data))})}async response(){return this.responseValue}close(){this.socket.close()}async send(s){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(s))}}const gF=fetch.bind(void 0);class xF{constructor(s,n){Ve(this,"baseURL");Ve(this,"fetcher");Ve(this,"headers");Ve(this,"requestInit");Ve(this,"authGenerator");if(this.baseURL=s,this.headers={},uF||(this.headers["User-Agent"]="hospitality-management-platform-cr8i-Generated-TS-Client (Encore/v1.52.1)"),this.requestInit=n.requestInit??{},n.fetcher!==void 0?this.fetcher=n.fetcher:this.fetcher=gF,n.auth!==void 0){const a=n.auth;typeof a=="function"?this.authGenerator=a:this.authGenerator=()=>a}}async getAuthData(){let s;if(this.authGenerator){const n=this.authGenerator();n instanceof Promise?s=await n:s=n}if(s){const n={};return n.query=De({access_token:s.access_token}),n.headers=De({authorization:s.authorization}),n}}async createStreamInOut(s,n){let{query:a,headers:r}=n??{};const l=await this.getAuthData();l&&(l.query&&(a={...a,...l.query}),l.headers&&(r={...r,...l.headers}));const c=a?"?"+Hp(a):"";return new mF(this.baseURL+s+c,r)}async createStreamIn(s,n){let{query:a,headers:r}=n??{};const l=await this.getAuthData();l&&(l.query&&(a={...a,...l.query}),l.headers&&(r={...r,...l.headers}));const c=a?"?"+Hp(a):"";return new pF(this.baseURL+s+c,r)}async createStreamOut(s,n){let{query:a,headers:r}=n??{};const l=await this.getAuthData();l&&(l.query&&(a={...a,...l.query}),l.headers&&(r={...r,...l.headers}));const c=a?"?"+Hp(a):"";return new fF(this.baseURL+s+c,r)}async callTypedAPI(s,n,a,r){return this.callAPI(s,n,a,{...r,headers:{"Content-Type":"application/json",...r==null?void 0:r.headers}})}async callAPI(s,n,a,r){let{query:l,headers:c,...u}=r??{};const m={...this.requestInit,...u,method:s,body:a??null};m.headers={...this.headers,...m.headers,...c};const p=await this.getAuthData();p&&(p.query&&(l={...l,...p.query}),p.headers&&(m.headers={...m.headers,...p.headers}));const f=l?"?"+Hp(l):"",g=await this.fetcher(this.baseURL+n+f,m);if(!g.ok){let v={code:"unknown",message:`request failed: status ${g.status}`};try{const w=await g.text();try{const N=JSON.parse(w);yF(N)?v=N:v.message+=": "+JSON.stringify(N)}catch{v.message+=": "+w}}catch(w){v.message+=": "+String(w)}throw new _f(g.status,v)}return g}}function yF(e){return e!=null&&vF(e.code)&&typeof e.message=="string"&&(e.details===void 0||e.details===null||typeof e.details=="object")}function vF(e){return e!==void 0&&Object.values(lA).includes(e)}class _f extends Error{constructor(n,a){super(a.message);Ve(this,"status");Ve(this,"code");Ve(this,"details");Object.defineProperty(this,"name",{value:"APIError",enumerable:!1,configurable:!0}),Object.setPrototypeOf==null?this.__proto__=_f.prototype:Object.setPrototypeOf(this,_f.prototype),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.status=n,this.code=a.code,this.details=a.details}}var lA=(e=>(e.OK="ok",e.Canceled="canceled",e.Unknown="unknown",e.InvalidArgument="invalid_argument",e.DeadlineExceeded="deadline_exceeded",e.NotFound="not_found",e.AlreadyExists="already_exists",e.PermissionDenied="permission_denied",e.ResourceExhausted="resource_exhausted",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.Unimplemented="unimplemented",e.Internal="internal",e.Unavailable="unavailable",e.DataLoss="data_loss",e.Unauthenticated="unauthenticated",e))(lA||{});/*! Capacitor: https://capacitorjs.com/ - MIT License */var Gd;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Gd||(Gd={}));class Cd extends Error{constructor(s,n,a){super(s),this.message=s,this.code=n,this.data=a}}const bF=e=>{var s,n;return e!=null&&e.androidBridge?"android":!((n=(s=e==null?void 0:e.webkit)===null||s===void 0?void 0:s.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},wF=e=>{const s=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},a=n.Plugins=n.Plugins||{},r=()=>s!==null?s.name:bF(e),l=()=>r()!=="web",c=g=>{const v=p.get(g);return!!(v!=null&&v.platforms.has(r())||u(g))},u=g=>{var v;return(v=n.PluginHeaders)===null||v===void 0?void 0:v.find(w=>w.name===g)},m=g=>e.console.error(g),p=new Map,f=(g,v={})=>{const w=p.get(g);if(w)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),w.proxy;const N=r(),j=u(g);let S;const E=async()=>(!S&&N in v?S=typeof v[N]=="function"?S=await v[N]():S=v[N]:s!==null&&!S&&"web"in v&&(S=typeof v.web=="function"?S=await v.web():S=v.web),S),T=(F,z)=>{var J,K;if(j){const X=j==null?void 0:j.methods.find(ce=>z===ce.name);if(X)return X.rtype==="promise"?ce=>n.nativePromise(g,z.toString(),ce):(ce,q)=>n.nativeCallback(g,z.toString(),ce,q);if(F)return(J=F[z])===null||J===void 0?void 0:J.bind(F)}else{if(F)return(K=F[z])===null||K===void 0?void 0:K.bind(F);throw new Cd(`"${g}" plugin is not implemented on ${N}`,Gd.Unimplemented)}},C=F=>{let z;const J=(...K)=>{const X=E().then(ce=>{const q=T(ce,F);if(q){const ie=q(...K);return z=ie==null?void 0:ie.remove,ie}else throw new Cd(`"${g}.${F}()" is not implemented on ${N}`,Gd.Unimplemented)});return F==="addListener"&&(X.remove=async()=>z()),X};return J.toString=()=>`${F.toString()}() { [capacitor code] }`,Object.defineProperty(J,"name",{value:F,writable:!1,configurable:!1}),J},P=C("addListener"),D=C("removeListener"),A=(F,z)=>{const J=P({eventName:F},z),K=async()=>{const ce=await J;D({eventName:F,callbackId:ce},z)},X=new Promise(ce=>J.then(()=>ce({remove:K})));return X.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await K()},X},R=new Proxy({},{get(F,z){switch(z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return j?A:P;case"removeListener":return D;default:return C(z)}}});return a[g]=R,p.set(g,{name:g,proxy:R,platforms:new Set([...Object.keys(v),...j?[N]:[]])}),R};return n.convertFileSrc||(n.convertFileSrc=g=>g),n.getPlatform=r,n.handleError=m,n.isNativePlatform=l,n.isPluginAvailable=c,n.registerPlugin=f,n.Exception=Cd,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},jF=e=>e.Capacitor=wF(e),Hd=jF(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ar=Hd.registerPlugin;class cg{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(s,n){let a=!1;this.listeners[s]||(this.listeners[s]=[],a=!0),this.listeners[s].push(n);const l=this.windowListeners[s];l&&!l.registered&&this.addWindowListener(l),a&&this.sendRetainedArgumentsForEvent(s);const c=async()=>this.removeListener(s,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const s in this.windowListeners)this.removeWindowListener(this.windowListeners[s]);this.windowListeners={}}notifyListeners(s,n,a){const r=this.listeners[s];if(!r){if(a){let l=this.retainedEventArguments[s];l||(l=[]),l.push(n),this.retainedEventArguments[s]=l}return}r.forEach(l=>l(n))}hasListeners(s){var n;return!!(!((n=this.listeners[s])===null||n===void 0)&&n.length)}registerWindowListener(s,n){this.windowListeners[n]={registered:!1,windowEventName:s,pluginEventName:n,handler:a=>{this.notifyListeners(n,a)}}}unimplemented(s="not implemented"){return new Hd.Exception(s,Gd.Unimplemented)}unavailable(s="not available"){return new Hd.Exception(s,Gd.Unavailable)}async removeListener(s,n){const a=this.listeners[s];if(!a)return;const r=a.indexOf(n);this.listeners[s].splice(r,1),this.listeners[s].length||this.removeWindowListener(this.windowListeners[s])}addWindowListener(s){window.addEventListener(s.windowEventName,s.handler),s.registered=!0}removeWindowListener(s){s&&(window.removeEventListener(s.windowEventName,s.handler),s.registered=!1)}sendRetainedArgumentsForEvent(s){const n=this.retainedEventArguments[s];n&&(delete this.retainedEventArguments[s],n.forEach(a=>{this.notifyListeners(s,a)}))}}const DC=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),IC=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class NF extends cg{async getCookies(){const s=document.cookie,n={};return s.split(";").forEach(a=>{if(a.length<=0)return;let[r,l]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=IC(r).trim(),l=IC(l).trim(),n[r]=l}),n}async setCookie(s){try{const n=DC(s.key),a=DC(s.value),r=`; expires=${(s.expires||"").replace("expires=","")}`,l=(s.path||"/").replace("path=",""),c=s.url!=null&&s.url.length>0?`domain=${s.url}`:"";document.cookie=`${n}=${a||""}${r}; path=${l}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(s){try{document.cookie=`${s.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const s=document.cookie.split(";")||[];for(const n of s)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(s){return Promise.reject(s)}}async clearAllCookies(){try{await this.clearCookies()}catch(s){return Promise.reject(s)}}}ar("CapacitorCookies",{web:()=>new NF});const SF=async e=>new Promise((s,n)=>{const a=new FileReader;a.onload=()=>{const r=a.result;s(r.indexOf(",")>=0?r.split(",")[1]:r)},a.onerror=r=>n(r),a.readAsDataURL(e)}),CF=(e={})=>{const s=Object.keys(e);return Object.keys(e).map(r=>r.toLocaleLowerCase()).reduce((r,l,c)=>(r[l]=e[s[c]],r),{})},TF=(e,s=!0)=>e?Object.entries(e).reduce((a,r)=>{const[l,c]=r;let u,m;return Array.isArray(c)?(m="",c.forEach(p=>{u=s?encodeURIComponent(p):p,m+=`${l}=${u}&`}),m.slice(0,-1)):(u=s?encodeURIComponent(c):c,m=`${l}=${u}`),`${a}&${m}`},"").substr(1):null,kF=(e,s={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},s),r=CF(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,u]of Object.entries(e.data||{}))l.set(c,u);n.body=l.toString()}else if(r.includes("multipart/form-data")||e.data instanceof FormData){const l=new FormData;if(e.data instanceof FormData)e.data.forEach((u,m)=>{l.append(m,u)});else for(const u of Object.keys(e.data))l.append(u,e.data[u]);n.body=l;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(r.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class EF extends cg{async request(s){const n=kF(s,s.webFetchExtra),a=TF(s.params,s.shouldEncodeUrlParams),r=a?`${s.url}?${a}`:s.url,l=await fetch(r,n),c=l.headers.get("content-type")||"";let{responseType:u="text"}=l.ok?s:{};c.includes("application/json")&&(u="json");let m,p;switch(u){case"arraybuffer":case"blob":p=await l.blob(),m=await SF(p);break;case"json":m=await l.json();break;case"document":case"text":default:m=await l.text()}const f={};return l.headers.forEach((g,v)=>{f[v]=g}),{data:m,headers:f,status:l.status,url:l.url}}async get(s){return this.request(Object.assign(Object.assign({},s),{method:"GET"}))}async post(s){return this.request(Object.assign(Object.assign({},s),{method:"POST"}))}async put(s){return this.request(Object.assign(Object.assign({},s),{method:"PUT"}))}async patch(s){return this.request(Object.assign(Object.assign({},s),{method:"PATCH"}))}async delete(s){return this.request(Object.assign(Object.assign({},s),{method:"DELETE"}))}}ar("CapacitorHttp",{web:()=>new EF});var PC;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(PC||(PC={}));var RC;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(RC||(RC={}));class AF extends cg{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}ar("SystemBars",{web:()=>new AF});const Dv={BASE_URL:"/",DEV:!1,MODE:"development",PROD:!0,SSR:!1,VITE_CLIENT_TARGET:"http://localhost:4000"};var ff={};function DF(){try{return Hd.isNativePlatform()}catch{return!1}}function IF(){try{if(typeof import.meta<"u"&&Dv)return"development"}catch{}if(typeof process<"u"&&ff)return"production";if(typeof window<"u"){const e=window.location.hostname;if(e==="localhost"||e==="127.0.0.1")return"development"}return"production"}function $b(){return IF()==="development"}function OC(e,s=""){try{if(typeof import.meta<"u"&&Dv)return Dv[e]||s}catch{}return typeof process<"u"&&ff&&ff[e]?ff[e]:s}const cA="/v1";function Iv(){const e=OC("VITE_API_URL"),s=OC("REACT_APP_API_URL");if(e)return e;if(s)return s;if(DF())return"https://api.curat.ai";if(typeof window<"u"){const n=window.location.hostname;if(n.includes("staging-hospitality-management-platform-cr8i.frontend.encr.app")||n.includes("hospitality-management-platform-cr8i.frontend.encr.app"))return"https://api.curat.ai"}return"http://localhost:4000"}function PF(){return`${Iv()}${cA}`}const xt={BASE_URL:Iv(),BASE_URL_UNVERSIONED:Iv(),API_VERSION:cA,TIMEOUT:3e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3,DEBUG:$b()},od={NETWORK_ERROR:"Network error. Please check your connection and try again.",UPLOAD_FAILED:"Failed to upload image. Please try again.",UNAUTHORIZED:"You are not authorized to perform this action.",SERVER_ERROR:"Server error. Please try again later."},RF={BASE_URL:"/",DEV:!1,MODE:"development",PROD:!0,SSR:!1,VITE_CLIENT_TARGET:"http://localhost:4000"};var OF={};const Jl=class Jl{constructor(){Ve(this,"cachedInfo",null);Ve(this,"lastDetectionTime",0);Ve(this,"CACHE_DURATION",5e3)}static getInstance(){return Jl.instance||(Jl.instance=new Jl),Jl.instance}getEnvironmentInfo(){const s=Date.now();if(this.cachedInfo&&s-this.lastDetectionTime<this.CACHE_DURATION)return this.cachedInfo;const n=this.detectEnvironment();return this.cachedInfo=n,this.lastDetectionTime=s,n}detectEnvironment(){const s=this.getNodeEnv(),n=this.getViteEnv(),a=this.getHostname(),r=this.getProtocol(),l=this.getPort(),c=this.getUserAgent(),u=this.determineEnvironmentName(s,n,a);return{name:u,isDevelopment:u==="development",isProduction:u==="production",isStaging:u==="staging",isTest:u==="test",isLocal:this.isLocalEnvironment(a),isServer:typeof window>"u",isClient:typeof window<"u",nodeEnv:s,viteEnv:n,hostname:a,protocol:r,port:l,userAgent:c,timestamp:new Date().toISOString()}}getNodeEnv(){return typeof process<"u"&&OF?"production":"development"}getViteEnv(){try{if(typeof import.meta<"u"&&RF)return"development"}catch{}return"development"}getHostname(){return typeof window<"u"&&window.location?window.location.hostname:"localhost"}getProtocol(){return typeof window<"u"&&window.location?window.location.protocol:"http:"}getPort(){if(typeof window<"u"&&window.location){const s=window.location.port;return s?parseInt(s,10):null}return null}getUserAgent(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent:"unknown"}determineEnvironmentName(s,n,a){return s==="test"||n==="test"?"test":this.isStagingEnvironment(s,n,a)?"staging":this.isProductionEnvironment(s,n,a)?"production":"development"}isStagingEnvironment(s,n,a){return["staging","stage","preview","demo","test-env","dev-staging"].some(l=>s.toLowerCase().includes(l)||n.toLowerCase().includes(l)||a.toLowerCase().includes(l))||a.includes("staging.")||a.includes("stage.")||a.includes("preview.")}isProductionEnvironment(s,n,a){const r=["production","prod","live"],l=["localhost","127.0.0.1","0.0.0.0","::1"],c=r.some(p=>s.toLowerCase().includes(p)||n.toLowerCase().includes(p)),u=!l.some(p=>a.toLowerCase().includes(p)),m=this.isProductionDomain(a);return(c||u&&m)&&!this.isStagingEnvironment(s,n,a)}isProductionDomain(s){const a=[".com",".org",".net",".io",".co",".app"].some(l=>s.toLowerCase().endsWith(l)),r=/^\d+\.\d+\.\d+\.\d+$/.test(s);return a&&!r}isLocalEnvironment(s){return["localhost","127.0.0.1","0.0.0.0","::1","192.168.","10.0.","172.16.","172.17.","172.18.","172.19.","172.20.","172.21.","172.22.","172.23.","172.24.","172.25.","172.26.","172.27.","172.28.","172.29.","172.30.","172.31."].some(a=>s.includes(a))}clearCache(){this.cachedInfo=null,this.lastDetectionTime=0}refresh(){return this.clearCache(),this.getEnvironmentInfo()}getEnvironmentConfig(){const s=this.getEnvironmentInfo();return{environment:s.name,debug:s.isDevelopment||s.isStaging,logging:{level:s.isProduction||s.isTest?"error":"debug",enableConsole:!s.isProduction,enableRemote:s.isProduction||s.isStaging},security:{requireHttps:s.isProduction||s.isStaging,enableCors:!s.isProduction,jwtExpiry:s.isProduction?7200*1e3:1440*60*1e3},performance:{enableCaching:s.isProduction||s.isStaging,enableCompression:s.isProduction||s.isStaging,maxFileSize:s.isProduction?5*1024*1024:10*1024*1024},features:{enableDevTools:s.isDevelopment||s.isStaging,enableMockData:s.isDevelopment||s.isTest,enableAnalytics:s.isProduction||s.isStaging,enableErrorReporting:s.isProduction||s.isStaging}}}validateEnvironment(){const s=this.getEnvironmentInfo(),n=[],a=[];return s.isProduction&&s.isLocal&&a.push("Production environment detected on localhost - this may be incorrect"),s.isDevelopment&&!s.isLocal&&!s.isStaging&&a.push("Development environment detected on non-local host - this may be incorrect"),s.isProduction&&!s.isLocal&&s.protocol==="http:"&&n.push("Production environment should use HTTPS"),s.isTest&&!s.isLocal&&a.push("Test environment detected on non-local host - this may be incorrect"),{isValid:n.length===0,errors:n,warnings:a}}getErrorMessages(){const s=this.getEnvironmentInfo();return s.isDevelopment||s.isStaging?{databaseError:"Database error occurred. Check logs for details.",validationError:"Validation error occurred. Check logs for details.",authenticationError:"Authentication error occurred. Check logs for details.",authorizationError:"Authorization error occurred. Check logs for details.",internalError:"Internal server error occurred. Check logs for details."}:{databaseError:"Database error. Please try again later.",validationError:"Invalid request. Please check your input.",authenticationError:"Authentication failed. Please log in again.",authorizationError:"Access denied. You do not have permission to perform this action.",internalError:"Internal server error. Please try again later."}}};Ve(Jl,"instance");let Pv=Jl;const Jr=Pv.getInstance(),so={getCurrentEnvironment:()=>Jr.getEnvironmentInfo().name,isDevelopment:()=>Jr.getEnvironmentInfo().isDevelopment,isProduction:()=>Jr.getEnvironmentInfo().isProduction,isStaging:()=>Jr.getEnvironmentInfo().isStaging,isTest:()=>Jr.getEnvironmentInfo().isTest,isLocal:()=>Jr.getEnvironmentInfo().isLocal,getConfig:()=>Jr.getEnvironmentConfig(),validate:()=>Jr.validateEnvironment(),getErrorMessages:()=>Jr.getErrorMessages(),refresh:()=>Jr.refresh()};console.log("=== BACKEND IMPORT TEST ===");console.log("Client class:",ou);console.log("Local constant:",oA);console.log("Environment function:",dF);console.log("Client type:",typeof ou);console.log("Local type:",typeof oA);const dA=PF();console.log("Using Versioned API URL:",dA);const ii=new ou(dA);console.log("Client instance created:",ii);console.log("Client instance type:",typeof ii);console.log("=== END IMPORT TEST ===");const Td=ii;let xr=null,gf=0;const MC=1e3;function MF(){console.log("Clearing backend cache..."),xr=null,gf=0}typeof window<"u"&&window.addEventListener("clearBackendCache",()=>{MF()});function _C(e){try{const s=e.split(".");if(s.length!==3)return!0;const n=JSON.parse(atob(s[1])),a=Math.floor(Date.now()/1e3);return n.exp&&n.exp<a+30}catch(s){return console.error("Failed to decode token for expiry check:",s),!0}}function pd(){const e=Date.now(),s=localStorage.getItem("accessToken");if(console.log("=== GET AUTHENTICATED BACKEND DEBUG ==="),console.log("Current time:",e),console.log("Last token check:",gf),console.log("Token cache duration:",MC),console.log("Current token from localStorage:",s?`${s.substring(0,20)}...`:"null"),console.log("Cached backend exists:",!!xr),s){console.log("Token length:",s.length),console.log("Token contains whitespace:",/\s/.test(s)),console.log("Token contains newlines:",/\n/.test(s)),console.log("Token contains tabs:",/\t/.test(s));const n=_C(s);if(console.log("Token is expired:",n),n){console.log("Token is expired, triggering refresh...");const a=new CustomEvent("tokenRefreshRequired",{detail:{reason:"token_expired",token:s}});return window.dispatchEvent(a),null}}if(!xr||e-gf>MC||!s){console.log("Creating new authenticated backend instance...");const n=_F(s);if(!n)return console.error("Invalid token, cannot create authenticated backend"),null;if(_C(n)){console.log("Cleaned token is also expired, triggering refresh...");const r=new CustomEvent("tokenRefreshRequired",{detail:{reason:"cleaned_token_expired",token:n}});return window.dispatchEvent(r),null}console.log("Token validated and cleaned successfully"),console.log("Clean token length:",n.length),console.log("Clean token start:",n.substring(0,20)),console.log("Clean token end:",n.substring(n.length-20));const a={auth:async()=>({authorization:`Bearer ${n}`})};console.log("Creating backend with auth config:",a),console.log("Auth config details:",{hasAuth:!!a.auth,authType:typeof a.auth,tokenLength:n.length}),console.log("Client instance type:",typeof ii),console.log("Client instance has with method:",typeof ii.with=="function"),xr=ii.with(a),console.log("Authenticated backend created successfully"),console.log("Created backend type:",typeof xr),console.log("Created backend has auth method:",typeof(xr==null?void 0:xr.auth)=="object"),console.log("Created backend has branding method:",typeof(xr==null?void 0:xr.branding)=="object"),gf=e}else console.log("Using cached authenticated backend instance");return console.log("=== END DEBUG ==="),xr}function _F(e){if(!e||typeof e!="string")return null;const s=e.trim().replace(/[\r\n\t]/g,"").replace(/\s/g,""),n=s.split(".");return n.length!==3?(console.error("Invalid JWT format, token has",n.length,"parts"),null):s.length<100||s.length>400?(console.error("Suspicious token length:",s.length),null):(s!==e&&(console.warn("Token contained whitespace characters, cleaned before using"),localStorage.setItem("accessToken",s)),s)}const LF=()=>{const e=localStorage.getItem("accessToken"),s=localStorage.getItem("refreshToken");if(e){const n=e.trim().replace(/\s/g,"");n!==e&&(console.warn("Access token contained whitespace characters, cleaning..."),localStorage.setItem("accessToken",n))}if(s){const n=s.trim().replace(/\s/g,"");n!==s&&(console.warn("Refresh token contained whitespace characters, cleaning..."),localStorage.setItem("refreshToken",n))}};$b()&&(window.testBackend=()=>{console.log("=== TESTING BACKEND ==="),console.log("Client instance:",ii),console.log("Client type:",typeof ii),console.log("Client has with method:",typeof ii.with=="function");const e=localStorage.getItem("accessToken");if(console.log("Current token:",e),e){const s={auth:{authorization:`Bearer ${e}`}};console.log("Auth config:",s);try{const n=ii.with(s);return console.log("Test backend created:",n),console.log("Test backend type:",typeof n),console.log("Test backend has auth:",!!(n!=null&&n.auth)),console.log("Test backend has branding:",!!(n!=null&&n.branding)),n}catch(n){return console.error("Error creating test backend:",n),null}}else return console.log("No token found"),null},window.testTokenStorage=()=>{console.log("=== TESTING TOKEN STORAGE ===");const e=localStorage.getItem("accessToken"),s=localStorage.getItem("refreshToken");console.log("Access token:",e),console.log("Refresh token:",s),e&&(console.log("Access token length:",e.length),console.log("Access token contains spaces:",e.includes(" ")),console.log("Access token contains newlines:",e.includes(`
`)),console.log("Access token contains tabs:",e.includes("	")),console.log('Access token starts with "Bearer":',e.startsWith("Bearer ")))},window.testAuthenticatedBackend=()=>{console.log("=== TESTING AUTHENTICATED BACKEND ===");const e=pd();return console.log("Authenticated backend:",e),e&&(console.log("Backend type:",typeof e),console.log("Backend has auth:",!!e.auth),console.log("Backend has branding:",!!e.branding),console.log("Backend has tasks:",!!e.tasks)),e},window.cleanAllTokens=()=>{console.log("=== CLEANING ALL TOKENS ==="),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),console.log("Tokens cleared")},window.forceCleanTokens=()=>{console.log("=== FORCE CLEANING TOKENS ==="),localStorage.clear(),console.log("All localStorage cleared")},window.debugTokenCorruption=()=>{console.log("=== DEBUGGING TOKEN CORRUPTION ===");const e=localStorage.getItem("accessToken");e&&(console.log("Raw token:",e),console.log("Token length:",e.length),console.log("Token char codes:",Array.from(e).map(s=>s.charCodeAt(0))),console.log("Contains whitespace:",/\s/.test(e)),console.log("Contains newlines:",/\n/.test(e)),console.log("Contains tabs:",/\t/.test(e)),console.log("Contains carriage returns:",/\r/.test(e)))});LF();if(typeof window<"u"){const e=localStorage.setItem;localStorage.setItem=function(s,n){if(s==="accessToken"||s==="refreshToken"){if(n.length>400){console.error(`SUSPICIOUS TOKEN LENGTH: ${s} has ${n.length} characters! This indicates token corruption.`),console.error("Token value:",n.substring(0,100)+"...");const r=n.split(".");if(r.length>=3){const l=r.slice(0,3).join(".");if(l.length>=100&&l.length<=400){console.log("Attempting to extract valid token from corrupted data..."),console.log("Extracted token length:",l.length),e.call(this,s,l);return}}console.error("Cannot extract valid token, clearing corrupted token"),e.call(this,s,"");return}const a=n.replace(/\s/g,"");if(a!==n){console.warn(`Token ${s} contained whitespace, cleaning before storage`),console.log(`Original ${s} length:`,n.length,"Cleaned length:",a.length),e.call(this,s,a);return}}e.call(this,s,n)}}async function FF(){try{const e=await fetch("https://ipapi.co/json/");if(!e.ok)throw new Error("Failed to fetch location data");const s=await e.json();return{country:s.country,region:s.region,city:s.city,latitude:s.lat,longitude:s.lon,timezone:s.timezone}}catch(e){console.warn("Failed to get geolocation data:",e);try{if("geolocation"in navigator){const s=await new Promise((n,a)=>{navigator.geolocation.getCurrentPosition(n,a,{timeout:5e3,enableHighAccuracy:!1})});return{latitude:s.coords.latitude,longitude:s.coords.longitude,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}}catch(s){console.warn("Browser geolocation failed:",s)}return{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}}async function UF(){try{const e=await fetch("https://api.ipify.org?format=json");if(!e.ok)throw new Error("Failed to fetch IP address");return(await e.json()).ip}catch(e){return console.warn("Failed to get IP address:",e),null}}function VF(){return navigator.userAgent}const Xl=class Xl{constructor(){Ve(this,"refreshPromise",null);Ve(this,"requestQueue",[]);Ve(this,"refreshTimer",null);Ve(this,"backgroundRefreshInterval",null);Ve(this,"isRefreshing",!1);Ve(this,"autoRefreshEnabled",!0);Ve(this,"debugMode",!1);Ve(this,"REFRESH_BEFORE_EXPIRY",60);Ve(this,"MIN_TOKEN_LENGTH",100);Ve(this,"MAX_TOKEN_LENGTH",500);Ve(this,"STORAGE_KEYS",{ACCESS_TOKEN:"accessToken",REFRESH_TOKEN:"refreshToken"});this.startBackgroundRefresh(),this.setupStorageListener();const s=localStorage.getItem("tokenManager_debug")==="true",n=localStorage.getItem("tokenManager_autoRefreshDisabled")==="true";s&&(this.debugMode=!0,console.log("[TokenManager] Debug mode ENABLED")),n&&(this.autoRefreshEnabled=!1,console.warn("[TokenManager] Auto-refresh is DISABLED for debugging"))}static getInstance(){return Xl.instance||(Xl.instance=new Xl),Xl.instance}validateAndCleanToken(s){if(!s||typeof s!="string")return null;const n=s.trim().replace(/[\r\n\t\s]/g,""),a=n.split(".");return a.length!==3?(console.error("[TokenManager] Invalid JWT format:",a.length,"parts"),null):n.length<this.MIN_TOKEN_LENGTH||n.length>this.MAX_TOKEN_LENGTH?(console.error("[TokenManager] Suspicious token length:",n.length),null):n}decodeToken(s){try{const n=s.split(".");return n.length!==3?null:JSON.parse(atob(n[1]))}catch(n){return console.error("[TokenManager] Failed to decode token:",n),null}}isTokenExpiringSoon(s,n=this.REFRESH_BEFORE_EXPIRY){const a=this.decodeToken(s);if(!a||!a.exp)return!0;const r=Math.floor(Date.now()/1e3);return a.exp<=r+n}getAccessToken(){const s=localStorage.getItem(this.STORAGE_KEYS.ACCESS_TOKEN);return this.validateAndCleanToken(s)}getRefreshToken(){const s=localStorage.getItem(this.STORAGE_KEYS.REFRESH_TOKEN);return this.validateAndCleanToken(s)}setTokens(s,n){const a=this.validateAndCleanToken(s),r=this.validateAndCleanToken(n);if(!a||!r)return console.error("[TokenManager] Cannot store invalid tokens"),!1;try{return localStorage.setItem(this.STORAGE_KEYS.ACCESS_TOKEN,a),localStorage.setItem(this.STORAGE_KEYS.REFRESH_TOKEN,r),this.scheduleNextRefresh(),!0}catch(l){return console.error("[TokenManager] Failed to store tokens:",l),!1}}clearTokens(){localStorage.removeItem(this.STORAGE_KEYS.ACCESS_TOKEN),localStorage.removeItem(this.STORAGE_KEYS.REFRESH_TOKEN),this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=null),this.requestQueue.forEach(s=>{s.reject(new Error("Authentication cleared"))}),this.requestQueue=[],this.refreshPromise=null,this.isRefreshing=!1}async getValidAccessToken(){const s=this.getAccessToken();if(!s)throw new Error("No access token available");return this.isTokenExpiringSoon(s)?this.refreshAccessToken():s}async refreshAccessToken(){return this.isRefreshing&&this.refreshPromise?(console.log("[TokenManager] Refresh in progress, queuing request..."),new Promise((s,n)=>{this.requestQueue.push({resolve:s,reject:n})})):(this.isRefreshing=!0,this.refreshPromise=(async()=>{try{const s=this.getRefreshToken();if(!s)throw new Error("No refresh token available");console.log("[TokenManager] Refreshing access token...");const n=await Td.auth.refresh({refreshToken:s}),a=this.validateAndCleanToken(n.accessToken),r=this.validateAndCleanToken(n.refreshToken);if(!a||!r)throw new Error("Received invalid tokens from server");return this.setTokens(a,r),console.log("[TokenManager] Token refresh successful"),this.requestQueue.forEach(l=>{l.resolve(a)}),this.requestQueue=[],window.dispatchEvent(new CustomEvent("tokenRefreshed",{detail:{accessToken:a}})),a}catch(s){console.error("[TokenManager] Token refresh failed:",s);const n=s instanceof Error?s:new Error("Token refresh failed");throw this.requestQueue.forEach(a=>{a.reject(n)}),this.requestQueue=[],this.clearTokens(),window.dispatchEvent(new CustomEvent("authenticationFailed",{detail:{error:n.message}})),n}finally{this.isRefreshing=!1,this.refreshPromise=null}})(),this.refreshPromise)}scheduleNextRefresh(){if(this.refreshTimer&&clearTimeout(this.refreshTimer),!this.autoRefreshEnabled){this.debugMode&&console.log("[TokenManager] Auto-refresh scheduling skipped - disabled for debugging");return}const s=this.getAccessToken();if(!s)return;const n=this.decodeToken(s);if(!n||!n.exp)return;const a=Math.floor(Date.now()/1e3),c=(n.exp-this.REFRESH_BEFORE_EXPIRY-a)*1e3;c>0&&(console.log(`[TokenManager] Next auto-refresh in ${Math.floor(c/1e3)}s`),this.refreshTimer=window.setTimeout(()=>{console.log("[TokenManager] Auto-refresh triggered"),this.refreshAccessToken().catch(u=>{console.error("[TokenManager] Auto-refresh failed:",u)})},c))}startBackgroundRefresh(){this.backgroundRefreshInterval=window.setInterval(()=>{if(!this.autoRefreshEnabled){this.debugMode&&console.log("[TokenManager] Background check skipped - auto-refresh disabled");return}const s=this.getAccessToken();s&&this.isTokenExpiringSoon(s)&&!this.isRefreshing&&(console.log("[TokenManager] Background check detected expiring token"),this.refreshAccessToken().catch(n=>{console.error("[TokenManager] Background refresh failed:",n)}))},3e4),this.scheduleNextRefresh()}setupStorageListener(){window.addEventListener("storage",s=>{(s.key===this.STORAGE_KEYS.ACCESS_TOKEN||s.key===this.STORAGE_KEYS.REFRESH_TOKEN)&&(console.log("[TokenManager] Token changed in another tab, rescheduling refresh"),this.scheduleNextRefresh())})}isAuthenticated(){const s=this.getAccessToken();return s?!this.isTokenExpiringSoon(s,0):!1}getTokenExpiry(){const s=this.getAccessToken();if(!s)return null;const n=this.decodeToken(s);return!n||!n.exp?null:new Date(n.exp*1e3)}async forceRefresh(){return this.refreshAccessToken()}setAutoRefreshEnabled(s){this.autoRefreshEnabled=s,localStorage.setItem("tokenManager_autoRefreshDisabled",s?"false":"true"),s?(console.log("[TokenManager] Auto-refresh ENABLED"),this.scheduleNextRefresh()):(console.warn("[TokenManager] Auto-refresh DISABLED - manual refresh only"),this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=null))}setDebugMode(s){this.debugMode=s,localStorage.setItem("tokenManager_debug",s?"true":"false"),console.log(`[TokenManager] Debug mode ${s?"ENABLED":"DISABLED"}`)}getDebugStatus(){const s=this.getAccessToken(),n=this.getRefreshToken(),a=s?this.decodeToken(s):null,r=Math.floor(Date.now()/1e3);let l=null,c=null,u=null;return a!=null&&a.exp&&(l=a.exp-r,c=a.exp<=r,u=this.isTokenExpiringSoon(s,0)),{autoRefreshEnabled:this.autoRefreshEnabled,debugMode:this.debugMode,isRefreshing:this.isRefreshing,queuedRequests:this.requestQueue.length,hasScheduledRefresh:this.refreshTimer!==null,accessToken:{present:!!s,length:(s==null?void 0:s.length)??null,payload:a?{sub:a.sub,orgId:a.orgId,role:a.role,email:a.email,exp:a.exp,iat:a.iat}:null,expiresAt:a!=null&&a.exp?new Date(a.exp*1e3).toISOString():null,expiresInSeconds:l,isExpired:c,isExpiringSoon:u},refreshToken:{present:!!n,length:(n==null?void 0:n.length)??null},serverTime:"Use backend debug endpoint for server time",clientTime:new Date().toISOString(),timeDiff:"Compare client vs server time to detect clock skew"}}logDebugStatus(){const s=this.getDebugStatus();console.group("[TokenManager] Debug Status"),console.log("Auto-refresh enabled:",s.autoRefreshEnabled),console.log("Debug mode:",s.debugMode),console.log("Is refreshing:",s.isRefreshing),console.log("Queued requests:",s.queuedRequests),console.log("Has scheduled refresh:",s.hasScheduledRefresh),console.log("Client time:",s.clientTime),console.group("Access Token"),console.log("Present:",s.accessToken.present),console.log("Length:",s.accessToken.length),console.log("Expires at:",s.accessToken.expiresAt),console.log("Expires in (seconds):",s.accessToken.expiresInSeconds),console.log("Is expired:",s.accessToken.isExpired),console.log("Is expiring soon:",s.accessToken.isExpiringSoon),console.log("Payload:",s.accessToken.payload),console.groupEnd(),console.group("Refresh Token"),console.log("Present:",s.refreshToken.present),console.log("Length:",s.refreshToken.length),console.groupEnd(),console.groupEnd()}};Ve(Xl,"instance");let Rv=Xl;const cn=Rv.getInstance(),uA=x.createContext(void 0);function $s(){const e=x.useContext(uA);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function BF({children:e}){const[s,n]=x.useState(null),[a,r]=x.useState(null),[l,c]=x.useState(!0),[u,m]=x.useState(!1),[p,f]=x.useState(!1),[g,v]=x.useState(!0),[w,N]=x.useState(!1),[j,S]=x.useState(!1),[E,T]=x.useState(null),C=x.useRef(null),P=x.useRef(!1),D=x.useRef([]),A=x.useRef(0),R=x.useRef((()=>{try{const G=sessionStorage.getItem("auth-tab-id");if(G)return G;const M=Math.random().toString(36).slice(2);return sessionStorage.setItem("auth-tab-id",M),M}catch{return Math.random().toString(36).slice(2)}})()),F=x.useRef(null),z=x.useRef(!1);x.useEffect(()=>{},[u,p,g,w,s]);const J=za();x.useRef(null);const K=async(G,M)=>{try{const V=pd(),[W,$,me]=await Promise.all([FF(),UF(),Promise.resolve(VF())]);await V.users.updateActivity({activityType:M,ipAddress:$||void 0,userAgent:me,locationData:W||void 0}),console.log("User activity tracked:",{activityType:M,locationData:W})}catch(V){console.warn("Failed to track user activity:",V)}},X=async(G,M)=>{try{console.log("[AuthContext] Login started"),f(!0),m(!1),N(!1);const V=await Td.auth.login({email:G,password:M});if(!cn.setTokens(V.accessToken,V.refreshToken))throw new Error("Failed to store tokens safely");r(V.accessToken),n({...V.user,userID:V.user.id.toString()}),console.log("[AuthContext] Clearing query cache after login..."),J.clear(),await new Promise(ge=>setTimeout(ge,200));const $=pd();if(!$)throw console.error("[AuthContext] Failed to create authenticated backend client"),new Error("Failed to create authenticated backend client");console.log("[AuthContext] Calling /auth/me with authenticated backend...");const me=await $.auth.me();n(me.user),K(parseInt(me.user.userID),"login").catch(ge=>{console.warn("[AuthContext] Login activity tracking failed (non-critical):",ge)}),console.log("[AuthContext] Login successful, user set:",me.user)}catch(V){throw console.error("[AuthContext] Login failed:",V),cn.clearTokens(),r(null),n(null),V}finally{console.log("[AuthContext] Login completed"),f(!1)}},ce=()=>{console.log("Clearing corrupted tokens..."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),r(null),n(null),J.clear()},q=()=>{console.log("Clearing all auth data..."),localStorage.clear(),r(null),n(null),J.clear(),window.location.href="/login"},ie=async()=>{var M;if(w){console.log("Logout already in progress, ignoring duplicate call");return}N(!0);const G=!p&&!g&&!!s;console.log(" Logout called - shouldShowProgress:",G,"isLoggingIn:",p,"isInitializing:",g,"user:",!!s),console.log(" Current state values:",{isLoggingIn:p,isInitializing:g,user:!!s,showLogoutProgress:u}),console.log(" State transitions during logout:",{before:{isLoggingOut:!1,showLogoutProgress:u},action:"Starting logout process",timestamp:new Date().toISOString()});try{try{const $={t:"logout",id:window.crypto&&"randomUUID"in window.crypto?window.crypto.randomUUID():Math.random().toString(36).slice(2),ts:Date.now()};(M=F.current)==null||M.postMessage($);try{localStorage.setItem("auth-logout",JSON.stringify($))}catch{}}catch{}if(console.log(" FORCING showLogoutProgress to true for testing"),m(!0),console.log(" setShowLogoutProgress(true) called - should trigger re-render"),G?(console.log("Setting showLogoutProgress to true"),m(!0),await new Promise(W=>setTimeout(W,100)),console.log("Progress dialog should be visible now")):console.log("Skipping logout progress dialog due to login/initialization state or no user"),s&&K(parseInt(s.userID),"logout").catch(W=>{console.warn("Logout activity tracking failed (non-critical):",W)}),await(async()=>{const W=localStorage.getItem("refreshToken");if(W)try{await Td.auth.logout({refreshToken:W}),console.log("Logout API call completed")}catch($){console.error("Logout API call failed:",$)}})(),G){const W=Date.now();console.log("Waiting for logout progress to complete naturally...","Start time:",W),await new Promise(ge=>setTimeout(ge,4500));const $=Date.now(),me=$-W;console.log("Logout progress wait completed","End time:",$,"Total duration:",me+"ms")}else console.log("Not waiting for progress dialog - shouldShowProgress:",G)}catch(V){console.error("Logout error:",V)}finally{console.log("[AuthContext] Finally block - clearing state, shouldShowProgress:",G),cn.clearTokens(),r(null),n(null),console.log("[AuthContext] Clearing query cache after logout..."),J.clear(),G?console.log("Logout progress dialog will complete automatically"):(console.log("Force closing logout progress dialog"),m(!1)),N(!1)}},L=async()=>{var $;if(P.current)return await new Promise((me,ge)=>{D.current.push(ue=>{if(ue){const be=localStorage.getItem("accessToken");be?me(be):ge(new Error("No token after refresh"))}else ge(new Error("Refresh failed"))})});const G=()=>{try{const me="auth_refresh_lock",ge=localStorage.getItem(me),ue=Date.now(),be=ge?JSON.parse(ge):null;return!be||be.exp<ue?(localStorage.setItem(me,JSON.stringify({owner:R.current,exp:ue+1e4})),!0):be.owner===R.current}catch{return!0}},M=()=>{try{localStorage.removeItem("auth_refresh_lock")}catch{}};P.current=!0,($=C.current)==null||$.postMessage({t:"refresh-started"});const V=async()=>{var me,ge;try{console.log("[AuthContext] Refreshing access token via TokenManager...");const ue=await cn.getValidAccessToken();return r(ue),A.current=0,T(null),(me=C.current)==null||me.postMessage({t:"refresh-success",token:ue}),D.current.splice(0).forEach(be=>be(!0)),ue}catch(ue){throw console.error("[AuthContext] Token refresh failed:",ue),A.current+=1,A.current>=2&&T("expired"),(ge=C.current)==null||ge.postMessage({t:"refresh-failed"}),D.current.splice(0).forEach(be=>be(!1)),cn.clearTokens(),r(null),n(null),ue}finally{P.current=!1,M()}};return await(async()=>{var me;return(me=navigator==null?void 0:navigator.locks)!=null&&me.request?await navigator.locks.request("auth-refresh",async()=>await V()):G()?await V():await new Promise((ge,ue)=>{D.current.push(be=>{if(be){const Ee=localStorage.getItem("accessToken");Ee?ge(Ee):ue(new Error("No token after refresh"))}else ue(new Error("Refresh failed"))})})})()};x.useEffect(()=>{if(typeof window<"u"&&"BroadcastChannel"in window){C.current=new BroadcastChannel("auth-refresh"),C.current.onmessage=V=>{const W=V.data||{};W.t==="refresh-success"?(W.token&&(localStorage.setItem("accessToken",W.token),r(W.token)),A.current=0,T(null),D.current.splice(0).forEach($=>$(!0))):W.t==="refresh-failed"&&(A.current+=1,A.current>=2&&T("expired"),D.current.splice(0).forEach($=>$(!1)))};try{F.current=new BroadcastChannel("auth-control"),F.current.onmessage=V=>{if((V.data||{}).t==="logout"){if(z.current)return;z.current=!0;try{cn.clearTokens(),r(null),n(null),J.clear()}catch{}try{window.location.assign("/login")}catch{}}}}catch{}}const G=V=>{if(V.key==="auth-logout"&&V.newValue){if(z.current)return;z.current=!0;try{cn.clearTokens(),r(null),n(null),J.clear()}catch{}try{window.location.assign("/login")}catch{}}};return window.addEventListener("storage",G),(async()=>{try{if(console.log("[AuthContext] Initializing authentication..."),!cn.isAuthenticated()){console.log("[AuthContext] No valid token found"),c(!1);return}try{const V=await cn.getValidAccessToken();r(V);const W=pd();if(!W){console.error("[AuthContext] Failed to create authenticated backend client"),cn.clearTokens(),c(!1);return}const $=await W.auth.me();n($.user),console.log("[AuthContext] Auth initialized with user:",$.user)}catch(V){console.error("[AuthContext] Auth initialization failed:",V),cn.clearTokens()}}catch(V){console.error("Auth initialization error:",V),ce()}finally{console.log("Auth initialization completed - setting isInitializing to false"),c(!1),v(!1)}})(),()=>{var V,W;try{(V=C.current)==null||V.close()}catch{}try{(W=F.current)==null||W.close()}catch{}window.removeEventListener("storage",G)}},[]),x.useEffect(()=>{},[]),x.useEffect(()=>{s&&(console.log("User available, invalidating queries for fresh data..."),u&&p&&!j&&(console.log("Resetting logout progress state after user login"),m(!1),N(!1)),setTimeout(()=>{window.__propertyUpdateInProgress?console.log("Skipping properties invalidation - update in progress"):J.invalidateQueries({queryKey:["properties"]}),J.invalidateQueries({queryKey:["tasks"]}),J.invalidateQueries({queryKey:["users"]}),J.invalidateQueries({queryKey:["expenses"]}),J.invalidateQueries({queryKey:["revenues"]}),J.invalidateQueries({queryKey:["profit-loss"]}),J.invalidateQueries({queryKey:["staff"]}),J.invalidateQueries({queryKey:["schedules"]}),J.invalidateQueries({queryKey:["leave-requests"]}),J.invalidateQueries({queryKey:["analytics","overview"]})},100))},[s,J,u]),x.useEffect(()=>{const G=V=>{console.log("Token automatically refreshed, updating auth state"),r(V.detail.accessToken)},M=async V=>{var W;console.log("Token refresh required, attempting refresh..."),console.log("Refresh event detail:",V.detail);try{const $=await L();if(console.log("Token refreshed successfully, retrying original request..."),V.detail.url&&V.detail.init)(await fetch(V.detail.url,{...V.detail.init,headers:{...(W=V.detail.init)==null?void 0:W.headers,Authorization:`Bearer ${$}`}})).status===401?(console.error("Still getting 401 after token refresh, clearing tokens..."),ce(),window.location.href="/login"):console.log("Request retry successful after token refresh");else if(console.log("Token refresh completed, clearing backend cache..."),typeof window<"u"){const me=new CustomEvent("clearBackendCache");window.dispatchEvent(me)}}catch($){console.error("Token refresh failed:",$),ce(),window.location.href="/login"}};return window.addEventListener("tokenRefreshed",G),window.addEventListener("tokenRefreshRequired",M),()=>{window.removeEventListener("tokenRefreshed",G),window.removeEventListener("tokenRefreshRequired",M)}},[]);const B=async G=>{try{console.log("Starting signup process...");const M=await Td.auth.signup(G);console.log("Signup successful:",M)}catch(M){throw console.error("Signup failed:",M),M}},Y=async()=>{s&&await K(parseInt(s.userID),"activity")},de=async()=>{try{console.log(" Refreshing user data...");const G=pd();if(!G){console.error("No authenticated backend available for user refresh");return}console.log(" Calling /auth/me endpoint...");const M=await G.auth.me();console.log(" Received fresh user data:",M.user),n(M.user),console.log(" User data refreshed successfully in AuthContext")}catch(G){console.error(" Failed to refresh user data:",G)}};return t.jsx(uA.Provider,{value:{user:s,login:X,signup:B,logout:ie,isLoading:l,getAuthenticatedBackend:pd,trackActivity:Y,refreshUser:de,showLogoutProgress:u,setShowLogoutProgress:m,setIsTestingLogoutDialog:S,clearCorruptedTokens:ce,clearAllAuthData:q,authError:E},children:e})}const Ga={brandName:"Hospitality Management Platform",primaryColor:"#3b82f6",secondaryColor:"#64748b",accentColor:"#10b981",backgroundColor:"#ffffff",textColor:"#1f2937",currency:"INR",dateFormat:"DD/MM/YYYY",timeFormat:"24h",timezone:"Asia/Kolkata"},hA=x.createContext(void 0);function _a(){const e=x.useContext(hA);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function zF({children:e}){const[s,n]=x.useState(Ga),[a,r]=x.useState(!1),{user:l,getAuthenticatedBackend:c}=$s();x.useEffect(()=>{const m=async p=>{try{const f=c();if(!f)return;const g=await f.branding.getTheme();g!=null&&g.theme&&(n(v=>({...v,...g.theme})),window.dispatchEvent(new CustomEvent("themeReloaded",{detail:g.theme})))}catch(f){console.warn("Failed to refresh theme on branding event:",f)}};return window.addEventListener("branding-stream-events",m),()=>window.removeEventListener("branding-stream-events",m)},[c]);const u=async m=>{var p,f,g;try{r(!0),console.log("Updating theme with:",m);const v=c(),w=await v.branding.updateTheme(m);console.log("Theme update response:",w),n(N=>{const j={...N,...m};return console.log("Updated local theme state:",j),j}),window.dispatchEvent(new CustomEvent("themeUpdated",{detail:m})),setTimeout(async()=>{try{console.log("Reloading theme after update...");const N=await v.branding.getTheme();console.log("Theme reloaded:",N.theme),n(N.theme),window.dispatchEvent(new CustomEvent("themeReloaded",{detail:N.theme}))}catch(N){console.warn("Failed to reload theme after update:",N)}},1e3)}catch(v){if(console.error("Failed to update theme:",v),v.status===401||(p=v.message)!=null&&p.includes("Invalid token")||(f=v.message)!=null&&f.includes("Unauthorized")||(g=v.message)!=null&&g.includes("Authentication required")){console.error("Authentication error during theme update:",v);try{console.log("Attempting to refresh token and retry theme update..."),await new Promise(S=>setTimeout(S,1e3));const N=c();if(!N)throw new Error("No authenticated backend available");const j=await N.branding.updateTheme(m);console.log("Theme update successful after retry:",j),n(S=>({...S,...m})),window.dispatchEvent(new CustomEvent("themeUpdated",{detail:m}));return}catch(N){console.error("Theme update retry failed:",N);const j="Your session has expired. Please log in again to save your settings.";throw console.error("Theme update authentication error details:",{message:N.message,status:N.status,statusText:N.statusText,response:N.response,stack:N.stack}),new Error(j)}}let w="Failed to update theme settings";throw v.message&&(v.message.includes("Organization not found")?w="Organization not found. Please contact support.":v.message.includes("Invalid theme data")?w="Invalid theme data provided. Please check your settings.":v.message.includes("Failed to update theme configuration")?w="Server error while updating theme. Please try again.":v.message.includes("An internal error occurred")?w="Server error occurred. Please try again later.":w=v.message),console.error("Theme update error details:",{message:v.message,status:v.status,statusText:v.statusText,response:v.response,stack:v.stack}),new Error(w)}finally{r(!1)}};return x.useEffect(()=>{const m=async()=>{if(!l){console.log("No user, using default theme"),n(Ga);return}try{r(!0),console.log("Loading theme for user:",l.email,"org:",l.orgId);const p=c();if(!p){console.warn("No authenticated backend available, using default theme"),n(Ga);return}const f=await p.branding.getTheme();if(console.log("Theme loaded successfully:",f.theme),f.theme&&typeof f.theme=="object"){const g={brandName:f.theme.brandName||Ga.brandName,logoUrl:f.theme.logoUrl,primaryColor:f.theme.primaryColor||Ga.primaryColor,secondaryColor:f.theme.secondaryColor||Ga.secondaryColor,accentColor:f.theme.accentColor||Ga.accentColor,backgroundColor:f.theme.backgroundColor||Ga.backgroundColor,textColor:f.theme.textColor||Ga.textColor,currency:f.theme.currency||Ga.currency,dateFormat:f.theme.dateFormat||Ga.dateFormat,timeFormat:f.theme.timeFormat||Ga.timeFormat,timezone:f.theme.timezone||Ga.timezone};console.log("Setting validated theme:",g),n(g)}else console.warn("Invalid theme response, using default"),n(Ga)}catch(p){if(console.error("Failed to load theme:",p),p.message&&p.message.includes("Authentication required")){console.log("Theme load failed due to authentication, using default theme"),n(Ga);return}p.message&&(p.message.includes("Organization not found")||p.message.includes("Too many properties to enumerate")||p.message.includes("An internal error occurred")||p.message),console.error("Theme load error details:",{message:p.message,status:p.status,statusText:p.statusText,response:p.response,stack:p.stack});const f={brandName:"Hospitality Management Platform",primaryColor:"#3b82f6",secondaryColor:"#64748b",accentColor:"#10b981",backgroundColor:"#ffffff",textColor:"#1f2937",currency:"USD",dateFormat:"MM/DD/YYYY",timeFormat:"12h",timezone:"Asia/Kolkata"};console.log("Using safe default theme due to error"),n(f),p.message&&!p.message.includes("Organization not found")&&console.warn("Theme load failed, using default theme")}finally{r(!1)}};if(l&&l.userID&&l.userID!=="0"){if(!localStorage.getItem("accessToken")){console.log("No access token found, using default theme"),n(Ga);return}console.log("User authenticated, loading theme for:",l.email),m()}else console.log("User not fully authenticated, using default theme"),n(Ga)},[l,c]),x.useEffect(()=>{const m=document.documentElement;console.log("Applying theme to CSS custom properties:",{primaryColor:s.primaryColor,secondaryColor:s.secondaryColor,accentColor:s.accentColor,backgroundColor:s.backgroundColor,textColor:s.textColor}),m.style.setProperty("--primary-color",s.primaryColor),m.style.setProperty("--secondary-color",s.secondaryColor),m.style.setProperty("--accent-color",s.accentColor),m.style.setProperty("--background-color",s.backgroundColor),m.style.setProperty("--text-color",s.textColor),window.dispatchEvent(new CustomEvent("themeChanged",{detail:s})),console.log("Theme applied successfully to CSS custom properties")},[s]),x.useEffect(()=>{l||(console.log("User logged out, resetting theme to default"),n(Ga))},[l]),t.jsx(hA.Provider,{value:{theme:s,updateTheme:u,isLoading:a},children:e})}const mA=x.createContext(void 0);function qF({children:e}){const[s,n]=x.useState(""),[a,r]=x.useState(""),l=(u,m)=>{n(u),r(m)},c=()=>{n(""),r("")};return t.jsx(mA.Provider,{value:{title:s,description:a,setPageTitle:l,clearPageTitle:c},children:e})}function kr(){const e=x.useContext(mA);if(e===void 0)throw new Error("usePageTitle must be used within a PageTitleProvider");return e}const xf=og("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function se({className:e,variant:s,size:n,asChild:a=!1,...r}){const l=a?dE:"button";return t.jsx(l,{"data-slot":"button",className:Xe(xf({variant:s,size:n,className:e})),...r})}function ye({className:e,type:s,...n}){return t.jsx("input",{type:s,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var $F="Label",pA=x.forwardRef((e,s)=>t.jsx(Ot.label,{...e,ref:s,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pA.displayName=$F;var GF=pA;function ee({className:e,...s}){return t.jsx(GF,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}var HF=Rk[" useId ".trim().toString()]||(()=>{}),YF=0;function Zi(e){const[s,n]=x.useState(HF());return Oa(()=>{n(a=>a??String(YF++))},[e]),e||(s?`radix-${s}`:"")}var zy="focusScope.autoFocusOnMount",qy="focusScope.autoFocusOnUnmount",LC={bubbles:!1,cancelable:!0},WF="FocusScope",dg=x.forwardRef((e,s)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:r,onUnmountAutoFocus:l,...c}=e,[u,m]=x.useState(null),p=tr(r),f=tr(l),g=x.useRef(null),v=Ms(s,j=>m(j)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let j=function(C){if(w.paused||!u)return;const P=C.target;u.contains(P)?g.current=P:Yo(g.current,{select:!0})},S=function(C){if(w.paused||!u)return;const P=C.relatedTarget;P!==null&&(u.contains(P)||Yo(g.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const D of C)D.removedNodes.length>0&&Yo(u)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const T=new MutationObserver(E);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),T.disconnect()}}},[a,u,w.paused]),x.useEffect(()=>{if(u){UC.add(w);const j=document.activeElement;if(!u.contains(j)){const E=new CustomEvent(zy,LC);u.addEventListener(zy,p),u.dispatchEvent(E),E.defaultPrevented||(KF(eU(fA(u)),{select:!0}),document.activeElement===j&&Yo(u))}return()=>{u.removeEventListener(zy,p),setTimeout(()=>{const E=new CustomEvent(qy,LC);u.addEventListener(qy,f),u.dispatchEvent(E),E.defaultPrevented||Yo(j??document.body,{select:!0}),u.removeEventListener(qy,f),UC.remove(w)},0)}}},[u,p,f,w]);const N=x.useCallback(j=>{if(!n&&!a||w.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,E=document.activeElement;if(S&&E){const T=j.currentTarget,[C,P]=QF(T);C&&P?!j.shiftKey&&E===P?(j.preventDefault(),n&&Yo(C,{select:!0})):j.shiftKey&&E===C&&(j.preventDefault(),n&&Yo(P,{select:!0})):E===T&&j.preventDefault()}},[n,a,w.paused]);return t.jsx(Ot.div,{tabIndex:-1,...c,ref:v,onKeyDown:N})});dg.displayName=WF;function KF(e,{select:s=!1}={}){const n=document.activeElement;for(const a of e)if(Yo(a,{select:s}),document.activeElement!==n)return}function QF(e){const s=fA(e),n=FC(s,e),a=FC(s.reverse(),e);return[n,a]}function fA(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function FC(e,s){for(const n of e)if(!JF(n,{upTo:s}))return n}function JF(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XF(e){return e instanceof HTMLInputElement&&"select"in e}function Yo(e,{select:s=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&XF(e)&&s&&e.select()}}var UC=ZF();function ZF(){let e=[];return{add(s){const n=e[0];s!==n&&(n==null||n.pause()),e=VC(e,s),e.unshift(s)},remove(s){var n;e=VC(e,s),(n=e[0])==null||n.resume()}}}function VC(e,s){const n=[...e],a=n.indexOf(s);return a!==-1&&n.splice(a,1),n}function eU(e){return e.filter(s=>s.tagName!=="A")}var $y=0;function Gb(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??BC()),document.body.insertAdjacentElement("beforeend",e[1]??BC()),$y++,()=>{$y===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),$y--}},[])}function BC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ai=function(){return ai=Object.assign||function(s){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=n[l])}return s},ai.apply(this,arguments)};function gA(e,s){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)s.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}function Nc(e,s,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(f){try{p(a.next(f))}catch(g){c(g)}}function m(f){try{p(a.throw(f))}catch(g){c(g)}}function p(f){f.done?l(f.value):r(f.value).then(u,m)}p((a=a.apply(e,s||[])).next())})}function tU(e,s,n){if(n||arguments.length===2)for(var a=0,r=s.length,l;a<r;a++)(l||!(a in s))&&(l||(l=Array.prototype.slice.call(s,0,a)),l[a]=s[a]);return e.concat(l||Array.prototype.slice.call(s))}var yf="right-scroll-bar-position",vf="width-before-scroll-bar",sU="with-scroll-bars-hidden",aU="--removed-body-scroll-bar-size";function Gy(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function nU(e,s){var n=x.useState(function(){return{value:e,callback:s,facade:{get current(){return n.value},set current(a){var r=n.value;r!==a&&(n.value=a,n.callback(a,r))}}}})[0];return n.callback=s,n.facade}var rU=typeof window<"u"?x.useLayoutEffect:x.useEffect,zC=new WeakMap;function iU(e,s){var n=nU(null,function(a){return e.forEach(function(r){return Gy(r,a)})});return rU(function(){var a=zC.get(n);if(a){var r=new Set(a),l=new Set(e),c=n.current;r.forEach(function(u){l.has(u)||Gy(u,null)}),l.forEach(function(u){r.has(u)||Gy(u,c)})}zC.set(n,e)},[e]),n}function oU(e){return e}function lU(e,s){s===void 0&&(s=oU);var n=[],a=!1,r={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=s(l,a);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(a=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){a=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(l),c=n}var m=function(){var f=c;c=[],f.forEach(l)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(f){c.push(f),p()},filter:function(f){return c=c.filter(f),n}}}};return r}function cU(e){e===void 0&&(e={});var s=lU(null);return s.options=ai({async:!0,ssr:!1},e),s}var xA=function(e){var s=e.sideCar,n=gA(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=s.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,ai({},n))};xA.isSideCarExport=!0;function dU(e,s){return e.useMedium(s),xA}var yA=cU(),Hy=function(){},ug=x.forwardRef(function(e,s){var n=x.useRef(null),a=x.useState({onScrollCapture:Hy,onWheelCapture:Hy,onTouchMoveCapture:Hy}),r=a[0],l=a[1],c=e.forwardProps,u=e.children,m=e.className,p=e.removeScrollBar,f=e.enabled,g=e.shards,v=e.sideCar,w=e.noRelative,N=e.noIsolation,j=e.inert,S=e.allowPinchZoom,E=e.as,T=E===void 0?"div":E,C=e.gapMode,P=gA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=v,A=iU([n,s]),R=ai(ai({},P),r);return x.createElement(x.Fragment,null,f&&x.createElement(D,{sideCar:yA,removeScrollBar:p,shards:g,noRelative:w,noIsolation:N,inert:j,setCallbacks:l,allowPinchZoom:!!S,lockRef:n,gapMode:C}),c?x.cloneElement(x.Children.only(u),ai(ai({},R),{ref:A})):x.createElement(T,ai({},R,{className:m,ref:A}),u))});ug.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ug.classNames={fullWidth:vf,zeroRight:yf};var uU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=uU();return s&&e.setAttribute("nonce",s),e}function mU(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function pU(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var fU=function(){var e=0,s=null;return{add:function(n){e==0&&(s=hU())&&(mU(s,n),pU(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},gU=function(){var e=fU();return function(s,n){x.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&n])}},vA=function(){var e=gU(),s=function(n){var a=n.styles,r=n.dynamic;return e(a,r),null};return s},xU={left:0,top:0,right:0,gap:0},Yy=function(e){return parseInt(e||"",10)||0},yU=function(e){var s=window.getComputedStyle(document.body),n=s[e==="padding"?"paddingLeft":"marginLeft"],a=s[e==="padding"?"paddingTop":"marginTop"],r=s[e==="padding"?"paddingRight":"marginRight"];return[Yy(n),Yy(a),Yy(r)]},vU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xU;var s=yU(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,a-n+s[2]-s[0])}},bU=vA(),kd="data-scroll-locked",wU=function(e,s,n,a){var r=e.left,l=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(sU,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(kd,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(vf,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(kd,`] {
    `).concat(aU,": ").concat(u,`px;
  }
`)},qC=function(){var e=parseInt(document.body.getAttribute(kd)||"0",10);return isFinite(e)?e:0},jU=function(){x.useEffect(function(){return document.body.setAttribute(kd,(qC()+1).toString()),function(){var e=qC()-1;e<=0?document.body.removeAttribute(kd):document.body.setAttribute(kd,e.toString())}},[])},NU=function(e){var s=e.noRelative,n=e.noImportant,a=e.gapMode,r=a===void 0?"margin":a;jU();var l=x.useMemo(function(){return vU(r)},[r]);return x.createElement(bU,{styles:wU(l,!s,r,n?"":"!important")})},Ov=!1;if(typeof window<"u")try{var Yp=Object.defineProperty({},"passive",{get:function(){return Ov=!0,!0}});window.addEventListener("test",Yp,Yp),window.removeEventListener("test",Yp,Yp)}catch{Ov=!1}var ld=Ov?{passive:!1}:!1,SU=function(e){return e.tagName==="TEXTAREA"},bA=function(e,s){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!SU(e)&&n[s]==="visible")},CU=function(e){return bA(e,"overflowY")},TU=function(e){return bA(e,"overflowX")},$C=function(e,s){var n=s.ownerDocument,a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var r=wA(e,a);if(r){var l=jA(e,a),c=l[1],u=l[2];if(c>u)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},kU=function(e){var s=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[s,n,a]},EU=function(e){var s=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[s,n,a]},wA=function(e,s){return e==="v"?CU(s):TU(s)},jA=function(e,s){return e==="v"?kU(s):EU(s)},AU=function(e,s){return e==="h"&&s==="rtl"?-1:1},DU=function(e,s,n,a,r){var l=AU(e,window.getComputedStyle(s).direction),c=l*a,u=n.target,m=s.contains(u),p=!1,f=c>0,g=0,v=0;do{if(!u)break;var w=jA(e,u),N=w[0],j=w[1],S=w[2],E=j-S-l*N;(N||E)&&wA(e,u)&&(g+=E,v+=N);var T=u.parentNode;u=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!m&&u!==document.body||m&&(s.contains(u)||s===u));return(f&&Math.abs(g)<1||!f&&Math.abs(v)<1)&&(p=!0),p},Wp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},GC=function(e){return[e.deltaX,e.deltaY]},HC=function(e){return e&&"current"in e?e.current:e},IU=function(e,s){return e[0]===s[0]&&e[1]===s[1]},PU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},RU=0,cd=[];function OU(e){var s=x.useRef([]),n=x.useRef([0,0]),a=x.useRef(),r=x.useState(RU++)[0],l=x.useState(vA)[0],c=x.useRef(e);x.useEffect(function(){c.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var j=tU([e.lockRef.current],(e.shards||[]).map(HC),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var u=x.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var E=Wp(j),T=n.current,C="deltaX"in j?j.deltaX:T[0]-E[0],P="deltaY"in j?j.deltaY:T[1]-E[1],D,A=j.target,R=Math.abs(C)>Math.abs(P)?"h":"v";if("touches"in j&&R==="h"&&A.type==="range")return!1;var F=$C(R,A);if(!F)return!0;if(F?D=R:(D=R==="v"?"h":"v",F=$C(R,A)),!F)return!1;if(!a.current&&"changedTouches"in j&&(C||P)&&(a.current=D),!D)return!0;var z=a.current||D;return DU(z,S,j,z==="h"?C:P)},[]),m=x.useCallback(function(j){var S=j;if(!(!cd.length||cd[cd.length-1]!==l)){var E="deltaY"in S?GC(S):Wp(S),T=s.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&IU(D.delta,E)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var C=(c.current.shards||[]).map(HC).filter(Boolean).filter(function(D){return D.contains(S.target)}),P=C.length>0?u(S,C[0]):!c.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),p=x.useCallback(function(j,S,E,T){var C={name:j,delta:S,target:E,should:T,shadowParent:MU(E)};s.current.push(C),setTimeout(function(){s.current=s.current.filter(function(P){return P!==C})},1)},[]),f=x.useCallback(function(j){n.current=Wp(j),a.current=void 0},[]),g=x.useCallback(function(j){p(j.type,GC(j),j.target,u(j,e.lockRef.current))},[]),v=x.useCallback(function(j){p(j.type,Wp(j),j.target,u(j,e.lockRef.current))},[]);x.useEffect(function(){return cd.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",m,ld),document.addEventListener("touchmove",m,ld),document.addEventListener("touchstart",f,ld),function(){cd=cd.filter(function(j){return j!==l}),document.removeEventListener("wheel",m,ld),document.removeEventListener("touchmove",m,ld),document.removeEventListener("touchstart",f,ld)}},[]);var w=e.removeScrollBar,N=e.inert;return x.createElement(x.Fragment,null,N?x.createElement(l,{styles:PU(r)}):null,w?x.createElement(NU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function MU(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const _U=dU(yA,OU);var hg=x.forwardRef(function(e,s){return x.createElement(ug,ai({},e,{ref:s,sideCar:_U}))});hg.classNames=ug.classNames;var LU=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},dd=new WeakMap,Kp=new WeakMap,Qp={},Wy=0,NA=function(e){return e&&(e.host||NA(e.parentNode))},FU=function(e,s){return s.map(function(n){if(e.contains(n))return n;var a=NA(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},UU=function(e,s,n,a){var r=FU(s,Array.isArray(e)?e:[e]);Qp[n]||(Qp[n]=new WeakMap);var l=Qp[n],c=[],u=new Set,m=new Set(r),p=function(g){!g||u.has(g)||(u.add(g),p(g.parentNode))};r.forEach(p);var f=function(g){!g||m.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))f(v);else try{var w=v.getAttribute(a),N=w!==null&&w!=="false",j=(dd.get(v)||0)+1,S=(l.get(v)||0)+1;dd.set(v,j),l.set(v,S),c.push(v),j===1&&N&&Kp.set(v,!0),S===1&&v.setAttribute(n,"true"),N||v.setAttribute(a,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return f(s),u.clear(),Wy++,function(){c.forEach(function(g){var v=dd.get(g)-1,w=l.get(g)-1;dd.set(g,v),l.set(g,w),v||(Kp.has(g)||g.removeAttribute(a),Kp.delete(g)),w||g.removeAttribute(n)}),Wy--,Wy||(dd=new WeakMap,dd=new WeakMap,Kp=new WeakMap,Qp={})}},Hb=function(e,s,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),r=LU(e);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live], script"))),UU(a,r,n,"aria-hidden")):function(){return null}},mg="Dialog",[SA,uX]=xi(mg),[VU,Gr]=SA(mg),CA=e=>{const{__scopeDialog:s,children:n,open:a,defaultOpen:r,onOpenChange:l,modal:c=!0}=e,u=x.useRef(null),m=x.useRef(null),[p,f]=dl({prop:a,defaultProp:r??!1,onChange:l,caller:mg});return t.jsx(VU,{scope:s,triggerRef:u,contentRef:m,contentId:Zi(),titleId:Zi(),descriptionId:Zi(),open:p,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(g=>!g),[f]),modal:c,children:n})};CA.displayName=mg;var TA="DialogTrigger",kA=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr(TA,n),l=Ms(s,r.triggerRef);return t.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Kb(r.open),...a,ref:l,onClick:At(e.onClick,r.onOpenToggle)})});kA.displayName=TA;var Yb="DialogPortal",[BU,EA]=SA(Yb,{forceMount:void 0}),AA=e=>{const{__scopeDialog:s,forceMount:n,children:a,container:r}=e,l=Gr(Yb,s);return t.jsx(BU,{scope:s,forceMount:n,children:x.Children.map(a,c=>t.jsx(lo,{present:n||l.open,children:t.jsx(nm,{asChild:!0,container:r,children:c})}))})};AA.displayName=Yb;var Lf="DialogOverlay",DA=x.forwardRef((e,s)=>{const n=EA(Lf,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,l=Gr(Lf,e.__scopeDialog);return l.modal?t.jsx(lo,{present:a||l.open,children:t.jsx(qU,{...r,ref:s})}):null});DA.displayName=Lf;var zU=gc("DialogOverlay.RemoveScroll"),qU=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr(Lf,n);return t.jsx(hg,{as:zU,allowPinchZoom:!0,shards:[r.contentRef],children:t.jsx(Ot.div,{"data-state":Kb(r.open),...a,ref:s,style:{pointerEvents:"auto",...a.style}})})}),xc="DialogContent",IA=x.forwardRef((e,s)=>{const n=EA(xc,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,l=Gr(xc,e.__scopeDialog);return t.jsx(lo,{present:a||l.open,children:l.modal?t.jsx($U,{...r,ref:s}):t.jsx(GU,{...r,ref:s})})});IA.displayName=xc;var $U=x.forwardRef((e,s)=>{const n=Gr(xc,e.__scopeDialog),a=x.useRef(null),r=Ms(s,n.contentRef,a);return x.useEffect(()=>{const l=a.current;if(l)return Hb(l)},[]),t.jsx(PA,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:At(e.onFocusOutside,l=>l.preventDefault())})}),GU=x.forwardRef((e,s)=>{const n=Gr(xc,e.__scopeDialog),a=x.useRef(!1),r=x.useRef(!1);return t.jsx(PA,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(a.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:l=>{var m,p;(m=e.onInteractOutside)==null||m.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),PA=x.forwardRef((e,s)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:l,...c}=e,u=Gr(xc,n),m=x.useRef(null),p=Ms(s,m);return Gb(),t.jsxs(t.Fragment,{children:[t.jsx(dg,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:l,children:t.jsx(am,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Kb(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(HU,{titleId:u.titleId}),t.jsx(WU,{contentRef:m,descriptionId:u.descriptionId})]})]})}),Wb="DialogTitle",RA=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr(Wb,n);return t.jsx(Ot.h2,{id:r.titleId,...a,ref:s})});RA.displayName=Wb;var OA="DialogDescription",MA=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr(OA,n);return t.jsx(Ot.p,{id:r.descriptionId,...a,ref:s})});MA.displayName=OA;var _A="DialogClose",LA=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr(_A,n);return t.jsx(Ot.button,{type:"button",...a,ref:s,onClick:At(e.onClick,()=>r.onOpenChange(!1))})});LA.displayName=_A;function Kb(e){return e?"open":"closed"}var FA="DialogTitleWarning",[hX,UA]=T3(FA,{contentName:xc,titleName:Wb,docsSlug:"dialog"}),HU=({titleId:e})=>{const s=UA(FA),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},YU="DialogDescriptionWarning",WU=({contentRef:e,descriptionId:s})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UA(YU).contentName}}.`;return x.useEffect(()=>{var l;const r=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");s&&r&&(document.getElementById(s)||console.warn(a))},[a,e,s]),null},VA=CA,BA=kA,zA=AA,qA=DA,$A=IA,GA=RA,HA=MA,Qb=LA;const Jb=qe.forwardRef(({className:e,...s},n)=>t.jsxs("button",{ref:n,type:"button",className:Xe("group relative flex items-center justify-center w-[44px] h-[44px] rounded-full transition-transform active:scale-95 touch-manipulation z-50 p-0 shadow-sm hover:shadow-md",e),...s,children:[t.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-xl rounded-full border border-white/40 shadow-[0_8px_16px_-4px_rgba(0,0,0,0.1)] transition-all group-hover:bg-white/90"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-white/60 to-transparent opacity-50"}),t.jsx(Ws,{className:"relative w-4 h-4 text-[#3C3C43] stroke-[2.5px] opacity-70 transition-all group-hover:opacity-100 group-hover:scale-105"})]}));Jb.displayName="CloseButton";function bs({...e}){return t.jsx(VA,{"data-slot":"dialog",...e})}function Ff({...e}){return t.jsx(BA,{"data-slot":"dialog-trigger",...e})}function Xb({...e}){return t.jsx(zA,{"data-slot":"dialog-portal",...e})}function KU({className:e,...s}){return t.jsx(qA,{"data-slot":"dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[99999] bg-black/50",e),...s})}function Es({className:e,children:s,showCloseButton:n=!0,...a}){return t.jsxs(Xb,{"data-slot":"dialog-portal",children:[t.jsx(KU,{}),t.jsxs($A,{"data-slot":"dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[100000] grid w-full max-w-[calc(100%-2rem)] max-h-[calc(100vh-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg overflow-y-auto",e),...a,children:[s,n&&t.jsx(Qb,{asChild:!0,className:"absolute top-4 right-4 focus:outline-hidden disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:t.jsx(Jb,{})})]})]})}function ia({className:e,...s}){return t.jsx("div",{"data-slot":"dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",e),...s})}function ga({className:e,...s}){return t.jsx("div",{"data-slot":"dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function Bs({className:e,...s}){return t.jsx(GA,{"data-slot":"dialog-title",className:Xe("text-lg leading-none font-semibold",e),...s})}function xa({className:e,...s}){return t.jsx(HA,{"data-slot":"dialog-description",className:Xe("text-muted-foreground text-sm",e),...s})}const Zb=x.forwardRef(({className:e,value:s=0,...n},a)=>t.jsx("div",{ref:a,className:`relative h-2 w-full overflow-hidden rounded-full bg-gray-200 ${e||""}`,...n,children:t.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-300 ease-in-out",style:{width:`${Math.min(Math.max(s,0),100)}%`,transform:"translateZ(0)"}})}));Zb.displayName="Progress";const Bo=[{id:"auth",label:"Starting login process...",description:"Connecting to authentication server",icon:t.jsx(CL,{className:"h-4 w-4"}),duration:800},{id:"verify",label:"Verifying credentials...",description:"Checking email and password",icon:t.jsx(nn,{className:"h-4 w-4"}),duration:1200},{id:"session",label:"Creating secure session...",description:"Generating authentication tokens",icon:t.jsx(kh,{className:"h-4 w-4"}),duration:600},{id:"cache",label:"Clearing query cache...",description:"Preparing fresh data for your session",icon:t.jsx(Ub,{className:"h-4 w-4"}),duration:400},{id:"complete",label:"Login successful!",description:"Redirecting to your dashboard...",icon:t.jsx(Ca,{className:"h-4 w-4 text-green-500"}),duration:500}];function QU({isOpen:e,onComplete:s}){var p,f;const[n,a]=x.useState(0),[r,l]=x.useState(new Set),[c,u]=x.useState(0);x.useEffect(()=>{if(!e){a(0),l(new Set),u(0);return}let g,v;const w=N=>{if(N>=Bo.length){setTimeout(()=>{s==null||s()},300);return}a(N);const j=Bo[N],S=N/Bo.length*100;v=setInterval(()=>{u(E=>{const T=(N+1)/Bo.length*100,C=(T-S)/(j.duration/50),P=Math.min(E+C,T);return P>=T&&clearInterval(v),P})},50),g=setTimeout(()=>{l(E=>new Set([...E,N])),clearInterval(v),w(N+1)},j.duration)};return w(0),()=>{g&&clearTimeout(g),v&&clearInterval(v)}},[e,s]);const m=(g,v)=>r.has(g)?t.jsx(Ca,{className:"h-4 w-4 text-green-500"}):g===n?t.jsx(Tn,{className:"h-4 w-4 animate-spin text-blue-500"}):t.jsx(If,{className:"h-4 w-4 text-gray-300"});return t.jsx(bs,{open:e,onOpenChange:()=>{},children:t.jsxs(Es,{className:"sm:max-w-md",showCloseButton:!1,children:[t.jsx(Bs,{className:"sr-only",children:"Login Progress"}),t.jsxs("div",{className:"flex flex-col items-center space-y-4 py-4",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx(Tn,{className:"h-8 w-8 text-blue-500 animate-spin mx-auto"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Signing you in..."}),t.jsx("p",{className:"text-sm text-gray-500",children:"Please wait while we securely log you in"})]}),t.jsxs("div",{className:"w-full space-y-2",children:[t.jsx(Zb,{value:c,className:"w-full h-2"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsxs("span",{children:[Math.round(c),"%"]}),t.jsxs("span",{children:[n+1," of ",Bo.length]})]})]}),t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:m(n,Bo[n])}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900",children:(p=Bo[n])==null?void 0:p.label}),t.jsx("p",{className:"text-xs text-blue-600",children:(f=Bo[n])==null?void 0:f.description})]})]})})})]})]})})}const ew=x.createContext({});function tw(e){const s=x.useRef(null);return s.current===null&&(s.current=e()),s.current}const sw=typeof window<"u",YA=sw?x.useLayoutEffect:x.useEffect,pg=x.createContext(null);function aw(e,s){e.indexOf(s)===-1&&e.push(s)}function nw(e,s){const n=e.indexOf(s);n>-1&&e.splice(n,1)}const ao=(e,s,n)=>n>s?s:n<e?e:n;let rw=()=>{};const no={},WA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function KA(e){return typeof e=="object"&&e!==null}const QA=e=>/^0[^.\s]+$/u.test(e);function iw(e){let s;return()=>(s===void 0&&(s=e()),s)}const Sr=e=>e,JU=(e,s)=>n=>s(e(n)),im=(...e)=>e.reduce(JU),Uh=(e,s,n)=>{const a=s-e;return a===0?1:(n-e)/a};class ow{constructor(){this.subscriptions=[]}add(s){return aw(this.subscriptions,s),()=>nw(this.subscriptions,s)}notify(s,n,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](s,n,a);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(s,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ci=e=>e*1e3,di=e=>e/1e3;function JA(e,s){return s?e*(1e3/s):0}const XA=(e,s,n)=>(((1-3*n+3*s)*e+(3*n-6*s))*e+3*s)*e,XU=1e-7,ZU=12;function eV(e,s,n,a,r){let l,c,u=0;do c=s+(n-s)/2,l=XA(c,a,r)-e,l>0?n=c:s=c;while(Math.abs(l)>XU&&++u<ZU);return c}function om(e,s,n,a){if(e===s&&n===a)return Sr;const r=l=>eV(l,0,1,e,n);return l=>l===0||l===1?l:XA(r(l),s,a)}const ZA=e=>s=>s<=.5?e(2*s)/2:(2-e(2*(1-s)))/2,eD=e=>s=>1-e(1-s),tD=om(.33,1.53,.69,.99),lw=eD(tD),sD=ZA(lw),aD=e=>(e*=2)<1?.5*lw(e):.5*(2-Math.pow(2,-10*(e-1))),cw=e=>1-Math.sin(Math.acos(e)),nD=eD(cw),rD=ZA(cw),tV=om(.42,0,1,1),sV=om(0,0,.58,1),iD=om(.42,0,.58,1),aV=e=>Array.isArray(e)&&typeof e[0]!="number",oD=e=>Array.isArray(e)&&typeof e[0]=="number",nV={linear:Sr,easeIn:tV,easeInOut:iD,easeOut:sV,circIn:cw,circInOut:rD,circOut:nD,backIn:lw,backInOut:sD,backOut:tD,anticipate:aD},rV=e=>typeof e=="string",YC=e=>{if(oD(e)){rw(e.length===4);const[s,n,a,r]=e;return om(s,n,a,r)}else if(rV(e))return nV[e];return e},Jp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iV(e,s){let n=new Set,a=new Set,r=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(f){c.has(f)&&(p.schedule(f),e()),f(u)}const p={schedule:(f,g=!1,v=!1)=>{const N=v&&r?n:a;return g&&c.add(f),N.has(f)||N.add(f),f},cancel:f=>{a.delete(f),c.delete(f)},process:f=>{if(u=f,r){l=!0;return}r=!0,[n,a]=[a,n],n.forEach(m),n.clear(),r=!1,l&&(l=!1,p.process(f))}};return p}const oV=40;function lD(e,s){let n=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Jp.reduce((C,P)=>(C[P]=iV(l),C),{}),{setup:u,read:m,resolveKeyframes:p,preUpdate:f,update:g,preRender:v,render:w,postRender:N}=c,j=()=>{const C=no.useManualTiming?r.timestamp:performance.now();n=!1,no.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(C-r.timestamp,oV),1)),r.timestamp=C,r.isProcessing=!0,u.process(r),m.process(r),p.process(r),f.process(r),g.process(r),v.process(r),w.process(r),N.process(r),r.isProcessing=!1,n&&s&&(a=!1,e(j))},S=()=>{n=!0,a=!0,r.isProcessing||e(j)};return{schedule:Jp.reduce((C,P)=>{const D=c[P];return C[P]=(A,R=!1,F=!1)=>(n||S(),D.schedule(A,R,F)),C},{}),cancel:C=>{for(let P=0;P<Jp.length;P++)c[Jp[P]].cancel(C)},state:r,steps:c}}const{schedule:Js,cancel:hl,state:tn,steps:Ky}=lD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sr,!0);let bf;function lV(){bf=void 0}const Fn={now:()=>(bf===void 0&&Fn.set(tn.isProcessing||no.useManualTiming?tn.timestamp:performance.now()),bf),set:e=>{bf=e,queueMicrotask(lV)}},cD=e=>s=>typeof s=="string"&&s.startsWith(e),dw=cD("--"),cV=cD("var(--"),uw=e=>cV(e)?dV.test(e.split("/*")[0].trim()):!1,dV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vh={...lu,transform:e=>ao(0,1,e)},Xp={...lu,default:1},Eh=e=>Math.round(e*1e5)/1e5,hw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uV(e){return e==null}const hV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mw=(e,s)=>n=>!!(typeof n=="string"&&hV.test(n)&&n.startsWith(e)||s&&!uV(n)&&Object.prototype.hasOwnProperty.call(n,s)),dD=(e,s,n)=>a=>{if(typeof a!="string")return a;const[r,l,c,u]=a.match(hw);return{[e]:parseFloat(r),[s]:parseFloat(l),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},mV=e=>ao(0,255,e),Qy={...lu,transform:e=>Math.round(mV(e))},ec={test:mw("rgb","red"),parse:dD("red","green","blue"),transform:({red:e,green:s,blue:n,alpha:a=1})=>"rgba("+Qy.transform(e)+", "+Qy.transform(s)+", "+Qy.transform(n)+", "+Eh(Vh.transform(a))+")"};function pV(e){let s="",n="",a="",r="";return e.length>5?(s=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),r=e.substring(7,9)):(s=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),r=e.substring(4,5),s+=s,n+=n,a+=a,r+=r),{red:parseInt(s,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const Mv={test:mw("#"),parse:pV,transform:ec.transform},lm=e=>({test:s=>typeof s=="string"&&s.endsWith(e)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${e}`}),Wo=lm("deg"),ui=lm("%"),Rt=lm("px"),fV=lm("vh"),gV=lm("vw"),WC={...ui,parse:e=>ui.parse(e)/100,transform:e=>ui.transform(e*100)},yd={test:mw("hsl","hue"),parse:dD("hue","saturation","lightness"),transform:({hue:e,saturation:s,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+ui.transform(Eh(s))+", "+ui.transform(Eh(n))+", "+Eh(Vh.transform(a))+")"},Ra={test:e=>ec.test(e)||Mv.test(e)||yd.test(e),parse:e=>ec.test(e)?ec.parse(e):yd.test(e)?yd.parse(e):Mv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ec.transform(e):yd.transform(e),getAnimatableNone:e=>{const s=Ra.parse(e);return s.alpha=0,Ra.transform(s)}},xV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yV(e){var s,n;return isNaN(e)&&typeof e=="string"&&(((s=e.match(hw))==null?void 0:s.length)||0)+(((n=e.match(xV))==null?void 0:n.length)||0)>0}const uD="number",hD="color",vV="var",bV="var(",KC="${}",wV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bh(e){const s=e.toString(),n=[],a={color:[],number:[],var:[]},r=[];let l=0;const u=s.replace(wV,m=>(Ra.test(m)?(a.color.push(l),r.push(hD),n.push(Ra.parse(m))):m.startsWith(bV)?(a.var.push(l),r.push(vV),n.push(m)):(a.number.push(l),r.push(uD),n.push(parseFloat(m))),++l,KC)).split(KC);return{values:n,split:u,indexes:a,types:r}}function mD(e){return Bh(e).values}function pD(e){const{split:s,types:n}=Bh(e),a=s.length;return r=>{let l="";for(let c=0;c<a;c++)if(l+=s[c],r[c]!==void 0){const u=n[c];u===uD?l+=Eh(r[c]):u===hD?l+=Ra.transform(r[c]):l+=r[c]}return l}}const jV=e=>typeof e=="number"?0:Ra.test(e)?Ra.getAnimatableNone(e):e;function NV(e){const s=mD(e);return pD(e)(s.map(jV))}const ml={test:yV,parse:mD,createTransformer:pD,getAnimatableNone:NV};function Jy(e,s,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(s-e)*6*n:n<1/2?s:n<2/3?e+(s-e)*(2/3-n)*6:e}function SV({hue:e,saturation:s,lightness:n,alpha:a}){e/=360,s/=100,n/=100;let r=0,l=0,c=0;if(!s)r=l=c=n;else{const u=n<.5?n*(1+s):n+s-n*s,m=2*n-u;r=Jy(m,u,e+1/3),l=Jy(m,u,e),c=Jy(m,u,e-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:a}}function Uf(e,s){return n=>n>0?s:e}const oa=(e,s,n)=>e+(s-e)*n,Xy=(e,s,n)=>{const a=e*e,r=n*(s*s-a)+a;return r<0?0:Math.sqrt(r)},CV=[Mv,ec,yd],TV=e=>CV.find(s=>s.test(e));function QC(e){const s=TV(e);if(!s)return!1;let n=s.parse(e);return s===yd&&(n=SV(n)),n}const JC=(e,s)=>{const n=QC(e),a=QC(s);if(!n||!a)return Uf(e,s);const r={...n};return l=>(r.red=Xy(n.red,a.red,l),r.green=Xy(n.green,a.green,l),r.blue=Xy(n.blue,a.blue,l),r.alpha=oa(n.alpha,a.alpha,l),ec.transform(r))},_v=new Set(["none","hidden"]);function kV(e,s){return _v.has(e)?n=>n<=0?e:s:n=>n>=1?s:e}function EV(e,s){return n=>oa(e,s,n)}function pw(e){return typeof e=="number"?EV:typeof e=="string"?uw(e)?Uf:Ra.test(e)?JC:IV:Array.isArray(e)?fD:typeof e=="object"?Ra.test(e)?JC:AV:Uf}function fD(e,s){const n=[...e],a=n.length,r=e.map((l,c)=>pw(l)(l,s[c]));return l=>{for(let c=0;c<a;c++)n[c]=r[c](l);return n}}function AV(e,s){const n={...e,...s},a={};for(const r in n)e[r]!==void 0&&s[r]!==void 0&&(a[r]=pw(e[r])(e[r],s[r]));return r=>{for(const l in a)n[l]=a[l](r);return n}}function DV(e,s){const n=[],a={color:0,var:0,number:0};for(let r=0;r<s.values.length;r++){const l=s.types[r],c=e.indexes[l][a[l]],u=e.values[c]??0;n[r]=u,a[l]++}return n}const IV=(e,s)=>{const n=ml.createTransformer(s),a=Bh(e),r=Bh(s);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?_v.has(e)&&!r.values.length||_v.has(s)&&!a.values.length?kV(e,s):im(fD(DV(a,r),r.values),n):Uf(e,s)};function gD(e,s,n){return typeof e=="number"&&typeof s=="number"&&typeof n=="number"?oa(e,s,n):pw(e)(e,s)}const PV=e=>{const s=({timestamp:n})=>e(n);return{start:(n=!0)=>Js.update(s,n),stop:()=>hl(s),now:()=>tn.isProcessing?tn.timestamp:Fn.now()}},xD=(e,s,n=10)=>{let a="";const r=Math.max(Math.round(s/n),2);for(let l=0;l<r;l++)a+=Math.round(e(l/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Vf=2e4;function fw(e){let s=0;const n=50;let a=e.next(s);for(;!a.done&&s<Vf;)s+=n,a=e.next(s);return s>=Vf?1/0:s}function RV(e,s=100,n){const a=n({...e,keyframes:[0,s]}),r=Math.min(fw(a),Vf);return{type:"keyframes",ease:l=>a.next(r*l).value/s,duration:di(r)}}const OV=5;function yD(e,s,n){const a=Math.max(s-OV,0);return JA(n-e(a),s-a)}const fa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zy=.001;function MV({duration:e=fa.duration,bounce:s=fa.bounce,velocity:n=fa.velocity,mass:a=fa.mass}){let r,l,c=1-s;c=ao(fa.minDamping,fa.maxDamping,c),e=ao(fa.minDuration,fa.maxDuration,di(e)),c<1?(r=p=>{const f=p*c,g=f*e,v=f-n,w=Lv(p,c),N=Math.exp(-g);return Zy-v/w*N},l=p=>{const g=p*c*e,v=g*n+n,w=Math.pow(c,2)*Math.pow(p,2)*e,N=Math.exp(-g),j=Lv(Math.pow(p,2),c);return(-r(p)+Zy>0?-1:1)*((v-w)*N)/j}):(r=p=>{const f=Math.exp(-p*e),g=(p-n)*e+1;return-Zy+f*g},l=p=>{const f=Math.exp(-p*e),g=(n-p)*(e*e);return f*g});const u=5/e,m=LV(r,l,u);if(e=ci(e),isNaN(m))return{stiffness:fa.stiffness,damping:fa.damping,duration:e};{const p=Math.pow(m,2)*a;return{stiffness:p,damping:c*2*Math.sqrt(a*p),duration:e}}}const _V=12;function LV(e,s,n){let a=n;for(let r=1;r<_V;r++)a=a-e(a)/s(a);return a}function Lv(e,s){return e*Math.sqrt(1-s*s)}const FV=["duration","bounce"],UV=["stiffness","damping","mass"];function XC(e,s){return s.some(n=>e[n]!==void 0)}function VV(e){let s={velocity:fa.velocity,stiffness:fa.stiffness,damping:fa.damping,mass:fa.mass,isResolvedFromDuration:!1,...e};if(!XC(e,UV)&&XC(e,FV))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),r=a*a,l=2*ao(.05,1,1-(e.bounce||0))*Math.sqrt(r);s={...s,mass:fa.mass,stiffness:r,damping:l}}else{const n=MV(e);s={...s,...n,mass:fa.mass},s.isResolvedFromDuration=!0}return s}function Bf(e=fa.visualDuration,s=fa.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:s}:e;let{restSpeed:a,restDelta:r}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:l},{stiffness:m,damping:p,mass:f,duration:g,velocity:v,isResolvedFromDuration:w}=VV({...n,velocity:-di(n.velocity||0)}),N=v||0,j=p/(2*Math.sqrt(m*f)),S=c-l,E=di(Math.sqrt(m/f)),T=Math.abs(S)<5;a||(a=T?fa.restSpeed.granular:fa.restSpeed.default),r||(r=T?fa.restDelta.granular:fa.restDelta.default);let C;if(j<1){const D=Lv(E,j);C=A=>{const R=Math.exp(-j*E*A);return c-R*((N+j*E*S)/D*Math.sin(D*A)+S*Math.cos(D*A))}}else if(j===1)C=D=>c-Math.exp(-E*D)*(S+(N+E*S)*D);else{const D=E*Math.sqrt(j*j-1);C=A=>{const R=Math.exp(-j*E*A),F=Math.min(D*A,300);return c-R*((N+j*E*S)*Math.sinh(F)+D*S*Math.cosh(F))/D}}const P={calculatedDuration:w&&g||null,next:D=>{const A=C(D);if(w)u.done=D>=g;else{let R=D===0?N:0;j<1&&(R=D===0?ci(N):yD(C,D,A));const F=Math.abs(R)<=a,z=Math.abs(c-A)<=r;u.done=F&&z}return u.value=u.done?c:A,u},toString:()=>{const D=Math.min(fw(P),Vf),A=xD(R=>P.next(D*R).value,D,30);return D+"ms "+A},toTransition:()=>{}};return P}Bf.applyToOptions=e=>{const s=RV(e,100,Bf);return e.ease=s.ease,e.duration=ci(s.duration),e.type="keyframes",e};function Fv({keyframes:e,velocity:s=0,power:n=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:m,restDelta:p=.5,restSpeed:f}){const g=e[0],v={done:!1,value:g},w=F=>u!==void 0&&F<u||m!==void 0&&F>m,N=F=>u===void 0?m:m===void 0||Math.abs(u-F)<Math.abs(m-F)?u:m;let j=n*s;const S=g+j,E=c===void 0?S:c(S);E!==S&&(j=E-g);const T=F=>-j*Math.exp(-F/a),C=F=>E+T(F),P=F=>{const z=T(F),J=C(F);v.done=Math.abs(z)<=p,v.value=v.done?E:J};let D,A;const R=F=>{w(v.value)&&(D=F,A=Bf({keyframes:[v.value,N(v.value)],velocity:yD(C,F,v.value),damping:r,stiffness:l,restDelta:p,restSpeed:f}))};return R(0),{calculatedDuration:null,next:F=>{let z=!1;return!A&&D===void 0&&(z=!0,P(F),R(F)),D!==void 0&&F>=D?A.next(F-D):(!z&&P(F),v)}}}function BV(e,s,n){const a=[],r=n||no.mix||gD,l=e.length-1;for(let c=0;c<l;c++){let u=r(e[c],e[c+1]);if(s){const m=Array.isArray(s)?s[c]||Sr:s;u=im(m,u)}a.push(u)}return a}function zV(e,s,{clamp:n=!0,ease:a,mixer:r}={}){const l=e.length;if(rw(l===s.length),l===1)return()=>s[0];if(l===2&&s[0]===s[1])return()=>s[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),s=[...s].reverse());const u=BV(s,a,r),m=u.length,p=f=>{if(c&&f<e[0])return s[0];let g=0;if(m>1)for(;g<e.length-2&&!(f<e[g+1]);g++);const v=Uh(e[g],e[g+1],f);return u[g](v)};return n?f=>p(ao(e[0],e[l-1],f)):p}function qV(e,s){const n=e[e.length-1];for(let a=1;a<=s;a++){const r=Uh(0,s,a);e.push(oa(n,1,r))}}function $V(e){const s=[0];return qV(s,e.length-1),s}function GV(e,s){return e.map(n=>n*s)}function HV(e,s){return e.map(()=>s||iD).splice(0,e.length-1)}function Ah({duration:e=300,keyframes:s,times:n,ease:a="easeInOut"}){const r=aV(a)?a.map(YC):YC(a),l={done:!1,value:s[0]},c=GV(n&&n.length===s.length?n:$V(s),e),u=zV(c,s,{ease:Array.isArray(r)?r:HV(s,r)});return{calculatedDuration:e,next:m=>(l.value=u(m),l.done=m>=e,l)}}const YV=e=>e!==null;function gw(e,{repeat:s,repeatType:n="loop"},a,r=1){const l=e.filter(YV),u=r<0||s&&n!=="loop"&&s%2===1?0:l.length-1;return!u||a===void 0?l[u]:a}const WV={decay:Fv,inertia:Fv,tween:Ah,keyframes:Ah,spring:Bf};function vD(e){typeof e.type=="string"&&(e.type=WV[e.type])}class xw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,n){return this.finished.then(s,n)}}const KV=e=>e/100;class yw extends xw{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Fn.now()&&this.tick(Fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(a=this.options).onStop)==null||r.call(a))},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;vD(s);const{type:n=Ah,repeat:a=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=s;let{keyframes:u}=s;const m=n||Ah;m!==Ah&&typeof u[0]!="number"&&(this.mixKeyframes=im(KV,gD(u[0],u[1])),u=[0,100]);const p=m({...s,keyframes:u});l==="mirror"&&(this.mirroredGenerator=m({...s,keyframes:[...u].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=fw(p));const{calculatedDuration:f}=p;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=p}updateTime(s){const n=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(s,n=!1){const{generator:a,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return a.next(0);const{delay:p=0,keyframes:f,repeat:g,repeatType:v,repeatDelay:w,type:N,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-r/this.speed,this.startTime)),n?this.currentTime=s:this.updateTime(s);const E=this.currentTime-p*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,P=a;if(g){const F=Math.min(this.currentTime,r)/u;let z=Math.floor(F),J=F%1;!J&&F>=1&&(J=1),J===1&&z--,z=Math.min(z,g+1),!!(z%2)&&(v==="reverse"?(J=1-J,w&&(J-=w/u)):v==="mirror"&&(P=c)),C=ao(0,1,J)*u}const D=T?{done:!1,value:f[0]}:P.next(C);l&&(D.value=l(D.value));let{done:A}=D;!T&&m!==null&&(A=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return R&&N!==Fv&&(D.value=gw(f,this.options,S,this.speed)),j&&j(D.value),R&&this.finish(),D}then(s,n){return this.finished.then(s,n)}get duration(){return di(this.calculatedDuration)}get time(){return di(this.currentTime)}set time(s){var n;s=ci(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(Fn.now());const n=this.playbackSpeed!==s;this.playbackSpeed=s,n&&(this.time=di(this.currentTime))}play(){var r,l;if(this.isStopped)return;const{driver:s=PV,startTime:n}=this.options;this.driver||(this.driver=s(c=>this.tick(c))),(l=(r=this.options).onPlay)==null||l.call(r);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var s,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(s=this.options).onComplete)==null||n.call(s)}cancel(){var s,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(s=this.options).onCancel)==null||n.call(s)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),s.observe(this)}}function QV(e){for(let s=1;s<e.length;s++)e[s]??(e[s]=e[s-1])}const tc=e=>e*180/Math.PI,Uv=e=>{const s=tc(Math.atan2(e[1],e[0]));return Vv(s)},JV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Uv,rotateZ:Uv,skewX:e=>tc(Math.atan(e[1])),skewY:e=>tc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Vv=e=>(e=e%360,e<0&&(e+=360),e),ZC=Uv,eT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),tT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),XV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eT,scaleY:tT,scale:e=>(eT(e)+tT(e))/2,rotateX:e=>Vv(tc(Math.atan2(e[6],e[5]))),rotateY:e=>Vv(tc(Math.atan2(-e[2],e[0]))),rotateZ:ZC,rotate:ZC,skewX:e=>tc(Math.atan(e[4])),skewY:e=>tc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Bv(e){return e.includes("scale")?1:0}function zv(e,s){if(!e||e==="none")return Bv(s);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(n)a=XV,r=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=JV,r=u}if(!r)return Bv(s);const l=a[s],c=r[1].split(",").map(eB);return typeof l=="function"?l(c):c[l]}const ZV=(e,s)=>{const{transform:n="none"}=getComputedStyle(e);return zv(n,s)};function eB(e){return parseFloat(e.trim())}const cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],du=new Set(cu),sT=e=>e===lu||e===Rt,tB=new Set(["x","y","z"]),sB=cu.filter(e=>!tB.has(e));function aB(e){const s=[];return sB.forEach(n=>{const a=e.getValue(n);a!==void 0&&(s.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),s}const hc={width:({x:e},{paddingLeft:s="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(s)-parseFloat(n),height:({y:e},{paddingTop:s="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(s)-parseFloat(n),top:(e,{top:s})=>parseFloat(s),left:(e,{left:s})=>parseFloat(s),bottom:({y:e},{top:s})=>parseFloat(s)+(e.max-e.min),right:({x:e},{left:s})=>parseFloat(s)+(e.max-e.min),x:(e,{transform:s})=>zv(s,"x"),y:(e,{transform:s})=>zv(s,"y")};hc.translateX=hc.x;hc.translateY=hc.y;const mc=new Set;let qv=!1,$v=!1,Gv=!1;function bD(){if($v){const e=Array.from(mc).filter(a=>a.needsMeasurement),s=new Set(e.map(a=>a.element)),n=new Map;s.forEach(a=>{const r=aB(a);r.length&&(n.set(a,r),a.render())}),e.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const r=n.get(a);r&&r.forEach(([l,c])=>{var u;(u=a.getValue(l))==null||u.set(c)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}$v=!1,qv=!1,mc.forEach(e=>e.complete(Gv)),mc.clear()}function wD(){mc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($v=!0)})}function nB(){Gv=!0,wD(),bD(),Gv=!1}class vw{constructor(s,n,a,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=n,this.name=a,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(mc.add(this),qv||(qv=!0,Js.read(wD),Js.resolveKeyframes(bD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:n,element:a,motionValue:r}=this;if(s[0]===null){const l=r==null?void 0:r.get(),c=s[s.length-1];if(l!==void 0)s[0]=l;else if(a&&n){const u=a.readValue(n,c);u!=null&&(s[0]=u)}s[0]===void 0&&(s[0]=c),r&&l===void 0&&r.set(s[0])}QV(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),mc.delete(this)}cancel(){this.state==="scheduled"&&(mc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rB=e=>e.startsWith("--");function iB(e,s,n){rB(s)?e.style.setProperty(s,n):e.style[s]=n}const oB=iw(()=>window.ScrollTimeline!==void 0),lB={};function cB(e,s){const n=iw(e);return()=>lB[s]??n()}const jD=cB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wh=([e,s,n,a])=>`cubic-bezier(${e}, ${s}, ${n}, ${a})`,aT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wh([0,.65,.55,1]),circOut:wh([.55,0,1,.45]),backIn:wh([.31,.01,.66,-.59]),backOut:wh([.33,1.53,.69,.99])};function ND(e,s){if(e)return typeof e=="function"?jD()?xD(e,s):"ease-out":oD(e)?wh(e):Array.isArray(e)?e.map(n=>ND(n,s)||aT.easeOut):aT[e]}function dB(e,s,n,{delay:a=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:m}={},p=void 0){const f={[s]:n};m&&(f.offset=m);const g=ND(u,r);Array.isArray(g)&&(f.easing=g);const v={delay:a,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),e.animate(f,v)}function SD(e){return typeof e=="function"&&"applyToOptions"in e}function uB({type:e,...s}){return SD(e)&&jD()?e.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class hB extends xw{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:n,name:a,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:m}=s;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=s,rw(typeof s.type!="string");const p=uB(s);this.animation=dB(n,a,r,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const f=gw(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(f):iB(n,a,f),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,n;(n=(s=this.animation).finish)==null||n.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,n;this.isPseudoElement||(n=(s=this.animation).commitStyles)==null||n.call(s)}get duration(){var n,a;const s=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return di(Number(s))}get time(){return di(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=ci(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&oB()?(this.animation.timeline=s,Sr):n(this)}}const CD={anticipate:aD,backInOut:sD,circInOut:rD};function mB(e){return e in CD}function pB(e){typeof e.ease=="string"&&mB(e.ease)&&(e.ease=CD[e.ease])}const nT=10;class fB extends hB{constructor(s){pB(s),vD(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:n,onUpdate:a,onComplete:r,element:l,...c}=this.options;if(!n)return;if(s!==void 0){n.set(s);return}const u=new yw({...c,autoplay:!1}),m=ci(this.finishedTime??this.time);n.setWithVelocity(u.sample(m-nT).value,u.sample(m).value,nT),u.stop()}}const rT=(e,s)=>s==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ml.test(e)||e==="0")&&!e.startsWith("url("));function gB(e){const s=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==s)return!0}function xB(e,s,n,a){const r=e[0];if(r===null)return!1;if(s==="display"||s==="visibility")return!0;const l=e[e.length-1],c=rT(r,s),u=rT(l,s);return!c||!u?!1:gB(e)||(n==="spring"||SD(n))&&a}function Hv(e){e.duration=0,e.type}const yB=new Set(["opacity","clipPath","filter","transform"]),vB=iw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bB(e){var f;const{motionValue:s,name:n,repeatDelay:a,repeatType:r,damping:l,type:c}=e;if(!(((f=s==null?void 0:s.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=s.owner.getProps();return vB()&&n&&yB.has(n)&&(n!=="transform"||!p)&&!m&&!a&&r!=="mirror"&&l!==0&&c!=="inertia"}const wB=40;class jB extends xw{constructor({autoplay:s=!0,delay:n=0,type:a="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:m,motionValue:p,element:f,...g}){var N;super(),this.stop=()=>{var j,S;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Fn.now();const v={autoplay:s,delay:n,type:a,repeat:r,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:f,...g},w=(f==null?void 0:f.KeyframeResolver)||vw;this.keyframeResolver=new w(u,(j,S,E)=>this.onKeyframesResolved(j,S,v,!E),m,p,f),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(s,n,a,r){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:m,isHandoff:p,onUpdate:f}=a;this.resolvedAt=Fn.now(),xB(s,l,c,u)||((no.instantAnimations||!m)&&(f==null||f(gw(s,a,n))),s[0]=s[s.length-1],Hv(a),a.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>wB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:s},w=!p&&bB(v)?new fB({...v,element:v.motionValue.owner.current}):new yw(v);w.finished.then(()=>this.notifyFinished()).catch(Sr),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(s,n){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),nB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const NB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SB(e){const s=NB.exec(e);if(!s)return[,];const[,n,a,r]=s;return[`--${n??a}`,r]}function TD(e,s,n=1){const[a,r]=SB(e);if(!a)return;const l=window.getComputedStyle(s).getPropertyValue(a);if(l){const c=l.trim();return WA(c)?parseFloat(c):c}return uw(r)?TD(r,s,n+1):r}function bw(e,s){return(e==null?void 0:e[s])??(e==null?void 0:e.default)??e}const kD=new Set(["width","height","top","left","right","bottom",...cu]),CB={test:e=>e==="auto",parse:e=>e},ED=e=>s=>s.test(e),AD=[lu,Rt,ui,Wo,gV,fV,CB],iT=e=>AD.find(ED(e));function TB(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||QA(e):!0}const kB=new Set(["brightness","contrast","saturate","opacity"]);function EB(e){const[s,n]=e.slice(0,-1).split("(");if(s==="drop-shadow")return e;const[a]=n.match(hw)||[];if(!a)return e;const r=n.replace(a,"");let l=kB.has(s)?1:0;return a!==n&&(l*=100),s+"("+l+r+")"}const AB=/\b([a-z-]*)\(.*?\)/gu,Yv={...ml,getAnimatableNone:e=>{const s=e.match(AB);return s?s.map(EB).join(" "):e}},oT={...lu,transform:Math.round},DB={rotate:Wo,rotateX:Wo,rotateY:Wo,rotateZ:Wo,scale:Xp,scaleX:Xp,scaleY:Xp,scaleZ:Xp,skew:Wo,skewX:Wo,skewY:Wo,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Vh,originX:WC,originY:WC,originZ:Rt},ww={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...DB,zIndex:oT,fillOpacity:Vh,strokeOpacity:Vh,numOctaves:oT},IB={...ww,color:Ra,backgroundColor:Ra,outlineColor:Ra,fill:Ra,stroke:Ra,borderColor:Ra,borderTopColor:Ra,borderRightColor:Ra,borderBottomColor:Ra,borderLeftColor:Ra,filter:Yv,WebkitFilter:Yv},DD=e=>IB[e];function ID(e,s){let n=DD(e);return n!==Yv&&(n=ml),n.getAnimatableNone?n.getAnimatableNone(s):void 0}const PB=new Set(["auto","none","0"]);function RB(e,s,n){let a=0,r;for(;a<e.length&&!r;){const l=e[a];typeof l=="string"&&!PB.has(l)&&Bh(l).values.length&&(r=e[a]),a++}if(r&&n)for(const l of s)e[l]=ID(n,r)}class OB extends vw{constructor(s,n,a,r,l){super(s,n,a,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<s.length;m++){let p=s[m];if(typeof p=="string"&&(p=p.trim(),uw(p))){const f=TD(p,n.current);f!==void 0&&(s[m]=f),m===s.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!kD.has(a)||s.length!==2)return;const[r,l]=s,c=iT(r),u=iT(l);if(c!==u)if(sT(c)&&sT(u))for(let m=0;m<s.length;m++){const p=s[m];typeof p=="string"&&(s[m]=parseFloat(p))}else hc[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:n}=this,a=[];for(let r=0;r<s.length;r++)(s[r]===null||TB(s[r]))&&a.push(r);a.length&&RB(s,a,n)}measureInitialState(){const{element:s,unresolvedKeyframes:n,name:a}=this;if(!s||!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hc[a](s.measureViewportBox(),window.getComputedStyle(s.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&s.getValue(a,r).jump(r,!1)}measureEndState(){var u;const{element:s,name:n,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const r=s.getValue(n);r&&r.jump(this.measuredOrigin,!1);const l=a.length-1,c=a[l];a[l]=hc[n](s.measureViewportBox(),window.getComputedStyle(s.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,p])=>{s.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function MB(e,s,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const r=(n==null?void 0:n[e])??a.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const PD=(e,s)=>s&&typeof e=="number"?s.transform(e):e;function RD(e){return KA(e)&&"offsetHeight"in e}const lT=30,_B=e=>!isNaN(parseFloat(e));class LB{constructor(s,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var l;const r=Fn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=n.owner}setCurrent(s){this.current=s,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=_B(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,n){this.events[s]||(this.events[s]=new ow);const a=this.events[s].add(n);return s==="change"?()=>{a(),Js.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,n){this.passiveEffect=s,this.stopPassiveEffect=n}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,n=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>lT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lT);return JA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(s){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=s(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,n;(s=this.dependents)==null||s.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yd(e,s){return new LB(e,s)}const{schedule:jw}=lD(queueMicrotask,!1),Or={x:!1,y:!1};function OD(){return Or.x||Or.y}function FB(e){return e==="x"||e==="y"?Or[e]?null:(Or[e]=!0,()=>{Or[e]=!1}):Or.x||Or.y?null:(Or.x=Or.y=!0,()=>{Or.x=Or.y=!1})}function MD(e,s){const n=MB(e),a=new AbortController,r={passive:!0,...s,signal:a.signal};return[n,r,()=>a.abort()]}function cT(e){return!(e.pointerType==="touch"||OD())}function UB(e,s,n={}){const[a,r,l]=MD(e,n),c=u=>{if(!cT(u))return;const{target:m}=u,p=s(m,u);if(typeof p!="function"||!m)return;const f=g=>{cT(g)&&(p(g),m.removeEventListener("pointerleave",f))};m.addEventListener("pointerleave",f,r)};return a.forEach(u=>{u.addEventListener("pointerenter",c,r)}),l}const _D=(e,s)=>s?e===s?!0:_D(e,s.parentElement):!1,Nw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,VB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BB(e){return VB.has(e.tagName)||e.tabIndex!==-1}const wf=new WeakSet;function dT(e){return s=>{s.key==="Enter"&&e(s)}}function e0(e,s){e.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const zB=(e,s)=>{const n=e.currentTarget;if(!n)return;const a=dT(()=>{if(wf.has(n))return;e0(n,"down");const r=dT(()=>{e0(n,"up")}),l=()=>e0(n,"cancel");n.addEventListener("keyup",r,s),n.addEventListener("blur",l,s)});n.addEventListener("keydown",a,s),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),s)};function uT(e){return Nw(e)&&!OD()}function qB(e,s,n={}){const[a,r,l]=MD(e,n),c=u=>{const m=u.currentTarget;if(!uT(u))return;wf.add(m);const p=s(m,u),f=(w,N)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),wf.has(m)&&wf.delete(m),uT(w)&&typeof p=="function"&&p(w,{success:N})},g=w=>{f(w,m===window||m===document||n.useGlobalTarget||_D(m,w.target))},v=w=>{f(w,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return a.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,r),RD(u)&&(u.addEventListener("focus",p=>zB(p,r)),!BB(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function LD(e){return KA(e)&&"ownerSVGElement"in e}function $B(e){return LD(e)&&e.tagName==="svg"}const hn=e=>!!(e&&e.getVelocity),GB=[...AD,Ra,ml],HB=e=>GB.find(ED(e)),Sw=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class YB extends x.Component{getSnapshotBeforeUpdate(s){const n=this.props.childRef.current;if(n&&s.isPresent&&!this.props.isPresent){const a=n.offsetParent,r=RD(a)&&a.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=r-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WB({children:e,isPresent:s,anchorX:n,root:a}){const r=x.useId(),l=x.useRef(null),c=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=x.useContext(Sw);return x.useInsertionEffect(()=>{const{width:m,height:p,top:f,left:g,right:v}=c.current;if(s||!l.current||!m||!p)return;const w=n==="left"?`left: ${g}`:`right: ${v}`;l.current.dataset.motionPopId=r;const N=document.createElement("style");u&&(N.nonce=u);const j=a??document.head;return j.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${f}px !important;
          }
        `),()=>{j.contains(N)&&j.removeChild(N)}},[s]),t.jsx(YB,{isPresent:s,childRef:l,sizeRef:c,children:x.cloneElement(e,{ref:l})})}const KB=({children:e,initial:s,isPresent:n,onExitComplete:a,custom:r,presenceAffectsLayout:l,mode:c,anchorX:u,root:m})=>{const p=tw(QB),f=x.useId();let g=!0,v=x.useMemo(()=>(g=!1,{id:f,initial:s,isPresent:n,custom:r,onExitComplete:w=>{p.set(w,!0);for(const N of p.values())if(!N)return;a&&a()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,a]);return l&&g&&(v={...v}),x.useMemo(()=>{p.forEach((w,N)=>p.set(N,!1))},[n]),x.useEffect(()=>{!n&&!p.size&&a&&a()},[n]),c==="popLayout"&&(e=t.jsx(WB,{isPresent:n,anchorX:u,root:m,children:e})),t.jsx(pg.Provider,{value:v,children:e})};function QB(){return new Map}function FD(e=!0){const s=x.useContext(pg);if(s===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:r}=s,l=x.useId();x.useEffect(()=>{if(e)return r(l)},[e]);const c=x.useCallback(()=>e&&a&&a(l),[l,a,e]);return!n&&a?[!1,c]:[!0]}const Zp=e=>e.key||"";function hT(e){const s=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&s.push(n)}),s}const Cw=({children:e,custom:s,initial:n=!0,onExitComplete:a,presenceAffectsLayout:r=!0,mode:l="sync",propagate:c=!1,anchorX:u="left",root:m})=>{const[p,f]=FD(c),g=x.useMemo(()=>hT(e),[e]),v=c&&!p?[]:g.map(Zp),w=x.useRef(!0),N=x.useRef(g),j=tw(()=>new Map),[S,E]=x.useState(g),[T,C]=x.useState(g);YA(()=>{w.current=!1,N.current=g;for(let A=0;A<T.length;A++){const R=Zp(T[A]);v.includes(R)?j.delete(R):j.get(R)!==!0&&j.set(R,!1)}},[T,v.length,v.join("-")]);const P=[];if(g!==S){let A=[...g];for(let R=0;R<T.length;R++){const F=T[R],z=Zp(F);v.includes(z)||(A.splice(R,0,F),P.push(F))}return l==="wait"&&P.length&&(A=P),C(hT(A)),E(g),null}const{forceRender:D}=x.useContext(ew);return t.jsx(t.Fragment,{children:T.map(A=>{const R=Zp(A),F=c&&!p?!1:g===T||v.includes(R),z=()=>{if(j.has(R))j.set(R,!0);else return;let J=!0;j.forEach(K=>{K||(J=!1)}),J&&(D==null||D(),C(N.current),c&&(f==null||f()),a&&a())};return t.jsx(KB,{isPresent:F,initial:!w.current||n?void 0:!1,custom:s,presenceAffectsLayout:r,mode:l,root:m,onExitComplete:F?void 0:z,anchorX:u,children:A},R)})})},UD=x.createContext({strict:!1}),mT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wd={};for(const e in mT)Wd[e]={isEnabled:s=>mT[e].some(n=>!!s[n])};function JB(e){for(const s in e)Wd[s]={...Wd[s],...e[s]}}const XB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XB.has(e)}let VD=e=>!zf(e);function ZB(e){typeof e=="function"&&(VD=s=>s.startsWith("on")?!zf(s):e(s))}try{ZB(require("@emotion/is-prop-valid").default)}catch{}function e8(e,s,n){const a={};for(const r in e)r==="values"&&typeof e.values=="object"||(VD(r)||n===!0&&zf(r)||!s&&!zf(r)||e.draggable&&r.startsWith("onDrag"))&&(a[r]=e[r]);return a}const fg=x.createContext({});function gg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function zh(e){return typeof e=="string"||Array.isArray(e)}const Tw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kw=["initial",...Tw];function xg(e){return gg(e.animate)||kw.some(s=>zh(e[s]))}function BD(e){return!!(xg(e)||e.variants)}function t8(e,s){if(xg(e)){const{initial:n,animate:a}=e;return{initial:n===!1||zh(n)?n:void 0,animate:zh(a)?a:void 0}}return e.inherit!==!1?s:{}}function s8(e){const{initial:s,animate:n}=t8(e,x.useContext(fg));return x.useMemo(()=>({initial:s,animate:n}),[pT(s),pT(n)])}function pT(e){return Array.isArray(e)?e.join(" "):e}const qh={};function a8(e){for(const s in e)qh[s]=e[s],dw(s)&&(qh[s].isCSSVariable=!0)}function zD(e,{layout:s,layoutId:n}){return du.has(e)||e.startsWith("origin")||(s||n!==void 0)&&(!!qh[e]||e==="opacity")}const n8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r8=cu.length;function i8(e,s,n){let a="",r=!0;for(let l=0;l<r8;l++){const c=cu[l],u=e[c];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(c.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||n){const p=PD(u,ww[c]);if(!m){r=!1;const f=n8[c]||c;a+=`${f}(${p}) `}n&&(s[c]=p)}}return a=a.trim(),n?a=n(s,r?"":a):r&&(a="none"),a}function Ew(e,s,n){const{style:a,vars:r,transformOrigin:l}=e;let c=!1,u=!1;for(const m in s){const p=s[m];if(du.has(m)){c=!0;continue}else if(dw(m)){r[m]=p;continue}else{const f=PD(p,ww[m]);m.startsWith("origin")?(u=!0,l[m]=f):a[m]=f}}if(s.transform||(c||n?a.transform=i8(s,e.transform,n):a.transform&&(a.transform="none")),u){const{originX:m="50%",originY:p="50%",originZ:f=0}=l;a.transformOrigin=`${m} ${p} ${f}`}}const Aw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qD(e,s,n){for(const a in s)!hn(s[a])&&!zD(a,n)&&(e[a]=s[a])}function o8({transformTemplate:e},s){return x.useMemo(()=>{const n=Aw();return Ew(n,s,e),Object.assign({},n.vars,n.style)},[s])}function l8(e,s){const n=e.style||{},a={};return qD(a,n,e),Object.assign(a,o8(e,s)),a}function c8(e,s){const n={},a=l8(e,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const d8={offset:"stroke-dashoffset",array:"stroke-dasharray"},u8={offset:"strokeDashoffset",array:"strokeDasharray"};function h8(e,s,n=1,a=0,r=!0){e.pathLength=1;const l=r?d8:u8;e[l.offset]=Rt.transform(-a);const c=Rt.transform(s),u=Rt.transform(n);e[l.array]=`${c} ${u}`}function $D(e,{attrX:s,attrY:n,attrScale:a,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...u},m,p,f){if(Ew(e,u,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v}=e;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete g.transformBox),s!==void 0&&(g.x=s),n!==void 0&&(g.y=n),a!==void 0&&(g.scale=a),r!==void 0&&h8(g,r,l,c,!1)}const GD=()=>({...Aw(),attrs:{}}),HD=e=>typeof e=="string"&&e.toLowerCase()==="svg";function m8(e,s,n,a){const r=x.useMemo(()=>{const l=GD();return $D(l,s,HD(a),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[s]);if(e.style){const l={};qD(l,e.style,e),r.style={...l,...r.style}}return r}const p8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dw(e){return typeof e!="string"||e.includes("-")?!1:!!(p8.indexOf(e)>-1||/[A-Z]/u.test(e))}function f8(e,s,n,{latestValues:a},r,l=!1){const u=(Dw(e)?m8:c8)(s,a,r,e),m=e8(s,typeof e=="string",l),p=e!==x.Fragment?{...m,...u,ref:n}:{},{children:f}=s,g=x.useMemo(()=>hn(f)?f.get():f,[f]);return x.createElement(e,{...p,children:g})}function fT(e){const s=[{},{}];return e==null||e.values.forEach((n,a)=>{s[0][a]=n.get(),s[1][a]=n.getVelocity()}),s}function Iw(e,s,n,a){if(typeof s=="function"){const[r,l]=fT(a);s=s(n!==void 0?n:e.custom,r,l)}if(typeof s=="string"&&(s=e.variants&&e.variants[s]),typeof s=="function"){const[r,l]=fT(a);s=s(n!==void 0?n:e.custom,r,l)}return s}function jf(e){return hn(e)?e.get():e}function g8({scrapeMotionValuesFromProps:e,createRenderState:s},n,a,r){return{latestValues:x8(n,a,r,e),renderState:s()}}function x8(e,s,n,a){const r={},l=a(e,{});for(const v in l)r[v]=jf(l[v]);let{initial:c,animate:u}=e;const m=xg(e),p=BD(e);s&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=s.initial),u===void 0&&(u=s.animate));let f=n?n.initial===!1:!1;f=f||c===!1;const g=f?u:c;if(g&&typeof g!="boolean"&&!gg(g)){const v=Array.isArray(g)?g:[g];for(let w=0;w<v.length;w++){const N=Iw(e,v[w]);if(N){const{transitionEnd:j,transition:S,...E}=N;for(const T in E){let C=E[T];if(Array.isArray(C)){const P=f?C.length-1:0;C=C[P]}C!==null&&(r[T]=C)}for(const T in j)r[T]=j[T]}}}return r}const YD=e=>(s,n)=>{const a=x.useContext(fg),r=x.useContext(pg),l=()=>g8(e,s,a,r);return n?l():tw(l)};function Pw(e,s,n){var l;const{style:a}=e,r={};for(const c in a)(hn(a[c])||s.style&&hn(s.style[c])||zD(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(r[c]=a[c]);return r}const y8=YD({scrapeMotionValuesFromProps:Pw,createRenderState:Aw});function WD(e,s,n){const a=Pw(e,s,n);for(const r in e)if(hn(e[r])||hn(s[r])){const l=cu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[l]=e[r]}return a}const v8=YD({scrapeMotionValuesFromProps:WD,createRenderState:GD}),b8=Symbol.for("motionComponentSymbol");function vd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function w8(e,s,n){return x.useCallback(a=>{a&&e.onMount&&e.onMount(a),s&&(a?s.mount(a):s.unmount()),n&&(typeof n=="function"?n(a):vd(n)&&(n.current=a))},[s])}const Rw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),j8="framerAppearId",KD="data-"+Rw(j8),QD=x.createContext({});function N8(e,s,n,a,r){var j,S;const{visualElement:l}=x.useContext(fg),c=x.useContext(UD),u=x.useContext(pg),m=x.useContext(Sw).reducedMotion,p=x.useRef(null);a=a||c.renderer,!p.current&&a&&(p.current=a(e,{visualState:s,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const f=p.current,g=x.useContext(QD);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&S8(p.current,n,r,g);const v=x.useRef(!1);x.useInsertionEffect(()=>{f&&v.current&&f.update(n,u)});const w=n[KD],N=x.useRef(!!w&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,w))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,w)));return YA(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),N.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!N.current&&f.animationState&&f.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,w)}),N.current=!1),f.enteringChildren=void 0)}),f}function S8(e,s,n,a){const{layoutId:r,layout:l,drag:c,dragConstraints:u,layoutScroll:m,layoutRoot:p,layoutCrossfade:f}=s;e.projection=new n(e.latestValues,s["data-framer-portal-id"]?void 0:JD(e.parent)),e.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||u&&vd(u),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:f,layoutScroll:m,layoutRoot:p})}function JD(e){if(e)return e.options.allowProjection!==!1?e.projection:JD(e.parent)}function t0(e,{forwardMotionProps:s=!1}={},n,a){n&&JB(n);const r=Dw(e)?v8:y8;function l(u,m){let p;const f={...x.useContext(Sw),...u,layoutId:C8(u)},{isStatic:g}=f,v=s8(u),w=r(u,g);if(!g&&sw){T8();const N=k8(f);p=N.MeasureLayout,v.visualElement=N8(e,w,f,a,N.ProjectionNode)}return t.jsxs(fg.Provider,{value:v,children:[p&&v.visualElement?t.jsx(p,{visualElement:v.visualElement,...f}):null,f8(e,u,w8(w,v.visualElement,m),w,g,s)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=x.forwardRef(l);return c[b8]=e,c}function C8({layoutId:e}){const s=x.useContext(ew).id;return s&&e!==void 0?s+"-"+e:e}function T8(e,s){x.useContext(UD).strict}function k8(e){const{drag:s,layout:n}=Wd;if(!s&&!n)return{};const a={...s,...n};return{MeasureLayout:s!=null&&s.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function E8(e,s){if(typeof Proxy>"u")return t0;const n=new Map,a=(l,c)=>t0(l,c,e,s),r=(l,c)=>a(l,c);return new Proxy(r,{get:(l,c)=>c==="create"?a:(n.has(c)||n.set(c,t0(c,void 0,e,s)),n.get(c))})}function XD({top:e,left:s,right:n,bottom:a}){return{x:{min:s,max:n},y:{min:e,max:a}}}function A8({x:e,y:s}){return{top:s.min,right:e.max,bottom:s.max,left:e.min}}function D8(e,s){if(!s)return e;const n=s({x:e.left,y:e.top}),a=s({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function s0(e){return e===void 0||e===1}function Wv({scale:e,scaleX:s,scaleY:n}){return!s0(e)||!s0(s)||!s0(n)}function Gl(e){return Wv(e)||ZD(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ZD(e){return gT(e.x)||gT(e.y)}function gT(e){return e&&e!=="0%"}function qf(e,s,n){const a=e-n,r=s*a;return n+r}function xT(e,s,n,a,r){return r!==void 0&&(e=qf(e,r,a)),qf(e,n,a)+s}function Kv(e,s=0,n=1,a,r){e.min=xT(e.min,s,n,a,r),e.max=xT(e.max,s,n,a,r)}function eI(e,{x:s,y:n}){Kv(e.x,s.translate,s.scale,s.originPoint),Kv(e.y,n.translate,n.scale,n.originPoint)}const yT=.999999999999,vT=1.0000000000001;function I8(e,s,n,a=!1){const r=n.length;if(!r)return;s.x=s.y=1;let l,c;for(let u=0;u<r;u++){l=n[u],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wd(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(s.x*=c.x.scale,s.y*=c.y.scale,eI(e,c)),a&&Gl(l.latestValues)&&wd(e,l.latestValues))}s.x<vT&&s.x>yT&&(s.x=1),s.y<vT&&s.y>yT&&(s.y=1)}function bd(e,s){e.min=e.min+s,e.max=e.max+s}function bT(e,s,n,a,r=.5){const l=oa(e.min,e.max,r);Kv(e,s,n,l,a)}function wd(e,s){bT(e.x,s.x,s.scaleX,s.scale,s.originX),bT(e.y,s.y,s.scaleY,s.scale,s.originY)}function tI(e,s){return XD(D8(e.getBoundingClientRect(),s))}function P8(e,s,n){const a=tI(e,n),{scroll:r}=s;return r&&(bd(a.x,r.offset.x),bd(a.y,r.offset.y)),a}const wT=()=>({translate:0,scale:1,origin:0,originPoint:0}),jd=()=>({x:wT(),y:wT()}),jT=()=>({min:0,max:0}),Sa=()=>({x:jT(),y:jT()}),Qv={current:null},sI={current:!1};function R8(){if(sI.current=!0,!!sw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),s=()=>Qv.current=e.matches;e.addEventListener("change",s),s()}else Qv.current=!1}const O8=new WeakMap;function M8(e,s,n){for(const a in s){const r=s[a],l=n[a];if(hn(r))e.addValue(a,r);else if(hn(l))e.addValue(a,Yd(r,{owner:e}));else if(l!==r)if(e.hasValue(a)){const c=e.getValue(a);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=e.getStaticValue(a);e.addValue(a,Yd(c!==void 0?c:r,{owner:e}))}}for(const a in n)s[a]===void 0&&e.removeValue(a);return s}const NT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _8{scrapeMotionValuesFromProps(s,n,a){return{}}constructor({parent:s,props:n,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Fn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Js.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=s,this.props=n,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=xg(n),this.isVariantNode=BD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const w=g[v];m[v]!==void 0&&hn(w)&&w.set(m[v])}}mount(s){var n;this.current=s,O8.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),sI.current||R8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qv.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var s;this.projection&&this.projection.unmount(),hl(this.notifyUpdate),hl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(s=this.parent)==null||s.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const a=this.features[n];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,n){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const a=du.has(s);a&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[s]=c,this.props.onUpdate&&Js.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,s,n)),this.valueSubscriptions.set(s,()=>{r(),l&&l(),n.owner&&n.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Wd){const n=Wd[s];if(!n)continue;const{isEnabled:a,Feature:r}=n;if(!this.features[s]&&r&&a(this.props)&&(this.features[s]=new r(this)),this.features[s]){const l=this.features[s];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sa()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,n){this.latestValues[s]=n}update(s,n){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<NT.length;a++){const r=NT[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=s[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=M8(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(s),()=>n.variantChildren.delete(s)}addValue(s,n){const a=this.values.get(s);n!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,n),this.values.set(s,n),this.latestValues[s]=n.get())}removeValue(s){this.values.delete(s);const n=this.valueSubscriptions.get(s);n&&(n(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,n){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&n!==void 0&&(a=Yd(n===null?void 0:n,{owner:this}),this.addValue(s,a)),a}readValue(s,n){let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(WA(a)||QA(a))?a=parseFloat(a):!HB(a)&&ml.test(n)&&(a=ID(s,n)),this.setBaseTarget(s,hn(a)?a.get():a)),hn(a)?a.get():a}setBaseTarget(s,n){this.baseTarget[s]=n}getBaseTarget(s){var l;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=Iw(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(a=c[s])}if(n&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,s);return r!==void 0&&!hn(r)?r:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,n){return this.events[s]||(this.events[s]=new ow),this.events[s].add(n)}notify(s,...n){this.events[s]&&this.events[s].notify(...n)}scheduleRenderMicrotask(){jw.render(this.render)}}class aI extends _8{constructor(){super(...arguments),this.KeyframeResolver=OB}sortInstanceNodePosition(s,n){return s.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(s,n){return s.style?s.style[n]:void 0}removeValueFromRenderState(s,{vars:n,style:a}){delete n[s],delete a[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;hn(s)&&(this.childSubscription=s.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nI(e,{style:s,vars:n},a,r){const l=e.style;let c;for(c in s)l[c]=s[c];r==null||r.applyProjectionStyles(l,a);for(c in n)l.setProperty(c,n[c])}function L8(e){return window.getComputedStyle(e)}class F8 extends aI{constructor(){super(...arguments),this.type="html",this.renderInstance=nI}readValueFromInstance(s,n){var a;if(du.has(n))return(a=this.projection)!=null&&a.isProjecting?Bv(n):ZV(s,n);{const r=L8(s),l=(dw(n)?r.getPropertyValue(n):r[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(s,{transformPagePoint:n}){return tI(s,n)}build(s,n,a){Ew(s,n,a.transformTemplate)}scrapeMotionValuesFromProps(s,n,a){return Pw(s,n,a)}}const rI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function U8(e,s,n,a){nI(e,s,void 0,a);for(const r in s.attrs)e.setAttribute(rI.has(r)?r:Rw(r),s.attrs[r])}class V8 extends aI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sa}getBaseTargetFromProps(s,n){return s[n]}readValueFromInstance(s,n){if(du.has(n)){const a=DD(n);return a&&a.default||0}return n=rI.has(n)?n:Rw(n),s.getAttribute(n)}scrapeMotionValuesFromProps(s,n,a){return WD(s,n,a)}build(s,n,a){$D(s,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(s,n,a,r){U8(s,n,a,r)}mount(s){this.isSVGTag=HD(s.tagName),super.mount(s)}}const B8=(e,s)=>Dw(e)?new V8(s):new F8(s,{allowProjection:e!==x.Fragment});function Ed(e,s,n){const a=e.getProps();return Iw(a,s,n!==void 0?n:a.custom,e)}const Jv=e=>Array.isArray(e);function z8(e,s,n){e.hasValue(s)?e.getValue(s).set(n):e.addValue(s,Yd(n))}function q8(e){return Jv(e)?e[e.length-1]||0:e}function $8(e,s){const n=Ed(e,s);let{transitionEnd:a={},transition:r={},...l}=n||{};l={...l,...a};for(const c in l){const u=q8(l[c]);z8(e,c,u)}}function G8(e){return!!(hn(e)&&e.add)}function Xv(e,s){const n=e.getValue("willChange");if(G8(n))return n.add(s);if(!n&&no.WillChange){const a=new no.WillChange("auto");e.addValue("willChange",a),a.add(s)}}function iI(e){return e.props[KD]}const H8=e=>e!==null;function Y8(e,{repeat:s,repeatType:n="loop"},a){const r=e.filter(H8),l=s&&n!=="loop"&&s%2===1?0:r.length-1;return r[l]}const W8={type:"spring",stiffness:500,damping:25,restSpeed:10},K8=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Q8={type:"keyframes",duration:.8},J8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X8=(e,{keyframes:s})=>s.length>2?Q8:du.has(e)?e.startsWith("scale")?K8(s[1]):W8:J8;function Z8({when:e,delay:s,delayChildren:n,staggerChildren:a,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:u,from:m,elapsed:p,...f}){return!!Object.keys(f).length}const Ow=(e,s,n,a={},r,l)=>c=>{const u=bw(a,e)||{},m=u.delay||a.delay||0;let{elapsed:p=0}=a;p=p-ci(m);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:s.getVelocity(),...u,delay:-p,onUpdate:v=>{s.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:s,element:l?void 0:r};Z8(u)||Object.assign(f,X8(e,f)),f.duration&&(f.duration=ci(f.duration)),f.repeatDelay&&(f.repeatDelay=ci(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Hv(f),f.delay===0&&(g=!0)),(no.instantAnimations||no.skipAnimations)&&(g=!0,Hv(f),f.delay=0),f.allowFlatten=!u.type&&!u.ease,g&&!l&&s.get()!==void 0){const v=Y8(f.keyframes,u);if(v!==void 0){Js.update(()=>{f.onUpdate(v),f.onComplete()});return}}return u.isSync?new yw(f):new jB(f)};function ez({protectedKeys:e,needsAnimating:s},n){const a=e.hasOwnProperty(n)&&s[n]!==!0;return s[n]=!1,a}function oI(e,s,{delay:n=0,transitionOverride:a,type:r}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=s;a&&(l=a);const m=[],p=r&&e.animationState&&e.animationState.getState()[r];for(const f in u){const g=e.getValue(f,e.latestValues[f]??null),v=u[f];if(v===void 0||p&&ez(p,f))continue;const w={delay:n,...bw(l||{},f)},N=g.get();if(N!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===N&&!w.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const E=iI(e);if(E){const T=window.MotionHandoffAnimation(E,f,Js);T!==null&&(w.startTime=T,j=!0)}}Xv(e,f),g.start(Ow(f,g,v,e.shouldReduceMotion&&kD.has(f)?{type:!1}:w,e,j));const S=g.animation;S&&m.push(S)}return c&&Promise.all(m).then(()=>{Js.update(()=>{c&&$8(e,c)})}),m}function lI(e,s,n,a=0,r=1){const l=Array.from(e).sort((p,f)=>p.sortNodePosition(f)).indexOf(s),c=e.size,u=(c-1)*a;return typeof n=="function"?n(l,c):r===1?l*a:u-l*a}function Zv(e,s,n={}){var m;const a=Ed(e,s,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(r=n.transitionOverride);const l=a?()=>Promise.all(oI(e,a,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:v}=r;return tz(e,s,p,f,g,v,n)}:()=>Promise.resolve(),{when:u}=r;if(u){const[p,f]=u==="beforeChildren"?[l,c]:[c,l];return p().then(()=>f())}else return Promise.all([l(),c(n.delay)])}function tz(e,s,n=0,a=0,r=0,l=1,c){const u=[];for(const m of e.variantChildren)m.notify("AnimationStart",s),u.push(Zv(m,s,{...c,delay:n+(typeof a=="function"?0:a)+lI(e.variantChildren,m,a,r,l)}).then(()=>m.notify("AnimationComplete",s)));return Promise.all(u)}function sz(e,s,n={}){e.notify("AnimationStart",s);let a;if(Array.isArray(s)){const r=s.map(l=>Zv(e,l,n));a=Promise.all(r)}else if(typeof s=="string")a=Zv(e,s,n);else{const r=typeof s=="function"?Ed(e,s,n.custom):s;a=Promise.all(oI(e,r,n))}return a.then(()=>{e.notify("AnimationComplete",s)})}function cI(e,s){if(!Array.isArray(s))return!1;const n=s.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(s[a]!==e[a])return!1;return!0}const az=kw.length;function dI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?dI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const s={};for(let n=0;n<az;n++){const a=kw[n],r=e.props[a];(zh(r)||r===!1)&&(s[a]=r)}return s}const nz=[...Tw].reverse(),rz=Tw.length;function iz(e){return s=>Promise.all(s.map(({animation:n,options:a})=>sz(e,n,a)))}function oz(e){let s=iz(e),n=ST(),a=!0;const r=m=>(p,f)=>{var v;const g=Ed(e,f,m==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:w,transitionEnd:N,...j}=g;p={...p,...j,...N}}return p};function l(m){s=m(e)}function c(m){const{props:p}=e,f=dI(e.parent)||{},g=[],v=new Set;let w={},N=1/0;for(let S=0;S<rz;S++){const E=nz[S],T=n[E],C=p[E]!==void 0?p[E]:f[E],P=zh(C),D=E===m?T.isActive:null;D===!1&&(N=S);let A=C===f[E]&&C!==p[E]&&P;if(A&&a&&e.manuallyAnimateOnMount&&(A=!1),T.protectedKeys={...w},!T.isActive&&D===null||!C&&!T.prevProp||gg(C)||typeof C=="boolean")continue;const R=lz(T.prevProp,C);let F=R||E===m&&T.isActive&&!A&&P||S>N&&P,z=!1;const J=Array.isArray(C)?C:[C];let K=J.reduce(r(E),{});D===!1&&(K={});const{prevResolvedValues:X={}}=T,ce={...X,...K},q=B=>{F=!0,v.has(B)&&(z=!0,v.delete(B)),T.needsAnimating[B]=!0;const Y=e.getValue(B);Y&&(Y.liveStyle=!1)};for(const B in ce){const Y=K[B],de=X[B];if(w.hasOwnProperty(B))continue;let G=!1;Jv(Y)&&Jv(de)?G=!cI(Y,de):G=Y!==de,G?Y!=null?q(B):v.add(B):Y!==void 0&&v.has(B)?q(B):T.protectedKeys[B]=!0}T.prevProp=C,T.prevResolvedValues=K,T.isActive&&(w={...w,...K}),a&&e.blockInitialAnimation&&(F=!1);const ie=A&&R;F&&(!ie||z)&&g.push(...J.map(B=>{const Y={type:E};if(typeof B=="string"&&a&&!ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:de}=e,G=Ed(de,B);if(de.enteringChildren&&G){const{delayChildren:M}=G.transition||{};Y.delay=lI(de.enteringChildren,e,M)}}return{animation:B,options:Y}}))}if(v.size){const S={};if(typeof p.initial!="boolean"){const E=Ed(e,Array.isArray(p.initial)?p.initial[0]:p.initial);E&&E.transition&&(S.transition=E.transition)}v.forEach(E=>{const T=e.getBaseTarget(E),C=e.getValue(E);C&&(C.liveStyle=!0),S[E]=T??null}),g.push({animation:S})}let j=!!g.length;return a&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(j=!1),a=!1,j?s(g):Promise.resolve()}function u(m,p){var g;if(n[m].isActive===p)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(v=>{var w;return(w=v.animationState)==null?void 0:w.setActive(m,p)}),n[m].isActive=p;const f=c(m);for(const v in n)n[v].protectedKeys={};return f}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ST(),a=!0}}}function lz(e,s){return typeof s=="string"?s!==e:Array.isArray(s)?!cI(s,e):!1}function $l(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ST(){return{animate:$l(!0),whileInView:$l(),whileHover:$l(),whileTap:$l(),whileDrag:$l(),whileFocus:$l(),exit:$l()}}class gl{constructor(s){this.isMounted=!1,this.node=s}update(){}}class cz extends gl{constructor(s){super(s),s.animationState||(s.animationState=oz(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();gg(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:n}=this.node.prevProps||{};s!==n&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let dz=0;class uz extends gl{constructor(){super(...arguments),this.id=dz++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const r=this.node.animationState.setActive("exit",!s);n&&!s&&r.then(()=>{n(this.id)})}mount(){const{register:s,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const hz={animation:{Feature:cz},exit:{Feature:uz}};function $h(e,s,n,a={passive:!0}){return e.addEventListener(s,n,a),()=>e.removeEventListener(s,n)}function cm(e){return{point:{x:e.pageX,y:e.pageY}}}const mz=e=>s=>Nw(s)&&e(s,cm(s));function Dh(e,s,n,a){return $h(e,s,mz(n),a)}const uI=1e-4,pz=1-uI,fz=1+uI,hI=.01,gz=0-hI,xz=0+hI;function Sn(e){return e.max-e.min}function yz(e,s,n){return Math.abs(e-s)<=n}function CT(e,s,n,a=.5){e.origin=a,e.originPoint=oa(s.min,s.max,e.origin),e.scale=Sn(n)/Sn(s),e.translate=oa(n.min,n.max,e.origin)-e.originPoint,(e.scale>=pz&&e.scale<=fz||isNaN(e.scale))&&(e.scale=1),(e.translate>=gz&&e.translate<=xz||isNaN(e.translate))&&(e.translate=0)}function Ih(e,s,n,a){CT(e.x,s.x,n.x,a?a.originX:void 0),CT(e.y,s.y,n.y,a?a.originY:void 0)}function TT(e,s,n){e.min=n.min+s.min,e.max=e.min+Sn(s)}function vz(e,s,n){TT(e.x,s.x,n.x),TT(e.y,s.y,n.y)}function kT(e,s,n){e.min=s.min-n.min,e.max=e.min+Sn(s)}function Ph(e,s,n){kT(e.x,s.x,n.x),kT(e.y,s.y,n.y)}function yr(e){return[e("x"),e("y")]}const mI=({current:e})=>e?e.ownerDocument.defaultView:null,ET=(e,s)=>Math.abs(e-s);function bz(e,s){const n=ET(e.x,s.x),a=ET(e.y,s.y);return Math.sqrt(n**2+a**2)}class pI{constructor(s,n,{transformPagePoint:a,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=n0(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,N=bz(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!N)return;const{point:j}=v,{timestamp:S}=tn;this.history.push({...j,timestamp:S});const{onStart:E,onMove:T}=this.handlers;w||(E&&E(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=a0(w,this.transformPagePoint),Js.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:N,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=n0(v.type==="pointercancel"?this.lastMoveEventInfo:a0(w,this.transformPagePoint),this.history);this.startEvent&&N&&N(v,E),j&&j(v,E)},!Nw(s))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=r||window;const u=cm(s),m=a0(u,this.transformPagePoint),{point:p}=m,{timestamp:f}=tn;this.history=[{...p,timestamp:f}];const{onSessionStart:g}=n;g&&g(s,n0(m,this.history)),this.removeListeners=im(Dh(this.contextWindow,"pointermove",this.handlePointerMove),Dh(this.contextWindow,"pointerup",this.handlePointerUp),Dh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),hl(this.updatePoint)}}function a0(e,s){return s?{point:s(e.point)}:e}function AT(e,s){return{x:e.x-s.x,y:e.y-s.y}}function n0({point:e},s){return{point:e,delta:AT(e,fI(s)),offset:AT(e,wz(s)),velocity:jz(s,.1)}}function wz(e){return e[0]}function fI(e){return e[e.length-1]}function jz(e,s){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const r=fI(e);for(;n>=0&&(a=e[n],!(r.timestamp-a.timestamp>ci(s)));)n--;if(!a)return{x:0,y:0};const l=di(r.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-a.x)/l,y:(r.y-a.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Nz(e,{min:s,max:n},a){return s!==void 0&&e<s?e=a?oa(s,e,a.min):Math.max(e,s):n!==void 0&&e>n&&(e=a?oa(n,e,a.max):Math.min(e,n)),e}function DT(e,s,n){return{min:s!==void 0?e.min+s:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Sz(e,{top:s,left:n,bottom:a,right:r}){return{x:DT(e.x,n,r),y:DT(e.y,s,a)}}function IT(e,s){let n=s.min-e.min,a=s.max-e.max;return s.max-s.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function Cz(e,s){return{x:IT(e.x,s.x),y:IT(e.y,s.y)}}function Tz(e,s){let n=.5;const a=Sn(e),r=Sn(s);return r>a?n=Uh(s.min,s.max-a,e.min):a>r&&(n=Uh(e.min,e.max-r,s.min)),ao(0,1,n)}function kz(e,s){const n={};return s.min!==void 0&&(n.min=s.min-e.min),s.max!==void 0&&(n.max=s.max-e.min),n}const eb=.35;function Ez(e=eb){return e===!1?e=0:e===!0&&(e=eb),{x:PT(e,"left","right"),y:PT(e,"top","bottom")}}function PT(e,s,n){return{min:RT(e,s),max:RT(e,n)}}function RT(e,s){return typeof e=="number"?e:e[s]||0}const Az=new WeakMap;class Dz{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:n=!1,distanceThreshold:a}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cm(g).point)},c=(g,v)=>{const{drag:w,dragPropagation:N,onDragStart:j}=this.getProps();if(w&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FB(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yr(E=>{let T=this.getAxisMotionValue(E).get()||0;if(ui.test(T)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[E];P&&(T=Sn(P)*(parseFloat(T)/100))}}this.originPoint[E]=T}),j&&Js.postRender(()=>j(g,v)),Xv(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:N,onDirectionLock:j,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=v;if(N&&this.currentDirection===null){this.currentDirection=Iz(E),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),S&&S(g,v)},m=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>yr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new pI(s,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:a,contextWindow:mI(this.visualElement)})}stop(s,n){const a=s||this.latestPointerEvent,r=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!a)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Js.postRender(()=>u(a,r))}cancel(){this.isDragging=!1;const{projection:s,animationState:n}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(s,n,a){const{drag:r}=this.getProps();if(!a||!ef(s,r,this.currentDirection))return;const l=this.getAxisMotionValue(s);let c=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(c=Nz(c,this.constraints[s],this.elastic[s])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,r=this.constraints;s&&vd(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=Sz(a.layoutBox,s):this.constraints=!1,this.elastic=Ez(n),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&yr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=kz(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:n}=this.getProps();if(!s||!vd(s))return!1;const a=s.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=P8(a,r.root,this.visualElement.getTransformPagePoint());let c=Cz(r.layout.layoutBox,l);if(n){const u=n(A8(c));this.hasMutatedConstraints=!!u,u&&(c=XD(u))}return c}startAnimation(s){const{drag:n,dragMomentum:a,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},p=yr(f=>{if(!ef(f,n,this.currentDirection))return;let g=m&&m[f]||{};c&&(g={min:0,max:0});const v=r?200:1e6,w=r?40:1e7,N={type:"inertia",velocity:a?s[f]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(f,N)});return Promise.all(p).then(u)}startAxisValueAnimation(s,n){const a=this.getAxisMotionValue(s);return Xv(this.visualElement,s),a.start(Ow(s,a,0,n,this.visualElement,!1))}stopAnimation(){yr(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){yr(s=>{var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.pause()})}getAnimationState(s){var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.state}getAxisMotionValue(s){const n=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),r=a[n];return r||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){yr(n=>{const{drag:a}=this.getProps();if(!ef(n,a,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:u}=r.layout.layoutBox[n];l.set(s[n]-oa(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!vd(n)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};yr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const m=u.get();r[c]=Tz({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),yr(c=>{if(!ef(c,s,null))return;const u=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];u.set(oa(m,p,r[c]))})}addListeners(){if(!this.visualElement.current)return;Az.set(this.visualElement,this);const s=this.visualElement.current,n=Dh(s,"pointerdown",m=>{const{drag:p,dragListener:f=!0}=this.getProps();p&&f&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();vd(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Js.read(a);const c=$h(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(yr(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=m[f].translate,g.set(g.get()+m[f].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),u&&u()}}getProps(){const s=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=eb,dragMomentum:u=!0}=s;return{...s,drag:n,dragDirectionLock:a,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function ef(e,s,n){return(s===!0||s===e)&&(n===null||n===e)}function Iz(e,s=10){let n=null;return Math.abs(e.y)>s?n="y":Math.abs(e.x)>s&&(n="x"),n}class Pz extends gl{constructor(s){super(s),this.removeGroupControls=Sr,this.removeListeners=Sr,this.controls=new Dz(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const OT=e=>(s,n)=>{e&&Js.postRender(()=>e(s,n))};class Rz extends gl{constructor(){super(...arguments),this.removePointerDownListener=Sr}onPointerDown(s){this.session=new pI(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mI(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:n,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:OT(s),onStart:OT(n),onMove:a,onEnd:(l,c)=>{delete this.session,r&&Js.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=Dh(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MT(e,s){return s.max===s.min?0:e/(s.max-s.min)*100}const mh={correct:(e,s)=>{if(!s.target)return e;if(typeof e=="string")if(Rt.test(e))e=parseFloat(e);else return e;const n=MT(e,s.target.x),a=MT(e,s.target.y);return`${n}% ${a}%`}},Oz={correct:(e,{treeScale:s,projectionDelta:n})=>{const a=e,r=ml.parse(e);if(r.length>5)return a;const l=ml.createTransformer(e),c=typeof r[0]!="number"?1:0,u=n.x.scale*s.x,m=n.y.scale*s.y;r[0+c]/=u,r[1+c]/=m;const p=oa(u,m,.5);return typeof r[2+c]=="number"&&(r[2+c]/=p),typeof r[3+c]=="number"&&(r[3+c]/=p),l(r)}};let r0=!1;class Mz extends x.Component{componentDidMount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:a,layoutId:r}=this.props,{projection:l}=s;a8(_z),l&&(n.group&&n.group.add(l),a&&a.register&&r&&a.register(l),r0&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:n,visualElement:a,drag:r,isPresent:l}=this.props,{projection:c}=a;return c&&(c.isPresent=l,r0=!0,r||s.layoutDependency!==n||n===void 0||s.isPresent!==l?c.willUpdate():this.safeToRemove(),s.isPresent!==l&&(l?c.promote():c.relegate()||Js.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),jw.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:r}=s;r0=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function gI(e){const[s,n]=FD(),a=x.useContext(ew);return t.jsx(Mz,{...e,layoutGroup:a,switchLayoutGroup:x.useContext(QD),isPresent:s,safeToRemove:n})}const _z={borderRadius:{...mh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mh,borderTopRightRadius:mh,borderBottomLeftRadius:mh,borderBottomRightRadius:mh,boxShadow:Oz};function Lz(e,s,n){const a=hn(e)?e:Yd(e);return a.start(Ow("",a,s,n)),a.animation}const Fz=(e,s)=>e.depth-s.depth;class Uz{constructor(){this.children=[],this.isDirty=!1}add(s){aw(this.children,s),this.isDirty=!0}remove(s){nw(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(Fz),this.isDirty=!1,this.children.forEach(s)}}function Vz(e,s){const n=Fn.now(),a=({timestamp:r})=>{const l=r-n;l>=s&&(hl(a),e(l-s))};return Js.setup(a,!0),()=>hl(a)}const xI=["TopLeft","TopRight","BottomLeft","BottomRight"],Bz=xI.length,_T=e=>typeof e=="string"?parseFloat(e):e,LT=e=>typeof e=="number"||Rt.test(e);function zz(e,s,n,a,r,l){r?(e.opacity=oa(0,n.opacity??1,qz(a)),e.opacityExit=oa(s.opacity??1,0,$z(a))):l&&(e.opacity=oa(s.opacity??1,n.opacity??1,a));for(let c=0;c<Bz;c++){const u=`border${xI[c]}Radius`;let m=FT(s,u),p=FT(n,u);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||LT(m)===LT(p)?(e[u]=Math.max(oa(_T(m),_T(p),a),0),(ui.test(p)||ui.test(m))&&(e[u]+="%")):e[u]=p}(s.rotate||n.rotate)&&(e.rotate=oa(s.rotate||0,n.rotate||0,a))}function FT(e,s){return e[s]!==void 0?e[s]:e.borderRadius}const qz=yI(0,.5,nD),$z=yI(.5,.95,Sr);function yI(e,s,n){return a=>a<e?0:a>s?1:n(Uh(e,s,a))}function UT(e,s){e.min=s.min,e.max=s.max}function gr(e,s){UT(e.x,s.x),UT(e.y,s.y)}function VT(e,s){e.translate=s.translate,e.scale=s.scale,e.originPoint=s.originPoint,e.origin=s.origin}function BT(e,s,n,a,r){return e-=s,e=qf(e,1/n,a),r!==void 0&&(e=qf(e,1/r,a)),e}function Gz(e,s=0,n=1,a=.5,r,l=e,c=e){if(ui.test(s)&&(s=parseFloat(s),s=oa(c.min,c.max,s/100)-c.min),typeof s!="number")return;let u=oa(l.min,l.max,a);e===l&&(u-=s),e.min=BT(e.min,s,n,u,r),e.max=BT(e.max,s,n,u,r)}function zT(e,s,[n,a,r],l,c){Gz(e,s[n],s[a],s[r],s.scale,l,c)}const Hz=["x","scaleX","originX"],Yz=["y","scaleY","originY"];function qT(e,s,n,a){zT(e.x,s,Hz,n?n.x:void 0,a?a.x:void 0),zT(e.y,s,Yz,n?n.y:void 0,a?a.y:void 0)}function $T(e){return e.translate===0&&e.scale===1}function vI(e){return $T(e.x)&&$T(e.y)}function GT(e,s){return e.min===s.min&&e.max===s.max}function Wz(e,s){return GT(e.x,s.x)&&GT(e.y,s.y)}function HT(e,s){return Math.round(e.min)===Math.round(s.min)&&Math.round(e.max)===Math.round(s.max)}function bI(e,s){return HT(e.x,s.x)&&HT(e.y,s.y)}function YT(e){return Sn(e.x)/Sn(e.y)}function WT(e,s){return e.translate===s.translate&&e.scale===s.scale&&e.originPoint===s.originPoint}class Kz{constructor(){this.members=[]}add(s){aw(this.members,s),s.scheduleRender()}remove(s){if(nw(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(s){const n=this.members.findIndex(r=>s===r);if(n===0)return!1;let a;for(let r=n;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(s,n){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,n&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:r}=s.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:n,resumingFrom:a}=s;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qz(e,s,n){let a="";const r=e.x.translate/s.x,l=e.y.translate/s.y,c=(n==null?void 0:n.z)||0;if((r||l||c)&&(a=`translate3d(${r}px, ${l}px, ${c}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),n){const{transformPerspective:p,rotate:f,rotateX:g,rotateY:v,skewX:w,skewY:N}=n;p&&(a=`perspective(${p}px) ${a}`),f&&(a+=`rotate(${f}deg) `),g&&(a+=`rotateX(${g}deg) `),v&&(a+=`rotateY(${v}deg) `),w&&(a+=`skewX(${w}deg) `),N&&(a+=`skewY(${N}deg) `)}const u=e.x.scale*s.x,m=e.y.scale*s.y;return(u!==1||m!==1)&&(a+=`scale(${u}, ${m})`),a||"none"}const i0=["","X","Y","Z"],Jz=1e3;let Xz=0;function o0(e,s,n,a){const{latestValues:r}=s;r[e]&&(n[e]=r[e],s.setStaticValue(e,0),a&&(a[e]=0))}function wI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:s}=e.options;if(!s)return;const n=iI(s);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Js,!(r||l))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&wI(a)}function jI({attachResizeListener:e,defaultParent:s,measureScroll:n,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(c={},u=s==null?void 0:s()){this.id=Xz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tq),this.nodes.forEach(rq),this.nodes.forEach(iq),this.nodes.forEach(sq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uz)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ow),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const m=this.eventHandlers.get(c);m&&m.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=LD(c)&&!$B(c),this.instance=c;const{layoutId:u,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),e){let f,g=0;const v=()=>this.root.updateBlockedByResize=!1;Js.read(()=>{g=window.innerWidth}),e(c,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,f&&f(),f=Vz(v,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(JT)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||m)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||uq,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=p.getProps(),E=!this.targetLayout||!bI(this.targetLayout,w),T=!g&&v;if(this.options.layoutRoot||this.resumeFrom||T||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...bw(N,"layout"),onPlay:j,onComplete:S};(p.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(f,T)}else g||JT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oq),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nq),this.nodes.forEach(Zz),this.nodes.forEach(eq)):this.nodes.forEach(QT),this.clearAllSnapshots();const u=Fn.now();tn.delta=ao(0,1e3/60,u-tn.timestamp),tn.timestamp=u,tn.isProcessing=!0,Ky.update.process(tn),Ky.preRender.process(tn),Ky.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aq),this.sharedNodes.forEach(lq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Js.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Js.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const m=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!vI(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;c&&this.instance&&(u||Gl(this.latestValues)||f)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return c&&(m=this.removeTransform(m)),hq(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Sa();const u=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(mq))){const{scroll:f}=this.root;f&&(bd(u.x,f.offset.x),bd(u.y,f.offset.y))}return u}removeElementScroll(c){var m;const u=Sa();if(gr(u,c),(m=this.scroll)!=null&&m.wasRoot)return u;for(let p=0;p<this.path.length;p++){const f=this.path[p],{scroll:g,options:v}=f;f!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&gr(u,c),bd(u.x,g.offset.x),bd(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const m=Sa();gr(m,c);for(let p=0;p<this.path.length;p++){const f=this.path[p];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&wd(m,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Gl(f.latestValues)&&wd(m,f.latestValues)}return Gl(this.latestValues)&&wd(m,this.latestValues),m}removeTransform(c){const u=Sa();gr(u,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Gl(p.latestValues))continue;Wv(p.latestValues)&&p.updateSnapshot();const f=Sa(),g=p.measurePageBox();gr(f,g),qT(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return Gl(this.latestValues)&&qT(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sa(),this.relativeTargetOrigin=Sa(),Ph(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sa(),this.targetWithTransforms=Sa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gr(this.target,this.layout.layoutBox),eI(this.target,this.targetDelta)):gr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sa(),this.relativeTargetOrigin=Sa(),Ph(this.relativeTargetOrigin,this.target,w.target),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wv(this.parent.latestValues)||ZD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||f))return;gr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;I8(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Sa());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VT(this.prevProjectionDelta.x,this.projectionDelta.x),VT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ih(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!WT(this.projectionDelta.x,this.prevProjectionDelta.x)||!WT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jd(),this.projectionDelta=jd(),this.projectionDeltaWithTransform=jd()}setAnimationOrigin(c,u=!1){const m=this.snapshot,p=m?m.latestValues:{},f={...this.latestValues},g=jd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Sa(),w=m?m.source:void 0,N=this.layout?this.layout.source:void 0,j=w!==N,S=this.getStack(),E=!S||S.members.length<=1,T=!!(j&&!E&&this.options.crossfade===!0&&!this.path.some(dq));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const D=P/1e3;XT(g.x,c.x,D),XT(g.y,c.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ph(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cq(this.relativeTarget,this.relativeTargetOrigin,v,D),C&&Wz(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Sa()),gr(C,this.relativeTarget)),j&&(this.animationValues=f,zz(f,p,this.latestValues,D,T,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,m,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(hl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Js.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yd(0)),this.currentAnimation=Lz(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:m,layout:p,latestValues:f}=c;if(!(!u||!m||!p)){if(this!==c&&this.layout&&p&&NI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Sa();const g=Sn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+g;const v=Sn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+v}gr(u,m),wd(u,f),Ih(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Kz),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const p={};m.z&&o0("z",c,p,this.animationValues);for(let f=0;f<i0.length;f++)o0(`rotate${i0[f]}`,c,p,this.animationValues),o0(`skew${i0[f]}`,c,p,this.animationValues);c.render();for(const f in p)c.setStaticValue(f,p[f]),this.animationValues&&(this.animationValues[f]=p[f]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=jf(u==null?void 0:u.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=jf(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Gl(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const f=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=Qz(this.projectionDeltaWithTransform,this.treeScale,f);m&&(g=m(f,g)),c.transform=g;const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const N in qh){if(f[N]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:E}=qh[N],T=g==="none"?f[N]:j(f[N],p);if(S){const C=S.length;for(let P=0;P<C;P++)c[S[P]]=T}else E?this.options.visualElement.renderState.vars[N]=T:c[N]=T}this.options.layoutId&&(c.pointerEvents=p===this?jf(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(KT),this.root.sharedNodes.clear()}}}function Zz(e){e.updateLayout()}function eq(e){var n;const s=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:l}=e.options,c=s.source!==e.layout.source;l==="size"?yr(g=>{const v=c?s.measuredBox[g]:s.layoutBox[g],w=Sn(v);v.min=a[g].min,v.max=v.min+w}):NI(l,s.layoutBox,a)&&yr(g=>{const v=c?s.measuredBox[g]:s.layoutBox[g],w=Sn(a[g]);v.max=v.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+w)});const u=jd();Ih(u,a,s.layoutBox);const m=jd();c?Ih(m,e.applyTransform(r,!0),s.measuredBox):Ih(m,a,s.layoutBox);const p=!vI(u);let f=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const N=Sa();Ph(N,s.layoutBox,v.layoutBox);const j=Sa();Ph(j,a,w.layoutBox),bI(N,j)||(f=!0),g.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=N,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:m,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function tq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aq(e){e.clearSnapshot()}function KT(e){e.clearMeasurements()}function QT(e){e.isLayoutDirty=!1}function nq(e){const{visualElement:s}=e.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),e.resetTransform()}function JT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rq(e){e.resolveTargetDelta()}function iq(e){e.calcProjection()}function oq(e){e.resetSkewAndRotation()}function lq(e){e.removeLeadSnapshot()}function XT(e,s,n){e.translate=oa(s.translate,0,n),e.scale=oa(s.scale,1,n),e.origin=s.origin,e.originPoint=s.originPoint}function ZT(e,s,n,a){e.min=oa(s.min,n.min,a),e.max=oa(s.max,n.max,a)}function cq(e,s,n,a){ZT(e.x,s.x,n.x,a),ZT(e.y,s.y,n.y,a)}function dq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uq={duration:.45,ease:[.4,0,.1,1]},e2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),t2=e2("applewebkit/")&&!e2("chrome/")?Math.round:Sr;function s2(e){e.min=t2(e.min),e.max=t2(e.max)}function hq(e){s2(e.x),s2(e.y)}function NI(e,s,n){return e==="position"||e==="preserve-aspect"&&!yz(YT(s),YT(n),.2)}function mq(e){var s;return e!==e.root&&((s=e.scroll)==null?void 0:s.wasRoot)}const pq=jI({attachResizeListener:(e,s)=>$h(e,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),l0={current:void 0},SI=jI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!l0.current){const e=new pq({});e.mount(window),e.setOptions({layoutScroll:!0}),l0.current=e}return l0.current},resetTransform:(e,s)=>{e.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fq={pan:{Feature:Rz},drag:{Feature:Pz,ProjectionNode:SI,MeasureLayout:gI}};function a2(e,s,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,l=a[r];l&&Js.postRender(()=>l(s,cm(s)))}class gq extends gl{mount(){const{current:s}=this.node;s&&(this.unmount=UB(s,(n,a)=>(a2(this.node,a,"Start"),r=>a2(this.node,r,"End"))))}unmount(){}}class xq extends gl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=im($h(this.node.current,"focus",()=>this.onFocus()),$h(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n2(e,s,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),l=a[r];l&&Js.postRender(()=>l(s,cm(s)))}class yq extends gl{mount(){const{current:s}=this.node;s&&(this.unmount=qB(s,(n,a)=>(n2(this.node,a,"Start"),(r,{success:l})=>n2(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tb=new WeakMap,c0=new WeakMap,vq=e=>{const s=tb.get(e.target);s&&s(e)},bq=e=>{e.forEach(vq)};function wq({root:e,...s}){const n=e||document;c0.has(n)||c0.set(n,{});const a=c0.get(n),r=JSON.stringify(s);return a[r]||(a[r]=new IntersectionObserver(bq,{root:e,...s})),a[r]}function jq(e,s,n){const a=wq(s);return tb.set(e,n),a.observe(e),()=>{tb.delete(e),a.unobserve(e)}}const Nq={some:0,all:1};class Sq extends gl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:n,margin:a,amount:r="some",once:l}=s,c={root:n?n.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:Nq[r]},u=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),v=p?f:g;v&&v(m)};return jq(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:n}=this.node;["amount","margin","root"].some(Cq(s,n))&&this.startObserver()}unmount(){}}function Cq({viewport:e={}},{viewport:s={}}={}){return n=>e[n]!==s[n]}const Tq={inView:{Feature:Sq},tap:{Feature:yq},focus:{Feature:xq},hover:{Feature:gq}},kq={layout:{ProjectionNode:SI,MeasureLayout:gI}},Eq={...hz,...Tq,...fq,...kq},Nr=E8(Eq,B8);function Aq(){var P,D;const[e,s]=x.useState(""),[n,a]=x.useState(""),[r,l]=x.useState(!1),[c,u]=x.useState(!1),[m,p]=x.useState(!1),[f,g]=x.useState(""),{login:v}=$s(),{theme:w}=_a(),{toast:N}=da(),j=Tr(),E=((D=(P=kn().state)==null?void 0:P.from)==null?void 0:D.pathname)||"/dashboard";x.useEffect(()=>{const A=localStorage.getItem("rememberEmail");A&&(s(A),l(!0))},[]);const T=async A=>{A.preventDefault();const R=e,F=n;if(!R||!F){g("Please enter both email and password");return}u(!0),g("");try{p(!0),await new Promise(z=>setTimeout(z,600)),await v(R,F),r?localStorage.setItem("rememberEmail",R):localStorage.removeItem("rememberEmail")}catch(z){console.error("Login error:",z),g(z.message||"Login failed. Please try again."),p(!1),N({variant:"destructive",title:"Login failed",description:z.message||"Please check your credentials and try again."})}finally{u(!1)}},C=()=>{setTimeout(()=>{p(!1),j(E,{replace:!0})},500)};return t.jsxs("div",{className:"relative min-h-[100dvh] w-full flex items-center justify-center overflow-hidden bg-gray-50/50 pt-safe pb-safe",children:[t.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden -z-10",children:[t.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] rounded-full bg-blue-400/20 blur-[120px] animate-pulse"}),t.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-indigo-400/20 blur-[120px] animate-pulse",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-[40%] left-[40%] w-[30%] h-[30%] rounded-full bg-sky-200/30 blur-[100px] animate-pulse",style:{animationDelay:"4s"}})]}),t.jsxs("div",{className:"w-full max-w-md px-4 sm:px-6",children:[t.jsx(Nr.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.16,1,.3,1]},className:"relative",children:t.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white/70 backdrop-blur-2xl shadow-[0_8px_40px_-12px_rgba(0,0,0,0.1)] border border-white/40 ring-1 ring-white/50",children:[t.jsxs("div",{className:"pt-8 pb-6 px-6 sm:pt-10 sm:pb-8 sm:px-8 text-center",children:[t.jsx(Nr.div,{initial:{transform:"translateY(10px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{delay:.2,duration:.5},className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:t.jsx(ca,{className:"h-8 w-8 text-white"})})}),t.jsxs(Nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[t.jsxs("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 mb-2 font-display",children:["Welcome to ",w.brandName]}),t.jsx("p",{className:"text-gray-500 text-base",children:"Sign in to manage your property"})]})]}),t.jsx("div",{className:"px-6 pb-8 sm:px-8 sm:pb-10",children:t.jsxs("form",{onSubmit:T,className:"space-y-5",children:[t.jsx(Cw,{mode:"wait",children:f&&t.jsx(Nr.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:16},exit:{opacity:0,height:0,marginBottom:0},className:"overflow-hidden",children:t.jsxs("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-100 text-red-600 text-sm py-2.5 px-3 rounded-xl flex items-center gap-2",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-red-500"}),f]})})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"email",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Email Address"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx($d,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ye,{id:"email",type:"email",value:e,onChange:A=>s(A.target.value),required:!0,className:"pl-11 h-12 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-base shadow-sm",placeholder:"name@company.com",disabled:c})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between ml-1",children:[t.jsx(ee,{htmlFor:"password",className:"text-xs font-semibold uppercase tracking-wider text-gray-400",children:"Password"}),t.jsx(pi,{to:"/forgot-password",className:"text-xs font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Forgot password?"})]}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Vb,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ye,{id:"password",type:"password",value:n,onChange:A=>a(A.target.value),required:!0,className:"pl-11 h-12 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-base shadow-sm",placeholder:"",disabled:c})]})]})]}),t.jsxs("div",{className:"pt-2 space-y-5",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"remember-me",type:"checkbox",checked:r,onChange:A=>l(A.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500/20 transition-all cursor-pointer"}),t.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-600 cursor-pointer select-none",children:"Keep me signed in"})]}),t.jsx(se,{type:"submit",className:"w-full h-12 bg-gray-900 hover:bg-gray-800 text-white rounded-xl text-base font-medium shadow-lg shadow-gray-900/20 active:scale-[0.98] transition-all duration-200",disabled:c||m,style:{background:w.primaryColor?`linear-gradient(135deg, ${w.primaryColor}, ${Dq(w.primaryColor)})`:void 0},children:c||m?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(Tn,{className:"h-5 w-5 animate-spin text-white/80"}),t.jsx("span",{children:"Signing In..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2 group",children:[t.jsx("span",{children:"Sign In"}),t.jsx(Df,{className:"h-4 w-4 opacity-70 group-hover:translate-x-1 transition-transform"})]})})]}),t.jsx("div",{className:"pt-2 text-center",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",t.jsx(pi,{to:"/signup",className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:"Create Admin Account"})]})})]})}),t.jsx("div",{className:"h-1.5 w-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 opacity-80"})]})}),t.jsxs(Nr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.8},className:"text-center mt-8 text-xs text-gray-400 font-medium",children:[" 2025 ",w.brandName,". Secure Login."]})]}),t.jsx(QU,{isOpen:m,onComplete:C})]})}function Dq(e,s){return e}function Iq(){const e=Tr(),{signup:s}=$s(),{theme:n}=_a(),{toast:a}=da(),[r,l]=x.useState({displayName:"",email:"",password:"",organizationName:"",subdomainPrefix:""}),[c,u]=x.useState(!1),[m,p]=x.useState(""),f=async N=>{N.preventDefault(),u(!0),p("");try{if(!/^[a-z0-9-]+$/.test(r.subdomainPrefix))throw new Error("Subdomain can only contain lowercase letters, numbers, and hyphens");await s(r),e("/login",{replace:!0}),a({title:"Account created",description:"Please log in with your new credentials."})}catch(j){console.error("Signup error:",j);let S="Signup failed. Please try again.";j.message&&(j.message.includes("subdomain")?S="This subdomain is already taken. Please choose a different one.":j.message.includes("email")?S="This email address is already in use.":j.message.includes("password")?S="Password must be at least 8 characters long.":S=j.message),p(S),a({variant:"destructive",title:"Signup failed",description:S})}finally{u(!1)}},g=(N,j)=>{l(S=>({...S,[N]:j})),m&&p("")},v=N=>N.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),w=N=>{l(j=>({...j,organizationName:N,subdomainPrefix:j.subdomainPrefix===v(j.organizationName)||!j.subdomainPrefix?v(N):j.subdomainPrefix})),m&&p("")};return t.jsxs("div",{className:"relative min-h-[100dvh] w-full flex items-center justify-center overflow-hidden bg-gray-50/50 py-safe px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden -z-10",children:[t.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] rounded-full bg-blue-400/20 blur-[120px] animate-pulse"}),t.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-indigo-400/20 blur-[120px] animate-pulse",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-[40%] left-[40%] w-[30%] h-[30%] rounded-full bg-sky-200/30 blur-[100px] animate-pulse",style:{animationDelay:"4s"}})]}),t.jsxs("div",{className:"w-full max-w-lg",children:[t.jsx(Nr.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.16,1,.3,1]},className:"relative",children:t.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white/70 backdrop-blur-2xl shadow-[0_8px_40px_-12px_rgba(0,0,0,0.1)] border border-white/40 ring-1 ring-white/50",children:[t.jsxs("div",{className:"pt-8 pb-6 px-6 sm:pt-10 sm:px-8 text-center",children:[t.jsx(Nr.div,{initial:{transform:"translateY(10px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{delay:.2,duration:.5},className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:t.jsx(ca,{className:"h-7 w-7 text-white"})})}),t.jsxs(Nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight text-gray-900 mb-2 font-display",children:"Create Admin Account"}),t.jsxs("p",{className:"text-gray-500 text-sm",children:["Set up your ",n.brandName]})]})]}),t.jsx("div",{className:"px-6 pb-8 sm:px-8 sm:pb-10",children:t.jsxs("form",{onSubmit:f,className:"space-y-5",children:[t.jsx(Cw,{mode:"wait",children:m&&t.jsx(Nr.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:16},exit:{opacity:0,height:0,marginBottom:0},className:"overflow-hidden",children:t.jsxs("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-100 text-red-600 text-sm py-2.5 px-3 rounded-xl flex items-center gap-2",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-red-500"}),m]})})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"displayName",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Full Name"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Ya,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ye,{id:"displayName",type:"text",value:r.displayName,onChange:N=>g("displayName",N.target.value),required:!0,placeholder:"John Doe",disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-sm shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"email",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Email Address"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx($d,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ye,{id:"email",type:"email",value:r.email,onChange:N=>g("email",N.target.value),required:!0,placeholder:"name@company.com",disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-sm shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"organizationName",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Organization Name"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(ca,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ye,{id:"organizationName",type:"text",value:r.organizationName,onChange:N=>w(N.target.value),required:!0,placeholder:"My Hotel Group",disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-sm shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"subdomainPrefix",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Subdomain"}),t.jsxs("div",{className:"flex relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Kl,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ye,{id:"subdomainPrefix",type:"text",value:r.subdomainPrefix,onChange:N=>g("subdomainPrefix",N.target.value),required:!0,placeholder:"mycompany",disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-l-xl rounded-r-none transition-all duration-300 text-sm shadow-sm"}),t.jsx("div",{className:"flex items-center px-4 bg-gray-100/50 border border-l-0 border-gray-200/60 rounded-r-xl text-gray-500 text-sm font-medium backdrop-blur-sm",children:".hospitality.com"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 ml-1",children:"Only lowercase letters, numbers, and hyphens"})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"password",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Password"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Vb,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ye,{id:"password",type:"password",value:r.password,onChange:N=>g("password",N.target.value),required:!0,placeholder:"Min 8 characters",minLength:8,disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-sm shadow-sm"})]})]})]}),t.jsx("div",{className:"pt-2",children:t.jsx(se,{type:"submit",className:"w-full h-12 bg-gray-900 hover:bg-gray-800 text-white rounded-xl text-base font-medium shadow-lg shadow-gray-900/20 active:scale-[0.98] transition-all duration-200",disabled:c,style:{background:n.primaryColor?`linear-gradient(135deg, ${n.primaryColor}, #2563eb)`:void 0},children:c?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(Tn,{className:"h-5 w-5 animate-spin text-white/80"}),t.jsx("span",{children:"Creating account..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2 group",children:[t.jsx("span",{children:"Create Account"}),t.jsx(Df,{className:"h-4 w-4 opacity-70 group-hover:translate-x-1 transition-transform"})]})})}),t.jsx("div",{className:"pt-2 text-center",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",t.jsx(pi,{to:"/login",className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:"Sign in directly"})]})})]})}),t.jsx("div",{className:"h-1.5 w-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 opacity-80"})]})}),t.jsxs(Nr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.8},className:"text-center mt-8 text-xs text-gray-400 font-medium",children:[" 2025 ",n.brandName,". Secure Registration."]})]})]})}function Te({className:e,...s}){return t.jsx("div",{"data-slot":"card",className:Xe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function Qe({className:e,...s}){return t.jsx("div",{"data-slot":"card-header",className:Xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function Je({className:e,...s}){return t.jsx("div",{"data-slot":"card-title",className:Xe("leading-none font-semibold",e),...s})}function Dt({className:e,...s}){return t.jsx("div",{"data-slot":"card-description",className:Xe("text-muted-foreground text-sm",e),...s})}function ke({className:e,...s}){return t.jsx("div",{"data-slot":"card-content",className:Xe("px-6",e),...s})}const Pq=og("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function rl({className:e,variant:s,...n}){return t.jsx("div",{"data-slot":"alert",role:"alert",className:Xe(Pq({variant:s}),e),...n})}function il({className:e,...s}){return t.jsx("div",{"data-slot":"alert-description",className:Xe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...s})}function Rq(){const[e,s]=x.useState(""),[n,a]=x.useState(!1),[r,l]=x.useState(!1),[c,u]=x.useState(""),{theme:m}=_a(),{toast:p}=da(),f=async g=>{g.preventDefault(),a(!0),u("");try{await Td.auth.forgotPassword({email:e}),l(!0),p({title:"Reset link sent",description:"If an account with that email exists, a password reset link has been sent."})}catch(v){console.error("Forgot password error:",v),u(v.message||"Failed to send reset link. Please try again."),p({variant:"destructive",title:"Failed to send reset link",description:v.message||"Please try again."})}finally{a(!1)}};return r?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(ca,{className:"h-12 w-12",style:{color:m.primaryColor}})}),t.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Check your email"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent a password reset link to your email address"})]}),t.jsx(Te,{children:t.jsx(ke,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["If an account with ",t.jsx("strong",{children:e})," exists, you'll receive a password reset link shortly."]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Didn't receive an email? Check your spam folder or try again with a different email address."}),t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx(se,{variant:"outline",onClick:()=>{l(!1),s("")},children:"Try different email"}),t.jsx(pi,{to:"/login",children:t.jsxs(se,{variant:"ghost",className:"w-full",children:[t.jsx(Af,{className:"mr-2 h-4 w-4"}),"Back to login"]})})]})]})})})]})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(ca,{className:"h-12 w-12",style:{color:m.primaryColor}})}),t.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Reset your password"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password"})]}),t.jsxs(Te,{children:[t.jsxs(Qe,{children:[t.jsx(Je,{children:"Forgot Password"}),t.jsx(Dt,{children:"We'll send you a secure link to reset your password"})]}),t.jsxs(ke,{children:[t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c&&t.jsx(rl,{variant:"destructive",children:t.jsx(il,{children:c})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"email",children:"Email address"}),t.jsx(ye,{id:"email",type:"email",value:e,onChange:g=>s(g.target.value),required:!0,placeholder:"Enter your email address",disabled:n})]}),t.jsx(se,{type:"submit",className:"w-full",disabled:n,style:{backgroundColor:m.primaryColor},children:n?t.jsxs(t.Fragment,{children:[t.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending reset link..."]}):"Send reset link"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(pi,{to:"/login",className:"text-sm text-gray-600 hover:text-gray-500",children:[t.jsx(Af,{className:"inline mr-1 h-3 w-3"}),"Back to login"]})})]})]})]})})}function Oq(){const[e,s]=x.useState(""),[n,a]=x.useState(""),[r,l]=x.useState(!1),[c,u]=x.useState(!1),[m,p]=x.useState(""),[f]=L5(),g=f.get("token"),{theme:v}=_a(),{toast:w}=da(),N=Tr();x.useEffect(()=>{g||N("/login")},[g,N]);const j=async S=>{if(S.preventDefault(),l(!0),p(""),e!==n){p("Passwords do not match"),l(!1);return}if(e.length<8){p("Password must be at least 8 characters long"),l(!1);return}try{await Td.auth.resetPassword({token:g,newPassword:e}),u(!0),w({title:"Password reset successful",description:"Your password has been reset. You can now log in with your new password."})}catch(E){console.error("Reset password error:",E),p(E.message||"Failed to reset password. The link may be expired or invalid."),w({variant:"destructive",title:"Password reset failed",description:E.message||"The reset link may be expired or invalid."})}finally{l(!1)}};return c?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(Ca,{className:"h-12 w-12 text-green-500"})}),t.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Password reset successful"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Your password has been successfully reset"})]}),t.jsx(Te,{children:t.jsx(ke,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"You can now log in with your new password."}),t.jsx(se,{onClick:()=>N("/login"),className:"w-full",style:{backgroundColor:v.primaryColor},children:"Continue to login"})]})})})]})}):g?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(ca,{className:"h-12 w-12",style:{color:v.primaryColor}})}),t.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Set new password"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your new password below"})]}),t.jsxs(Te,{children:[t.jsxs(Qe,{children:[t.jsx(Je,{children:"Reset Password"}),t.jsx(Dt,{children:"Choose a strong password for your account"})]}),t.jsxs(ke,{children:[t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m&&t.jsx(rl,{variant:"destructive",children:t.jsx(il,{children:m})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"password",children:"New Password"}),t.jsx(ye,{id:"password",type:"password",value:e,onChange:S=>s(S.target.value),required:!0,placeholder:"Enter your new password",disabled:r,minLength:8}),t.jsx("p",{className:"text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"confirmPassword",children:"Confirm New Password"}),t.jsx(ye,{id:"confirmPassword",type:"password",value:n,onChange:S=>a(S.target.value),required:!0,placeholder:"Confirm your new password",disabled:r,minLength:8})]}),t.jsx(se,{type:"submit",className:"w-full",disabled:r,style:{backgroundColor:v.primaryColor},children:r?t.jsxs(t.Fragment,{children:[t.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting password..."]}):"Reset password"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(pi,{to:"/login",className:"text-sm text-gray-600 hover:text-gray-500",children:[t.jsx(Af,{className:"inline mr-1 h-3 w-3"}),"Back to login"]})})]})]})]})}):null}const Mq=og("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Lt({className:e,variant:s,asChild:n=!1,...a}){const r=n?dE:"span";return t.jsx(r,{"data-slot":"badge",className:Xe(Mq({variant:s}),e),...a})}const _q={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};function Mw({size:e="md",className:s,text:n}){return t.jsxs("div",{className:Xe("flex flex-col items-center justify-center space-y-2",s),children:[t.jsx(Tn,{className:Xe("animate-spin text-primary",_q[e])}),n&&t.jsx("p",{className:"text-sm text-muted-foreground text-center",children:n})]})}function Lq({text:e="Loading..."}){return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Mw,{size:"lg",text:e})})}function Fq({text:e="Loading..."}){return t.jsx("div",{className:"p-8 flex items-center justify-center",children:t.jsx(Mw,{size:"md",text:e})})}function CI({icon:e,title:s="No data available",description:n="There are no items to display at the moment.",action:a,className:r}){return t.jsxs("div",{className:Xe("text-center py-12",r),children:[e&&t.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-gray-100",children:e}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s}),t.jsx("p",{className:"text-gray-500 mb-4",children:n}),a&&t.jsx("div",{className:"flex justify-center",children:a})]})}function Uq({icon:e,title:s,description:n,action:a,className:r}){return t.jsx("div",{className:Xe("rounded-lg border border-dashed border-gray-300 p-8",r),children:t.jsx(CI,{icon:e,title:s,description:n,action:a})})}function Vq(){const{toast:e}=da(),s=x.useCallback((r,l)=>{console.error(`API Error${l?` in ${l}`:""}:`,r);let c="An unexpected error occurred. Please try again.",u="Error";if(r!=null&&r.message)c=r.message;else if(r!=null&&r.status)switch(r.status){case 400:u="Bad Request",c="The request was invalid. Please check your input and try again.";break;case 401:u="Unauthorized",c="You are not authorized to perform this action. Please log in again.";break;case 403:u="Forbidden",c="You do not have permission to perform this action.";break;case 404:u="Not Found",c="The requested resource was not found.";break;case 409:u="Conflict",c="This resource already exists or conflicts with existing data.";break;case 422:u="Validation Error",c="Please check your input and try again.";break;case 429:u="Too Many Requests",c="You have made too many requests. Please wait a moment and try again.";break;case 500:u="Server Error",c="An internal server error occurred. Please try again later.";break;case 503:u="Service Unavailable",c="The service is temporarily unavailable. Please try again later.";break;default:u="Error",c="An unexpected error occurred. Please try again."}else if(r!=null&&r.code)switch(r.code){case"NETWORK_ERROR":u="Network Error",c="Unable to connect to the server. Please check your internet connection.";break;case"TIMEOUT":u="Request Timeout",c="The request took too long to complete. Please try again.";break;default:u="Error",c=r.message||"An unexpected error occurred. Please try again."}return e({variant:"destructive",title:u,description:c}),{title:u,message:c,status:r==null?void 0:r.status,code:r==null?void 0:r.code}},[e]),n=x.useCallback(r=>s({code:"NETWORK_ERROR",message:"Unable to connect to the server"},r),[s]),a=x.useCallback((r,l)=>{const c=Object.values(r).flat().join(", ");return e({variant:"destructive",title:"Validation Error",description:c||"Please check your input and try again."}),{title:"Validation Error",message:c,errors:r}},[e]);return{handleError:s,handleNetworkError:n,handleValidationError:a}}class Hl extends Error{constructor(n,a,r,l,c){super(n);Ve(this,"status");Ve(this,"statusText");Ve(this,"response");Ve(this,"data");this.name="ApiError",this.status=a,this.statusText=r,this.response=l,this.data=c}}class Bq{constructor(s=xt.BASE_URL,n=xt.TIMEOUT,a=xt.RETRY_ATTEMPTS,r=xt.RETRY_DELAY){Ve(this,"baseUrl");Ve(this,"defaultTimeout");Ve(this,"defaultRetryAttempts");Ve(this,"defaultRetryDelay");this.baseUrl=s,this.defaultTimeout=n,this.defaultRetryAttempts=a,this.defaultRetryDelay=r}async request(s,n={}){const{method:a="GET",headers:r={},body:l,timeout:c=this.defaultTimeout,retryAttempts:u=this.defaultRetryAttempts,retryDelay:m=this.defaultRetryDelay}=n,p=`${this.baseUrl}${s}`,f={"Content-Type":"application/json",...r},g=localStorage.getItem("accessToken");g&&(f.Authorization=`Bearer ${g}`);const v={method:a,headers:f};l&&a!=="GET"&&(l instanceof FormData?(delete f["Content-Type"],v.body=l):v.body=JSON.stringify(l));let w=null;for(let N=0;N<=u;N++)try{const j=await this.makeRequest(p,v,c);if(!j.ok){const E=await this.parseErrorResponse(j);throw new Hl(this.getErrorMessage(j.status,E),j.status,j.statusText,j,E)}return{data:await this.parseResponse(j),status:j.status,statusText:j.statusText,headers:j.headers}}catch(j){if(w=j,this.shouldNotRetry(j,N)||N===u)throw j;m>0&&await this.delay(m*Math.pow(2,N))}throw w||new Error("Request failed after all retry attempts")}async makeRequest(s,n,a){const r=new AbortController,l=setTimeout(()=>r.abort(),a);try{const c=await fetch(s,{...n,signal:r.signal});return clearTimeout(l),c}catch(c){throw clearTimeout(l),c instanceof Error&&c.name==="AbortError"?new Hl(od.NETWORK_ERROR,408,"Request Timeout",void 0,{timeout:a}):c}}async parseResponse(s){const n=s.headers.get("content-type");return n!=null&&n.includes("application/json")?await s.json():n!=null&&n.includes("text/")?await s.text():n!=null&&n.includes("application/octet-stream")||n!=null&&n.includes("application/pdf")||n!=null&&n.includes("image/")?await s.blob():await s.text()}async parseErrorResponse(s){try{const n=s.headers.get("content-type");return n!=null&&n.includes("application/json")?await s.json():await s.text()}catch{return null}}getErrorMessage(s,n){if(n!=null&&n.message)return n.message;if(n!=null&&n.error)return n.error;switch(s){case 400:return"Bad request. Please check your input and try again.";case 401:return od.UNAUTHORIZED;case 403:return"Access forbidden. You do not have permission to perform this action.";case 404:return"Resource not found.";case 408:return od.NETWORK_ERROR;case 422:return"Validation error. Please check your input.";case 429:return"Too many requests. Please try again later.";case 500:case 502:case 503:case 504:return od.SERVER_ERROR;default:return od.NETWORK_ERROR}}shouldNotRetry(s,n){return n===0?!1:s instanceof Hl&&s.status>=400&&s.status<500&&s.status!==408&&s.status!==429?!0:(s.message.includes("Failed to fetch")||s.message.includes("NetworkError"),!1)}delay(s){return new Promise(n=>setTimeout(n,s))}async get(s,n={}){return this.request(s,{...n,method:"GET"})}async post(s,n,a={}){return this.request(s,{...a,method:"POST",body:n})}async put(s,n,a={}){return this.request(s,{...a,method:"PUT",body:n})}async patch(s,n,a={}){return this.request(s,{...a,method:"PATCH",body:n})}async delete(s,n={}){return this.request(s,{...n,method:"DELETE"})}async uploadFile(s,n,a,r={}){const l=new FormData;l.append("file",n);const c=`${this.baseUrl}${s}`,u=localStorage.getItem("accessToken"),m={method:"POST",body:l,headers:{...u&&{Authorization:`Bearer ${u}`},...r.headers}};try{const p=await this.makeRequest(c,m,r.timeout||this.defaultTimeout);if(!p.ok){const g=await this.parseErrorResponse(p);throw new Hl(this.getErrorMessage(p.status,g),p.status,p.statusText,p,g)}return{data:await this.parseResponse(p),status:p.status,statusText:p.statusText,headers:p.headers}}catch(p){throw p instanceof Hl?p:new Hl(od.UPLOAD_FAILED,0,"Upload Failed",void 0,{originalError:p})}}}const mn=new Bq;mn.request.bind(mn);mn.get.bind(mn);mn.post.bind(mn);mn.put.bind(mn);mn.patch.bind(mn);mn.delete.bind(mn);mn.uploadFile.bind(mn);const Ke={PROPERTIES:["properties"],TASKS:["tasks"],EXPENSES:["expenses"],REVENUES:["revenues"],STAFF:["staff"],PENDING_APPROVALS:["pending-approvals"],DAILY_APPROVAL_CHECK:["daily-approval-check"],ANALYTICS:["analytics"],DASHBOARD:["dashboard"],LEAVE_REQUESTS:["leave-requests"],PROFIT_LOSS:["profit-loss"],USERS:["users"],ORGANIZATIONS:["organizations"],ORGS:["orgs"],BRANDING:["branding"],REPORTS:["reports"]},r2={RETRY_DELAY:e=>Math.min(1e3*2**e,3e4),RETRY_CONDITION:(e,s)=>s instanceof Hl&&s.status>=400&&s.status<500&&s.status!==408&&s.status!==429?!1:e<3};function Lr(e,s,n={}){const{enabled:a=!0,refetchInterval:r,staleTime:l,gcTime:c,refetchOnWindowFocus:u=!1,refetchOnMount:m=!1,retry:p=r2.RETRY_CONDITION,retryDelay:f=r2.RETRY_DELAY,...g}=n;return Xt({queryKey:e,queryFn:async()=>(await mn.request(s,g)).data,enabled:a,refetchInterval:r,staleTime:l,gcTime:c,refetchOnWindowFocus:u,refetchOnMount:m,retry:p,retryDelay:f})}function Ad(e,s="POST",n={}){const{toast:a}=da(),r=za(),{onSuccess:l,onError:c,invalidateQueries:u=[],refetchQueries:m=[],showToast:p=!0,successMessage:f,errorMessage:g}=n;return vs({mutationFn:async v=>{let w=e;if(v&&typeof v=="object"&&"id"in v){w=e.replace(":id",v.id);const{id:j,...S}=v;v=S}return(await mn.request(w,{method:s,body:v,...n})).data},onSuccess:(v,w,N)=>{u.forEach(j=>{r.invalidateQueries({queryKey:j})}),m.forEach(j=>{r.refetchQueries({queryKey:j})}),p&&f&&a({title:"Success",description:f}),l==null||l(v,w,N)},onError:v=>{p&&a({variant:"destructive",title:"Error",description:g||v.message||"An error occurred"}),c==null||c(v)}})}const Nd={PROPERTIES:"/v1/properties",EXPENSES:"/v1/finance/expenses",REVENUES:"/v1/finance/revenues",PENDING_APPROVALS:"/v1/finance/pending-approvals",LEAVE_REQUESTS:"/v1/staff/leave-requests"},Bi={STATIC_DATA:{staleTime:6e5,gcTime:36e5,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1},REAL_TIME_DATA:{staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1},REALTIME_CONNECTED:{staleTime:1/0,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1},SLOW_CHANGING_DATA:{staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1}},dn={properties:Bi.STATIC_DATA,users:Bi.SLOW_CHANGING_DATA,revenues:Bi.REAL_TIME_DATA,expenses:Bi.REAL_TIME_DATA,tasks:Bi.REAL_TIME_DATA,analytics:Bi.SLOW_CHANGING_DATA,"leave-requests":Bi.SLOW_CHANGING_DATA,"pending-approvals":Bi.SLOW_CHANGING_DATA,"realtime-connected":Bi.REALTIME_CONNECTED};function Os(e,s){try{const n=localStorage.getItem(e);if(n==null)return s;const a=n.trim().toLowerCase();return a==="1"||a==="true"||a==="yes"||a==="on"?!0:a==="0"||a==="false"||a==="no"||a==="off"?!1:s}catch{return s}}function TI(e,s){try{const n=localStorage.getItem(e);if(n==null)return s;const a=Number(n);return Number.isFinite(a)?a:s}catch{return s}}function zq(){try{const e=localStorage.getItem("accessToken")||"";return e?btoa(unescape(encodeURIComponent(e))).replace(/=+$/,"").slice(0,16):null}catch{return null}}function _w(e){const s=kn(),[n,a]=x.useState(()=>e.some(r=>s.pathname===r||s.pathname.startsWith(r+"/")));return x.useEffect(()=>{const r=e.some(l=>s.pathname===l||s.pathname.startsWith(l+"/"));a(r)},[s.pathname,e]),n}function qq(){const{user:e}=$s(),s=_w(["/dashboard"]),{data:n,isLoading:a,error:r}=Lr(Ke.ANALYTICS,"/analytics/overview",{enabled:s&&(e==null?void 0:e.role)==="ADMIN",...dn.analytics}),{data:l,isLoading:c,error:u}=Lr(Ke.PROPERTIES,"/properties",{enabled:s,...dn.properties}),{data:m,isLoading:p,error:f}=Lr(Ke.TASKS,"/tasks",{enabled:s,...dn.tasks}),{data:g,isLoading:v,error:w}=Lr(Ke.USERS,"/users",{enabled:s&&(e==null?void 0:e.role)==="ADMIN",...dn.users}),{data:N,isLoading:j,error:S}=Lr(Ke.EXPENSES,Nd.EXPENSES,{enabled:s,...Os("REALTIME_PATCH_MODE",!0)?dn["realtime-connected"]:dn.expenses}),{data:E,isLoading:T,error:C}=Lr(Ke.REVENUES,Nd.REVENUES,{enabled:s,...Os("REALTIME_PATCH_MODE",!0)?dn["realtime-connected"]:dn.revenues}),{data:P,isLoading:D,error:A}=Lr(Ke.LEAVE_REQUESTS,Nd.LEAVE_REQUESTS,{enabled:s,...dn["leave-requests"]}),{data:R,isLoading:F,error:z}=Lr(Ke.PENDING_APPROVALS,Nd.PENDING_APPROVALS,{enabled:s&&(e==null?void 0:e.role)==="ADMIN",...(e==null?void 0:e.role)==="ADMIN"?{...dn["pending-approvals"],staleTime:6e5}:dn["pending-approvals"]}),J=(m==null?void 0:m.tasks.filter(Y=>Y.priority==="high"&&Y.status!=="done"))||[],K=(m==null?void 0:m.tasks.filter(Y=>Y.dueAt&&new Date(Y.dueAt)<new Date&&Y.status!=="done"))||[],X=(N==null?void 0:N.expenses.filter(Y=>Y.status==="pending"))||[],ce=(E==null?void 0:E.revenues.filter(Y=>Y.status==="pending"))||[],q=(P==null?void 0:P.leaveRequests.filter(Y=>Y.status==="pending"))||[],ie=(g==null?void 0:g.users.filter(Y=>Y.role==="MANAGER"))||[],L=X.length+ce.length+q.length,B=J.length+K.length;return{analytics:n,analyticsLoading:a,analyticsError:r,properties:l,propertiesLoading:c,propertiesError:u,tasks:m,tasksLoading:p,tasksError:f,users:g,usersLoading:v,usersError:w,expenses:N,expensesLoading:j,expensesError:S,revenues:E,revenuesLoading:T,revenuesError:C,leaveRequests:P,leaveRequestsLoading:D,leaveRequestsError:A,pendingApprovals:R,pendingApprovalsLoading:F,pendingApprovalsError:z,urgentTasks:J,overdueTasks:K,pendingExpenses:X,pendingRevenues:ce,pendingLeaveRequests:q,managersCreated:ie,totalPendingApprovals:L,totalUrgentItems:B}}function uu(e){try{window.dispatchEvent(new CustomEvent("realtime:set-property",{detail:{propertyId:e}}))}catch{}}function wr(e,s,n=!0){x.useEffect(()=>{if(!n)return;const a=l=>{var u;const c=((u=l==null?void 0:l.detail)==null?void 0:u.events)||[];if(Array.isArray(c)&&c.length>0)try{s(c)}catch{}},r=`${e}-stream-events`;return window.addEventListener(r,a),()=>{window.removeEventListener(r,a)}},[e,s,n])}function $q(){const e=za(),s=_w(["/dashboard"]);x.useEffect(()=>{try{window.__dashboardSelectedPropertyId="all"}catch{}try{uu(null)}catch{}if(!Os("DASHBOARD_REALTIME_V1",!0))return;const a=r=>{};return window.addEventListener("dashboard-stream-health",a),()=>{window.removeEventListener("dashboard-stream-health",a)}},[e]),wr("dashboard",n=>{!Array.isArray(n)||n.length===0||setTimeout(()=>{e.invalidateQueries({queryKey:Ke.ANALYTICS}),e.invalidateQueries({queryKey:Ke.DASHBOARD})},250)},Os("DASHBOARD_REALTIME_V1",!0)),wr("finance",n=>{if(!Array.isArray(n)||n.length===0)return;let a=!1,r=!1,l=!1,c=!1;for(const m of n){const p=((m==null?void 0:m.eventType)||"").toString(),f=((m==null?void 0:m.entityType)||"").toString(),g=m==null?void 0:m.entityId,v=(m==null?void 0:m.metadata)||{};if(p==="revenue_added"){e.setQueryData(Ke.REVENUES,w=>{if(!(w!=null&&w.revenues)||w.revenues.some(S=>S.id===g))return w;const j={id:g,amountCents:(v==null?void 0:v.amountCents)??0,currency:(v==null?void 0:v.currency)??"INR",source:(v==null?void 0:v.source)??"unknown",description:(v==null?void 0:v.description)||"Revenue",propertyName:(v==null?void 0:v.propertyName)??"",status:(v==null?void 0:v.newStatus)??"pending",transactionDate:(v==null?void 0:v.transactionDate)??new Date().toISOString(),createdByName:(v==null?void 0:v.createdByName)??"Unknown User",createdByUserId:(v==null?void 0:v.createdByUserId)??(m==null?void 0:m.userId),createdAt:(m==null?void 0:m.timestamp)??new Date().toISOString()};return{...w,revenues:[j,...w.revenues]}}),l=!0;continue}if(p==="revenue_deleted"){e.setQueryData(Ke.REVENUES,w=>w!=null&&w.revenues?{...w,revenues:w.revenues.filter(N=>N.id!==g)}:w),l=!0;continue}if(p==="expense_added"){e.setQueryData(Ke.EXPENSES,w=>{if(!(w!=null&&w.expenses)||w.expenses.some(S=>S.id===g))return w;const j={id:g,amountCents:(v==null?void 0:v.amountCents)??0,currency:(v==null?void 0:v.currency)??"INR",category:(v==null?void 0:v.category)??"misc",description:(v==null?void 0:v.description)||"Expense",propertyName:(v==null?void 0:v.propertyName)??"",status:(v==null?void 0:v.newStatus)??"pending",transactionDate:(v==null?void 0:v.transactionDate)??new Date().toISOString(),createdByName:(v==null?void 0:v.createdByName)??"Unknown User",createdByUserId:(v==null?void 0:v.createdByUserId)??(m==null?void 0:m.userId),createdAt:(m==null?void 0:m.timestamp)??new Date().toISOString()};return{...w,expenses:[j,...w.expenses]}}),l=!0;continue}if(p==="expense_deleted"){e.setQueryData(Ke.EXPENSES,w=>w!=null&&w.expenses?{...w,expenses:w.expenses.filter(N=>N.id!==g)}:w),l=!0;continue}if((p==="revenue_updated"||p==="revenue_approved"||f==="revenue")&&g){e.setQueryData(Ke.REVENUES,w=>w!=null&&w.revenues?{...w,revenues:w.revenues.map(N=>N.id===g?{...N,amountCents:(v==null?void 0:v.amountCents)??N.amountCents,description:(v==null?void 0:v.description)??N.description,source:(v==null?void 0:v.source)??N.source,propertyName:(v==null?void 0:v.propertyName)??N.propertyName,...v!=null&&v.newStatus?{status:v.newStatus}:{}}:N)}:w);try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0},window.__realtimeClientStats.patchesApplied++}catch{}l=!0,(p.endsWith("_approved")||p.endsWith("_rejected"))&&(c=!0);continue}if((p==="expense_updated"||p==="expense_approved"||f==="expense")&&g){e.setQueryData(Ke.EXPENSES,w=>w!=null&&w.expenses?{...w,expenses:w.expenses.map(N=>N.id===g?{...N,amountCents:(v==null?void 0:v.amountCents)??N.amountCents,description:(v==null?void 0:v.description)??N.description,category:(v==null?void 0:v.category)??N.category,propertyName:(v==null?void 0:v.propertyName)??N.propertyName,...v!=null&&v.newStatus?{status:v.newStatus}:{}}:N)}:w);try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0},window.__realtimeClientStats.patchesApplied++}catch{}l=!0,(p.endsWith("_approved")||p.endsWith("_rejected"))&&(c=!0);continue}if(p==="daily_approval_granted"){c=!0,l=!0;const w=v==null?void 0:v.transactionIds,N=(v==null?void 0:v.newStatus)||"approved";console.log("[Dashboard] daily_approval_granted received",{transactionIds:w,newStatus:N,userId:m==null?void 0:m.userId,meta:v}),w&&w.length>0?(e.setQueryData(Ke.REVENUES,j=>j!=null&&j.revenues?{...j,revenues:j.revenues.map(S=>w.includes(S.id)?{...S,status:N,approvedByUserId:m==null?void 0:m.userId,approvedAt:(m==null?void 0:m.timestamp)||new Date().toISOString()}:S)}:j),e.setQueryData(Ke.EXPENSES,j=>j!=null&&j.expenses?{...j,expenses:j.expenses.map(S=>w.includes(S.id)?{...S,status:N,approvedByUserId:m==null?void 0:m.userId,approvedAt:(m==null?void 0:m.timestamp)||new Date().toISOString()}:S)}:j)):(console.log("[Dashboard] daily_approval_granted without transactionIds - forcing invalidation"),e.invalidateQueries({queryKey:Ke.REVENUES}),e.invalidateQueries({queryKey:Ke.EXPENSES}));continue}}setTimeout(()=>{s&&l&&(e.invalidateQueries({queryKey:Ke.PROFIT_LOSS}),c&&e.invalidateQueries({queryKey:Ke.DAILY_APPROVAL_CHECK}))},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("tasks",n=>{if(!Array.isArray(n)||n.length===0)return;let a=!1,r=!1;for(const l of n){const c=String((l==null?void 0:l.eventType)||""),u=l==null?void 0:l.entityId,m=(l==null?void 0:l.metadata)||{};if(u){if(c==="task_status_updated"){e.setQueryData(Ke.TASKS,p=>p!=null&&p.tasks?{...p,tasks:p.tasks.map(f=>f.id===u?{...f,status:(m==null?void 0:m.newStatus)??(m==null?void 0:m.status)??f.status}:f)}:p),r=!0;continue}if(c==="task_updated"){e.setQueryData(Ke.TASKS,p=>p!=null&&p.tasks?{...p,tasks:p.tasks.map(f=>f.id===u?{...f,title:(m==null?void 0:m.title)??f.title,description:(m==null?void 0:m.description)??f.description,dueAt:(m==null?void 0:m.dueAt)??f.dueAt,priority:(m==null?void 0:m.priority)??f.priority}:f)}:p),r=!0;continue}(c==="task_created"||c==="task_deleted")&&(a=!0)}}setTimeout(()=>{a&&e.invalidateQueries({queryKey:Ke.TASKS}),r&&e.invalidateQueries({queryKey:Ke.ANALYTICS})},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("users",n=>{if(!Array.isArray(n)||n.length===0)return;let a=!1;for(const r of n){const l=String((r==null?void 0:r.eventType)||""),c=r==null?void 0:r.entityId,u=(r==null?void 0:r.metadata)||{};l==="user_updated"&&c?e.setQueryData(Ke.USERS,m=>m!=null&&m.users?{...m,users:m.users.map(p=>p.id===c?{...p,displayName:(u==null?void 0:u.displayName)??p.displayName,email:(u==null?void 0:u.email)??p.email,role:(u==null?void 0:u.role)??p.role}:p)}:m):(l==="user_created"||l==="user_deleted")&&(a=!0)}a&&setTimeout(()=>{e.invalidateQueries({queryKey:Ke.USERS})},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("properties",n=>{if(!Array.isArray(n)||n.length===0)return;let a=!1;for(const r of n){const l=String((r==null?void 0:r.eventType)||""),c=r==null?void 0:r.entityId,u=(r==null?void 0:r.metadata)||{};l==="property_updated"&&c?e.setQueryData(Ke.PROPERTIES,m=>m!=null&&m.properties?{...m,properties:m.properties.map(p=>p.id===c?{...p,name:(u==null?void 0:u.name)??p.name,status:(u==null?void 0:u.status)??p.status,regionId:(u==null?void 0:u.regionId)??p.regionId}:p)}:m):(l==="property_created"||l==="property_deleted")&&(a=!0)}a&&setTimeout(()=>{e.invalidateQueries({queryKey:Ke.PROPERTIES})},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("staff",n=>{if(!Array.isArray(n)||n.length===0)return;n.some(r=>String((r==null?void 0:r.eventType)||"").includes("leave_")||String((r==null?void 0:r.entityType)||"")==="leave_request")&&setTimeout(()=>{e.invalidateQueries({queryKey:Ke.LEAVE_REQUESTS})},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("analytics",n=>{!Array.isArray(n)||n.length===0||setTimeout(()=>{e.invalidateQueries({queryKey:[Ke.ANALYTICS]})},200)},Os("DASHBOARD_REALTIME_V1",!0))}function Gq({stats:e,onAction:s}){return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx(bh,{className:"h-5 w-5 text-red-500"}),"Works to be Done"]}),t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory px-4 -mx-4 pb-4 no-scrollbar sm:grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:overflow-visible sm:px-0 sm:mx-0 sm:pb-0",children:[t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 border-red-200 bg-red-50 cursor-pointer active:scale-[0.98] transition-all duration-200 shadow-sm sm:hover:shadow-lg sm:hover:scale-105",onClick:()=>s("approvals"),children:[t.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 p-4 pb-2 sm:p-6 sm:pb-2",children:[t.jsx(Je,{className:"text-sm font-medium text-red-900",children:"Pending Approvals"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Fb,{className:"h-4 w-4 text-red-600"}),e.pendingApprovals>0&&t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})]}),t.jsxs(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:[t.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-900",children:e.pendingApprovals}),t.jsx("p",{className:"text-xs text-red-700",children:e.pendingApprovals>0?"Click to review":"Require attention"})]})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 border-orange-200 bg-orange-50 cursor-pointer active:scale-[0.98] transition-all duration-200 shadow-sm sm:hover:shadow-lg sm:hover:scale-105",onClick:()=>s("urgent"),children:[t.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 p-4 pb-2 sm:p-6 sm:pb-2",children:[t.jsx(Je,{className:"text-sm font-medium text-orange-900",children:"Urgent Tasks"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(J_,{className:"h-4 w-4 text-orange-600"}),e.urgentItems>0&&t.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"})]})]}),t.jsxs(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:[t.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-900",children:e.urgentItems}),t.jsx("p",{className:"text-xs text-orange-700",children:e.urgentItems>0?`${e.urgentTasksCount} high priority`:"No urgent tasks"})]})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 border-amber-200 bg-amber-50 cursor-pointer active:scale-[0.98] transition-all duration-200 shadow-sm sm:hover:shadow-lg sm:hover:scale-105",onClick:()=>s("financial"),children:[t.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 p-4 pb-2 sm:p-6 sm:pb-2",children:[t.jsx(Je,{className:"text-sm font-medium text-amber-900",children:"Financial Pending"}),t.jsx(_r,{className:"h-4 w-4 text-amber-600"})]}),t.jsxs(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:[t.jsx("div",{className:"text-xl sm:text-2xl font-bold text-amber-900",children:e.financialPending}),t.jsx("p",{className:"text-xs text-amber-700",children:"Awaiting processing"})]})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 border-purple-200 bg-purple-50 cursor-pointer active:scale-[0.98] transition-all duration-200 shadow-sm sm:hover:shadow-lg sm:hover:scale-105",onClick:()=>s("leave"),children:[t.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 p-4 pb-2 sm:p-6 sm:pb-2",children:[t.jsx(Je,{className:"text-sm font-medium text-purple-900",children:"Leave Requests"}),t.jsx(pL,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:[t.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-900",children:e.pendingLeave}),t.jsx("p",{className:"text-xs text-purple-700",children:e.pendingLeave>0?"Awaiting approval":"All clear"})]})]})]})]})}function Hq({analytics:e}){const{theme:s}=_a(),n=a=>`${a.toFixed(2)}`;return e?t.jsxs(Te,{children:[t.jsxs(Qe,{children:[t.jsx(Je,{children:"Performance Overview"}),t.jsx(Dt,{children:"Key performance indicators for the last 30 days"})]}),t.jsx(ke,{className:"p-4 md:p-6",children:t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory px-4 -mx-4 pb-4 no-scrollbar sm:grid sm:grid-cols-4 gap-4 sm:overflow-visible sm:px-0 sm:mx-0 sm:pb-0",children:[t.jsxs("div",{className:"snap-start flex-1 min-w-[30%] text-center p-2 flex flex-col items-center justify-center gap-1",children:[t.jsx(_r,{className:"h-5 w-5 text-gray-400 mb-1"}),t.jsx("div",{className:"text-xl sm:text-2xl font-bold",style:{color:s.primaryColor},children:n(e.metrics.adr)}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Average Daily Rate"})]}),t.jsxs("div",{className:"snap-start flex-1 min-w-[30%] text-center p-2 flex flex-col items-center justify-center gap-1",children:[t.jsx(Nn,{className:"h-5 w-5 text-gray-400 mb-1"}),t.jsx("div",{className:"text-xl sm:text-2xl font-bold",style:{color:s.primaryColor},children:n(e.metrics.revpar)}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"RevPAR"})]}),t.jsxs("div",{className:"snap-start flex-1 min-w-[30%] text-center p-2 flex flex-col items-center justify-center gap-1",children:[t.jsx(T6,{className:"h-5 w-5 text-gray-400 mb-1"}),t.jsx("div",{className:"text-xl sm:text-2xl font-bold",style:{color:s.primaryColor},children:e.metrics.totalBookings}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Bookings"})]}),t.jsxs("div",{className:"snap-start flex-1 min-w-[30%] text-center p-2 flex flex-col items-center justify-center gap-1",children:[t.jsx(Lh,{className:"h-5 w-5 text-gray-400 mb-1"}),t.jsxs("div",{className:"text-xl sm:text-2xl font-bold",style:{color:s.primaryColor},children:[e.metrics.taskCompletionRate.toFixed(0),"%"]}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Task Completion"})]})]})})]}):null}function Yq({state:e,actions:s,data:n}){const a=Tr(),r=m=>`${m.toFixed(2)}`,l=Ad("/finance/expenses/:id/approve","PATCH",{invalidateQueries:[Ke.EXPENSES,Ke.REVENUES,Ke.DAILY_APPROVAL_CHECK,Ke.ANALYTICS,Ke.DASHBOARD,Ke.PROFIT_LOSS,Ke.DAILY_APPROVAL_CHECK],successMessage:"Expense updated successfully",errorMessage:"Failed to process expense"}),c=Ad("/finance/revenues/:id/approve","PATCH",{invalidateQueries:[Ke.REVENUES,Ke.EXPENSES,Ke.DAILY_APPROVAL_CHECK,Ke.ANALYTICS,Ke.DASHBOARD,Ke.PROFIT_LOSS,Ke.DAILY_APPROVAL_CHECK],refetchQueries:[Ke.REVENUES,Ke.DAILY_APPROVAL_CHECK,Ke.ANALYTICS],successMessage:"The revenue has been processed successfully.",errorMessage:"Failed to process revenue. Please try again."}),u=Ad("/staff/leave-requests/:id/approve","PATCH",{invalidateQueries:[Ke.LEAVE_REQUESTS,Ke.DAILY_APPROVAL_CHECK,Ke.ANALYTICS,Ke.DASHBOARD],refetchQueries:[Ke.LEAVE_REQUESTS,Ke.DAILY_APPROVAL_CHECK],successMessage:"The leave request has been processed.",errorMessage:"Failed to process leave request. Please try again."});return t.jsxs(t.Fragment,{children:[e.showPendingApprovals&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full h-[100dvh] sm:h-auto sm:max-h-[80vh] sm:max-w-2xl sm:rounded-lg sm:mx-4 p-4 sm:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Pending Approvals"}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-11 w-11",onClick:()=>s.setShowPendingApprovals(!1),children:t.jsx(Ws,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[n.pendingExpenses.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Expenses"}),t.jsx("div",{className:"space-y-2",children:n.pendingExpenses.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.description||"Expense"}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),t.jsxs("p",{className:"text-xs text-orange-600",children:[r(m.amountCents/100),"  ",m.category]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>l.mutate({id:m.id,approved:!0}),disabled:l.isPending,children:[t.jsx(an,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>l.mutate({id:m.id,approved:!1}),disabled:l.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.pendingRevenues.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Revenues"}),t.jsx("div",{className:"space-y-2",children:n.pendingRevenues.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.description||"Revenue"}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),t.jsxs("p",{className:"text-xs text-green-600",children:[r(m.amountCents/100),"  ",m.source]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>c.mutate({id:m.id,approved:!0}),disabled:c.isPending,children:[t.jsx(an,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>c.mutate({id:m.id,approved:!1}),disabled:c.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.pendingLeaveRequests.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Leave Requests"}),t.jsx("div",{className:"space-y-2",children:n.pendingLeaveRequests.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.staffName}),t.jsx("p",{className:"text-xs text-gray-600",children:m.leaveType}),t.jsxs("p",{className:"text-xs text-purple-600",children:[new Date(m.startDate).toLocaleDateString()," - ",new Date(m.endDate).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>u.mutate({id:m.id,approved:!0}),disabled:u.isPending,children:[t.jsx(an,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>u.mutate({id:m.id,approved:!1}),disabled:u.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.totalPendingApprovals===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No pending approvals"})]})]})]})}),e.showUrgentTasks&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full h-[100dvh] sm:h-auto sm:max-h-[80vh] sm:max-w-2xl sm:rounded-lg sm:mx-4 p-4 sm:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Urgent Tasks"}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-11 w-11",onClick:()=>s.setShowUrgentTasks(!1),children:t.jsx(Ws,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"space-y-3",children:n.urgentTasks.length>0?n.urgentTasks.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.title}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),m.dueAt&&t.jsxs("p",{className:"text-xs text-red-600",children:["Due: ",new Date(m.dueAt).toLocaleDateString()]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(se,{variant:"outline",className:"h-11",onClick:()=>a("/tasks"),children:[t.jsx(un,{className:"h-4 w-4 mr-1"}),"View"]})})]},m.id)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(is,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No urgent tasks"})]})})]})}),e.showOverdueTasks&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full h-[100dvh] sm:h-auto sm:max-h-[80vh] sm:max-w-2xl sm:rounded-lg sm:mx-4 p-4 sm:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Overdue Tasks"}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-11 w-11",onClick:()=>s.setShowOverdueTasks(!1),children:t.jsx(Ws,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"space-y-3",children:n.overdueTasks.length>0?n.overdueTasks.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.title}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),m.dueAt&&t.jsxs("p",{className:"text-xs text-red-600",children:["Due: ",new Date(m.dueAt).toLocaleDateString()]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(se,{variant:"outline",className:"h-11",onClick:()=>a("/tasks"),children:[t.jsx(un,{className:"h-4 w-4 mr-1"}),"View"]})})]},m.id)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No overdue tasks"})]})})]})}),e.showFinancialPending&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full h-[100dvh] sm:h-auto sm:max-h-[80vh] sm:max-w-2xl sm:rounded-lg sm:mx-4 p-4 sm:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Financial Pending"}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-11 w-11",onClick:()=>s.setShowFinancialPending(!1),children:t.jsx(Ws,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[n.pendingExpenses.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Expenses"}),t.jsx("div",{className:"space-y-2",children:n.pendingExpenses.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.description||"Expense"}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),t.jsxs("p",{className:"text-xs text-orange-600",children:[r(m.amountCents/100),"  ",m.category]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>l.mutate({id:m.id,approved:!0}),disabled:l.isPending,children:[t.jsx(an,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>l.mutate({id:m.id,approved:!1}),disabled:l.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.pendingRevenues.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Revenues"}),t.jsx("div",{className:"space-y-2",children:n.pendingRevenues.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.description||"Revenue"}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),t.jsxs("p",{className:"text-xs text-green-600",children:[r(m.amountCents/100),"  ",m.source]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>c.mutate({id:m.id,approved:!0}),disabled:c.isPending,children:[t.jsx(an,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>c.mutate({id:m.id,approved:!1}),disabled:c.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.pendingExpenses.length===0&&n.pendingRevenues.length===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(nl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No pending financial transactions"})]})]})]})})]})}function Wq(){const{user:e,logout:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=kr(),r=Tr();Vq();const l=za();x.useEffect(()=>{a("Dashboard Overview","Monitor your hospitality operations and manage pending tasks")},[a]);const c=()=>{try{[Ke.ANALYTICS,Ke.DASHBOARD,Ke.PROPERTIES,Ke.TASKS,Ke.USERS,Ke.REVENUES,Ke.EXPENSES,Ke.LEAVE_REQUESTS,Ke.PENDING_APPROVALS].forEach(B=>l.invalidateQueries({queryKey:[B]})),l.refetchQueries({queryKey:[Ke.ANALYTICS]}),l.refetchQueries({queryKey:[Ke.DASHBOARD]})}catch(L){console.warn("refreshNow failed, reloading page",L),window.location.reload()}};$q();const u=qq(),{analytics:m,properties:p,propertiesLoading:f,propertiesError:g,tasks:v,tasksLoading:w,tasksError:N,urgentTasks:j,overdueTasks:S,pendingExpenses:E,pendingRevenues:T,pendingLeaveRequests:C,managersCreated:P,totalPendingApprovals:D,totalUrgentItems:A}=u,[R,F]=qe.useState(!1),[z,J]=qe.useState(!1),[K,X]=qe.useState(!1),[ce,q]=qe.useState(!1);if(f||w)return t.jsx(Lq,{text:"Loading dashboard..."});if(g&&N)return t.jsx("div",{className:"w-full space-y-6",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(is,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load dashboard data"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading your dashboard. Please try refreshing the page."}),t.jsxs(se,{onClick:c,variant:"outline",className:"h-11 bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold px-4",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})});const ie=L=>{switch(L){case"approvals":D>0?F(!0):r("/finance");break;case"urgent":j.length>0?J(!0):r("/tasks");break;case"financial":T.length>0||E.length>0?q(!0):r("/finance");break;case"leave":r("/staff");break}};return t.jsxs("div",{className:"w-full space-y-4 md:space-y-6 pt-safe pb-safe pb-20 sm:pb-safe px-4 sm:px-6",children:[t.jsx(Gq,{stats:{pendingApprovals:D,urgentItems:A,financialPending:T.length+E.length,pendingLeave:C.length,urgentTasksCount:j.length},onAction:ie}),(e==null?void 0:e.role)==="ADMIN"?t.jsxs(t.Fragment,{children:[m&&t.jsx(Hq,{analytics:m}),t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory px-4 -mx-4 pb-4 no-scrollbar sm:grid sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 sm:overflow-visible sm:px-0 sm:mx-0 sm:pb-0",children:[t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(UE,{className:"h-5 w-5 text-blue-500"}),"Properties Overview"]}),t.jsx(Dt,{children:"Status of all managed properties"})]}),t.jsx(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:f?t.jsx(Fq,{}):(p==null?void 0:p.properties.length)===0?t.jsx(Uq,{title:"No Properties",description:"Get started by adding your first property",action:t.jsxs(se,{onClick:()=>r("/properties"),className:"h-11 px-4",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add Property"]})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xl md:text-3xl font-bold text-gray-900",children:p==null?void 0:p.properties.length}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Properties"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(Lt,{variant:"secondary",className:"bg-green-100 text-green-800",children:[p==null?void 0:p.properties.filter(L=>L.status==="active").length," Active"]})})]}),t.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-blue-500",style:{width:`${(p==null?void 0:p.properties.filter(L=>L.status==="active").length)/((p==null?void 0:p.properties.length)||1)*100}%`}})})]})})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(Fb,{className:"h-5 w-5 text-indigo-500"}),"Recent Approvals"]}),t.jsx(Dt,{children:"Latest items requiring your approval"})]}),t.jsx(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:D===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(an,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500",children:"All caught up!"})]}):t.jsxs("div",{className:"space-y-3",children:[E.length>0&&t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"text-sm",children:"Expenses"}),t.jsx(Lt,{variant:"secondary",children:E.length})]}),T.length>0&&t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"text-sm",children:"Revenues"}),t.jsx(Lt,{variant:"secondary",children:T.length})]}),C.length>0&&t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"text-sm",children:"Leave Requests"}),t.jsx(Lt,{variant:"secondary",children:C.length})]})]})})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(M6,{className:"h-5 w-5 text-purple-500"}),"Pending Leave Requests"]}),t.jsx(Dt,{children:"Staff leave requests awaiting approval"})]}),t.jsx(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:C.length===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(qs,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No pending leave requests"}),t.jsxs(se,{variant:"outline",onClick:()=>r("/staff"),className:"h-11 px-4",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"View Staff"]})]}):t.jsxs("div",{className:"space-y-3",children:[C.slice(0,5).map(L=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:L.staffName}),t.jsx("p",{className:"text-xs text-gray-600",children:L.leaveType}),t.jsxs("p",{className:"text-xs text-purple-600",children:[new Date(L.startDate).toLocaleDateString()," - ",new Date(L.endDate).toLocaleDateString()]})]}),t.jsx(Lt,{variant:"outline",className:"border-purple-500 text-purple-700",children:"Pending"})]},L.id)),C.length>5&&t.jsxs(se,{variant:"outline",className:"w-full h-11",onClick:()=>r("/staff"),children:["View All (",C.length,")"]})]})})]})]}),t.jsxs(Te,{children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(hL,{className:"h-5 w-5 text-blue-500"}),"Recent Managers"]}),t.jsx(Dt,{children:"Recently created manager accounts"})]}),t.jsx(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:P.length===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(Wi,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No managers created yet"}),t.jsxs(se,{variant:"outline",className:"h-11 px-4",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Create First Manager"]})]}):t.jsx("div",{className:"space-y-3",children:P.slice(0,5).map(L=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:L.displayName}),t.jsx("p",{className:"text-xs text-gray-600",children:L.email}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",new Date(L.createdAt).toLocaleDateString()]})]}),t.jsx(Lt,{variant:"outline",children:"Manager"})]},L.id))})})]})]}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory px-4 -mx-4 pb-4 no-scrollbar sm:grid lg:grid-cols-2 gap-6 sm:overflow-visible sm:px-0 sm:mx-0 sm:pb-0",children:[t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(e_,{className:"h-5 w-5 text-green-500"}),"My Tasks"]}),t.jsx(Dt,{children:"Tasks assigned to you"})]}),t.jsx(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:(v==null?void 0:v.tasks.length)===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(Of,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No tasks assigned yet"}),t.jsxs(se,{variant:"outline",className:"h-11 px-4",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Create Task"]})]}):t.jsx("div",{className:"space-y-3",children:v==null?void 0:v.tasks.slice(0,5).map(L=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:L.title}),t.jsx("p",{className:"text-xs text-gray-600",children:L.propertyName})]}),t.jsx(Lt,{variant:L.priority==="high"?"destructive":"outline",children:L.priority})]},L.id))})})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(w6,{className:"h-5 w-5 text-orange-500"}),"Overdue Tasks"]}),t.jsx(Dt,{children:"Tasks that have passed their due date"})]}),t.jsx(ke,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:S.length===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(Zn,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500",children:"No overdue tasks"})]}):t.jsx("div",{className:"space-y-3",children:S.slice(0,5).map(L=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:L.title}),t.jsx("p",{className:"text-xs text-gray-600",children:L.propertyName}),L.dueAt&&t.jsxs("p",{className:"text-xs text-orange-600",children:["Due: ",new Date(L.dueAt).toLocaleDateString()]})]}),t.jsx(Lt,{variant:"outline",className:"border-orange-500 text-orange-700",children:"Overdue"})]},L.id))})})]})]})}),t.jsx(Yq,{state:{showPendingApprovals:R,showUrgentTasks:z,showOverdueTasks:K,showFinancialPending:ce},actions:{setShowPendingApprovals:F,setShowUrgentTasks:J,setShowOverdueTasks:X,setShowFinancialPending:q},data:{pendingExpenses:E,pendingRevenues:T,pendingLeaveRequests:C,urgentTasks:j,overdueTasks:S,totalPendingApprovals:D}})]})}function Lw(){var R,F,z,J;const{user:e,getAuthenticatedBackend:s}=$s(),[n,a]=x.useState(!1),[r,l]=x.useState(!1),{data:c}=Xt({queryKey:["properties"],queryFn:async()=>s().properties.list({}),enabled:!!e&&n}),{data:u}=Xt({queryKey:["tasks"],queryFn:async()=>s().tasks.list({}),enabled:!!e&&n}),{data:m}=Xt({queryKey:["expenses"],queryFn:async()=>{const K=s(),X=new Date,ce=new Date(X.getFullYear(),X.getMonth(),1),q=new Date(X.getFullYear(),X.getMonth()+1,0);return K.finance.listExpenses({startDate:ce.toISOString().split("T")[0],endDate:q.toISOString().split("T")[0]})},enabled:!!e&&e.role==="ADMIN"&&n}),{data:p}=Xt({queryKey:["revenues"],queryFn:async()=>{const K=s(),X=new Date,ce=new Date(X.getFullYear(),X.getMonth(),1),q=new Date(X.getFullYear(),X.getMonth()+1,0);return K.finance.listRevenues({startDate:ce.toISOString().split("T")[0],endDate:q.toISOString().split("T")[0]})},enabled:!!e&&e.role==="ADMIN"&&n}),{data:f}=Xt({queryKey:["leave-requests"],queryFn:async()=>s().staff.listLeaveRequests({}),enabled:!!e&&n}),g={pendingApprovals:(()=>{var q,ie,L;const K=((q=m==null?void 0:m.expenses)==null?void 0:q.filter(B=>B.status==="pending"))||[],X=((ie=p==null?void 0:p.revenues)==null?void 0:ie.filter(B=>B.status==="pending"))||[],ce=((L=f==null?void 0:f.leaveRequests)==null?void 0:L.filter(B=>B.status==="pending"))||[];return K.length+X.length+ce.length})(),urgentTasks:((R=u==null?void 0:u.tasks)==null?void 0:R.filter(K=>K.priority==="high"&&K.status!=="done").length)||0,overdueTasks:((F=u==null?void 0:u.tasks)==null?void 0:F.filter(K=>K.dueAt&&new Date(K.dueAt)<new Date&&K.status!=="done").length)||0,financialPending:(()=>{var ce,q;const K=((ce=m==null?void 0:m.expenses)==null?void 0:ce.filter(ie=>ie.status==="pending"))||[],X=((q=p==null?void 0:p.revenues)==null?void 0:q.filter(ie=>ie.status==="pending"))||[];return K.length+X.length})(),activeProperties:((z=c==null?void 0:c.properties)==null?void 0:z.length)||0,activeTasks:((J=u==null?void 0:u.tasks)==null?void 0:J.filter(K=>K.status!=="done").length)||0},v=()=>{try{return JSON.parse(localStorage.getItem("completedOnboardingSteps")||"[]")}catch{return[]}},w=v(),N=0,j=(()=>{if((e==null?void 0:e.role)==="ADMIN"){const K=w.includes("setup-organization"),X=((c==null?void 0:c.properties.length)||0)>0;return K&&X}else{const K=w.includes("complete-profile"),X=w.includes("view-assigned-properties");return K&&X}})(),S=N<=7&&!j,E={name:(e==null?void 0:e.displayName)||"User",role:(e==null?void 0:e.role)||"USER",hasProperties:((c==null?void 0:c.properties.length)||0)>0,propertyCount:(c==null?void 0:c.properties.length)||0,isNewUser:S,accountAge:N,completedOnboardingSteps:w};x.useEffect(()=>{if(console.log("Welcome popup effect:",{user:!!e,hasShownWelcome:r,showWelcomePopup:n,isNewUser:S}),e&&!r&&S){console.log("Showing welcome popup for new user...");const K=setTimeout(()=>{console.log("Setting welcome popup to true"),a(!0),l(!0)},100);return()=>clearTimeout(K)}},[e,r,S]),x.useEffect(()=>{e||(a(!1),l(!1))},[e]);const T=x.useCallback(()=>{a(!1)},[]),C=x.useCallback(()=>{l(!1),a(!1),setTimeout(()=>{a(!0),l(!0)},100)},[]),P=x.useCallback(K=>{const X=v();if(!X.includes(K)){const ce=[...X,K];localStorage.setItem("completedOnboardingSteps",JSON.stringify(ce))}},[]),D=x.useCallback(()=>{const K=[];return(e==null?void 0:e.role)==="ADMIN"?K.push({id:"setup-organization",title:"Set Up Your Organization",description:"Configure your organization settings and branding",completed:w.includes("setup-organization"),required:!0,action:{label:"Configure",route:"/settings"},icon:""},{id:"add-properties",title:"Add Your First Property",description:"Create your hotel, hostel, or resort listing",completed:E.hasProperties,required:!0,action:{label:"Add Property",route:"/properties"},icon:""},{id:"invite-team",title:"Invite Team Members",description:"Create manager accounts for your team",completed:w.includes("invite-team"),required:!1,action:{label:"Invite Team",route:"/users"},icon:""},{id:"create-first-task",title:"Create Your First Task",description:"Set up operational tasks and workflows",completed:w.includes("create-first-task"),required:!1,action:{label:"Create Task",route:"/tasks"},icon:""}):K.push({id:"complete-profile",title:"Complete Your Profile",description:"Update your personal information and preferences",completed:w.includes("complete-profile"),required:!0,action:{label:"Update Profile",route:"/settings"},icon:""},{id:"view-assigned-properties",title:"View Assigned Properties",description:"Check out the properties you can manage",completed:w.includes("view-assigned-properties"),required:!0,action:{label:"View Properties",route:"/properties"},icon:""},{id:"create-first-task",title:"Create Your First Task",description:"Set up operational tasks for your properties",completed:w.includes("create-first-task"),required:!1,action:{label:"Create Task",route:"/tasks"},icon:""}),K},[e==null?void 0:e.role,E.hasProperties,w]);x.useEffect(()=>{!e||!P||(e.role==="ADMIN"?E.hasProperties&&!w.includes("add-properties")&&P("add-properties"):w.includes("view-assigned-properties")&&!w.includes("view-assigned-properties")&&P("view-assigned-properties"))},[e,E.hasProperties,w,P]);const A=x.useCallback(K=>{P&&P(K)},[P]);return{showWelcomePopup:n,closeWelcomePopup:T,resetWelcomePopup:C,dashboardData:g,userData:E,isLoading:!1,onboardingSteps:D(),markStepCompleted:P,markEssentialStepCompleted:A}}function i2(e,[s,n]){return Math.min(n,Math.max(s,e))}var Kq=x.createContext(void 0);function Fw(e){const s=x.useContext(Kq);return e||s||"ltr"}const Qq=["top","right","bottom","left"],pl=Math.min,Xn=Math.max,$f=Math.round,tf=Math.floor,hi=e=>({x:e,y:e}),Jq={left:"right",right:"left",bottom:"top",top:"bottom"},Xq={start:"end",end:"start"};function sb(e,s,n){return Xn(e,pl(s,n))}function ro(e,s){return typeof e=="function"?e(s):e}function io(e){return e.split("-")[0]}function hu(e){return e.split("-")[1]}function Uw(e){return e==="x"?"y":"x"}function Vw(e){return e==="y"?"height":"width"}const Zq=new Set(["top","bottom"]);function oi(e){return Zq.has(io(e))?"y":"x"}function Bw(e){return Uw(oi(e))}function e7(e,s,n){n===void 0&&(n=!1);const a=hu(e),r=Bw(e),l=Vw(r);let c=r==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return s.reference[l]>s.floating[l]&&(c=Gf(c)),[c,Gf(c)]}function t7(e){const s=Gf(e);return[ab(e),s,ab(s)]}function ab(e){return e.replace(/start|end/g,s=>Xq[s])}const o2=["left","right"],l2=["right","left"],s7=["top","bottom"],a7=["bottom","top"];function n7(e,s,n){switch(e){case"top":case"bottom":return n?s?l2:o2:s?o2:l2;case"left":case"right":return s?s7:a7;default:return[]}}function r7(e,s,n,a){const r=hu(e);let l=n7(io(e),n==="start",a);return r&&(l=l.map(c=>c+"-"+r),s&&(l=l.concat(l.map(ab)))),l}function Gf(e){return e.replace(/left|right|bottom|top/g,s=>Jq[s])}function i7(e){return{top:0,right:0,bottom:0,left:0,...e}}function kI(e){return typeof e!="number"?i7(e):{top:e,right:e,bottom:e,left:e}}function Hf(e){const{x:s,y:n,width:a,height:r}=e;return{width:a,height:r,top:n,left:s,right:s+a,bottom:n+r,x:s,y:n}}function c2(e,s,n){let{reference:a,floating:r}=e;const l=oi(s),c=Bw(s),u=Vw(c),m=io(s),p=l==="y",f=a.x+a.width/2-r.width/2,g=a.y+a.height/2-r.height/2,v=a[u]/2-r[u]/2;let w;switch(m){case"top":w={x:f,y:a.y-r.height};break;case"bottom":w={x:f,y:a.y+a.height};break;case"right":w={x:a.x+a.width,y:g};break;case"left":w={x:a.x-r.width,y:g};break;default:w={x:a.x,y:a.y}}switch(hu(s)){case"start":w[c]-=v*(n&&p?-1:1);break;case"end":w[c]+=v*(n&&p?-1:1);break}return w}const o7=async(e,s,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:l=[],platform:c}=n,u=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(s));let p=await c.getElementRects({reference:e,floating:s,strategy:r}),{x:f,y:g}=c2(p,a,m),v=a,w={},N=0;for(let j=0;j<u.length;j++){const{name:S,fn:E}=u[j],{x:T,y:C,data:P,reset:D}=await E({x:f,y:g,initialPlacement:a,placement:v,strategy:r,middlewareData:w,rects:p,platform:c,elements:{reference:e,floating:s}});f=T??f,g=C??g,w={...w,[S]:{...w[S],...P}},D&&N<=50&&(N++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(p=D.rects===!0?await c.getElementRects({reference:e,floating:s,strategy:r}):D.rects),{x:f,y:g}=c2(p,v,m)),j=-1)}return{x:f,y:g,placement:v,strategy:r,middlewareData:w}};async function Gh(e,s){var n;s===void 0&&(s={});const{x:a,y:r,platform:l,rects:c,elements:u,strategy:m}=e,{boundary:p="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:v=!1,padding:w=0}=ro(s,e),N=kI(w),S=u[v?g==="floating"?"reference":"floating":g],E=Hf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:p,rootBoundary:f,strategy:m})),T=g==="floating"?{x:a,y:r,width:c.floating.width,height:c.floating.height}:c.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),P=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},D=Hf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:C,strategy:m}):T);return{top:(E.top-D.top+N.top)/P.y,bottom:(D.bottom-E.bottom+N.bottom)/P.y,left:(E.left-D.left+N.left)/P.x,right:(D.right-E.right+N.right)/P.x}}const l7=e=>({name:"arrow",options:e,async fn(s){const{x:n,y:a,placement:r,rects:l,platform:c,elements:u,middlewareData:m}=s,{element:p,padding:f=0}=ro(e,s)||{};if(p==null)return{};const g=kI(f),v={x:n,y:a},w=Bw(r),N=Vw(w),j=await c.getDimensions(p),S=w==="y",E=S?"top":"left",T=S?"bottom":"right",C=S?"clientHeight":"clientWidth",P=l.reference[N]+l.reference[w]-v[w]-l.floating[N],D=v[w]-l.reference[w],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let R=A?A[C]:0;(!R||!await(c.isElement==null?void 0:c.isElement(A)))&&(R=u.floating[C]||l.floating[N]);const F=P/2-D/2,z=R/2-j[N]/2-1,J=pl(g[E],z),K=pl(g[T],z),X=J,ce=R-j[N]-K,q=R/2-j[N]/2+F,ie=sb(X,q,ce),L=!m.arrow&&hu(r)!=null&&q!==ie&&l.reference[N]/2-(q<X?J:K)-j[N]/2<0,B=L?q<X?q-X:q-ce:0;return{[w]:v[w]+B,data:{[w]:ie,centerOffset:q-ie-B,...L&&{alignmentOffset:B}},reset:L}}}),c7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(s){var n,a;const{placement:r,middlewareData:l,rects:c,initialPlacement:u,platform:m,elements:p}=s,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:j=!0,...S}=ro(e,s);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const E=io(r),T=oi(u),C=io(u)===u,P=await(m.isRTL==null?void 0:m.isRTL(p.floating)),D=v||(C||!j?[Gf(u)]:t7(u)),A=N!=="none";!v&&A&&D.push(...r7(u,j,N,P));const R=[u,...D],F=await Gh(s,S),z=[];let J=((a=l.flip)==null?void 0:a.overflows)||[];if(f&&z.push(F[E]),g){const q=e7(r,c,P);z.push(F[q[0]],F[q[1]])}if(J=[...J,{placement:r,overflows:z}],!z.every(q=>q<=0)){var K,X;const q=(((K=l.flip)==null?void 0:K.index)||0)+1,ie=R[q];if(ie&&(!(g==="alignment"?T!==oi(ie):!1)||J.every(Y=>oi(Y.placement)===T?Y.overflows[0]>0:!0)))return{data:{index:q,overflows:J},reset:{placement:ie}};let L=(X=J.filter(B=>B.overflows[0]<=0).sort((B,Y)=>B.overflows[1]-Y.overflows[1])[0])==null?void 0:X.placement;if(!L)switch(w){case"bestFit":{var ce;const B=(ce=J.filter(Y=>{if(A){const de=oi(Y.placement);return de===T||de==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(de=>de>0).reduce((de,G)=>de+G,0)]).sort((Y,de)=>Y[1]-de[1])[0])==null?void 0:ce[0];B&&(L=B);break}case"initialPlacement":L=u;break}if(r!==L)return{reset:{placement:L}}}return{}}}};function d2(e,s){return{top:e.top-s.height,right:e.right-s.width,bottom:e.bottom-s.height,left:e.left-s.width}}function u2(e){return Qq.some(s=>e[s]>=0)}const d7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(s){const{rects:n}=s,{strategy:a="referenceHidden",...r}=ro(e,s);switch(a){case"referenceHidden":{const l=await Gh(s,{...r,elementContext:"reference"}),c=d2(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:u2(c)}}}case"escaped":{const l=await Gh(s,{...r,altBoundary:!0}),c=d2(l,n.floating);return{data:{escapedOffsets:c,escaped:u2(c)}}}default:return{}}}}},EI=new Set(["left","top"]);async function u7(e,s){const{placement:n,platform:a,elements:r}=e,l=await(a.isRTL==null?void 0:a.isRTL(r.floating)),c=io(n),u=hu(n),m=oi(n)==="y",p=EI.has(c)?-1:1,f=l&&m?-1:1,g=ro(s,e);let{mainAxis:v,crossAxis:w,alignmentAxis:N}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof N=="number"&&(w=u==="end"?N*-1:N),m?{x:w*f,y:v*p}:{x:v*p,y:w*f}}const h7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(s){var n,a;const{x:r,y:l,placement:c,middlewareData:u}=s,m=await u7(s,e);return c===((n=u.offset)==null?void 0:n.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:r+m.x,y:l+m.y,data:{...m,placement:c}}}}},m7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(s){const{x:n,y:a,placement:r}=s,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:S=>{let{x:E,y:T}=S;return{x:E,y:T}}},...m}=ro(e,s),p={x:n,y:a},f=await Gh(s,m),g=oi(io(r)),v=Uw(g);let w=p[v],N=p[g];if(l){const S=v==="y"?"top":"left",E=v==="y"?"bottom":"right",T=w+f[S],C=w-f[E];w=sb(T,w,C)}if(c){const S=g==="y"?"top":"left",E=g==="y"?"bottom":"right",T=N+f[S],C=N-f[E];N=sb(T,N,C)}const j=u.fn({...s,[v]:w,[g]:N});return{...j,data:{x:j.x-n,y:j.y-a,enabled:{[v]:l,[g]:c}}}}}},p7=function(e){return e===void 0&&(e={}),{options:e,fn(s){const{x:n,y:a,placement:r,rects:l,middlewareData:c}=s,{offset:u=0,mainAxis:m=!0,crossAxis:p=!0}=ro(e,s),f={x:n,y:a},g=oi(r),v=Uw(g);let w=f[v],N=f[g];const j=ro(u,s),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(m){const C=v==="y"?"height":"width",P=l.reference[v]-l.floating[C]+S.mainAxis,D=l.reference[v]+l.reference[C]-S.mainAxis;w<P?w=P:w>D&&(w=D)}if(p){var E,T;const C=v==="y"?"width":"height",P=EI.has(io(r)),D=l.reference[g]-l.floating[C]+(P&&((E=c.offset)==null?void 0:E[g])||0)+(P?0:S.crossAxis),A=l.reference[g]+l.reference[C]+(P?0:((T=c.offset)==null?void 0:T[g])||0)-(P?S.crossAxis:0);N<D?N=D:N>A&&(N=A)}return{[v]:w,[g]:N}}}},f7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(s){var n,a;const{placement:r,rects:l,platform:c,elements:u}=s,{apply:m=()=>{},...p}=ro(e,s),f=await Gh(s,p),g=io(r),v=hu(r),w=oi(r)==="y",{width:N,height:j}=l.floating;let S,E;g==="top"||g==="bottom"?(S=g,E=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(E=g,S=v==="end"?"top":"bottom");const T=j-f.top-f.bottom,C=N-f.left-f.right,P=pl(j-f[S],T),D=pl(N-f[E],C),A=!s.middlewareData.shift;let R=P,F=D;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(F=C),(a=s.middlewareData.shift)!=null&&a.enabled.y&&(R=T),A&&!v){const J=Xn(f.left,0),K=Xn(f.right,0),X=Xn(f.top,0),ce=Xn(f.bottom,0);w?F=N-2*(J!==0||K!==0?J+K:Xn(f.left,f.right)):R=j-2*(X!==0||ce!==0?X+ce:Xn(f.top,f.bottom))}await m({...s,availableWidth:F,availableHeight:R});const z=await c.getDimensions(u.floating);return N!==z.width||j!==z.height?{reset:{rects:!0}}:{}}}};function yg(){return typeof window<"u"}function mu(e){return AI(e)?(e.nodeName||"").toLowerCase():"#document"}function er(e){var s;return(e==null||(s=e.ownerDocument)==null?void 0:s.defaultView)||window}function yi(e){var s;return(s=(AI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:s.documentElement}function AI(e){return yg()?e instanceof Node||e instanceof er(e).Node:!1}function zr(e){return yg()?e instanceof Element||e instanceof er(e).Element:!1}function fi(e){return yg()?e instanceof HTMLElement||e instanceof er(e).HTMLElement:!1}function h2(e){return!yg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof er(e).ShadowRoot}const g7=new Set(["inline","contents"]);function dm(e){const{overflow:s,overflowX:n,overflowY:a,display:r}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(s+a+n)&&!g7.has(r)}const x7=new Set(["table","td","th"]);function y7(e){return x7.has(mu(e))}const v7=[":popover-open",":modal"];function vg(e){return v7.some(s=>{try{return e.matches(s)}catch{return!1}})}const b7=["transform","translate","scale","rotate","perspective"],w7=["transform","translate","scale","rotate","perspective","filter"],j7=["paint","layout","strict","content"];function zw(e){const s=qw(),n=zr(e)?qr(e):e;return b7.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||w7.some(a=>(n.willChange||"").includes(a))||j7.some(a=>(n.contain||"").includes(a))}function N7(e){let s=fl(e);for(;fi(s)&&!Kd(s);){if(zw(s))return s;if(vg(s))return null;s=fl(s)}return null}function qw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const S7=new Set(["html","body","#document"]);function Kd(e){return S7.has(mu(e))}function qr(e){return er(e).getComputedStyle(e)}function bg(e){return zr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fl(e){if(mu(e)==="html")return e;const s=e.assignedSlot||e.parentNode||h2(e)&&e.host||yi(e);return h2(s)?s.host:s}function DI(e){const s=fl(e);return Kd(s)?e.ownerDocument?e.ownerDocument.body:e.body:fi(s)&&dm(s)?s:DI(s)}function Hh(e,s,n){var a;s===void 0&&(s=[]),n===void 0&&(n=!0);const r=DI(e),l=r===((a=e.ownerDocument)==null?void 0:a.body),c=er(r);if(l){const u=nb(c);return s.concat(c,c.visualViewport||[],dm(r)?r:[],u&&n?Hh(u):[])}return s.concat(r,Hh(r,[],n))}function nb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function II(e){const s=qr(e);let n=parseFloat(s.width)||0,a=parseFloat(s.height)||0;const r=fi(e),l=r?e.offsetWidth:n,c=r?e.offsetHeight:a,u=$f(n)!==l||$f(a)!==c;return u&&(n=l,a=c),{width:n,height:a,$:u}}function $w(e){return zr(e)?e:e.contextElement}function Dd(e){const s=$w(e);if(!fi(s))return hi(1);const n=s.getBoundingClientRect(),{width:a,height:r,$:l}=II(s);let c=(l?$f(n.width):n.width)/a,u=(l?$f(n.height):n.height)/r;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const C7=hi(0);function PI(e){const s=er(e);return!qw()||!s.visualViewport?C7:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function T7(e,s,n){return s===void 0&&(s=!1),!n||s&&n!==er(e)?!1:s}function yc(e,s,n,a){s===void 0&&(s=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),l=$w(e);let c=hi(1);s&&(a?zr(a)&&(c=Dd(a)):c=Dd(e));const u=T7(l,n,a)?PI(l):hi(0);let m=(r.left+u.x)/c.x,p=(r.top+u.y)/c.y,f=r.width/c.x,g=r.height/c.y;if(l){const v=er(l),w=a&&zr(a)?er(a):a;let N=v,j=nb(N);for(;j&&a&&w!==N;){const S=Dd(j),E=j.getBoundingClientRect(),T=qr(j),C=E.left+(j.clientLeft+parseFloat(T.paddingLeft))*S.x,P=E.top+(j.clientTop+parseFloat(T.paddingTop))*S.y;m*=S.x,p*=S.y,f*=S.x,g*=S.y,m+=C,p+=P,N=er(j),j=nb(N)}}return Hf({width:f,height:g,x:m,y:p})}function wg(e,s){const n=bg(e).scrollLeft;return s?s.left+n:yc(yi(e)).left+n}function RI(e,s){const n=e.getBoundingClientRect(),a=n.left+s.scrollLeft-wg(e,n),r=n.top+s.scrollTop;return{x:a,y:r}}function k7(e){let{elements:s,rect:n,offsetParent:a,strategy:r}=e;const l=r==="fixed",c=yi(a),u=s?vg(s.floating):!1;if(a===c||u&&l)return n;let m={scrollLeft:0,scrollTop:0},p=hi(1);const f=hi(0),g=fi(a);if((g||!g&&!l)&&((mu(a)!=="body"||dm(c))&&(m=bg(a)),fi(a))){const w=yc(a);p=Dd(a),f.x=w.x+a.clientLeft,f.y=w.y+a.clientTop}const v=c&&!g&&!l?RI(c,m):hi(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+f.x+v.x,y:n.y*p.y-m.scrollTop*p.y+f.y+v.y}}function E7(e){return Array.from(e.getClientRects())}function A7(e){const s=yi(e),n=bg(e),a=e.ownerDocument.body,r=Xn(s.scrollWidth,s.clientWidth,a.scrollWidth,a.clientWidth),l=Xn(s.scrollHeight,s.clientHeight,a.scrollHeight,a.clientHeight);let c=-n.scrollLeft+wg(e);const u=-n.scrollTop;return qr(a).direction==="rtl"&&(c+=Xn(s.clientWidth,a.clientWidth)-r),{width:r,height:l,x:c,y:u}}const m2=25;function D7(e,s){const n=er(e),a=yi(e),r=n.visualViewport;let l=a.clientWidth,c=a.clientHeight,u=0,m=0;if(r){l=r.width,c=r.height;const f=qw();(!f||f&&s==="fixed")&&(u=r.offsetLeft,m=r.offsetTop)}const p=wg(a);if(p<=0){const f=a.ownerDocument,g=f.body,v=getComputedStyle(g),w=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,N=Math.abs(a.clientWidth-g.clientWidth-w);N<=m2&&(l-=N)}else p<=m2&&(l+=p);return{width:l,height:c,x:u,y:m}}const I7=new Set(["absolute","fixed"]);function P7(e,s){const n=yc(e,!0,s==="fixed"),a=n.top+e.clientTop,r=n.left+e.clientLeft,l=fi(e)?Dd(e):hi(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,m=r*l.x,p=a*l.y;return{width:c,height:u,x:m,y:p}}function p2(e,s,n){let a;if(s==="viewport")a=D7(e,n);else if(s==="document")a=A7(yi(e));else if(zr(s))a=P7(s,n);else{const r=PI(e);a={x:s.x-r.x,y:s.y-r.y,width:s.width,height:s.height}}return Hf(a)}function OI(e,s){const n=fl(e);return n===s||!zr(n)||Kd(n)?!1:qr(n).position==="fixed"||OI(n,s)}function R7(e,s){const n=s.get(e);if(n)return n;let a=Hh(e,[],!1).filter(u=>zr(u)&&mu(u)!=="body"),r=null;const l=qr(e).position==="fixed";let c=l?fl(e):e;for(;zr(c)&&!Kd(c);){const u=qr(c),m=zw(c);!m&&u.position==="fixed"&&(r=null),(l?!m&&!r:!m&&u.position==="static"&&!!r&&I7.has(r.position)||dm(c)&&!m&&OI(e,c))?a=a.filter(f=>f!==c):r=u,c=fl(c)}return s.set(e,a),a}function O7(e){let{element:s,boundary:n,rootBoundary:a,strategy:r}=e;const c=[...n==="clippingAncestors"?vg(s)?[]:R7(s,this._c):[].concat(n),a],u=c[0],m=c.reduce((p,f)=>{const g=p2(s,f,r);return p.top=Xn(g.top,p.top),p.right=pl(g.right,p.right),p.bottom=pl(g.bottom,p.bottom),p.left=Xn(g.left,p.left),p},p2(s,u,r));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function M7(e){const{width:s,height:n}=II(e);return{width:s,height:n}}function _7(e,s,n){const a=fi(s),r=yi(s),l=n==="fixed",c=yc(e,!0,l,s);let u={scrollLeft:0,scrollTop:0};const m=hi(0);function p(){m.x=wg(r)}if(a||!a&&!l)if((mu(s)!=="body"||dm(r))&&(u=bg(s)),a){const w=yc(s,!0,l,s);m.x=w.x+s.clientLeft,m.y=w.y+s.clientTop}else r&&p();l&&!a&&r&&p();const f=r&&!a&&!l?RI(r,u):hi(0),g=c.left+u.scrollLeft-m.x-f.x,v=c.top+u.scrollTop-m.y-f.y;return{x:g,y:v,width:c.width,height:c.height}}function d0(e){return qr(e).position==="static"}function f2(e,s){if(!fi(e)||qr(e).position==="fixed")return null;if(s)return s(e);let n=e.offsetParent;return yi(e)===n&&(n=n.ownerDocument.body),n}function MI(e,s){const n=er(e);if(vg(e))return n;if(!fi(e)){let r=fl(e);for(;r&&!Kd(r);){if(zr(r)&&!d0(r))return r;r=fl(r)}return n}let a=f2(e,s);for(;a&&y7(a)&&d0(a);)a=f2(a,s);return a&&Kd(a)&&d0(a)&&!zw(a)?n:a||N7(e)||n}const L7=async function(e){const s=this.getOffsetParent||MI,n=this.getDimensions,a=await n(e.floating);return{reference:_7(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function F7(e){return qr(e).direction==="rtl"}const U7={convertOffsetParentRelativeRectToViewportRelativeRect:k7,getDocumentElement:yi,getClippingRect:O7,getOffsetParent:MI,getElementRects:L7,getClientRects:E7,getDimensions:M7,getScale:Dd,isElement:zr,isRTL:F7};function _I(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function V7(e,s){let n=null,a;const r=yi(e);function l(){var u;clearTimeout(a),(u=n)==null||u.disconnect(),n=null}function c(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),l();const p=e.getBoundingClientRect(),{left:f,top:g,width:v,height:w}=p;if(u||s(),!v||!w)return;const N=tf(g),j=tf(r.clientWidth-(f+v)),S=tf(r.clientHeight-(g+w)),E=tf(f),C={rootMargin:-N+"px "+-j+"px "+-S+"px "+-E+"px",threshold:Xn(0,pl(1,m))||1};let P=!0;function D(A){const R=A[0].intersectionRatio;if(R!==m){if(!P)return c();R?c(!1,R):a=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!_I(p,e.getBoundingClientRect())&&c(),P=!1}try{n=new IntersectionObserver(D,{...C,root:r.ownerDocument})}catch{n=new IntersectionObserver(D,C)}n.observe(e)}return c(!0),l}function B7(e,s,n,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,p=$w(e),f=r||l?[...p?Hh(p):[],...Hh(s)]:[];f.forEach(E=>{r&&E.addEventListener("scroll",n,{passive:!0}),l&&E.addEventListener("resize",n)});const g=p&&u?V7(p,n):null;let v=-1,w=null;c&&(w=new ResizeObserver(E=>{let[T]=E;T&&T.target===p&&w&&(w.unobserve(s),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(s)})),n()}),p&&!m&&w.observe(p),w.observe(s));let N,j=m?yc(e):null;m&&S();function S(){const E=yc(e);j&&!_I(j,E)&&n(),j=E,N=requestAnimationFrame(S)}return n(),()=>{var E;f.forEach(T=>{r&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),g==null||g(),(E=w)==null||E.disconnect(),w=null,m&&cancelAnimationFrame(N)}}const z7=h7,q7=m7,$7=c7,G7=f7,H7=d7,g2=l7,Y7=p7,W7=(e,s,n)=>{const a=new Map,r={platform:U7,...n},l={...r.platform,_c:a};return o7(e,s,{...r,platform:l})};var K7=typeof document<"u",Q7=function(){},Sf=K7?x.useLayoutEffect:Q7;function Yf(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(typeof e=="function"&&e.toString()===s.toString())return!0;let n,a,r;if(e&&s&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==s.length)return!1;for(a=n;a--!==0;)if(!Yf(e[a],s[a]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(s).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(s,r[a]))return!1;for(a=n;a--!==0;){const l=r[a];if(!(l==="_owner"&&e.$$typeof)&&!Yf(e[l],s[l]))return!1}return!0}return e!==e&&s!==s}function LI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function x2(e,s){const n=LI(e);return Math.round(s*n)/n}function u0(e){const s=x.useRef(e);return Sf(()=>{s.current=e}),s}function J7(e){e===void 0&&(e={});const{placement:s="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:m,open:p}=e,[f,g]=x.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[v,w]=x.useState(a);Yf(v,a)||w(a);const[N,j]=x.useState(null),[S,E]=x.useState(null),T=x.useCallback(Y=>{Y!==A.current&&(A.current=Y,j(Y))},[]),C=x.useCallback(Y=>{Y!==R.current&&(R.current=Y,E(Y))},[]),P=l||N,D=c||S,A=x.useRef(null),R=x.useRef(null),F=x.useRef(f),z=m!=null,J=u0(m),K=u0(r),X=u0(p),ce=x.useCallback(()=>{if(!A.current||!R.current)return;const Y={placement:s,strategy:n,middleware:v};K.current&&(Y.platform=K.current),W7(A.current,R.current,Y).then(de=>{const G={...de,isPositioned:X.current!==!1};q.current&&!Yf(F.current,G)&&(F.current=G,au.flushSync(()=>{g(G)}))})},[v,s,n,K,X]);Sf(()=>{p===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,g(Y=>({...Y,isPositioned:!1})))},[p]);const q=x.useRef(!1);Sf(()=>(q.current=!0,()=>{q.current=!1}),[]),Sf(()=>{if(P&&(A.current=P),D&&(R.current=D),P&&D){if(J.current)return J.current(P,D,ce);ce()}},[P,D,ce,J,z]);const ie=x.useMemo(()=>({reference:A,floating:R,setReference:T,setFloating:C}),[T,C]),L=x.useMemo(()=>({reference:P,floating:D}),[P,D]),B=x.useMemo(()=>{const Y={position:n,left:0,top:0};if(!L.floating)return Y;const de=x2(L.floating,f.x),G=x2(L.floating,f.y);return u?{...Y,transform:"translate("+de+"px, "+G+"px)",...LI(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:G}},[n,u,L.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:ce,refs:ie,elements:L,floatingStyles:B}),[f,ce,ie,L,B])}const X7=e=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:r}=typeof e=="function"?e(n):e;return a&&s(a)?a.current!=null?g2({element:a.current,padding:r}).fn(n):{}:a?g2({element:a,padding:r}).fn(n):{}}}},Z7=(e,s)=>({...z7(e),options:[e,s]}),e$=(e,s)=>({...q7(e),options:[e,s]}),t$=(e,s)=>({...Y7(e),options:[e,s]}),s$=(e,s)=>({...$7(e),options:[e,s]}),a$=(e,s)=>({...G7(e),options:[e,s]}),n$=(e,s)=>({...H7(e),options:[e,s]}),r$=(e,s)=>({...X7(e),options:[e,s]});var i$="Arrow",FI=x.forwardRef((e,s)=>{const{children:n,width:a=10,height:r=5,...l}=e;return t.jsx(Ot.svg,{...l,ref:s,width:a,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});FI.displayName=i$;var o$=FI;function UI(e){const[s,n]=x.useState(void 0);return Oa(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let c,u;if("borderBoxSize"in l){const m=l.borderBoxSize,p=Array.isArray(m)?m[0]:m;c=p.inlineSize,u=p.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),s}var Gw="Popper",[VI,jg]=xi(Gw),[l$,BI]=VI(Gw),zI=e=>{const{__scopePopper:s,children:n}=e,[a,r]=x.useState(null);return t.jsx(l$,{scope:s,anchor:a,onAnchorChange:r,children:n})};zI.displayName=Gw;var qI="PopperAnchor",$I=x.forwardRef((e,s)=>{const{__scopePopper:n,virtualRef:a,...r}=e,l=BI(qI,n),c=x.useRef(null),u=Ms(s,c),m=x.useRef(null);return x.useEffect(()=>{const p=m.current;m.current=(a==null?void 0:a.current)||c.current,p!==m.current&&l.onAnchorChange(m.current)}),a?null:t.jsx(Ot.div,{...r,ref:u})});$I.displayName=qI;var Hw="PopperContent",[c$,d$]=VI(Hw),GI=x.forwardRef((e,s)=>{var ue,be,Ee,H,fe,je;const{__scopePopper:n,side:a="bottom",sideOffset:r=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:f=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:N,...j}=e,S=BI(Hw,n),[E,T]=x.useState(null),C=Ms(s,Oe=>T(Oe)),[P,D]=x.useState(null),A=UI(P),R=(A==null?void 0:A.width)??0,F=(A==null?void 0:A.height)??0,z=a+(l!=="center"?"-"+l:""),J=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},K=Array.isArray(p)?p:[p],X=K.length>0,ce={padding:J,boundary:K.filter(h$),altBoundary:X},{refs:q,floatingStyles:ie,placement:L,isPositioned:B,middlewareData:Y}=J7({strategy:"fixed",placement:z,whileElementsMounted:(...Oe)=>B7(...Oe,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[Z7({mainAxis:r+F,alignmentAxis:c}),m&&e$({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?t$():void 0,...ce}),m&&s$({...ce}),a$({...ce,apply:({elements:Oe,rects:_e,availableWidth:Ie,availableHeight:ze})=>{const{width:Ue,height:Ge}=_e.reference,it=Oe.floating.style;it.setProperty("--radix-popper-available-width",`${Ie}px`),it.setProperty("--radix-popper-available-height",`${ze}px`),it.setProperty("--radix-popper-anchor-width",`${Ue}px`),it.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),P&&r$({element:P,padding:u}),m$({arrowWidth:R,arrowHeight:F}),v&&n$({strategy:"referenceHidden",...ce})]}),[de,G]=WI(L),M=tr(N);Oa(()=>{B&&(M==null||M())},[B,M]);const V=(ue=Y.arrow)==null?void 0:ue.x,W=(be=Y.arrow)==null?void 0:be.y,$=((Ee=Y.arrow)==null?void 0:Ee.centerOffset)!==0,[me,ge]=x.useState();return Oa(()=>{E&&ge(window.getComputedStyle(E).zIndex)},[E]),t.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:B?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(H=Y.transformOrigin)==null?void 0:H.x,(fe=Y.transformOrigin)==null?void 0:fe.y].join(" "),...((je=Y.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(c$,{scope:n,placedSide:de,onArrowChange:D,arrowX:V,arrowY:W,shouldHideArrow:$,children:t.jsx(Ot.div,{"data-side":de,"data-align":G,...j,ref:C,style:{...j.style,animation:B?void 0:"none"}})})})});GI.displayName=Hw;var HI="PopperArrow",u$={top:"bottom",right:"left",bottom:"top",left:"right"},YI=x.forwardRef(function(s,n){const{__scopePopper:a,...r}=s,l=d$(HI,a),c=u$[l.placedSide];return t.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:t.jsx(o$,{...r,ref:n,style:{...r.style,display:"block"}})})});YI.displayName=HI;function h$(e){return e!==null}var m$=e=>({name:"transformOrigin",options:e,fn(s){var S,E,T;const{placement:n,rects:a,middlewareData:r}=s,c=((S=r.arrow)==null?void 0:S.centerOffset)!==0,u=c?0:e.arrowWidth,m=c?0:e.arrowHeight,[p,f]=WI(n),g={start:"0%",center:"50%",end:"100%"}[f],v=(((E=r.arrow)==null?void 0:E.x)??0)+u/2,w=(((T=r.arrow)==null?void 0:T.y)??0)+m/2;let N="",j="";return p==="bottom"?(N=c?g:`${v}px`,j=`${-m}px`):p==="top"?(N=c?g:`${v}px`,j=`${a.floating.height+m}px`):p==="right"?(N=`${-m}px`,j=c?g:`${w}px`):p==="left"&&(N=`${a.floating.width+m}px`,j=c?g:`${w}px`),{data:{x:N,y:j}}}});function WI(e){const[s,n="center"]=e.split("-");return[s,n]}var KI=zI,Yw=$I,QI=GI,JI=YI;function XI(e){const s=x.useRef({value:e,previous:e});return x.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var p$=[" ","Enter","ArrowUp","ArrowDown"],f$=[" ","Enter"],vc="Select",[Ng,Sg,g$]=Pb(vc),[pu,pX]=xi(vc,[g$,jg]),Cg=jg(),[x$,xl]=pu(vc),[y$,v$]=pu(vc),ZI=e=>{const{__scopeSelect:s,children:n,open:a,defaultOpen:r,onOpenChange:l,value:c,defaultValue:u,onValueChange:m,dir:p,name:f,autoComplete:g,disabled:v,required:w,form:N}=e,j=Cg(s),[S,E]=x.useState(null),[T,C]=x.useState(null),[P,D]=x.useState(!1),A=Fw(p),[R,F]=dl({prop:a,defaultProp:r??!1,onChange:l,caller:vc}),[z,J]=dl({prop:c,defaultProp:u,onChange:m,caller:vc}),K=x.useRef(null),X=S?N||!!S.closest("form"):!0,[ce,q]=x.useState(new Set),ie=Array.from(ce).map(L=>L.props.value).join(";");return t.jsx(KI,{...j,children:t.jsxs(x$,{required:w,scope:s,trigger:S,onTriggerChange:E,valueNode:T,onValueNodeChange:C,valueNodeHasChildren:P,onValueNodeHasChildrenChange:D,contentId:Zi(),value:z,onValueChange:J,open:R,onOpenChange:F,dir:A,triggerPointerDownPosRef:K,disabled:v,children:[t.jsx(Ng.Provider,{scope:s,children:t.jsx(y$,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(L=>{q(B=>new Set(B).add(L))},[]),onNativeOptionRemove:x.useCallback(L=>{q(B=>{const Y=new Set(B);return Y.delete(L),Y})},[]),children:n})}),X?t.jsxs(wP,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:g,value:z,onChange:L=>J(L.target.value),disabled:v,form:N,children:[z===void 0?t.jsx("option",{value:""}):null,Array.from(ce)]},ie):null]})})};ZI.displayName=vc;var eP="SelectTrigger",tP=x.forwardRef((e,s)=>{const{__scopeSelect:n,disabled:a=!1,...r}=e,l=Cg(n),c=xl(eP,n),u=c.disabled||a,m=Ms(s,c.onTriggerChange),p=Sg(n),f=x.useRef("touch"),[g,v,w]=NP(j=>{const S=p().filter(C=>!C.disabled),E=S.find(C=>C.value===c.value),T=SP(S,j,E);T!==void 0&&c.onValueChange(T.value)}),N=j=>{u||(c.onOpenChange(!0),w()),j&&(c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return t.jsx(Yw,{asChild:!0,...l,children:t.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":jP(c.value)?"":void 0,...r,ref:m,onClick:At(r.onClick,j=>{j.currentTarget.focus(),f.current!=="mouse"&&N(j)}),onPointerDown:At(r.onPointerDown,j=>{f.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(N(j),j.preventDefault())}),onKeyDown:At(r.onKeyDown,j=>{const S=g.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&v(j.key),!(S&&j.key===" ")&&p$.includes(j.key)&&(N(),j.preventDefault())})})})});tP.displayName=eP;var sP="SelectValue",aP=x.forwardRef((e,s)=>{const{__scopeSelect:n,className:a,style:r,children:l,placeholder:c="",...u}=e,m=xl(sP,n),{onValueNodeHasChildrenChange:p}=m,f=l!==void 0,g=Ms(s,m.onValueNodeChange);return Oa(()=>{p(f)},[p,f]),t.jsx(Ot.span,{...u,ref:g,style:{pointerEvents:"none"},children:jP(m.value)?t.jsx(t.Fragment,{children:c}):l})});aP.displayName=sP;var b$="SelectIcon",nP=x.forwardRef((e,s)=>{const{__scopeSelect:n,children:a,...r}=e;return t.jsx(Ot.span,{"aria-hidden":!0,...r,ref:s,children:a||""})});nP.displayName=b$;var w$="SelectPortal",rP=e=>t.jsx(nm,{asChild:!0,...e});rP.displayName=w$;var bc="SelectContent",iP=x.forwardRef((e,s)=>{const n=xl(bc,e.__scopeSelect),[a,r]=x.useState();if(Oa(()=>{r(new DocumentFragment)},[]),!n.open){const l=a;return l?au.createPortal(t.jsx(oP,{scope:e.__scopeSelect,children:t.jsx(Ng.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),l):null}return t.jsx(lP,{...e,ref:s})});iP.displayName=bc;var Mr=10,[oP,yl]=pu(bc),j$="SelectContentImpl",N$=gc("SelectContent.RemoveScroll"),lP=x.forwardRef((e,s)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:m,align:p,alignOffset:f,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:N,hideWhenDetached:j,avoidCollisions:S,...E}=e,T=xl(bc,n),[C,P]=x.useState(null),[D,A]=x.useState(null),R=Ms(s,ue=>P(ue)),[F,z]=x.useState(null),[J,K]=x.useState(null),X=Sg(n),[ce,q]=x.useState(!1),ie=x.useRef(!1);x.useEffect(()=>{if(C)return Hb(C)},[C]),Gb();const L=x.useCallback(ue=>{const[be,...Ee]=X().map(je=>je.ref.current),[H]=Ee.slice(-1),fe=document.activeElement;for(const je of ue)if(je===fe||(je==null||je.scrollIntoView({block:"nearest"}),je===be&&D&&(D.scrollTop=0),je===H&&D&&(D.scrollTop=D.scrollHeight),je==null||je.focus(),document.activeElement!==fe))return},[X,D]),B=x.useCallback(()=>L([F,C]),[L,F,C]);x.useEffect(()=>{ce&&B()},[ce,B]);const{onOpenChange:Y,triggerPointerDownPosRef:de}=T;x.useEffect(()=>{if(C){let ue={x:0,y:0};const be=H=>{var fe,je;ue={x:Math.abs(Math.round(H.pageX)-(((fe=de.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(H.pageY)-(((je=de.current)==null?void 0:je.y)??0))}},Ee=H=>{ue.x<=10&&ue.y<=10?H.preventDefault():C.contains(H.target)||Y(!1),document.removeEventListener("pointermove",be),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[C,Y,de]),x.useEffect(()=>{const ue=()=>Y(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Y]);const[G,M]=NP(ue=>{const be=X().filter(fe=>!fe.disabled),Ee=be.find(fe=>fe.ref.current===document.activeElement),H=SP(be,ue,Ee);H&&setTimeout(()=>H.ref.current.focus())}),V=x.useCallback((ue,be,Ee)=>{const H=!ie.current&&!Ee;(T.value!==void 0&&T.value===be||H)&&(z(ue),H&&(ie.current=!0))},[T.value]),W=x.useCallback(()=>C==null?void 0:C.focus(),[C]),$=x.useCallback((ue,be,Ee)=>{const H=!ie.current&&!Ee;(T.value!==void 0&&T.value===be||H)&&K(ue)},[T.value]),me=a==="popper"?rb:cP,ge=me===rb?{side:u,sideOffset:m,align:p,alignOffset:f,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:N,hideWhenDetached:j,avoidCollisions:S}:{};return t.jsx(oP,{scope:n,content:C,viewport:D,onViewportChange:A,itemRefCallback:V,selectedItem:F,onItemLeave:W,itemTextRefCallback:$,focusSelectedItem:B,selectedItemText:J,position:a,isPositioned:ce,searchRef:G,children:t.jsx(hg,{as:N$,allowPinchZoom:!0,children:t.jsx(dg,{asChild:!0,trapped:T.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:At(r,ue=>{var be;(be=T.trigger)==null||be.focus({preventScroll:!0}),ue.preventDefault()}),children:t.jsx(am,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:t.jsx(me,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ue=>ue.preventDefault(),...E,...ge,onPlaced:()=>q(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:At(E.onKeyDown,ue=>{const be=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!be&&ue.key.length===1&&M(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let H=X().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const fe=ue.target,je=H.indexOf(fe);H=H.slice(je+1)}setTimeout(()=>L(H)),ue.preventDefault()}})})})})})})});lP.displayName=j$;var S$="SelectItemAlignedPosition",cP=x.forwardRef((e,s)=>{const{__scopeSelect:n,onPlaced:a,...r}=e,l=xl(bc,n),c=yl(bc,n),[u,m]=x.useState(null),[p,f]=x.useState(null),g=Ms(s,R=>f(R)),v=Sg(n),w=x.useRef(!1),N=x.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:E,focusSelectedItem:T}=c,C=x.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&p&&j&&S&&E){const R=l.trigger.getBoundingClientRect(),F=p.getBoundingClientRect(),z=l.valueNode.getBoundingClientRect(),J=E.getBoundingClientRect();if(l.dir!=="rtl"){const fe=J.left-F.left,je=z.left-fe,Oe=R.left-je,_e=R.width+Oe,Ie=Math.max(_e,F.width),ze=window.innerWidth-Mr,Ue=i2(je,[Mr,Math.max(Mr,ze-Ie)]);u.style.minWidth=_e+"px",u.style.left=Ue+"px"}else{const fe=F.right-J.right,je=window.innerWidth-z.right-fe,Oe=window.innerWidth-R.right-je,_e=R.width+Oe,Ie=Math.max(_e,F.width),ze=window.innerWidth-Mr,Ue=i2(je,[Mr,Math.max(Mr,ze-Ie)]);u.style.minWidth=_e+"px",u.style.right=Ue+"px"}const K=v(),X=window.innerHeight-Mr*2,ce=j.scrollHeight,q=window.getComputedStyle(p),ie=parseInt(q.borderTopWidth,10),L=parseInt(q.paddingTop,10),B=parseInt(q.borderBottomWidth,10),Y=parseInt(q.paddingBottom,10),de=ie+L+ce+Y+B,G=Math.min(S.offsetHeight*5,de),M=window.getComputedStyle(j),V=parseInt(M.paddingTop,10),W=parseInt(M.paddingBottom,10),$=R.top+R.height/2-Mr,me=X-$,ge=S.offsetHeight/2,ue=S.offsetTop+ge,be=ie+L+ue,Ee=de-be;if(be<=$){const fe=K.length>0&&S===K[K.length-1].ref.current;u.style.bottom="0px";const je=p.clientHeight-j.offsetTop-j.offsetHeight,Oe=Math.max(me,ge+(fe?W:0)+je+B),_e=be+Oe;u.style.height=_e+"px"}else{const fe=K.length>0&&S===K[0].ref.current;u.style.top="0px";const Oe=Math.max($,ie+j.offsetTop+(fe?V:0)+ge)+Ee;u.style.height=Oe+"px",j.scrollTop=be-$+j.offsetTop}u.style.margin=`${Mr}px 0`,u.style.minHeight=G+"px",u.style.maxHeight=X+"px",a==null||a(),requestAnimationFrame(()=>w.current=!0)}},[v,l.trigger,l.valueNode,u,p,j,S,E,l.dir,a]);Oa(()=>C(),[C]);const[P,D]=x.useState();Oa(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const A=x.useCallback(R=>{R&&N.current===!0&&(C(),T==null||T(),N.current=!1)},[C,T]);return t.jsx(T$,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:w,onScrollButtonChange:A,children:t.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:t.jsx(Ot.div,{...r,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});cP.displayName=S$;var C$="SelectPopperPosition",rb=x.forwardRef((e,s)=>{const{__scopeSelect:n,align:a="start",collisionPadding:r=Mr,...l}=e,c=Cg(n);return t.jsx(QI,{...c,...l,ref:s,align:a,collisionPadding:r,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rb.displayName=C$;var[T$,Ww]=pu(bc,{}),ib="SelectViewport",dP=x.forwardRef((e,s)=>{const{__scopeSelect:n,nonce:a,...r}=e,l=yl(ib,n),c=Ww(ib,n),u=Ms(s,l.onViewportChange),m=x.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(Ng.Slot,{scope:n,children:t.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:At(r.onScroll,p=>{const f=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&g){const w=Math.abs(m.current-f.scrollTop);if(w>0){const N=window.innerHeight-Mr*2,j=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),E=Math.max(j,S);if(E<N){const T=E+w,C=Math.min(N,T),P=T-C;g.style.height=C+"px",g.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}m.current=f.scrollTop})})})]})});dP.displayName=ib;var uP="SelectGroup",[k$,E$]=pu(uP),A$=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e,r=Zi();return t.jsx(k$,{scope:n,id:r,children:t.jsx(Ot.div,{role:"group","aria-labelledby":r,...a,ref:s})})});A$.displayName=uP;var hP="SelectLabel",D$=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e,r=E$(hP,n);return t.jsx(Ot.div,{id:r.id,...a,ref:s})});D$.displayName=hP;var Wf="SelectItem",[I$,mP]=pu(Wf),pP=x.forwardRef((e,s)=>{const{__scopeSelect:n,value:a,disabled:r=!1,textValue:l,...c}=e,u=xl(Wf,n),m=yl(Wf,n),p=u.value===a,[f,g]=x.useState(l??""),[v,w]=x.useState(!1),N=Ms(s,T=>{var C;return(C=m.itemRefCallback)==null?void 0:C.call(m,T,a,r)}),j=Zi(),S=x.useRef("touch"),E=()=>{r||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(I$,{scope:n,value:a,disabled:r,textId:j,isSelected:p,onItemTextChange:x.useCallback(T=>{g(C=>C||((T==null?void 0:T.textContent)??"").trim())},[]),children:t.jsx(Ng.ItemSlot,{scope:n,value:a,disabled:r,textValue:f,children:t.jsx(Ot.div,{role:"option","aria-labelledby":j,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...c,ref:N,onFocus:At(c.onFocus,()=>w(!0)),onBlur:At(c.onBlur,()=>w(!1)),onClick:At(c.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:At(c.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:At(c.onPointerDown,T=>{S.current=T.pointerType}),onPointerMove:At(c.onPointerMove,T=>{var C;S.current=T.pointerType,r?(C=m.onItemLeave)==null||C.call(m):S.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:At(c.onPointerLeave,T=>{var C;T.currentTarget===document.activeElement&&((C=m.onItemLeave)==null||C.call(m))}),onKeyDown:At(c.onKeyDown,T=>{var P;((P=m.searchRef)==null?void 0:P.current)!==""&&T.key===" "||(f$.includes(T.key)&&E(),T.key===" "&&T.preventDefault())})})})})});pP.displayName=Wf;var jh="SelectItemText",fP=x.forwardRef((e,s)=>{const{__scopeSelect:n,className:a,style:r,...l}=e,c=xl(jh,n),u=yl(jh,n),m=mP(jh,n),p=v$(jh,n),[f,g]=x.useState(null),v=Ms(s,E=>g(E),m.onItemTextChange,E=>{var T;return(T=u.itemTextRefCallback)==null?void 0:T.call(u,E,m.value,m.disabled)}),w=f==null?void 0:f.textContent,N=x.useMemo(()=>t.jsx("option",{value:m.value,disabled:m.disabled,children:w},m.value),[m.disabled,m.value,w]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=p;return Oa(()=>(j(N),()=>S(N)),[j,S,N]),t.jsxs(t.Fragment,{children:[t.jsx(Ot.span,{id:m.textId,...l,ref:v}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?au.createPortal(l.children,c.valueNode):null]})});fP.displayName=jh;var gP="SelectItemIndicator",xP=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e;return mP(gP,n).isSelected?t.jsx(Ot.span,{"aria-hidden":!0,...a,ref:s}):null});xP.displayName=gP;var ob="SelectScrollUpButton",yP=x.forwardRef((e,s)=>{const n=yl(ob,e.__scopeSelect),a=Ww(ob,e.__scopeSelect),[r,l]=x.useState(!1),c=Ms(s,a.onScrollButtonChange);return Oa(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=m.scrollTop>0;l(p)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),r?t.jsx(bP,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop-m.offsetHeight)}}):null});yP.displayName=ob;var lb="SelectScrollDownButton",vP=x.forwardRef((e,s)=>{const n=yl(lb,e.__scopeSelect),a=Ww(lb,e.__scopeSelect),[r,l]=x.useState(!1),c=Ms(s,a.onScrollButtonChange);return Oa(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=m.scrollHeight-m.clientHeight,f=Math.ceil(m.scrollTop)<p;l(f)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),r?t.jsx(bP,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop+m.offsetHeight)}}):null});vP.displayName=lb;var bP=x.forwardRef((e,s)=>{const{__scopeSelect:n,onAutoScroll:a,...r}=e,l=yl("SelectScrollButton",n),c=x.useRef(null),u=Sg(n),m=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>m(),[m]),Oa(()=>{var f;const p=u().find(g=>g.ref.current===document.activeElement);(f=p==null?void 0:p.ref.current)==null||f.scrollIntoView({block:"nearest"})},[u]),t.jsx(Ot.div,{"aria-hidden":!0,...r,ref:s,style:{flexShrink:0,...r.style},onPointerDown:At(r.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:At(r.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:At(r.onPointerLeave,()=>{m()})})}),P$="SelectSeparator",R$=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e;return t.jsx(Ot.div,{"aria-hidden":!0,...a,ref:s})});R$.displayName=P$;var cb="SelectArrow",O$=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e,r=Cg(n),l=xl(cb,n),c=yl(cb,n);return l.open&&c.position==="popper"?t.jsx(JI,{...r,...a,ref:s}):null});O$.displayName=cb;var M$="SelectBubbleInput",wP=x.forwardRef(({__scopeSelect:e,value:s,...n},a)=>{const r=x.useRef(null),l=Ms(a,r),c=XI(s);return x.useEffect(()=>{const u=r.current;if(!u)return;const m=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==s&&f){const g=new Event("change",{bubbles:!0});f.call(u,s),u.dispatchEvent(g)}},[c,s]),t.jsx(Ot.select,{...n,style:{...fE,...n.style},ref:l,defaultValue:s})});wP.displayName=M$;function jP(e){return e===""||e===void 0}function NP(e){const s=tr(e),n=x.useRef(""),a=x.useRef(0),r=x.useCallback(c=>{const u=n.current+c;s(u),(function m(p){n.current=p,window.clearTimeout(a.current),p!==""&&(a.current=window.setTimeout(()=>m(""),1e3))})(u)},[s]),l=x.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,r,l]}function SP(e,s,n){const r=s.length>1&&Array.from(s).every(p=>p===s[0])?s[0]:s,l=n?e.indexOf(n):-1;let c=_$(e,Math.max(l,0));r.length===1&&(c=c.filter(p=>p!==n));const m=c.find(p=>p.textValue.toLowerCase().startsWith(r.toLowerCase()));return m!==n?m:void 0}function _$(e,s){return e.map((n,a)=>e[(s+a)%e.length])}var L$=ZI,F$=tP,U$=aP,V$=nP,B$=rP,z$=iP,q$=dP,$$=pP,G$=fP,H$=xP,Y$=yP,W$=vP;function st({...e}){return t.jsx(L$,{"data-slot":"select",...e})}function at({...e}){return t.jsx(U$,{"data-slot":"select-value",...e})}function nt({className:e,size:s="default",children:n,...a}){return t.jsxs(F$,{"data-slot":"select-trigger","data-size":s,className:Xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[n,t.jsx(V$,{asChild:!0,children:t.jsx(_h,{className:"size-4 opacity-50"})})]})}function rt({className:e,children:s,position:n="popper",...a}){return t.jsx(B$,{children:t.jsxs(z$,{"data-slot":"select-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-[100001] max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[t.jsx(K$,{}),t.jsx(q$,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),t.jsx(Q$,{})]})})}function he({className:e,children:s,...n}){return t.jsxs($$,{"data-slot":"select-item",className:Xe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[t.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:t.jsx(H$,{children:t.jsx(an,{className:"size-4"})})}),t.jsx(G$,{children:s})]})}function K$({className:e,...s}){return t.jsx(Y$,{"data-slot":"select-scroll-up-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(Lb,{className:"size-4"})})}function Q$({className:e,...s}){return t.jsx(W$,{"data-slot":"select-scroll-down-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(_h,{className:"size-4"})})}function J$(){const{user:e}=$s(),{setPageTitle:s}=kr(),{toast:n}=da(),a=za(),{markEssentialStepCompleted:r}=Lw();x.useEffect(()=>{s("Properties","Manage your portfolio")},[s]),x.useEffect(()=>{(e==null?void 0:e.role)==="MANAGER"&&r("view-assigned-properties")},[e==null?void 0:e.role,r]);const[l,c]=x.useState(""),[u,m]=x.useState("all"),[p,f]=x.useState(!1),[g,v]=x.useState(!1),[w,N]=x.useState(!1),[j,S]=x.useState(null),[E,T]=x.useState(null),[C,P]=x.useState(null),[D,A]=x.useState({name:"",type:"hotel",mobileNumber:"",address:{street:"",city:"",state:"",country:"",zipCode:""},amenities:[],capacity:{totalRooms:"",totalBeds:"",maxGuests:""}}),{data:R,isLoading:F,error:z,refetch:J}=Lr(Ke.PROPERTIES,Nd.PROPERTIES,{staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),K=Ad(Nd.PROPERTIES,"POST",{invalidateQueries:[Ke.PROPERTIES,Ke.DASHBOARD,Ke.ANALYTICS],refetchQueries:[Ke.PROPERTIES],successMessage:"Property created successfully.",errorMessage:"Failed to create property.",onSuccess:()=>{f(!1),de(),a.invalidateQueries({queryKey:[Ke.PROPERTIES]})}}),X=Ad("/properties/:id","PATCH",{invalidateQueries:[Ke.PROPERTIES,Ke.DASHBOARD,Ke.ANALYTICS],refetchQueries:[Ke.PROPERTIES],successMessage:"Property updated successfully.",errorMessage:"Failed to update property.",onSuccess:()=>{v(!1),S(null),a.invalidateQueries({queryKey:[Ke.PROPERTIES]})}}),ce=Ad("/properties/:id","DELETE",{invalidateQueries:[Ke.PROPERTIES,Ke.DASHBOARD,Ke.ANALYTICS],refetchQueries:[Ke.PROPERTIES],successMessage:"Property deleted successfully.",onSuccess:()=>{N(!1),T(null),a.invalidateQueries({queryKey:[Ke.PROPERTIES]})}});x.useEffect(()=>{const G=M=>{const V=M.target;!V.closest(".property-menu-trigger")&&!V.closest(".property-menu-content")&&P(null)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const ie=((R==null?void 0:R.properties)||[]).filter(G=>{var W;if(!G||typeof G!="object")return!1;const M=((W=G.name)==null?void 0:W.toLowerCase().includes(l.toLowerCase()))??!1,V=u==="all"||G.type===u;return M&&V}),L=(G,M)=>{const V=String(M||""),W=V.length>0?V.charCodeAt(V.length-1)%4:0;switch(G==null?void 0:G.toLowerCase()){case"hostel":return["https://images.unsplash.com/photo-1555854743-e3c2f6a581a?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1596276020587-8044fe049813?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1520277739336-7bf67edfa6c4?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1623625434462-e5e42318ae49?auto=format&fit=crop&q=80&w=800"][W];case"apartment":return["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1493809842364-78817add7ffb?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1512918760383-ed54412dcc55?auto=format&fit=crop&q=80&w=800"][W];case"resort":return"https://images.unsplash.com/photo-1582719508461-905c673771fd?auto=format&fit=crop&q=80&w=800";case"hotel":default:return["https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1596436802099-f722e831847e?auto=format&fit=crop&q=80&w=800"][W]}},B=G=>{if(!G||Object.keys(G).length===0)return"No address provided";const{street:M,city:V,state:W}=G;return[M,V,W].filter(Boolean).join(", ")},Y=()=>{if(!D.name||!D.type){n({variant:"destructive",title:"Missing fields",description:"Name and Type are required."});return}const G={...D.capacity.totalRooms&&D.capacity.totalRooms!=="0"?{totalRooms:parseInt(D.capacity.totalRooms)}:{},...D.capacity.totalBeds&&D.capacity.totalBeds!=="0"?{totalBeds:parseInt(D.capacity.totalBeds)}:{},...D.capacity.maxGuests&&D.capacity.maxGuests!=="0"?{maxGuests:parseInt(D.capacity.maxGuests)}:{}},M={name:D.name.trim(),type:D.type,mobileNumber:D.mobileNumber.trim(),address:D.address,...D.amenities.length>0?{amenities:D.amenities}:{},...Object.keys(G).length>0?{capacity:G}:{}};K.mutate(M)},de=()=>{A({name:"",type:"hotel",mobileNumber:"",address:{street:"",city:"",state:"",country:"",zipCode:""},amenities:[],capacity:{totalRooms:"",totalBeds:"",maxGuests:""}})};return wr("properties",G=>{let M=!1;for(const V of G)(V.eventType==="property_created"||V.eventType==="property_deleted")&&(M=!0),V.eventType==="property_updated"&&a.setQueryData(Ke.PROPERTIES,W=>W!=null&&W.properties?{...W,properties:W.properties.map($=>{var me,ge;return $.id===V.entityId?{...$,name:((me=V.metadata)==null?void 0:me.name)??$.name,status:((ge=V.metadata)==null?void 0:ge.status)??$.status}:$})}:W);M&&a.invalidateQueries({queryKey:Ke.PROPERTIES})},Os("PROPERTIES_REALTIME_V1",!0)),F?t.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):z?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-red-600"})}),t.jsx("h3",{className:"text-lg font-medium text-red-900",children:"Failed to load properties"}),t.jsxs(se,{onClick:()=>J(),variant:"outline",className:"mt-4",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"})," Try Again"]})]}):t.jsxs("div",{className:"w-full max-w-full mx-auto pb-24",children:[t.jsxs("div",{className:"pt-safe pt-2 pb-4 md:pb-6 space-y-4 md:space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center px-1",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Properties"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Manage your portfolio"})]})}),t.jsxs("div",{className:"space-y-3 px-1",children:[(e==null?void 0:e.role)==="ADMIN"&&t.jsxs(se,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white h-12 md:h-14 rounded-2xl shadow-lg shadow-blue-500/20 active:scale-[0.98] transition-all duration-200 font-semibold text-base md:text-lg flex items-center justify-center gap-2",onClick:()=>f(!0),children:[t.jsx(K6,{className:"h-5 w-5 md:h-6 md:w-6"}),"Add New Property"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Rf,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx(ye,{id:"search-properties",value:l,onChange:G=>c(G.target.value),placeholder:"Filter properties by name...",className:"pl-12 bg-white border-gray-200 shadow-sm rounded-2xl h-12 text-base focus-visible:ring-blue-500/20"})]})]}),t.jsx("div",{className:"flex space-x-2 overflow-x-auto no-scrollbar py-2 px-1 -mx-4 sm:mx-0 px-4 sm:px-1",children:["all","hotel","hostel","apartment","resort"].map(G=>t.jsx("button",{onClick:()=>m(G),className:`flex-none px-6 py-2.5 rounded-full text-sm font-medium shadow-sm whitespace-nowrap transition-colors duration-200 ${u===G?"bg-gray-900 text-white dark:bg-white dark:text-gray-900 ring-2 ring-gray-900 dark:ring-white ring-offset-2":"bg-white text-gray-600 ring-1 ring-inset ring-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:ring-gray-700 dark:text-gray-300"}`,children:G==="all"?"All":G.charAt(0).toUpperCase()+G.slice(1)+"s"},G))})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 px-1 pb-safe",children:ie.length===0?t.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-3xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(VE,{className:"h-8 w-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No properties found"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your filters"})]}):ie.map(G=>{var M,V,W;return t.jsxs("article",{className:"bg-white dark:bg-gray-900 rounded-3xl overflow-hidden shadow-card border border-gray-100 dark:border-gray-800 group hover:shadow-soft active:scale-[0.99] transition-all duration-200 relative flex flex-col",children:[t.jsxs("div",{className:"relative h-40 sm:h-48 w-full overflow-hidden",children:[t.jsx("img",{src:L(G.type,G.id),alt:G.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md shadow-sm ${G.status==="active"?"bg-white/90 text-green-700":"bg-white/90 text-gray-600"}`,children:[t.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${G.status==="active"?"bg-green-500":"bg-gray-400"}`}),((M=G.status)==null?void 0:M.toUpperCase())||"INACTIVE"]})}),t.jsxs("div",{className:"absolute bottom-4 left-5 right-5 z-10",children:[t.jsx("span",{className:"text-xs font-bold text-white/90 uppercase tracking-wider mb-1 block shadow-black/50 drop-shadow-sm",children:G.type}),t.jsx("h2",{className:"text-2xl font-bold text-white leading-tight drop-shadow-md",children:G.name})]})]}),t.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex items-start gap-2.5 text-gray-500 dark:text-gray-400",children:[t.jsx(BE,{className:"h-5 w-5 mt-0.5 text-gray-400 flex-shrink-0"}),t.jsx("p",{className:"text-sm font-medium leading-relaxed line-clamp-2",children:B(G.addressJson)})]}),t.jsxs("div",{className:"relative property-menu-trigger",children:[t.jsx("button",{onClick:$=>{$.stopPropagation(),P(C===G.id?null:G.id)},className:"p-2 -mr-2 -mt-2 text-gray-400 hover:text-gray-700 rounded-full hover:bg-gray-100 transition-colors",children:t.jsx(J0,{className:"h-5 w-5"})}),C===G.id&&t.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white rounded-xl shadow-xl border border-gray-100 py-1 z-30 property-menu-content animate-in fade-in zoom-in-95 duration-100",children:[t.jsxs("button",{onClick:$=>{$.stopPropagation(),S(G),v(!0),P(null)},className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[t.jsx(mf,{className:"h-4 w-4 text-blue-500"})," Edit"]}),(e==null?void 0:e.role)==="ADMIN"&&t.jsxs("button",{onClick:$=>{$.stopPropagation(),T(G),N(!0),P(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[t.jsx(jn,{className:"h-4 w-4"})," Delete"]})]})]})]}),t.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 dark:border-gray-800 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-600 dark:text-gray-300",children:[G.type==="hostel"?t.jsx(E6,{className:"h-5 w-5 text-gray-400"}):t.jsx(ca,{className:"h-5 w-5 text-gray-400"}),t.jsxs("span",{children:[((V=G.capacityJson)==null?void 0:V.totalBeds)||((W=G.capacityJson)==null?void 0:W.totalRooms)||0," ",G.type==="hostel"?"Beds":"Rooms"]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-bold text-gray-700 dark:text-gray-200",children:[t.jsx(GE,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"}),t.jsx("span",{children:Math.max(4.5,4+G.name.length%10/10).toFixed(1)})]})]})]})]},G.id)})}),F&&t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),t.jsx(bs,{open:p,onOpenChange:f,children:t.jsxs(Es,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(ia,{children:[t.jsx(Bs,{children:"Add New Property"}),t.jsx(xa,{children:"Create a new property for your portfolio"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Property Name *"}),t.jsx(ye,{value:D.name,onChange:G=>A(M=>({...M,name:G.target.value})),placeholder:"Grand Hotel"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Type *"}),t.jsxs(st,{value:D.type,onValueChange:G=>A(M=>({...M,type:G})),children:[t.jsx(nt,{children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"hotel",children:"Hotel"}),t.jsx(he,{value:"hostel",children:"Hostel"}),t.jsx(he,{value:"resort",children:"Resort"}),t.jsx(he,{value:"apartment",children:"Apartment"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Mobile Number *"}),t.jsx(ye,{value:D.mobileNumber,onChange:G=>A(M=>({...M,mobileNumber:G.target.value})),placeholder:"+91..."})]}),t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsx(ee,{className:"font-semibold text-base",children:"Address"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(ye,{placeholder:"Street",value:D.address.street,onChange:G=>A(M=>({...M,address:{...M.address,street:G.target.value}}))}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(ye,{placeholder:"City",value:D.address.city,onChange:G=>A(M=>({...M,address:{...M.address,city:G.target.value}}))}),t.jsx(ye,{placeholder:"State",value:D.address.state,onChange:G=>A(M=>({...M,address:{...M.address,state:G.target.value}}))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(ye,{placeholder:"Country",value:D.address.country,onChange:G=>A(M=>({...M,address:{...M.address,country:G.target.value}}))}),t.jsx(ye,{placeholder:"ZIP",value:D.address.zipCode,onChange:G=>A(M=>({...M,address:{...M.address,zipCode:G.target.value}}))})]})]})]}),t.jsxs("div",{className:"space-y-2 pt-2",children:[t.jsx(ee,{children:"Capacity"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(ye,{type:"number",placeholder:"Rooms",value:D.capacity.totalRooms,onChange:G=>A(M=>({...M,capacity:{...M.capacity,totalRooms:G.target.value}}))}),t.jsx(ye,{type:"number",placeholder:"Beds",value:D.capacity.totalBeds,onChange:G=>A(M=>({...M,capacity:{...M.capacity,totalBeds:G.target.value}}))}),t.jsx(ye,{type:"number",placeholder:"Max Guests",value:D.capacity.maxGuests,onChange:G=>A(M=>({...M,capacity:{...M.capacity,maxGuests:G.target.value}}))})]})]})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),t.jsx(se,{onClick:Y,className:"bg-blue-600 hover:bg-blue-700",children:"Create Property"})]})]})}),t.jsx(bs,{open:g,onOpenChange:v,children:t.jsxs(Es,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(ia,{children:t.jsx(Bs,{children:"Edit Property"})}),j&&t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Name"}),t.jsx(ye,{value:j.name,onChange:G=>S(M=>({...M,name:G.target.value}))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Status"}),t.jsxs(st,{value:j.status,onValueChange:G=>S(M=>({...M,status:G})),children:[t.jsx(nt,{children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"active",children:"Active"}),t.jsx(he,{value:"inactive",children:"Inactive"}),t.jsx(he,{value:"archived",children:"Archived"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Mobile"}),t.jsx(ye,{value:j.mobileNumber||"",onChange:G=>S(M=>({...M,mobileNumber:G.target.value}))})]})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),t.jsx(se,{onClick:()=>X.mutate(j),className:"bg-blue-600",children:"Save Changes"})]})]})}),t.jsx(bs,{open:w,onOpenChange:N,children:t.jsxs(Es,{children:[t.jsxs(ia,{children:[t.jsx(Bs,{children:"Delete Property"}),t.jsxs(xa,{children:["Are you sure you want to delete ",t.jsx("strong",{children:E==null?void 0:E.name}),"? This cannot be undone."]})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),t.jsx(se,{variant:"destructive",onClick:()=>ce.mutate({id:E==null?void 0:E.id}),children:"Delete"})]})]})})]})}function Vr({className:e,...s}){return t.jsx("textarea",{"data-slot":"textarea",className:Xe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}function Kw({...e}){return t.jsx(VA,{"data-slot":"sheet",...e})}function CP({...e}){return t.jsx(BA,{"data-slot":"sheet-trigger",...e})}function X$({...e}){return t.jsx(Qb,{"data-slot":"sheet-close",...e})}function Z$({...e}){return t.jsx(zA,{"data-slot":"sheet-portal",...e})}function e9({className:e,...s}){return t.jsx(qA,{"data-slot":"sheet-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/20 backdrop-blur-sm",e),...s})}function Qw({className:e,children:s,side:n="right",...a}){return t.jsxs(Z$,{children:[t.jsx(e9,{}),t.jsxs($A,{"data-slot":"sheet-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-2xl transition ease-[cubic-bezier(0.32,0.72,0,1)] data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t shadow-[0_-8px_30px_rgba(0,0,0,0.12)] rounded-t-[26px] max-h-[96vh]",e),...a,children:[s,t.jsx(Qb,{asChild:!0,className:"absolute top-4 right-4 focus:outline-hidden disabled:pointer-events-none data-[state=open]:bg-secondary",children:t.jsx(Jb,{})})]})]})}function Jw({className:e,...s}){return t.jsx("div",{"data-slot":"sheet-header",className:Xe("flex flex-col gap-1.5 p-4",e),...s})}function t9({className:e,...s}){return t.jsx("div",{"data-slot":"sheet-footer",className:Xe("mt-auto flex flex-col gap-2 p-4",e),...s})}function Kf({className:e,...s}){return t.jsx(GA,{"data-slot":"sheet-title",className:Xe("text-foreground font-semibold",e),...s})}function Xw({className:e,...s}){return t.jsx(HA,{"data-slot":"sheet-description",className:Xe("text-muted-foreground text-sm",e),...s})}var h0={exports:{}},m0,y2;function s9(){if(y2)return m0;y2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return m0=e,m0}var p0,v2;function a9(){if(v2)return p0;v2=1;var e=s9();function s(){}function n(){}return n.resetWarningCache=s,p0=function(){function a(c,u,m,p,f,g){if(g!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}a.isRequired=a;function r(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:r,element:a,elementType:a,instanceOf:r,node:a,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:s};return l.PropTypes=l,l},p0}var b2;function n9(){return b2||(b2=1,h0.exports=a9()()),h0.exports}var r9=n9();const Us=em(r9),i9=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Qd(e,s,n){const a=o9(e),{webkitRelativePath:r}=e,l=typeof s=="string"?s:typeof r=="string"&&r.length>0?r:`./${e.name}`;return typeof a.path!="string"&&w2(a,"path",l),w2(a,"relativePath",l),a}function o9(e){const{name:s}=e;if(s&&s.lastIndexOf(".")!==-1&&!e.type){const a=s.split(".").pop().toLowerCase(),r=i9.get(a);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function w2(e,s,n){Object.defineProperty(e,s,{value:n,writable:!1,configurable:!1,enumerable:!0})}const l9=[".DS_Store","Thumbs.db"];function c9(e){return Nc(this,void 0,void 0,function*(){return Qf(e)&&d9(e.dataTransfer)?p9(e.dataTransfer,e.type):u9(e)?h9(e):Array.isArray(e)&&e.every(s=>"getFile"in s&&typeof s.getFile=="function")?m9(e):[]})}function d9(e){return Qf(e)}function u9(e){return Qf(e)&&Qf(e.target)}function Qf(e){return typeof e=="object"&&e!==null}function h9(e){return db(e.target.files).map(s=>Qd(s))}function m9(e){return Nc(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Qd(n))})}function p9(e,s){return Nc(this,void 0,void 0,function*(){if(e.items){const n=db(e.items).filter(r=>r.kind==="file");if(s!=="drop")return n;const a=yield Promise.all(n.map(f9));return j2(TP(a))}return j2(db(e.files).map(n=>Qd(n)))})}function j2(e){return e.filter(s=>l9.indexOf(s.name)===-1)}function db(e){if(e===null)return[];const s=[];for(let n=0;n<e.length;n++){const a=e[n];s.push(a)}return s}function f9(e){if(typeof e.webkitGetAsEntry!="function")return N2(e);const s=e.webkitGetAsEntry();return s&&s.isDirectory?kP(s):N2(e,s)}function TP(e){return e.reduce((s,n)=>[...s,...Array.isArray(n)?TP(n):[n]],[])}function N2(e,s){return Nc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const l=yield e.getAsFileSystemHandle();if(l===null)throw new Error(`${e} is not a File`);if(l!==void 0){const c=yield l.getFile();return c.handle=l,Qd(c)}}const a=e.getAsFile();if(!a)throw new Error(`${e} is not a File`);return Qd(a,(n=s==null?void 0:s.fullPath)!==null&&n!==void 0?n:void 0)})}function g9(e){return Nc(this,void 0,void 0,function*(){return e.isDirectory?kP(e):x9(e)})}function kP(e){const s=e.createReader();return new Promise((n,a)=>{const r=[];function l(){s.readEntries(c=>Nc(this,void 0,void 0,function*(){if(c.length){const u=Promise.all(c.map(g9));r.push(u),l()}else try{const u=yield Promise.all(r);n(u)}catch(u){a(u)}}),c=>{a(c)})}l()})}function x9(e){return Nc(this,void 0,void 0,function*(){return new Promise((s,n)=>{e.file(a=>{const r=Qd(a,e.fullPath);s(r)},a=>{n(a)})})})}var sf={},S2;function y9(){return S2||(S2=1,sf.__esModule=!0,sf.default=function(e,s){if(e&&s){var n=Array.isArray(s)?s:s.split(",");if(n.length===0)return!0;var a=e.name||"",r=(e.type||"").toLowerCase(),l=r.replace(/\/.*$/,"");return n.some(function(c){var u=c.trim().toLowerCase();return u.charAt(0)==="."?a.toLowerCase().endsWith(u):u.endsWith("/*")?l===u.replace(/\/.*$/,""):r===u})}return!0}),sf}var v9=y9();const f0=em(v9);function C2(e){return j9(e)||w9(e)||AP(e)||b9()}function b9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j9(e){if(Array.isArray(e))return ub(e)}function T2(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function k2(e){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?T2(Object(n),!0).forEach(function(a){EP(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function EP(e,s,n){return s in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}function Yh(e,s){return C9(e)||S9(e,s)||AP(e,s)||N9()}function N9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AP(e,s){if(e){if(typeof e=="string")return ub(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ub(e,s)}}function ub(e,s){(s==null||s>e.length)&&(s=e.length);for(var n=0,a=new Array(s);n<s;n++)a[n]=e[n];return a}function S9(e,s){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],r=!0,l=!1,c,u;try{for(n=n.call(e);!(r=(c=n.next()).done)&&(a.push(c.value),!(s&&a.length===s));r=!0);}catch(m){l=!0,u=m}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw u}}return a}}function C9(e){if(Array.isArray(e))return e}var T9=typeof f0=="function"?f0:f0.default,k9="file-invalid-type",E9="file-too-large",A9="file-too-small",D9="too-many-files",I9=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=s.split(","),a=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:k9,message:"File type must be ".concat(a)}},E2=function(s){return{code:E9,message:"File is larger than ".concat(s," ").concat(s===1?"byte":"bytes")}},A2=function(s){return{code:A9,message:"File is smaller than ".concat(s," ").concat(s===1?"byte":"bytes")}},P9={code:D9,message:"Too many files"};function DP(e,s){var n=e.type==="application/x-moz-file"||T9(e,s);return[n,n?null:I9(s)]}function IP(e,s,n){if(Ql(e.size))if(Ql(s)&&Ql(n)){if(e.size>n)return[!1,E2(n)];if(e.size<s)return[!1,A2(s)]}else{if(Ql(s)&&e.size<s)return[!1,A2(s)];if(Ql(n)&&e.size>n)return[!1,E2(n)]}return[!0,null]}function Ql(e){return e!=null}function R9(e){var s=e.files,n=e.accept,a=e.minSize,r=e.maxSize,l=e.multiple,c=e.maxFiles,u=e.validator;return!l&&s.length>1||l&&c>=1&&s.length>c?!1:s.every(function(m){var p=DP(m,n),f=Yh(p,1),g=f[0],v=IP(m,a,r),w=Yh(v,1),N=w[0],j=u?u(m):null;return g&&N&&!j})}function Jf(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function af(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(s){return s==="Files"||s==="application/x-moz-file"}):!!e.target&&!!e.target.files}function D2(e){e.preventDefault()}function O9(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function M9(e){return e.indexOf("Edge/")!==-1}function _9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return O9(e)||M9(e)}function Xr(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return function(a){for(var r=arguments.length,l=new Array(r>1?r-1:0),c=1;c<r;c++)l[c-1]=arguments[c];return s.some(function(u){return!Jf(a)&&u&&u.apply(void 0,[a].concat(l)),Jf(a)})}}function L9(){return"showOpenFilePicker"in window}function F9(e){if(Ql(e)){var s=Object.entries(e).filter(function(n){var a=Yh(n,2),r=a[0],l=a[1],c=!0;return PP(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(l)||!l.every(RP))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,a){var r=Yh(a,2),l=r[0],c=r[1];return k2(k2({},n),{},EP({},l,c))},{});return[{description:"Files",accept:s}]}return e}function U9(e){if(Ql(e))return Object.entries(e).reduce(function(s,n){var a=Yh(n,2),r=a[0],l=a[1];return[].concat(C2(s),[r],C2(l))},[]).filter(function(s){return PP(s)||RP(s)}).join(",")}function V9(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function B9(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function PP(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function RP(e){return/^.*\.[\w]+$/.test(e)}var z9=["children"],q9=["open"],$9=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],G9=["refKey","onChange","onClick"];function H9(e){return K9(e)||W9(e)||OP(e)||Y9()}function Y9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K9(e){if(Array.isArray(e))return hb(e)}function g0(e,s){return X9(e)||J9(e,s)||OP(e,s)||Q9()}function Q9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OP(e,s){if(e){if(typeof e=="string")return hb(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(e,s)}}function hb(e,s){(s==null||s>e.length)&&(s=e.length);for(var n=0,a=new Array(s);n<s;n++)a[n]=e[n];return a}function J9(e,s){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],r=!0,l=!1,c,u;try{for(n=n.call(e);!(r=(c=n.next()).done)&&(a.push(c.value),!(s&&a.length===s));r=!0);}catch(m){l=!0,u=m}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw u}}return a}}function X9(e){if(Array.isArray(e))return e}function I2(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function aa(e){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?I2(Object(n),!0).forEach(function(a){mb(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mb(e,s,n){return s in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}function Xf(e,s){if(e==null)return{};var n=Z9(e,s),a,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Z9(e,s){if(e==null)return{};var n={},a=Object.keys(e),r,l;for(l=0;l<a.length;l++)r=a[l],!(s.indexOf(r)>=0)&&(n[r]=e[r]);return n}var Zw=x.forwardRef(function(e,s){var n=e.children,a=Xf(e,z9),r=_P(a),l=r.open,c=Xf(r,q9);return x.useImperativeHandle(s,function(){return{open:l}},[l]),qe.createElement(x.Fragment,null,n(aa(aa({},c),{},{open:l})))});Zw.displayName="Dropzone";var MP={disabled:!1,getFilesFromEvent:c9,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Zw.defaultProps=MP;Zw.propTypes={children:Us.func,accept:Us.objectOf(Us.arrayOf(Us.string)),multiple:Us.bool,preventDropOnDocument:Us.bool,noClick:Us.bool,noKeyboard:Us.bool,noDrag:Us.bool,noDragEventsBubbling:Us.bool,minSize:Us.number,maxSize:Us.number,maxFiles:Us.number,disabled:Us.bool,getFilesFromEvent:Us.func,onFileDialogCancel:Us.func,onFileDialogOpen:Us.func,useFsAccessApi:Us.bool,autoFocus:Us.bool,onDragEnter:Us.func,onDragLeave:Us.func,onDragOver:Us.func,onDrop:Us.func,onDropAccepted:Us.func,onDropRejected:Us.func,onError:Us.func,validator:Us.func};var pb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function _P(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=aa(aa({},MP),e),n=s.accept,a=s.disabled,r=s.getFilesFromEvent,l=s.maxSize,c=s.minSize,u=s.multiple,m=s.maxFiles,p=s.onDragEnter,f=s.onDragLeave,g=s.onDragOver,v=s.onDrop,w=s.onDropAccepted,N=s.onDropRejected,j=s.onFileDialogCancel,S=s.onFileDialogOpen,E=s.useFsAccessApi,T=s.autoFocus,C=s.preventDropOnDocument,P=s.noClick,D=s.noKeyboard,A=s.noDrag,R=s.noDragEventsBubbling,F=s.onError,z=s.validator,J=x.useMemo(function(){return U9(n)},[n]),K=x.useMemo(function(){return F9(n)},[n]),X=x.useMemo(function(){return typeof S=="function"?S:P2},[S]),ce=x.useMemo(function(){return typeof j=="function"?j:P2},[j]),q=x.useRef(null),ie=x.useRef(null),L=x.useReducer(eG,pb),B=g0(L,2),Y=B[0],de=B[1],G=Y.isFocused,M=Y.isFileDialogActive,V=x.useRef(typeof window<"u"&&window.isSecureContext&&E&&L9()),W=function(){!V.current&&M&&setTimeout(function(){if(ie.current){var lt=ie.current.files;lt.length||(de({type:"closeDialog"}),ce())}},300)};x.useEffect(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[ie,M,ce,V]);var $=x.useRef([]),me=function(lt){q.current&&q.current.contains(lt.target)||(lt.preventDefault(),$.current=[])};x.useEffect(function(){return C&&(document.addEventListener("dragover",D2,!1),document.addEventListener("drop",me,!1)),function(){C&&(document.removeEventListener("dragover",D2),document.removeEventListener("drop",me))}},[q,C]),x.useEffect(function(){return!a&&T&&q.current&&q.current.focus(),function(){}},[q,T,a]);var ge=x.useCallback(function(Fe){F?F(Fe):console.error(Fe)},[F]),ue=x.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),Tt(Fe),$.current=[].concat(H9($.current),[Fe.target]),af(Fe)&&Promise.resolve(r(Fe)).then(function(lt){if(!(Jf(Fe)&&!R)){var Zt=lt.length,as=Zt>0&&R9({files:lt,accept:J,minSize:c,maxSize:l,multiple:u,maxFiles:m,validator:z}),es=Zt>0&&!as;de({isDragAccept:as,isDragReject:es,isDragActive:!0,type:"setDraggedFiles"}),p&&p(Fe)}}).catch(function(lt){return ge(lt)})},[r,p,ge,R,J,c,l,u,m,z]),be=x.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),Tt(Fe);var lt=af(Fe);if(lt&&Fe.dataTransfer)try{Fe.dataTransfer.dropEffect="copy"}catch{}return lt&&g&&g(Fe),!1},[g,R]),Ee=x.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),Tt(Fe);var lt=$.current.filter(function(as){return q.current&&q.current.contains(as)}),Zt=lt.indexOf(Fe.target);Zt!==-1&&lt.splice(Zt,1),$.current=lt,!(lt.length>0)&&(de({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),af(Fe)&&f&&f(Fe))},[q,f,R]),H=x.useCallback(function(Fe,lt){var Zt=[],as=[];Fe.forEach(function(es){var ae=DP(es,J),Ye=g0(ae,2),vt=Ye[0],St=Ye[1],cs=IP(es,c,l),ys=g0(cs,2),Ks=ys[0],bt=ys[1],rn=z?z(es):null;if(vt&&Ks&&!rn)Zt.push(es);else{var La=[St,bt];rn&&(La=La.concat(rn)),as.push({file:es,errors:La.filter(function(on){return on})})}}),(!u&&Zt.length>1||u&&m>=1&&Zt.length>m)&&(Zt.forEach(function(es){as.push({file:es,errors:[P9]})}),Zt.splice(0)),de({acceptedFiles:Zt,fileRejections:as,isDragReject:as.length>0,type:"setFiles"}),v&&v(Zt,as,lt),as.length>0&&N&&N(as,lt),Zt.length>0&&w&&w(Zt,lt)},[de,u,J,c,l,m,v,w,N,z]),fe=x.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),Tt(Fe),$.current=[],af(Fe)&&Promise.resolve(r(Fe)).then(function(lt){Jf(Fe)&&!R||H(lt,Fe)}).catch(function(lt){return ge(lt)}),de({type:"reset"})},[r,H,ge,R]),je=x.useCallback(function(){if(V.current){de({type:"openDialog"}),X();var Fe={multiple:u,types:K};window.showOpenFilePicker(Fe).then(function(lt){return r(lt)}).then(function(lt){H(lt,null),de({type:"closeDialog"})}).catch(function(lt){V9(lt)?(ce(lt),de({type:"closeDialog"})):B9(lt)?(V.current=!1,ie.current?(ie.current.value=null,ie.current.click()):ge(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ge(lt)});return}ie.current&&(de({type:"openDialog"}),X(),ie.current.value=null,ie.current.click())},[de,X,ce,E,H,ge,K,u]),Oe=x.useCallback(function(Fe){!q.current||!q.current.isEqualNode(Fe.target)||(Fe.key===" "||Fe.key==="Enter"||Fe.keyCode===32||Fe.keyCode===13)&&(Fe.preventDefault(),je())},[q,je]),_e=x.useCallback(function(){de({type:"focus"})},[]),Ie=x.useCallback(function(){de({type:"blur"})},[]),ze=x.useCallback(function(){P||(_9()?setTimeout(je,0):je())},[P,je]),Ue=function(lt){return a?null:lt},Ge=function(lt){return D?null:Ue(lt)},it=function(lt){return A?null:Ue(lt)},Tt=function(lt){R&&lt.stopPropagation()},yt=x.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},lt=Fe.refKey,Zt=lt===void 0?"ref":lt,as=Fe.role,es=Fe.onKeyDown,ae=Fe.onFocus,Ye=Fe.onBlur,vt=Fe.onClick,St=Fe.onDragEnter,cs=Fe.onDragOver,ys=Fe.onDragLeave,Ks=Fe.onDrop,bt=Xf(Fe,$9);return aa(aa(mb({onKeyDown:Ge(Xr(es,Oe)),onFocus:Ge(Xr(ae,_e)),onBlur:Ge(Xr(Ye,Ie)),onClick:Ue(Xr(vt,ze)),onDragEnter:it(Xr(St,ue)),onDragOver:it(Xr(cs,be)),onDragLeave:it(Xr(ys,Ee)),onDrop:it(Xr(Ks,fe)),role:typeof as=="string"&&as!==""?as:"presentation"},Zt,q),!a&&!D?{tabIndex:0}:{}),bt)}},[q,Oe,_e,Ie,ze,ue,be,Ee,fe,D,A,a]),xs=x.useCallback(function(Fe){Fe.stopPropagation()},[]),va=x.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},lt=Fe.refKey,Zt=lt===void 0?"ref":lt,as=Fe.onChange,es=Fe.onClick,ae=Xf(Fe,G9),Ye=mb({accept:J,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ue(Xr(as,fe)),onClick:Ue(Xr(es,xs)),tabIndex:-1},Zt,ie);return aa(aa({},Ye),ae)}},[ie,n,u,fe,a]);return aa(aa({},Y),{},{isFocused:G&&!a,getRootProps:yt,getInputProps:va,rootRef:q,inputRef:ie,open:Ue(je)})}function eG(e,s){switch(s.type){case"focus":return aa(aa({},e),{},{isFocused:!0});case"blur":return aa(aa({},e),{},{isFocused:!1});case"openDialog":return aa(aa({},pb),{},{isFileDialogActive:!0});case"closeDialog":return aa(aa({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return aa(aa({},e),{},{isDragActive:s.isDragActive,isDragAccept:s.isDragAccept,isDragReject:s.isDragReject});case"setFiles":return aa(aa({},e),{},{acceptedFiles:s.acceptedFiles,fileRejections:s.fileRejections,isDragReject:s.isDragReject});case"reset":return aa({},pb);default:return e}}function P2(){}const fd=new Map,gd=new Map,tG=e=>{fd.delete(e),gd.delete(e)};function sG({taskId:e,existingImages:s=[],onImageUpload:n,onImageDelete:a,onImageClick:r,maxImages:l=5,maxSize:c=5,disabled:u=!1,className:m="",compact:p=!1}){const[f,g]=x.useState([]),[v,w]=x.useState(null),[N,j]=x.useState(!1),[S,E]=x.useState(!1),{toast:T}=da(),C=x.useRef(null);x.useEffect(()=>{const q=ie=>{ie.key==="Escape"&&N&&j(!1)};return N&&(document.addEventListener("keydown",q),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",q),document.body.style.overflow="unset"}},[N]);const P=l-s.length-f.length,D=P>0&&!u;x.useEffect(()=>()=>{C.current&&C.current.abort()},[]);const A=x.useCallback(q=>{if(console.log("onDrop called with files:",q.length,"canUpload:",D,"availableSlots:",P,"existingImages:",s.length),!D||q.length===0){console.log("Upload not allowed - canUpload:",D,"files:",q.length),T({variant:"destructive",title:"Upload not allowed",description:`Maximum ${l} images allowed. ${P} slots remaining.`});return}const ie=q.slice(0,P);ie.length<q.length&&T({variant:"destructive",title:"Some files skipped",description:`Only ${ie.length} files uploaded. Maximum ${l} images allowed.`});const L=ie.filter(Y=>{const de=Y.size/1048576;return de>c?(T({variant:"destructive",title:"File too large",description:`${Y.name} is ${de.toFixed(1)}MB. Maximum size is ${c}MB.`}),!1):!0});if(L.length===0)return;const B=L.map(Y=>({id:Math.random().toString(36).substr(2,9),file:Y,progress:0}));g(Y=>[...Y,...B]),R(L,B)},[D,P,l,c,n,T]),R=async(q,ie)=>{console.log("handleUpload called with files:",q.length,"uploadingFiles:",ie.length);try{g(B=>B.map(Y=>ie.some(G=>G.id===Y.id)?{...Y,progress:5}:Y));const L=[];ie.forEach(B=>{const Y=setInterval(()=>{g(de=>de.map(G=>{if(G.id===B.id&&G.progress<85){const M=Math.random()*8+2;return{...G,progress:Math.min(G.progress+M,85)}}return G}))},150+Math.random()*100);L.push(Y)}),g(B=>B.map(Y=>ie.some(G=>G.id===Y.id)?{...Y,progress:15}:Y)),await n(e,q),L.forEach(B=>clearInterval(B)),g(B=>B.map(Y=>ie.some(G=>G.id===Y.id)?{...Y,progress:100}:Y)),setTimeout(()=>{g(B=>B.filter(Y=>!ie.some(de=>de.id===Y.id)))},2e3),T({title:"Images uploaded successfully",description:`${q.length} image(s) uploaded to task.`})}catch(L){console.error("Upload failed:",L),document.querySelectorAll("[data-progress-interval]").forEach(Y=>clearInterval(Y)),g(Y=>Y.map(de=>ie.some(M=>M.id===de.id)?{...de,error:L.message||"Upload failed",progress:0}:de)),T({variant:"destructive",title:"Upload failed",description:L.message||"Failed to upload images. Please try again."})}},F=async q=>{try{await a(e,q),tG(q),T({title:"Image deleted",description:"Image has been removed from task."})}catch(ie){console.error("Delete failed:",ie),T({variant:"destructive",title:"Delete failed",description:ie.message||"Failed to delete image. Please try again."})}},z=(q,ie)=>{console.log("Image clicked:",q,ie),r?r(q,ie):(w({id:q,url:ie}),j(!0),E(!0))},{getRootProps:J,getInputProps:K,isDragActive:X,open:ce}=_P({onDrop:A,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:P,disabled:!D,multiple:!0,noClick:!0,noKeyboard:!1});return p?t.jsxs("div",{className:`space-y-2 ${m}`,children:[D&&t.jsxs("div",{...J(),className:`
              border-2 border-dashed rounded-lg p-3 text-center cursor-pointer transition-all duration-200
              ${X?"border-blue-400 bg-blue-50 scale-105":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
              ${u?"opacity-50 cursor-not-allowed":""}
            `,onClick:q=>{console.log("Upload area clicked, canUpload:",D,"disabled:",u),!u&&D&&(console.log("Opening file picker..."),ce())},children:[t.jsx("input",{...K()}),t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(ul,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm text-gray-600",children:X?"Drop images here":"Click to add images"})]}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[P," of ",l," slots available"]})]}),(s.length>0||f.length>0)&&t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.map(q=>t.jsx(R2,{imageId:q.id,imageName:q.originalName,onImageClick:z,onDelete:()=>F(q.id),isExisting:!0},q.id)),f.map(q=>t.jsx(O2,{file:q,onRemove:()=>{g(ie=>ie.filter(L=>L.id!==q.id))}},q.id))]}),N&&v&&t.jsx(bs,{open:N,onOpenChange:j,children:t.jsx(Es,{className:"max-w-6xl max-h-[95vh] p-0 bg-black/95",children:t.jsxs("div",{className:"relative flex items-center justify-center min-h-[80vh]",children:[t.jsx(se,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 z-20 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",onClick:()=>j(!1),children:t.jsx(Ws,{className:"h-5 w-5"})}),t.jsxs("div",{className:"absolute top-4 left-4 z-20 bg-black/50 text-white px-3 py-2 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium",children:"Task Reference Image"}),t.jsxs("p",{className:"text-xs opacity-75",children:["ID: ",v.id]})]}),t.jsx("div",{className:"relative max-w-full max-h-full",children:t.jsx("img",{src:v.url,alt:"Task reference",className:"max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl",onError:q=>{const ie=q.target;ie.src="/placeholder-image.png"},onLoad:()=>{console.log("Image loaded successfully")}})}),t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-lg text-sm",children:"Click outside or press ESC to close"})]})})})]}):t.jsxs("div",{className:`space-y-4 ${m}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(X0,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Reference Images"})]}),t.jsxs(Lt,{variant:"outline",className:"text-xs",children:[s.length+f.length,"/",l]})]}),D&&t.jsxs("div",{...J(),className:`
            border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all duration-200
            ${X?"border-blue-400 bg-blue-50 scale-105":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
            ${u?"opacity-50 cursor-not-allowed":""}
          `,onClick:q=>{console.log("Full upload area clicked, canUpload:",D,"disabled:",u),!u&&D&&(console.log("Opening file picker from full interface..."),ce())},children:[t.jsx("input",{...K()}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(ul,{className:"h-8 w-8 text-gray-400"}),t.jsx("div",{className:"text-sm text-gray-600",children:X?"Drop images here":"Drag & drop images or click to select"}),t.jsxs("div",{className:"text-xs text-gray-500",children:[c,"MB max  ",P," of ",l," slots available"]})]})]}),(s.length>0||f.length>0)&&t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.map(q=>t.jsx(R2,{imageId:q.id,imageName:q.originalName,onImageClick:z,onDelete:()=>F(q.id),isExisting:!0},q.id)),f.map(q=>t.jsx(O2,{file:q,onRemove:()=>{g(ie=>ie.filter(L=>L.id!==q.id))}},q.id))]}),N&&v&&t.jsx(bs,{open:N,onOpenChange:j,children:t.jsx(Es,{className:"max-w-7xl max-h-[98vh] p-0 bg-black/98 border-0",children:t.jsxs("div",{className:"relative flex items-center justify-center min-h-[90vh] w-full",children:[t.jsx(se,{variant:"ghost",size:"sm",className:"absolute top-6 right-6 z-30 bg-black/60 text-white hover:bg-black/80 rounded-full w-12 h-12 transition-all duration-200 hover:scale-110",onClick:()=>j(!1),"aria-label":"Close image preview",children:t.jsx(Ws,{className:"h-6 w-6"})}),t.jsxs("div",{className:"absolute top-6 left-6 z-30 bg-black/60 text-white px-4 py-3 rounded-xl backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(X0,{className:"h-4 w-4 text-blue-400"}),t.jsx("p",{className:"text-sm font-semibold",children:"Task Reference Image"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("p",{className:"text-xs text-gray-300",children:["Image ID: ",t.jsx("span",{className:"text-white font-mono",children:v.id})]}),t.jsxs("p",{className:"text-xs text-gray-300",children:["Task ID: ",t.jsx("span",{className:"text-white font-mono",children:e})]})]})]}),t.jsx("div",{className:"relative max-w-full max-h-full flex items-center justify-center p-8",children:t.jsxs("div",{className:"relative group",children:[S&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-xl z-10",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Tn,{className:"h-8 w-8 animate-spin text-white mx-auto mb-2"}),t.jsx("p",{className:"text-white text-sm",children:"Loading image..."})]})}),t.jsx("img",{src:v.url,alt:"Task reference",className:"max-w-full max-h-[85vh] object-contain rounded-xl shadow-2xl transition-all duration-300 group-hover:shadow-3xl cursor-pointer",onError:q=>{const ie=q.target;ie.src="/placeholder-image.png",E(!1)},onLoad:()=>{console.log("Image loaded successfully in preview"),E(!1)},onClick:()=>{const q=document.createElement("a");q.href=v.url,q.download=`task-${e}-image-${v.id}.jpg`,document.body.appendChild(q),q.click(),document.body.removeChild(q)}}),!S&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("div",{className:"bg-black/60 text-white px-3 py-2 rounded-lg text-sm",children:"Click to download"})})]})}),t.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-black/60 text-white px-6 py-3 rounded-xl backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("kbd",{className:"px-2 py-1 bg-white/20 rounded text-xs",children:"ESC"}),t.jsx("span",{children:"Close"})]}),t.jsx("div",{className:"w-px h-4 bg-white/30"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("kbd",{className:"px-2 py-1 bg-white/20 rounded text-xs",children:"Click"}),t.jsx("span",{children:"Outside to close"})]})]})})]})})})]})}function R2({imageId:e,imageName:s,onImageClick:n,onDelete:a,isExisting:r}){const[l,c]=x.useState("/placeholder-image.png"),[u,m]=x.useState(!0),[p,f]=x.useState(!1),[g,v]=x.useState(!1),[w,N]=x.useState(null),j=x.useCallback(async()=>{try{if(console.log("ImageThumbnail: Starting load for imageId:",e),m(!0),f(!1),fd.has(e)){const P=fd.get(e);console.log("ImageThumbnail: Using cached image URL for imageId:",e),c(P),v(!0),m(!1);return}if(gd.has(e)){console.log("ImageThumbnail: Image already being loaded, waiting for existing promise...");const P=await gd.get(e);console.log("ImageThumbnail: Got URL from existing promise:",P),c(P),v(!0),m(!1);return}const{getTaskImageUrl:E}=await mi(async()=>{const{getTaskImageUrl:P}=await import("./task-images-BiFm7nb7.js");return{getTaskImageUrl:P}},[]),T=E(e);gd.set(e,T),console.log("ImageThumbnail: Calling getTaskImageUrl for imageId:",e);const C=await T;console.log("ImageThumbnail: Successfully loaded image URL for imageId:",e,"URL length:",C.length),fd.set(e,C),console.log("ImageThumbnail: Cached image for imageId:",e,"cache size:",fd.size),gd.delete(e),w&&w.startsWith("blob:")&&URL.revokeObjectURL(w),console.log("ImageThumbnail: Setting image URL and loaded state for imageId:",e),c(C),v(!0),console.log("ImageThumbnail: Image state updated for imageId:",e)}catch(E){console.error("ImageThumbnail: Failed to load image:",E),f(!0),gd.delete(e)}finally{console.log("ImageThumbnail: Finally block reached for imageId:",e,"setting isLoading to false"),m(!1),console.log("ImageThumbnail: isLoading set to false for imageId:",e)}},[e,w]);x.useEffect(()=>{console.log("ImageThumbnail useEffect: isExisting:",r,"loaded:",g,"isLoading:",u,"imageId:",e,"cached:",fd.has(e)),r&&!g?(console.log("ImageThumbnail: Triggering loadImageUrl for imageId:",e),j()):r||(console.log("ImageThumbnail: Not existing image, setting loading to false"),m(!1))},[r,g,e]),x.useEffect(()=>()=>{w&&w.startsWith("blob:")&&URL.revokeObjectURL(w)},[w]);const S=()=>{console.log("Image clicked:",e,l,"hasError:",p,"loaded:",g),!p&&l&&l!=="/placeholder-image.png"&&g?(console.log("Calling onImageClick with:",e,l),n(e,l)):console.log("Image click ignored - hasError:",p,"url:",l,"loaded:",g)};return t.jsxs("div",{className:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[u?t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Tn,{className:"h-6 w-6 animate-spin text-gray-400"})}):p?t.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-red-50",children:[t.jsx(is,{className:"h-6 w-6 text-red-400 mb-1"}),t.jsx("span",{className:"text-xs text-red-600",children:"Error"})]}):t.jsxs(t.Fragment,{children:[t.jsx("img",{src:l,alt:s,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105 cursor-pointer",onError:()=>f(!0),onClick:S}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:S,children:t.jsx(un,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200"})})]}),t.jsx(se,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200",onClick:E=>{E.stopPropagation(),a()},children:t.jsx(jn,{className:"h-3 w-3"})})]})}function O2({file:e,onRemove:s}){const[n,a]=x.useState(""),[r,l]=x.useState(!1),[c,u]=x.useState(""),[m,p]=x.useState("");x.useEffect(()=>{if(e.file){const g=URL.createObjectURL(e.file);return a(g),()=>{URL.revokeObjectURL(g)}}},[e.file]),x.useEffect(()=>{if(e.progress>0&&e.progress<100){const g=e.file.size/1024,v=g*e.progress/100,w=v/2;u(`${w.toFixed(1)} KB/s`);const j=(g-v)/w;p(`${j.toFixed(0)}s`)}},[e.progress,e.file.size]),x.useEffect(()=>{e.progress===100&&!e.error&&(l(!0),setTimeout(()=>l(!1),2e3))},[e.progress,e.error]);const f=g=>{if(g===0)return"0 Bytes";const v=1024,w=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(g)/Math.log(v));return parseFloat((g/Math.pow(v,N)).toFixed(2))+" "+w[N]};return t.jsxs("div",{className:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[n?t.jsx("img",{src:n,alt:e.file.name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:t.jsx(Tn,{className:"h-6 w-6 animate-spin text-gray-400"})}),t.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center",children:[t.jsx("div",{className:"w-3/4 mb-3",children:t.jsx("div",{className:"bg-white/20 rounded-full h-2 overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-300 ease-out relative",style:{width:`${e.progress}%`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})})}),t.jsxs("div",{className:"text-center text-white",children:[e.progress===100&&r?t.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-2 animate-bounce",children:t.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):t.jsx(Tn,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),t.jsxs("div",{className:"text-sm font-semibold mb-1",children:[e.progress,"%"]}),t.jsx("div",{className:"text-xs text-white/80 mb-1",children:e.file.name}),t.jsx("div",{className:"text-xs text-white/60",children:f(e.file.size)}),e.progress>0&&e.progress<100&&t.jsxs("div",{className:"text-xs text-white/70 mt-2",children:[t.jsx("div",{children:c}),t.jsxs("div",{children:["ETA: ",m]})]}),t.jsx("div",{className:"text-xs text-white/80 mt-2",children:e.progress===100?"Upload complete!":"Uploading..."})]})]}),e.error&&t.jsx("div",{className:"absolute inset-0 bg-red-500/90 backdrop-blur-sm flex flex-col items-center justify-center text-white",children:t.jsxs("div",{className:"text-center",children:[t.jsx(is,{className:"h-8 w-8 mx-auto mb-2 text-red-200"}),t.jsx("div",{className:"text-sm font-medium mb-2",children:"Upload Failed"}),t.jsx("div",{className:"text-xs text-center px-3 mb-3",children:e.error}),t.jsx(se,{variant:"outline",size:"sm",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 text-xs",onClick:g=>{g.stopPropagation(),e.file,console.log("Retry upload for file:",e.file.name)},children:"Retry"})]})}),t.jsx(se,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-7 w-7 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-all duration-200 hover:scale-110",onClick:g=>{g.stopPropagation(),s()},children:t.jsx(Ws,{className:"h-4 w-4"})})]})}const aG="Asia/Kolkata",ph=e=>{if(!e||typeof e!="string")return console.error("formatDateForAPI received invalid input:",e,"Type:",typeof e),new Date().toISOString();if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return console.error("formatDateForAPI received invalid date format:",e),new Date().toISOString();try{const[s,n,a]=e.split("-").map(Number);if(isNaN(s)||isNaN(n)||isNaN(a))return console.error("formatDateForAPI failed to parse date components:",{year:s,month:n,day:a}),new Date().toISOString();const r=new Date(Date.UTC(s,n-1,a,0,0,0,0));return isNaN(r.getTime())?(console.error("formatDateForAPI created invalid date:",r),new Date().toISOString()):r.toISOString()}catch(s){return console.error("formatDateForAPI error:",s,"Input:",e),new Date().toISOString()}},M2=e=>e?new Date(e).toISOString():new Date().toISOString(),sc=()=>{const e=new Date,s=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${s}-${n}-${a}`},x0=e=>{if(!e||typeof e!="string")return console.error("formatDateForInput received invalid input:",e,"Type:",typeof e),new Date().toISOString().split("T")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;try{const s=new Date(e);if(isNaN(s.getTime()))return console.error("formatDateForInput failed to parse date:",e),new Date().toISOString().split("T")[0];const n=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`${n}-${a}-${r}`}catch(s){return console.error("formatDateForInput error:",s,"Input:",e),new Date().toISOString().split("T")[0]}},_2=e=>{if(!e)return"";try{const s=new Date(e);return isNaN(s.getTime())?"Invalid Date":s.toLocaleDateString("en-IN",{timeZone:aG,year:"numeric",month:"2-digit",day:"2-digit"})}catch(s){return console.error("Error formatting date:",s),"Invalid Date"}};function nG({isOpen:e,onOpenChange:s,initialStatus:n="open",onTaskCreated:a,trigger:r}){const{getAuthenticatedBackend:l}=$s(),{toast:c}=da(),u=za(),[m,p]=x.useState({propertyId:"",type:"maintenance",title:"",description:"",priority:"med",dueAt:"",estimatedHours:"",assigneeStaffId:"none"}),[f,g]=x.useState([]);x.useEffect(()=>{e&&(p({propertyId:"",type:"maintenance",title:"",description:"",priority:"med",dueAt:"",estimatedHours:"",assigneeStaffId:"none"}),g([]))},[e]);const{data:v}=Lr(["properties"],"/properties",{staleTime:3e4,gcTime:3e5}),{data:w,isLoading:N}=Lr(["staff","by-property",m.propertyId||"none"],`/staff?propertyId=${m.propertyId}`,{enabled:!!m.propertyId}),j=vs({mutationFn:async T=>{console.log("Creating task with data:",T);const P=await l().tasks.create({propertyId:parseInt(T.propertyId),type:T.type,title:T.title,description:T.description||void 0,priority:T.priority,dueAt:T.dueAt?M2(T.dueAt):void 0,estimatedHours:T.estimatedHours?parseFloat(T.estimatedHours):void 0,assigneeStaffId:T.assigneeStaffId&&T.assigneeStaffId!=="none"?parseInt(T.assigneeStaffId):void 0});if(f.length>0){const D=f.map(A=>A.file);console.log("Images to upload:",D)}return P},onSuccess:T=>{console.log("Task creation successful:",T),u.invalidateQueries({queryKey:["tasks"]}),s(!1),g([]),a&&a(T),c({title:"Task created",description:"The task has been created successfully."})},onError:T=>{console.error("Task creation failed:",T),c({variant:"destructive",title:"Failed to create task",description:T.message||"Please try again."})}}),S=async()=>{if(!m.propertyId||!m.title){c({variant:"destructive",title:"Missing fields",description:"Please fill in the required fields."});return}const T={propertyId:parseInt(m.propertyId),type:m.type,title:m.title,description:m.description||void 0,priority:m.priority,dueAt:m.dueAt?M2(m.dueAt):void 0,estimatedHours:m.estimatedHours?parseFloat(m.estimatedHours):void 0,assigneeStaffId:m.assigneeStaffId&&m.assigneeStaffId!=="none"?parseInt(m.assigneeStaffId):void 0};try{await j.mutateAsync(T)}catch(C){console.error("Failed to create task:",C)}},E=t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(ra,{className:"h-5 w-5 text-blue-600"})}),"Create New Task"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Create a new task for your property operations"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:m.propertyId,onValueChange:T=>p(C=>({...C,propertyId:T,assigneeStaffId:"none"})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:v==null?void 0:v.properties.map(T=>t.jsx(he,{value:T.id.toString(),children:T.name},T.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Assignee"}),t.jsxs(st,{value:m.assigneeStaffId,onValueChange:T=>p(C=>({...C,assigneeStaffId:T})),disabled:!m.propertyId||N,children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:N?"Loading staff...":"Select assignee (optional)"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"none",children:"Unassigned"}),((w==null?void 0:w.staff)||[]).map(T=>t.jsxs(he,{value:T.id.toString(),children:[T.userName," ",T.department?` ${T.department}`:""]},T.id))]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"type",className:"text-sm font-medium text-gray-700",children:"Type"}),t.jsxs(st,{value:m.type,onValueChange:T=>p(C=>({...C,type:T})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"maintenance",children:"Maintenance"}),t.jsx(he,{value:"housekeeping",children:"Housekeeping"}),t.jsx(he,{value:"service",children:"Service"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"priority",className:"text-sm font-medium text-gray-700",children:"Priority"}),t.jsxs(st,{value:m.priority,onValueChange:T=>p(C=>({...C,priority:T})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"low",children:"Low"}),t.jsx(he,{value:"med",children:"Medium"}),t.jsx(he,{value:"high",children:"High"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"title",className:"text-sm font-medium text-gray-700",children:"Title *"}),t.jsx(ye,{id:"title",value:m.title,onChange:T=>p(C=>({...C,title:T.target.value})),placeholder:"Enter task title",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Vr,{id:"description",value:m.description,onChange:T=>p(C=>({...C,description:T.target.value})),placeholder:"Enter task description",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"dueAt",className:"text-sm font-medium text-gray-700",children:"Due Date"}),t.jsx(ye,{id:"dueAt",type:"datetime-local",value:m.dueAt,onChange:T=>p(C=>({...C,dueAt:T.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"estimatedHours",className:"text-sm font-medium text-gray-700",children:"Estimated Hours"}),t.jsx(ye,{id:"estimatedHours",type:"number",step:"0.5",value:m.estimatedHours,onChange:T=>p(C=>({...C,estimatedHours:T.target.value})),placeholder:"0",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Reference Images"}),t.jsx(sG,{taskId:0,existingImages:[],onImageUpload:async(T,C)=>{const P=C.map(D=>({id:Math.random().toString(36).substr(2,9),file:D,preview:URL.createObjectURL(D)}));g(P)},onImageDelete:async()=>{},maxImages:5,maxSize:5,disabled:j.isPending,className:"!space-y-2"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),t.jsx(se,{onClick:S,disabled:j.isPending||!m.propertyId||!m.title,className:"bg-blue-600 hover:bg-blue-700",children:j.isPending?t.jsxs(t.Fragment,{children:[t.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Task"})]})})]});return r?t.jsxs(bs,{open:e,onOpenChange:s,children:[t.jsx(Ff,{asChild:!0,children:r}),E]}):t.jsx(bs,{open:e,onOpenChange:s,children:E})}function Yi({title:e,value:s,subtitle:n,icon:a,iconColor:r="text-blue-500",iconBgColor:l="bg-blue-50",valueColor:c="text-gray-900",className:u,compact:m=!1}){return t.jsx(Te,{className:Xe("border-none shadow-[0_2px_8px_rgba(0,0,0,0.04)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.06)] transition-all duration-300 bg-white backdrop-blur-xl rounded-3xl",m?"min-w-[85vw] sm:min-w-[240px] flex-shrink-0 snap-center":"",u),children:t.jsxs(ke,{className:Xe("flex flex-col h-full justify-between",m?"p-5":"p-6"),children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h3",{className:"text-[13px] font-medium text-gray-400 uppercase tracking-wide",children:e}),t.jsx("div",{className:Xe("font-semibold tracking-tighter leading-none",c,m?"text-3xl":"text-4xl"),children:s})]}),t.jsx("div",{className:Xe("p-2 rounded-full flex-shrink-0 opacity-80",l),children:t.jsx(a,{className:Xe("h-5 w-5",r)})})]}),n&&t.jsx("div",{className:"mt-auto pt-2",children:t.jsx("p",{className:"text-xs font-medium text-gray-400 flex items-center gap-1",children:n})})]})})}function rG(){const{getAuthenticatedBackend:e,user:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=kr(),{toast:r}=da(),l=za();x.useEffect(()=>{a("Task Management","Manage and track tasks across properties")},[a]);const[c,u]=x.useState("kanban"),[m,p]=x.useState(!1),[f,g]=x.useState(!1),[v,w]=x.useState(!1),[N,j]=x.useState(null),[S,E]=x.useState(null),[T,C]=x.useState(!1),[P,D]=x.useState(window.innerWidth<768),[A,R]=x.useState({propertyId:"all",type:"all",priority:"all",assignee:"all",search:""}),[F,z]=x.useState({title:"",description:"",priority:"med",status:"open",assigneeStaffId:"none",dueAt:""});x.useEffect(()=>{const H=()=>D(window.innerWidth<768);return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const{data:J,isLoading:K,refetch:X}=Xt({queryKey:["tasks",A.propertyId,A.type,A.priority,A.assignee],queryFn:async()=>e().tasks.list({propertyId:A.propertyId!=="all"?parseInt(A.propertyId):void 0,type:A.type!=="all"?A.type:void 0,priority:A.priority!=="all"?A.priority:void 0,assignee:A.assignee==="me"?"me":A.assignee!=="all"?parseInt(A.assignee):void 0}),staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:ce}=Xt({queryKey:["properties"],queryFn:async()=>e().properties.list({}),staleTime:3e5,gcTime:6e5}),{data:q}=Xt({queryKey:["staff"],queryFn:async()=>e().staff.list({}),staleTime:3e5,gcTime:6e5}),ie=vs({mutationFn:async H=>e().tasks.update(H.id,H.updates),onSuccess:()=>{l.invalidateQueries({queryKey:["tasks"]}),g(!1),j(null),r({title:"Task updated",description:"The task has been updated successfully."})},onError:H=>{r({variant:"destructive",title:"Failed to update task",description:H.message||"Please try again."})}}),L=vs({mutationFn:async H=>e().tasks.deleteTask(H),onSuccess:()=>{l.invalidateQueries({queryKey:["tasks"]}),w(!1),E(null),r({title:"Task deleted",description:"The task has been deleted successfully."})},onError:H=>{r({variant:"destructive",title:"Failed to delete task",description:H.message||"Please try again."})}});vs({mutationFn:async H=>e().tasks.updateStatus(H.id,{status:H.status}),onSuccess:()=>{l.invalidateQueries({queryKey:["tasks"]}),r({title:"Status updated",description:"Task status has been updated."})},onError:H=>{r({variant:"destructive",title:"Failed to update status",description:H.message||"Please try again."})}});const B=(J==null?void 0:J.tasks)||[],Y=B.filter(H=>{var fe,je;if(A.search){const Oe=A.search.toLowerCase();return H.title.toLowerCase().includes(Oe)||((fe=H.description)==null?void 0:fe.toLowerCase().includes(Oe))||H.propertyName.toLowerCase().includes(Oe)||((je=H.assigneeName)==null?void 0:je.toLowerCase().includes(Oe))}return!0}),de={open:Y.filter(H=>H.status==="open"),in_progress:Y.filter(H=>H.status==="in_progress"),blocked:Y.filter(H=>H.status==="blocked"),done:Y.filter(H=>H.status==="done")},G={total:B.length,open:B.filter(H=>H.status==="open").length,inProgress:B.filter(H=>H.status==="in_progress").length,overdue:B.filter(H=>H.dueAt&&new Date(H.dueAt)<new Date&&H.status!=="done").length,highPriority:B.filter(H=>H.priority==="high"&&H.status!=="done").length},M=H=>{switch(H){case"open":return t.jsx(If,{className:"h-4 w-4"});case"in_progress":return t.jsx(NC,{className:"h-4 w-4"});case"blocked":return t.jsx(lg,{className:"h-4 w-4"});case"done":return t.jsx(Lh,{className:"h-4 w-4"})}},V=H=>{switch(H){case"open":return"bg-blue-100 text-blue-700 border-blue-200";case"in_progress":return"bg-purple-100 text-purple-700 border-purple-200";case"blocked":return"bg-red-100 text-red-700 border-red-200";case"done":return"bg-green-100 text-green-700 border-green-200"}},W=H=>{switch(H){case"maintenance":return"";case"housekeeping":return"";case"service":return""}},$=H=>H.dueAt&&new Date(H.dueAt)<new Date&&H.status!=="done",me=H=>H?new Date(H).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No due date",ge=H=>{var fe;j(H),z({title:H.title,description:H.description||"",priority:H.priority,status:H.status,assigneeStaffId:((fe=H.assigneeStaffId)==null?void 0:fe.toString())||"none",dueAt:H.dueAt?new Date(H.dueAt).toISOString().slice(0,16):""}),g(!0)},ue=()=>{N&&ie.mutate({id:N.id,updates:{title:F.title,description:F.description||void 0,priority:F.priority,status:F.status,assigneeStaffId:F.assigneeStaffId!=="none"?parseInt(F.assigneeStaffId):void 0,dueAt:F.dueAt||void 0}})},be=H=>t.jsxs(Te,{onClick:()=>ge(H),className:`group relative overflow-hidden transition-all duration-200 
        rounded-2xl border-0 shadow-sm ring-1 ring-gray-100
        active:scale-[0.98] active:shadow-md touch-manipulation
        bg-white
      `,children:[t.jsx("div",{className:`absolute top-3 right-3 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider
        ${H.priority==="high"?"bg-red-50 text-red-600":H.priority==="med"?"bg-amber-50 text-amber-600":"bg-emerald-50 text-emerald-600"}`,children:H.priority}),t.jsxs(ke,{className:"p-4 pt-5",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2 pr-12",children:[" ",t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`
              flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center text-lg shadow-sm
              ${H.type==="maintenance"?"bg-blue-50 text-blue-600":H.type==="housekeeping"?"bg-purple-50 text-purple-600":"bg-orange-50 text-orange-600"}
            `,children:W(H.type)}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h3",{className:"font-bold text-gray-900 leading-tight truncate text-[17px] mb-1",children:H.title}),t.jsxs("p",{className:"text-xs font-medium text-gray-500 flex items-center gap-1",children:[t.jsx(ca,{className:"h-3 w-3 text-gray-400"}),H.propertyName]})]})]})]}),H.description&&t.jsx("p",{className:"text-[13px] leading-relaxed text-gray-600 mb-3 line-clamp-2 pl-[52px]",children:H.description}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50 mt-2 pl-[52px]",children:[t.jsx("div",{className:"flex items-center gap-3",children:H.assigneeName?t.jsxs("div",{className:"flex items-center gap-1.5 p-1 -ml-1 rounded-md bg-gray-50/50",children:[t.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-[10px] font-bold text-gray-600",children:H.assigneeName.substring(0,2).toUpperCase()}),t.jsx("span",{className:"text-xs font-medium text-gray-600 max-w-[80px] truncate",children:H.assigneeName})]}):t.jsx("span",{className:"text-xs text-gray-400 italic",children:"Unassigned"})}),t.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-medium ${$(H)?"text-red-500 bg-red-50 px-2 py-1 rounded-md":"text-gray-400"}`,children:[t.jsx(Zn,{className:"h-3.5 w-3.5"}),me(H.dueAt)]})]})]})]},H.id),Ee=(H,fe,je)=>t.jsxs("div",{className:"min-w-[85vw] md:min-w-[320px] md:flex-1 flex flex-col snap-center h-full",children:[t.jsxs("div",{className:"mb-4 sticky top-0 bg-transparent z-10 px-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 bg-white/50 backdrop-blur-sm p-3 rounded-2xl border border-white/20 shadow-sm",children:[t.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2.5",children:[M(H),t.jsx("span",{className:"text-lg",children:fe})]}),t.jsx(Lt,{variant:"secondary",className:`${V(H)} rounded-lg px-2.5`,children:je.length})]}),t.jsx("div",{className:"h-1.5 rounded-full bg-gray-100 overflow-hidden mx-1",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${H==="done"?"bg-green-500":H==="in_progress"?"bg-purple-500":H==="blocked"?"bg-red-500":"bg-blue-500"}`,style:{width:`${je.length>0?Math.min(je.length/Y.length*100,100):0}%`}})})]}),t.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 pb-20 md:pb-0 flex-1 px-1",children:je.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mb-3",children:t.jsx(bh,{className:"h-8 w-8 text-gray-300"})}),t.jsxs("p",{className:"text-gray-400 text-sm font-medium",children:["No tasks in ",fe]})]}):je.map(be)})]});return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30 pb-20 md:pb-8",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:bg-[#F5F7FA]",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-600 rounded-xl shadow-lg shadow-blue-200",children:t.jsx(bh,{className:"h-5 w-5 md:h-6 md:w-6 text-white"})}),"Tasks"]}),t.jsx("p",{className:"text-gray-600 mt-1 hidden md:block",children:"Manage and track tasks across properties"})]}),t.jsxs(se,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 shadow-xl shadow-blue-200 rounded-xl h-11 px-6 active:scale-95 transition-transform",children:[t.jsx(ra,{className:"h-4 w-4 mr-2"}),"New Task"]})]}),t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory gap-3 pb-4 -mx-4 px-4 no-scrollbar md:grid md:grid-cols-5 md:gap-4 md:overflow-visible md:px-0 md:pb-0",children:[t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"Total Tasks",value:G.total.toString(),icon:bh,iconColor:"text-blue-600",iconBgColor:"bg-blue-100",className:"bg-white rounded-xl border-gray-100 shadow-sm"})}),t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"Open",value:G.open.toString(),icon:If,iconColor:"text-blue-600",iconBgColor:"bg-blue-100",className:"bg-blue-50/50 border-blue-100 rounded-xl shadow-sm"})}),t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"In Progress",value:G.inProgress.toString(),icon:NC,iconColor:"text-purple-600",iconBgColor:"bg-purple-100",className:"bg-purple-50/50 border-purple-100 rounded-xl shadow-sm"})}),t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"Overdue",value:G.overdue.toString(),icon:Bb,iconColor:"text-red-600",iconBgColor:"bg-red-100",className:"bg-red-50/50 border-red-100 rounded-xl shadow-sm"})}),t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"High Priority",value:G.highPriority.toString(),icon:is,iconColor:"text-yellow-600",iconBgColor:"bg-yellow-100",className:"bg-yellow-50/50 border-yellow-100 rounded-xl shadow-sm"})})]})]}),t.jsxs("div",{className:"md:hidden flex overflow-x-auto gap-2 pb-4 -mx-4 px-4 no-scrollbar mb-4",children:[t.jsxs(Kw,{children:[t.jsx(CP,{asChild:!0,children:t.jsxs(se,{variant:"outline",size:"sm",className:`rounded-full border-dashed flex-shrink-0 ${Object.values(A).some(H=>H!=="all"&&H!=="")?"bg-blue-50 border-blue-200 text-blue-700":"border-gray-300"}`,children:[t.jsx(pf,{className:"h-3.5 w-3.5 mr-2"}),"Filters ",Object.values(A).filter(H=>H!=="all"&&H!=="").length>0&&`(${Object.values(A).filter(H=>H!=="all"&&H!=="").length})`]})}),t.jsxs(Qw,{side:"bottom",className:"h-[80vh] rounded-t-3xl",children:[t.jsxs(Jw,{className:"mb-6 text-left",children:[t.jsx(Kf,{children:"Filter Tasks"}),t.jsx(Xw,{children:"Narrow down your tasks by property, type, and more."})]}),t.jsxs("div",{className:"grid gap-6 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(ye,{placeholder:"Search tasks...",value:A.search,onChange:H=>R({...A,search:H.target.value}),className:"pl-10 h-11"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Property"}),t.jsxs(st,{value:A.propertyId,onValueChange:H=>R({...A,propertyId:H}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Properties"}),ce==null?void 0:ce.properties.map(H=>t.jsx(he,{value:H.id.toString(),children:H.name},H.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Type"}),t.jsxs(st,{value:A.type,onValueChange:H=>R({...A,type:H}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Types"}),t.jsx(he,{value:"maintenance",children:"Maintenance"}),t.jsx(he,{value:"housekeeping",children:"Housekeeping"}),t.jsx(he,{value:"service",children:"Service"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Priority"}),t.jsxs(st,{value:A.priority,onValueChange:H=>R({...A,priority:H}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Priorities"}),t.jsx(he,{value:"high",children:"High"}),t.jsx(he,{value:"med",children:"Medium"}),t.jsx(he,{value:"low",children:"Low"})]})]})]})]})]})]}),t.jsx(se,{variant:A.type==="maintenance"?"default":"outline",size:"sm",onClick:()=>R({...A,type:A.type==="maintenance"?"all":"maintenance"}),className:`rounded-full whitespace-nowrap flex-shrink-0 ${A.type==="maintenance"?"bg-blue-600":"border-gray-200"}`,children:" Maintenance"}),t.jsx(se,{variant:A.type==="housekeeping"?"default":"outline",size:"sm",onClick:()=>R({...A,type:A.type==="housekeeping"?"all":"housekeeping"}),className:`rounded-full whitespace-nowrap flex-shrink-0 ${A.type==="housekeeping"?"bg-purple-600":"border-gray-200"}`,children:" Housekeeping"}),t.jsx(se,{variant:A.priority==="high"?"default":"outline",size:"sm",onClick:()=>R({...A,priority:A.priority==="high"?"all":"high"}),className:`rounded-full whitespace-nowrap flex-shrink-0 ${A.priority==="high"?"bg-red-600 hover:bg-red-700":"border-gray-200 text-red-600 bg-red-50"}`,children:" High Priority"})]}),t.jsx(Te,{className:"mb-6 shadow-sm hidden md:block",children:t.jsxs(ke,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(u_,{className:"h-4 w-4 text-gray-600"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>X(),className:"h-8",children:t.jsx(mt,{className:"h-4 w-4"})}),t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>C(!T),className:"h-8",children:T?t.jsx(Lb,{className:"h-4 w-4"}):t.jsx(_h,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(Rf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(ye,{placeholder:"Search tasks...",value:A.search,onChange:H=>R({...A,search:H.target.value}),className:"pl-10"})]}),T&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-xs text-gray-600 mb-1.5 block",children:"Property"}),t.jsxs(st,{value:A.propertyId,onValueChange:H=>R({...A,propertyId:H}),children:[t.jsx(nt,{className:"h-9",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Properties"}),ce==null?void 0:ce.properties.map(H=>t.jsx(he,{value:H.id.toString(),children:H.name},H.id))]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-xs text-gray-600 mb-1.5 block",children:"Type"}),t.jsxs(st,{value:A.type,onValueChange:H=>R({...A,type:H}),children:[t.jsx(nt,{className:"h-9",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Types"}),t.jsx(he,{value:"maintenance",children:"Maintenance"}),t.jsx(he,{value:"housekeeping",children:"Housekeeping"}),t.jsx(he,{value:"service",children:"Service"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-xs text-gray-600 mb-1.5 block",children:"Priority"}),t.jsxs(st,{value:A.priority,onValueChange:H=>R({...A,priority:H}),children:[t.jsx(nt,{className:"h-9",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Priorities"}),t.jsx(he,{value:"high",children:"High"}),t.jsx(he,{value:"med",children:"Medium"}),t.jsx(he,{value:"low",children:"Low"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-xs text-gray-600 mb-1.5 block",children:"Assignee"}),t.jsxs(st,{value:A.assignee,onValueChange:H=>R({...A,assignee:H}),children:[t.jsx(nt,{className:"h-9",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Assignees"}),t.jsx(he,{value:"me",children:"My Tasks"}),q==null?void 0:q.staff.map(H=>t.jsx(he,{value:H.id.toString(),children:H.userName},H.id))]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t",children:[t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"View:"}),t.jsxs(se,{variant:c==="kanban"?"default":"outline",size:"sm",onClick:()=>u("kanban"),className:"h-8",children:[t.jsx(VE,{className:"h-4 w-4 mr-2"}),"Kanban"]}),t.jsxs(se,{variant:c==="list"?"default":"outline",size:"sm",onClick:()=>u("list"),className:"h-8",children:[t.jsx(T_,{className:"h-4 w-4 mr-2"}),"List"]})]})]})}),K?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Mw,{})}):Y.length===0?t.jsx(CI,{icon:t.jsx(bh,{className:"h-12 w-12"}),title:"No tasks found",description:"Create your first task to get started",action:t.jsxs(se,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(ra,{className:"h-4 w-4 mr-2"}),"Create Task"]})}):c==="kanban"?t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory gap-4 pb-4 -mx-4 px-4 h-[calc(100vh-280px)] md:h-auto md:overflow-visible md:px-0 md:mx-0",children:[Ee("open","Open",de.open),Ee("in_progress","In Progress",de.in_progress),Ee("blocked","Blocked",de.blocked),Ee("done","Done",de.done)]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map(be)})]}),t.jsx(nG,{isOpen:m,onOpenChange:p,onTaskCreated:()=>{l.invalidateQueries({queryKey:["tasks"]})}}),t.jsx(bs,{open:f,onOpenChange:g,children:t.jsxs(Es,{className:"max-w-2xl",children:[t.jsxs(ia,{children:[t.jsx(Bs,{children:"Edit Task"}),t.jsx(xa,{children:"Update task details"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{children:"Title"}),t.jsx(ye,{value:F.title,onChange:H=>z({...F,title:H.target.value}),placeholder:"Task title"})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"Description"}),t.jsx(Vr,{value:F.description,onChange:H=>z({...F,description:H.target.value}),placeholder:"Task description",rows:3})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{children:"Priority"}),t.jsxs(st,{value:F.priority,onValueChange:H=>z({...F,priority:H}),children:[t.jsx(nt,{children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"low",children:"Low"}),t.jsx(he,{value:"med",children:"Medium"}),t.jsx(he,{value:"high",children:"High"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"Status"}),t.jsxs(st,{value:F.status,onValueChange:H=>z({...F,status:H}),children:[t.jsx(nt,{children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"open",children:"Open"}),t.jsx(he,{value:"in_progress",children:"In Progress"}),t.jsx(he,{value:"blocked",children:"Blocked"}),t.jsx(he,{value:"done",children:"Done"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"Due Date"}),t.jsx(ye,{type:"datetime-local",value:F.dueAt,onChange:H=>z({...F,dueAt:H.target.value})})]})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),t.jsx(se,{onClick:ue,disabled:ie.isPending,className:"bg-blue-600 hover:bg-blue-700",children:ie.isPending?"Updating...":"Update Task"})]})]})}),t.jsx(bs,{open:v,onOpenChange:w,children:t.jsxs(Es,{children:[t.jsxs(ia,{children:[t.jsx(Bs,{children:"Delete Task"}),t.jsxs(xa,{children:['Are you sure you want to delete "',S==null?void 0:S.title,'"? This action cannot be undone.']})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),t.jsx(se,{variant:"destructive",onClick:()=>S&&L.mutate(S.id),disabled:L.isPending,children:L.isPending?"Deleting...":"Delete"})]})]})})]})}const L2={INR:{code:"INR",symbol:"",locale:"en-IN",decimals:2},USD:{code:"USD",symbol:"$",locale:"en-US",decimals:2},EUR:{code:"EUR",symbol:"",locale:"de-DE",decimals:2},GBP:{code:"GBP",symbol:"",locale:"en-GB",decimals:2},CAD:{code:"CAD",symbol:"C$",locale:"en-CA",decimals:2},AUD:{code:"AUD",symbol:"A$",locale:"en-AU",decimals:2}};function fu(e,s="INR"){const n=L2[s]||L2.INR,a=e/100;try{return new Intl.NumberFormat(n.locale,{style:"currency",currency:n.code,minimumFractionDigits:n.decimals,maximumFractionDigits:n.decimals}).format(a)}catch{return`${n.symbol}${a.toLocaleString(n.locale,{minimumFractionDigits:n.decimals,maximumFractionDigits:n.decimals})}`}}function iG(e,s={}){if(!e)return"N/A";const{includeTime:n=!0,includeSeconds:a=!1,includeTimezone:r=!1,format:l="medium"}=s;try{const c=typeof e=="string"?new Date(e):e;if(isNaN(c.getTime()))return"Invalid Date";let u={timeZone:"Asia/Kolkata"};switch(l){case"short":u={...u,year:"2-digit",month:"short",day:"numeric"};break;case"medium":u={...u,year:"numeric",month:"short",day:"numeric"};break;case"long":u={...u,year:"numeric",month:"long",day:"numeric"};break;case"full":u={...u,year:"numeric",month:"long",day:"numeric",weekday:"long"};break}return n&&(u.hour="2-digit",u.minute="2-digit",u.hour12=!1,a&&(u.second="2-digit"),r&&(u.timeZoneName="short")),new Intl.DateTimeFormat("en-IN",u).format(c)}catch(c){return console.error("Error formatting date:",c),"Invalid Date"}}function oG(e,s="DD/MM/YYYY"){if(!e)return"N/A";try{const n=typeof e=="string"?new Date(e):e;return isNaN(n.getTime())?"Invalid Date":s==="DD/MM/YYYY"?new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",timeZone:"Asia/Kolkata"}).format(n):s==="DD MMM YYYY"?new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric",timeZone:"Asia/Kolkata"}).format(n):new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"long",year:"numeric",timeZone:"Asia/Kolkata"}).format(n)}catch(n){return console.error("Error formatting date:",n),"Invalid Date"}}function lG(e){if(!e)return"N/A";try{const s=typeof e=="string"?new Date(e):e;if(isNaN(s.getTime()))return"Invalid Date";const n=oG(s,"DD/MM/YYYY"),a=new Intl.DateTimeFormat("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Kolkata"}).format(s);return`${n} ${a}`}catch(s){return console.error("Error formatting date time:",s),"Invalid Date"}}function fb(e){return lG(e)}function cG(e){return iG(e,{includeTime:!0,includeSeconds:!0,format:"medium"})}function Zf(e){if(!e)return"N/A";const s=typeof e=="string"?new Date(e):e,n=new Date,a=new Date(n);return a.setDate(a.getDate()-1),s.toDateString()===n.toDateString()?`Today, ${s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`:s.toDateString()===a.toDateString()?`Yesterday, ${s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`:fb(e)}async function F2(e,s={}){const{maxSize:n=10*1024*1024,quality:a=.8,maxWidth:r=2048,maxHeight:l=2048}=s,c=e.size;if(!e.type.startsWith("image/")||c<=n)return{file:e,originalSize:c,compressedSize:c,compressionRatio:1,wasCompressed:!1};try{console.log(`Compressing image: ${e.name} (${y0(c)})`);const u=await dG(e,a,r,l),m=u.size,p=c/m;return console.log(`Compression complete: ${y0(c)}  ${y0(m)} (${p.toFixed(1)}x reduction)`),{file:u,originalSize:c,compressedSize:m,compressionRatio:p,wasCompressed:!0}}catch(u){return console.error("Image compression failed:",u),{file:e,originalSize:c,compressedSize:c,compressionRatio:1,wasCompressed:!1}}}async function dG(e,s,n,a){return new Promise((r,l)=>{const c=document.createElement("canvas"),u=c.getContext("2d"),m=new Image;m.onload=()=>{try{let{width:p,height:f}=uG(m.width,m.height,n,a);if(c.width=p,c.height=f,!u)throw new Error("Canvas context not available");u.drawImage(m,0,0,p,f),c.toBlob(g=>{if(!g){l(new Error("Failed to compress image"));return}const v=new File([g],e.name,{type:e.type,lastModified:e.lastModified});r(v)},e.type,s)}catch(p){l(p)}},m.onerror=()=>{l(new Error("Failed to load image for compression"))},m.src=URL.createObjectURL(e)})}function uG(e,s,n,a){let r=e,l=s;if(r>n||l>a){const c=r/l;r>n&&(r=n,l=r/c),l>a&&(l=a,r=l*c)}return{width:Math.round(r),height:Math.round(l)}}function U2(e){let n="";for(let a=0;a<e.length;a+=8192){const r=e.slice(a,a+8192);n+=String.fromCharCode.apply(null,Array.from(r))}return btoa(n)}function y0(e){if(e===0)return"0 Bytes";const s=1024,n=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(s));return parseFloat((e/Math.pow(s,a)).toFixed(2))+" "+n[a]}function hG(){return Xt({queryKey:["daily-approval-check"],queryFn:async()=>{const e={Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"};let s=await fetch(`${xt.BASE_URL}/finance/check-daily-approval`,{method:"POST",headers:e,body:JSON.stringify({})});if(s.status===404&&(s=await fetch(`${xt.BASE_URL}/v1/finance/check-daily-approval`,{method:"POST",headers:e,body:JSON.stringify({})})),!s.ok)throw new Error(`daily-approval-check ${s.status}`);return await s.json()},staleTime:12e4,refetchOnWindowFocus:!1})}function nf({onFileUpload:e,accept:s="image/*,.pdf",maxSize:n=100*1024*1024,className:a,label:r="Upload File",description:l="Upload images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",value:c,onClear:u}){const[m,p]=x.useState(!1),[f,g]=x.useState(!1),[v,w]=x.useState(null),N=x.useRef(null),j=async A=>{if(w(null),A.size>n){w(`File size too large. Maximum size is ${Math.round(n/(1024*1024))}MB`);return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/pdf"].includes(A.type)){w("File type not supported. Please upload images or PDF files.");return}g(!0);try{await e(A)}catch(F){console.error("Upload error:",F),w(F instanceof Error?F.message:"Upload failed")}finally{g(!1)}},S=A=>{A.preventDefault(),p(!1);const R=Array.from(A.dataTransfer.files);R.length>0&&j(R[0])},E=A=>{A.preventDefault(),p(!0)},T=A=>{A.preventDefault(),p(!1)},C=A=>{const R=Array.from(A.target.files||[]);R.length>0&&j(R[0])},P=()=>{var A;(A=N.current)==null||A.click()},D=()=>{w(null),N.current&&(N.current.value=""),u==null||u()};return t.jsxs("div",{className:Xe("space-y-2",a),children:[r&&t.jsx(ee,{children:r}),!c&&t.jsxs("div",{className:Xe("border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors",m&&"border-blue-500 bg-blue-50",!m&&"hover:border-gray-400"),onDrop:S,onDragOver:E,onDragLeave:T,children:[t.jsx(ye,{ref:N,type:"file",accept:s,onChange:C,className:"hidden"}),f?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx(ul,{className:"h-8 w-8 text-gray-400 mx-auto"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Drag and drop your file here, or"," ",t.jsx("button",{type:"button",onClick:P,className:"text-blue-500 hover:text-blue-600 underline",children:"browse"})]}),l&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l})]})]})]}),c&&t.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-gray-50",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ca,{className:"h-5 w-5 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.filename}),t.jsx("p",{className:"text-xs text-gray-500",children:"File uploaded successfully"})]})]}),t.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:D,className:"text-gray-400 hover:text-red-500",children:t.jsx(Ws,{className:"h-4 w-4"})})]}),v&&t.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-red-200 rounded-lg bg-red-50",children:[t.jsx(is,{className:"h-5 w-5 text-red-500"}),t.jsx("p",{className:"text-sm text-red-600",children:v})]})]})}var v0="rovingFocusGroup.onEntryFocus",mG={bubbles:!1,cancelable:!0},um="RovingFocusGroup",[gb,LP,pG]=Pb(um),[fG,FP]=xi(um,[pG]),[gG,xG]=fG(um),UP=x.forwardRef((e,s)=>t.jsx(gb.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(gb.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(yG,{...e,ref:s})})}));UP.displayName=um;var yG=x.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:r=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:f=!1,...g}=e,v=x.useRef(null),w=Ms(s,v),N=Fw(l),[j,S]=dl({prop:c,defaultProp:u??null,onChange:m,caller:um}),[E,T]=x.useState(!1),C=tr(p),P=LP(n),D=x.useRef(!1),[A,R]=x.useState(0);return x.useEffect(()=>{const F=v.current;if(F)return F.addEventListener(v0,C),()=>F.removeEventListener(v0,C)},[C]),t.jsx(gG,{scope:n,orientation:a,dir:N,loop:r,currentTabStopId:j,onItemFocus:x.useCallback(F=>S(F),[S]),onItemShiftTab:x.useCallback(()=>T(!0),[]),onFocusableItemAdd:x.useCallback(()=>R(F=>F+1),[]),onFocusableItemRemove:x.useCallback(()=>R(F=>F-1),[]),children:t.jsx(Ot.div,{tabIndex:E||A===0?-1:0,"data-orientation":a,...g,ref:w,style:{outline:"none",...e.style},onMouseDown:At(e.onMouseDown,()=>{D.current=!0}),onFocus:At(e.onFocus,F=>{const z=!D.current;if(F.target===F.currentTarget&&z&&!E){const J=new CustomEvent(v0,mG);if(F.currentTarget.dispatchEvent(J),!J.defaultPrevented){const K=P().filter(L=>L.focusable),X=K.find(L=>L.active),ce=K.find(L=>L.id===j),ie=[X,ce,...K].filter(Boolean).map(L=>L.ref.current);zP(ie,f)}}D.current=!1}),onBlur:At(e.onBlur,()=>T(!1))})})}),VP="RovingFocusGroupItem",BP=x.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:r=!1,tabStopId:l,children:c,...u}=e,m=Zi(),p=l||m,f=xG(VP,n),g=f.currentTabStopId===p,v=LP(n),{onFocusableItemAdd:w,onFocusableItemRemove:N,currentTabStopId:j}=f;return x.useEffect(()=>{if(a)return w(),()=>N()},[a,w,N]),t.jsx(gb.ItemSlot,{scope:n,id:p,focusable:a,active:r,children:t.jsx(Ot.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...u,ref:s,onMouseDown:At(e.onMouseDown,S=>{a?f.onItemFocus(p):S.preventDefault()}),onFocus:At(e.onFocus,()=>f.onItemFocus(p)),onKeyDown:At(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=wG(S,f.orientation,f.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=v().filter(P=>P.focusable).map(P=>P.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const P=C.indexOf(S.currentTarget);C=f.loop?jG(C,P+1):C.slice(P+1)}setTimeout(()=>zP(C))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:j!=null}):c})})});BP.displayName=VP;var vG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bG(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wG(e,s,n){const a=bG(e.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return vG[a]}function zP(e,s=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:s}),document.activeElement!==n))return}function jG(e,s){return e.map((n,a)=>e[(s+a)%e.length])}var NG=UP,SG=BP,Tg="Tabs",[CG,fX]=xi(Tg,[FP]),qP=FP(),[TG,ej]=CG(Tg),$P=x.forwardRef((e,s)=>{const{__scopeTabs:n,value:a,onValueChange:r,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:m="automatic",...p}=e,f=Fw(u),[g,v]=dl({prop:a,onChange:r,defaultProp:l??"",caller:Tg});return t.jsx(TG,{scope:n,baseId:Zi(),value:g,onValueChange:v,orientation:c,dir:f,activationMode:m,children:t.jsx(Ot.div,{dir:f,"data-orientation":c,...p,ref:s})})});$P.displayName=Tg;var GP="TabsList",HP=x.forwardRef((e,s)=>{const{__scopeTabs:n,loop:a=!0,...r}=e,l=ej(GP,n),c=qP(n);return t.jsx(NG,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:a,children:t.jsx(Ot.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:s})})});HP.displayName=GP;var YP="TabsTrigger",WP=x.forwardRef((e,s)=>{const{__scopeTabs:n,value:a,disabled:r=!1,...l}=e,c=ej(YP,n),u=qP(n),m=JP(c.baseId,a),p=XP(c.baseId,a),f=a===c.value;return t.jsx(SG,{asChild:!0,...u,focusable:!r,active:f,children:t.jsx(Ot.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":p,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:m,...l,ref:s,onMouseDown:At(e.onMouseDown,g=>{!r&&g.button===0&&g.ctrlKey===!1?c.onValueChange(a):g.preventDefault()}),onKeyDown:At(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(a)}),onFocus:At(e.onFocus,()=>{const g=c.activationMode!=="manual";!f&&!r&&g&&c.onValueChange(a)})})})});WP.displayName=YP;var KP="TabsContent",QP=x.forwardRef((e,s)=>{const{__scopeTabs:n,value:a,forceMount:r,children:l,...c}=e,u=ej(KP,n),m=JP(u.baseId,a),p=XP(u.baseId,a),f=a===u.value,g=x.useRef(f);return x.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),t.jsx(lo,{present:r||f,children:({present:v})=>t.jsx(Ot.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!v,id:p,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:g.current?"0s":void 0},children:v&&l})})});QP.displayName=KP;function JP(e,s){return`${e}-trigger-${s}`}function XP(e,s){return`${e}-content-${s}`}var kG=$P,EG=HP,AG=WP,DG=QP;function tj({className:e,...s}){return t.jsx(kG,{"data-slot":"tabs",className:Xe("flex flex-col gap-2",e),...s})}function ZP({className:e,...s}){return t.jsx(EG,{"data-slot":"tabs-list",className:Xe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...s})}function eR({className:e,...s}){return t.jsx(AG,{"data-slot":"tabs-trigger",className:Xe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function ks({className:e,...s}){return t.jsx(DG,{"data-slot":"tabs-content",className:Xe("flex-1 outline-none",e),...s})}const IG=e=>{const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null},PG=e=>{if(!e)return{containerBg:"bg-gray-100",containerBorder:"border-gray-200",activeBg:"bg-white",activeText:"text-blue-600",activeBorder:"border-blue-600",activeShadow:"shadow-sm",inactiveText:"text-gray-600",inactiveHoverText:"text-gray-800",inactiveHoverBg:"bg-gray-50",primaryColor:"#3b82f6"};const s=IG(e.primaryColor);return{containerBg:"bg-gray-100",containerBorder:"border-gray-200",activeBg:"bg-white",activeText:`text-[${e.primaryColor}]`,activeBorder:`border-[${e.primaryColor}]`,activeShadow:"shadow-sm",inactiveText:"text-gray-600",inactiveHoverText:"text-gray-800",inactiveHoverBg:"bg-gray-50",primaryColor:e.primaryColor,primaryRgb:s}};function wc({children:e,className:s,theme:n,...a}){return t.jsx(tj,{className:Xe("space-y-0",s),...a,children:e})}function ll({children:e,className:s,theme:n,containerClassName:a,...r}){return PG(n),t.jsx("div",{className:Xe("mb-0",a),children:t.jsx("div",{className:"bg-gray-100/80 backdrop-blur-sm rounded-full p-1.5",children:t.jsx(ZP,{className:Xe("w-full bg-transparent h-auto p-0 gap-0 flex",s),...r,children:e})})})}function Vs({children:e,className:s,theme:n,...a}){const r=n!=null&&n.primaryColor?{"--theme-primary":n.primaryColor,"--theme-primary-10":`${n.primaryColor}1a`,"--theme-primary-20":`${n.primaryColor}33`}:{};return t.jsx(eR,{style:r,className:Xe("theme-tabs-trigger flex-1 px-6 py-2.5 text-sm font-medium transition-all duration-300 rounded-full relative","data-[state=active]:text-gray-900 data-[state=active]:bg-white data-[state=active]:shadow-[0_2px_8px_rgba(0,0,0,0.08)]","data-[state=inactive]:text-gray-500 data-[state=inactive]:hover:text-gray-700 data-[state=inactive]:hover:bg-white/50","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",s),...a,children:e})}function RG({isOpen:e,onClose:s,transaction:n}){const{getAuthenticatedBackend:a}=$s(),{theme:r}=_a(),[l,c]=x.useState(!1),[u,m]=x.useState(100);x.useEffect(()=>{n&&console.log("ReceiptViewer transaction data:",{id:n.id,type:n.type,status:n.status,date:n.date,createdAt:n.createdAt,approvedByName:n.approvedByName,approvedAt:n.approvedAt,createdByName:n.createdByName,amountCents:n.amountCents})},[n]),x.useEffect(()=>{if(e){try{window.dispatchEvent(new CustomEvent("realtime:suspend"))}catch{}return()=>{try{window.dispatchEvent(new CustomEvent("realtime:resume"))}catch{}}}},[e]);const p=()=>{m(R=>Math.min(R+25,300))},f=()=>{m(R=>Math.max(R-25,50))},g=()=>{m(100)},w=(()=>{if(n!=null&&n.receiptFileId)return n.receiptFileId;if(n!=null&&n.receiptUrl){const R=n.receiptUrl.match(/\/uploads\/file\/(\d+)/);if(R)return parseInt(R[1])}return null})(),{data:N,isLoading:j}=Xt({queryKey:["file-info",w],queryFn:async()=>{if(!w)return null;const R=await fetch(`${xt.BASE_URL}/uploads/${w}/info`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!R.ok)throw new Error(`Failed to fetch file info: ${R.statusText}`);return R.json()},enabled:!!w&&e}),{data:S,isLoading:E}=Xt({queryKey:["file-data",w],queryFn:async()=>{if(!w)return null;const R=await fetch(`${xt.BASE_URL}/uploads/${w}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!R.ok)throw new Error(`Failed to fetch file: ${R.statusText}`);return R.json()},enabled:!!w&&e}),T=()=>{if(S){const R=atob(S.fileData),F=new Array(R.length);for(let ce=0;ce<R.length;ce++)F[ce]=R.charCodeAt(ce);const z=new Uint8Array(F),J=new Blob([z],{type:S.mimeType}),K=window.URL.createObjectURL(J),X=document.createElement("a");X.style.display="none",X.href=K,X.download=S.filename,document.body.appendChild(X),X.click(),window.URL.revokeObjectURL(K),document.body.removeChild(X)}else if(n!=null&&n.receiptUrl){if(n.receiptUrl.startsWith("file://")){alert("This receipt is stored locally on your computer. Please open it directly from your file system.");return}window.open(n.receiptUrl,"_blank")}},C=R=>{switch(R){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=R=>{switch(R){case"room":return"bg-blue-100 text-blue-800";case"addon":return"bg-purple-100 text-purple-800";case"other":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},D=R=>(R==null?void 0:R.startsWith("image/"))||!1,A=R=>R==="application/pdf";return n?t.jsx(bs,{open:e,onOpenChange:s,children:t.jsx(Xb,{children:t.jsxs(Es,{className:"max-w-6xl max-h-[98vh] w-[95vw] border-0 shadow-2xl bg-gradient-to-br from-slate-50 via-white to-blue-50 flex flex-col rounded-3xl overflow-hidden",showCloseButton:!1,children:[t.jsx("div",{className:"sticky top-0 z-[60] bg-gradient-to-r from-white via-blue-50 to-indigo-50 border-b border-blue-200/50 shadow-xl backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:`p-3 rounded-2xl shadow-lg ${n.type==="expense"?"bg-gradient-to-br from-red-100 to-red-200":"bg-gradient-to-br from-green-100 to-green-200"}`,children:t.jsx("div",{className:"text-2xl",children:n.type==="expense"?"":""})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs(Bs,{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent truncate",children:[n.type==="expense"?"Expense":"Revenue"," Receipt"]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.status&&t.jsx(Lt,{className:`${C(n.status)} text-xs sm:text-sm font-bold px-3 py-1 shadow-md rounded-full`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),t.jsx("div",{className:"text-xs sm:text-sm text-gray-600 bg-white/50 px-2 py-1 rounded-full",children:fu(n.amountCents)})]})]})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:s,className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-110 flex-shrink-0",children:t.jsx(Ws,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})}),t.jsxs("div",{className:"flex-1 overflow-auto px-6 pb-6",children:[t.jsxs("div",{className:"space-y-6 p-2",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6 border-2 border-blue-100 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 shadow-lg",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:t.jsx(ca,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm text-gray-600 block",children:"Property"}),t.jsx("span",{className:"font-semibold text-gray-800",children:n.propertyName})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:t.jsx(qs,{className:"h-4 w-4 text-purple-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm text-gray-600 block",children:n.type==="expense"?"Expense Date":"Revenue Date"}),t.jsx("span",{className:"font-semibold text-gray-800",children:fb(n.date)})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:t.jsx(Ya,{className:"h-4 w-4 text-orange-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm text-gray-600 block",children:"Created By"}),t.jsx("span",{className:"font-semibold text-gray-800",children:n.createdByName})]})]}),n.createdAt&&t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"p-2 rounded-full bg-indigo-100",children:t.jsx(qs,{className:"h-4 w-4 text-indigo-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm text-gray-600 block",children:"Created At"}),t.jsx("span",{className:"font-semibold text-gray-800",children:fb(n.createdAt)})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[n.category&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Category"}),t.jsx(Lt,{variant:"outline",className:"bg-gray-50 text-gray-800 font-semibold px-3 py-1",children:n.category})]}),n.source&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Source"}),t.jsx(Lt,{className:`${P(n.source)} font-semibold px-3 py-1 shadow-sm`,children:n.source})]}),n.paymentMode&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Payment Mode"}),t.jsx(Lt,{className:`${n.paymentMode==="cash"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"} font-semibold px-3 py-1 shadow-sm`,children:n.paymentMode==="cash"?"Cash":"Bank/UPI/Online"})]}),n.bankReference&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Bank Reference"}),t.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:n.bankReference})]}),n.description&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-2",children:"Description"}),t.jsx("p",{className:"text-gray-800 font-medium",children:n.description})]}),(n.status==="approved"||n.status==="rejected")&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:n.status==="approved"?"Approved By":"Rejected By"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`p-1 rounded-full ${n.status==="approved"?"bg-green-100":"bg-red-100"}`,children:t.jsx(an,{className:`h-3 w-3 ${n.status==="approved"?"text-green-600":"text-red-600"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:n.approvedByName||"System Action"}),n.approvedAt?t.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(n.approvedAt).toLocaleDateString()," at ",new Date(n.approvedAt).toLocaleTimeString()]}):t.jsxs("p",{className:"text-xs text-gray-500",children:["Auto-",n.status]})]})]})]}),n.status==="pending"&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Status"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-1 rounded-full bg-yellow-100",children:t.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500 animate-pulse"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Pending Approval"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Awaiting admin review"})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-lg border-2 border-indigo-200",children:[t.jsx("h3",{className:"text-xl font-bold text-indigo-800 flex items-center gap-2",children:" Receipt Document"}),t.jsx("div",{className:"flex items-center gap-2",children:(S||n.receiptUrl)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-lg px-3 py-1 border border-indigo-200",children:[t.jsx(se,{size:"sm",variant:"ghost",onClick:f,disabled:u<=50,className:"h-8 w-8 p-0 hover:bg-indigo-100",children:""}),t.jsxs("span",{className:"text-sm font-medium text-indigo-700 min-w-[3rem] text-center",children:[u,"%"]}),t.jsx(se,{size:"sm",variant:"ghost",onClick:p,disabled:u>=300,className:"h-8 w-8 p-0 hover:bg-indigo-100",children:"+"}),t.jsx(se,{size:"sm",variant:"ghost",onClick:g,className:"h-8 px-2 text-xs hover:bg-indigo-100",children:"Reset"})]}),t.jsx(se,{onClick:T,size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold px-3 py-2 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",title:"Download Receipt",children:t.jsx(Ln,{className:"h-4 w-4"})})]})})]}),!w&&!n.receiptUrl?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-gray-400 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-gray-200 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-gray-500"})}),t.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:" No Receipt Available"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"No receipt was uploaded for this transaction"})]})}):j||E?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-blue-300 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-blue-700 font-semibold",children:"Loading receipt..."}),t.jsx("p",{className:"text-blue-600 text-sm",children:"Please wait while we fetch your document"})]})}):S&&N?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 bg-white shadow-lg",children:[D(N.mimeType)&&!l?t.jsx("div",{className:"flex justify-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200 overflow-auto mb-6",children:t.jsx("img",{src:`data:${N.mimeType};base64,${S.fileData}`,alt:"Receipt",className:"rounded-lg shadow-lg border border-gray-300 hover:shadow-xl transition-shadow duration-300",style:{width:`${u}%`,height:"auto",maxWidth:"100%",objectFit:"contain"},onError:()=>c(!0)})}):A(N.mimeType)?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-blue-300 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 mb-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-blue-100 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-blue-600"})}),t.jsx("p",{className:"text-blue-800 font-bold text-lg mb-2",children:" PDF Document"}),t.jsx("p",{className:"text-blue-600 text-sm mb-4",children:"This is a PDF file. Click the download button to view."}),t.jsx("div",{className:"bg-white/50 rounded-lg px-4 py-2 inline-block",children:t.jsx("span",{className:"text-blue-700 font-medium",children:N==null?void 0:N.originalName})})]})}):t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-amber-300 rounded-xl bg-gradient-to-br from-amber-50 to-orange-50 mb-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-amber-100 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-amber-600"})}),t.jsx("p",{className:"text-amber-800 font-bold text-lg mb-2",children:" Document File"}),t.jsx("p",{className:"text-amber-600 text-sm mb-4",children:"This file type is not previewable. Click download to view."}),t.jsx("div",{className:"bg-white/50 rounded-lg px-4 py-2 inline-block",children:t.jsx("span",{className:"text-amber-700 font-medium",children:N==null?void 0:N.originalName})})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Filename"}),t.jsx("p",{className:"font-semibold text-gray-800",children:N.originalName})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Size"}),t.jsxs("p",{className:"font-semibold text-gray-800",children:[(N.fileSize/1024).toFixed(2)," KB"]})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Type"}),t.jsx("p",{className:"font-semibold text-gray-800",children:N.mimeType})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Uploaded"}),t.jsx("p",{className:"font-semibold text-gray-800",children:new Date(N.uploadedAt).toLocaleDateString()})]})]})]})}):n.receiptUrl?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-blue-300 rounded-xl bg-gradient-to-br from-blue-50 to-cyan-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-blue-100 rounded-full inline-block mb-4",children:t.jsx(X0,{className:"h-12 w-12 text-blue-600"})}),n.receiptUrl.startsWith("file://")?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-orange-700 font-semibold text-lg",children:" Local File Receipt"}),t.jsx("p",{className:"text-orange-600 text-sm mb-4",children:"This receipt is stored locally on your computer"}),t.jsxs("p",{className:"text-gray-600 text-xs mb-4",children:["File path: ",n.receiptUrl.replace("file:///","")]}),t.jsx(se,{onClick:()=>alert("Please open this file directly from your file system: "+(n.receiptUrl||"").replace("file:///","")),className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white font-semibold px-6 py-2 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:" Open Local File"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-blue-700 font-semibold text-lg",children:" External Receipt"}),t.jsx("p",{className:"text-blue-600 text-sm mb-4",children:"Receipt is stored at an external location"}),t.jsx(se,{onClick:()=>window.open(n.receiptUrl,"_blank"),className:"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white font-semibold px-6 py-2 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:" View External Receipt"})]})]})}):null]})]})," "]})," "]})})}):null}var kg="Checkbox",[OG,gX]=xi(kg),[MG,sj]=OG(kg);function _G(e){const{__scopeCheckbox:s,checked:n,children:a,defaultChecked:r,disabled:l,form:c,name:u,onCheckedChange:m,required:p,value:f="on",internal_do_not_use_render:g}=e,[v,w]=dl({prop:n,defaultProp:r??!1,onChange:m,caller:kg}),[N,j]=x.useState(null),[S,E]=x.useState(null),T=x.useRef(!1),C=N?!!c||!!N.closest("form"):!0,P={checked:v,disabled:l,setChecked:w,control:N,setControl:j,name:u,form:c,value:f,hasConsumerStoppedPropagationRef:T,required:p,defaultChecked:cl(r)?!1:r,isFormControl:C,bubbleInput:S,setBubbleInput:E};return t.jsx(MG,{scope:s,...P,children:LG(g)?g(P):a})}var tR="CheckboxTrigger",sR=x.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:n,...a},r)=>{const{control:l,value:c,disabled:u,checked:m,required:p,setControl:f,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:N}=sj(tR,e),j=Ms(r,f),S=x.useRef(m);return x.useEffect(()=>{const E=l==null?void 0:l.form;if(E){const T=()=>g(S.current);return E.addEventListener("reset",T),()=>E.removeEventListener("reset",T)}},[l,g]),t.jsx(Ot.button,{type:"button",role:"checkbox","aria-checked":cl(m)?"mixed":m,"aria-required":p,"data-state":oR(m),"data-disabled":u?"":void 0,disabled:u,value:c,...a,ref:j,onKeyDown:At(s,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:At(n,E=>{g(T=>cl(T)?!0:!T),N&&w&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})})});sR.displayName=tR;var aj=x.forwardRef((e,s)=>{const{__scopeCheckbox:n,name:a,checked:r,defaultChecked:l,required:c,disabled:u,value:m,onCheckedChange:p,form:f,...g}=e;return t.jsx(_G,{__scopeCheckbox:n,checked:r,defaultChecked:l,disabled:u,required:c,onCheckedChange:p,name:a,form:f,value:m,internal_do_not_use_render:({isFormControl:v})=>t.jsxs(t.Fragment,{children:[t.jsx(sR,{...g,ref:s,__scopeCheckbox:n}),v&&t.jsx(iR,{__scopeCheckbox:n})]})})});aj.displayName=kg;var aR="CheckboxIndicator",nR=x.forwardRef((e,s)=>{const{__scopeCheckbox:n,forceMount:a,...r}=e,l=sj(aR,n);return t.jsx(lo,{present:a||cl(l.checked)||l.checked===!0,children:t.jsx(Ot.span,{"data-state":oR(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...e.style}})})});nR.displayName=aR;var rR="CheckboxBubbleInput",iR=x.forwardRef(({__scopeCheckbox:e,...s},n)=>{const{control:a,hasConsumerStoppedPropagationRef:r,checked:l,defaultChecked:c,required:u,disabled:m,name:p,value:f,form:g,bubbleInput:v,setBubbleInput:w}=sj(rR,e),N=Ms(n,w),j=XI(l),S=UI(a);x.useEffect(()=>{const T=v;if(!T)return;const C=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(C,"checked").set,A=!r.current;if(j!==l&&D){const R=new Event("click",{bubbles:A});T.indeterminate=cl(l),D.call(T,cl(l)?!1:l),T.dispatchEvent(R)}},[v,j,l,r]);const E=x.useRef(cl(l)?!1:l);return t.jsx(Ot.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??E.current,required:u,disabled:m,name:p,value:f,form:g,...s,tabIndex:-1,ref:N,style:{...s.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iR.displayName=rR;function LG(e){return typeof e=="function"}function cl(e){return e==="indeterminate"}function oR(e){return cl(e)?"indeterminate":e?"checked":"unchecked"}const lR=x.forwardRef(({className:e,...s},n)=>t.jsx(aj,{ref:n,className:Xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(nR,{className:Xe("flex items-center justify-center text-current"),children:t.jsx(an,{className:"h-4 w-4"})})}));lR.displayName=aj.displayName;function FG({className:e,propertyId:s,startDate:n,endDate:a}){var P,D;const{getAuthenticatedBackend:r,user:l}=$s(),{toast:c}=da(),u=za(),[m,p]=x.useState(new Set),{data:f,isLoading:g,error:v}=Xt({queryKey:["today-pending-transactions",s,n,a],queryFn:async()=>{const A=new URLSearchParams;s&&s!=="all"&&A.append("propertyId",s),n&&A.append("startDate",n),a&&A.append("endDate",a);const R=r();if(!R)throw new Error("Not authenticated");return await R.finance.getTodayPendingTransactions({propertyId:s&&s!=="all"?parseInt(s):void 0,startDate:n,endDate:a})},refetchInterval:!1,staleTime:0,gcTime:3e5,refetchOnMount:!0}),w=vs({mutationFn:async({transactionIds:A,action:R})=>{const F=r();if(!F)throw new Error("Not authenticated");try{return await F.finance.bulkApproveTransactions({transactionIds:A,transactionType:"all",action:R})}catch(z){throw console.error("Bulk approval error:",z),new Error(z.message||`Failed to ${R} transactions`)}},onMutate:async({transactionIds:A,action:R})=>{await u.cancelQueries({queryKey:["today-pending-transactions"]});const F=u.getQueryData(["today-pending-transactions"]);return u.setQueryData(["today-pending-transactions"],z=>z!=null&&z.transactions?{...z,transactions:z.transactions.filter(J=>!A.includes(J.id))}:z),{previousTransactions:F}},onSuccess:(A,R)=>{const F=R.action==="approve"?"approved":"rejected",z=R.action==="approve"?A.results.approved:A.results.rejected,J=R.action==="approve"?"approved":"rejected";c({title:`Transactions ${F}`,description:`${z} transactions have been ${F} successfully.`}),p(new Set),u.setQueriesData({queryKey:["revenues"]},K=>K!=null&&K.revenues?{...K,revenues:K.revenues.map(X=>R.transactionIds.includes(X.id)?{...X,status:J,approvedAt:new Date().toISOString()}:X)}:K),u.setQueriesData({queryKey:["expenses"]},K=>K!=null&&K.expenses?{...K,expenses:K.expenses.map(X=>R.transactionIds.includes(X.id)?{...X,status:J,approvedAt:new Date().toISOString()}:X)}:K),u.invalidateQueries({queryKey:["today-pending-transactions"]}),u.invalidateQueries({queryKey:["daily-approval-check"]})},onError:(A,R,F)=>{F!=null&&F.previousTransactions&&u.setQueryData(["today-pending-transactions"],F.previousTransactions),c({variant:"destructive",title:"Error",description:A.message||"Failed to process transactions"})}}),N=()=>{if(!(f!=null&&f.transactions))return;const A=f.transactions.map(R=>R.id);p(new Set(A))},j=()=>{p(new Set)},S=(A,R)=>{const F=new Set(m);R?F.add(A):F.delete(A),p(F)},E=A=>{if(m.size===0){c({variant:"destructive",title:"No transactions selected",description:"Please select transactions to approve or reject."});return}w.mutate({transactionIds:Array.from(m),action:A})},T=A=>fu(A,"INR"),C=A=>A==="revenue"?"text-green-600":"text-red-600";return v?t.jsx(Te,{className:`border-l-4 border-l-red-500 ${e}`,children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(is,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error loading pending transactions"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:v.message}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):t.jsx("div",{className:e,children:t.jsxs(Te,{className:"border-none shadow-sm bg-white rounded-3xl lg:bg-white/70 lg:backdrop-blur-xl lg:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.1)] lg:border-white/20 transition-all duration-300",children:[t.jsxs(Qe,{className:"pb-2 pt-6 px-6 lg:px-8 lg:pt-8",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-1",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full shadow-sm animate-pulse lg:w-4 lg:h-4"}),t.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-gray-900 tracking-tight",children:["Daily Approval",t.jsx("span",{className:"lg:hidden",children:t.jsx("br",{})}),t.jsx("span",{className:"lg:ml-2",children:"Manager"})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsx(Lt,{variant:"secondary",className:"bg-blue-50 text-blue-600 hover:bg-blue-100 border-none rounded-full px-3 py-1 text-xs font-semibold tracking-wide lg:text-sm lg:px-4 lg:py-1.5 transition-colors",children:"Admin Only"})})]}),t.jsxs(Dt,{className:"text-gray-500 text-sm leading-relaxed mt-2 max-w-sm lg:max-w-none lg:text-base",children:["Review and approve pending transactions from managers and staff",s&&s!=="all"||n||a?t.jsxs("span",{className:"block mt-2 text-xs font-medium text-blue-600 bg-blue-50 p-2 rounded-lg lg:inline-block lg:ml-2 lg:mt-0",children:["Filtered by: ",s&&s!=="all"?`Property ${s}`:"",n&&a?`  ${n} to ${a}`:"",n&&!a?`  From ${n}`:"",!n&&a?`  Until ${a}`:""]}):null]})]}),t.jsxs(ke,{className:"px-6 pb-6 space-y-8 lg:px-8 lg:pb-8",children:[t.jsxs("div",{className:"flex flex-col gap-3 mt-4 lg:flex-row lg:items-center lg:bg-white/50 lg:p-1.5 lg:rounded-2xl lg:border lg:border-gray-100/50",children:[t.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[t.jsxs(se,{variant:"outline",onClick:N,disabled:g||!((P=f==null?void 0:f.transactions)!=null&&P.length),className:"h-12 flex-1 lg:flex-none lg:h-10 lg:px-4 justify-center lg:justify-start font-medium text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900 hover:border-gray-300 rounded-xl lg:rounded-xl transition-all duration-200 lg:bg-white lg:shadow-sm",children:[t.jsx(Lh,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2 text-gray-400"}),t.jsx("span",{className:"lg:hidden",children:"Select All"}),t.jsx("span",{className:"hidden lg:inline",children:"All"})]}),t.jsxs(se,{variant:"outline",onClick:j,disabled:m.size===0,className:"h-12 flex-1 lg:flex-none lg:h-10 lg:px-4 justify-center lg:justify-start font-medium text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900 hover:border-gray-300 rounded-xl lg:rounded-xl transition-all duration-200 lg:bg-white lg:shadow-sm",children:[t.jsx(Ws,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2 text-gray-400"}),t.jsx("span",{className:"lg:hidden",children:"Clear"}),t.jsx("span",{className:"hidden lg:inline",children:"Clear"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 lg:pt-0 lg:flex lg:ml-auto w-full lg:w-auto",children:[t.jsxs(se,{onClick:()=>E("approve"),disabled:m.size===0||w.isPending,className:"h-12 lg:h-10 w-full lg:w-auto font-semibold text-white bg-green-500 hover:bg-green-600 shadow-sm active:scale-[0.98] rounded-xl transition-all duration-200 lg:px-6",children:[w.isPending?t.jsx(mt,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2 animate-spin"}):t.jsx(an,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2"}),t.jsxs("span",{className:"lg:hidden",children:["Approve (",m.size,")"]}),t.jsxs("span",{className:"hidden lg:inline",children:["Approve Selected (",m.size,")"]})]}),t.jsxs(se,{onClick:()=>E("reject"),disabled:m.size===0||w.isPending,className:"h-12 lg:h-10 w-full lg:w-auto font-semibold text-white bg-red-500 hover:bg-red-600 shadow-sm active:scale-[0.98] rounded-xl transition-all duration-200 lg:px-6",children:[w.isPending?t.jsx(mt,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2 animate-spin"}):t.jsx(Ws,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2"}),t.jsxs("span",{className:"lg:hidden",children:["Reject (",m.size,")"]}),t.jsxs("span",{className:"hidden lg:inline",children:["Reject Selected (",m.size,")"]})]})]})]}),g?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-16 text-center bg-gray-50 lg:bg-gray-50/50 rounded-2xl border border-gray-100 lg:border-dashed",children:[t.jsx(mt,{className:"h-8 w-8 lg:h-10 lg:w-10 animate-spin text-blue-500 mb-3"}),t.jsx("p",{className:"text-sm lg:text-base font-medium text-gray-900",children:"Loading transactions..."})]}):(D=f==null?void 0:f.transactions)!=null&&D.length?t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-between px-1",children:t.jsxs("h3",{className:"text-sm lg:text-base font-semibold text-gray-900",children:["Pending Transactions (",f.transactions.length,")"]})}),t.jsxs("div",{className:"hidden lg:grid grid-cols-12 gap-4 px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[t.jsx("div",{className:"col-span-1",children:"Select"}),t.jsx("div",{className:"col-span-4",children:"Details"}),t.jsx("div",{className:"col-span-3",children:"Property"}),t.jsx("div",{className:"col-span-2",children:"Submitted By"}),t.jsx("div",{className:"col-span-2 text-right",children:"Amount"})]}),t.jsx("div",{className:"space-y-3",children:f.transactions.map(A=>t.jsx("div",{className:`
                      relative group border rounded-2xl p-4 transition-all duration-300
                      ${m.has(A.id)?"bg-blue-50/50 border-blue-200 shadow-sm lg:bg-blue-50/30":"bg-white border-gray-100 hover:border-gray-200 lg:hover:bg-white/60 lg:hover:shadow-md lg:hover:-translate-y-0.5"}
                      /* Desktop Grid Layout Override */
                      lg:grid lg:grid-cols-12 lg:gap-4 lg:items-center lg:py-3 lg:px-4
                    `,children:t.jsxs("div",{className:"flex items-start gap-4 lg:contents",children:[t.jsx("div",{className:"lg:col-span-1 flex items-center",children:t.jsx(lR,{checked:m.has(A.id),onCheckedChange:R=>S(A.id,R),className:"mt-1 lg:mt-0 h-5 w-5 border-2 border-gray-300 data-[state=checked]:border-blue-500 data-[state=checked]:bg-blue-500 rounded-md transition-all"})}),t.jsxs("div",{className:"flex-1 min-w-0 lg:col-span-4 lg:flex lg:flex-col lg:justify-center",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1.5 lg:mb-0.5",children:[t.jsx("h4",{className:"font-semibold text-gray-900 capitalize truncate text-sm lg:text-base",children:A.category||A.source}),t.jsx("span",{className:`text-[10px] lg:text-[11px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded ${A.type==="revenue"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:A.type})]}),t.jsx("p",{className:"text-xs text-gray-500 mb-2 truncate font-medium lg:hidden",children:A.propertyName})]}),t.jsxs("div",{className:"hidden lg:col-span-3 lg:flex items-center text-sm text-gray-600 font-medium",children:[t.jsx(ca,{className:"h-3.5 w-3.5 mr-2 text-gray-400"}),A.propertyName]}),t.jsxs("div",{className:"hidden lg:col-span-2 lg:flex flex-col justify-center text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center mb-1",children:[t.jsx(Ya,{className:"h-3 w-3 mr-1.5 text-gray-400"}),A.createdByName]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1.5 text-gray-400"}),Zf(A.createdAt).split(" ")[0]]})]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400 lg:hidden",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Ya,{className:"h-3 w-3 mr-1"}),A.createdByName]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1"}),Zf(A.createdAt).split(" ")[0]]})]}),t.jsxs("div",{className:"text-right lg:col-span-2 lg:flex lg:flex-col lg:items-end lg:justify-center",children:[t.jsx("span",{className:`block font-bold ${C(A.type)} lg:text-base`,children:T(A.amountCents)}),A.receiptUrl&&t.jsxs("span",{className:"inline-flex items-center text-[10px] font-medium text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded mt-1 lg:mt-0.5",children:[t.jsx(Cn,{className:"h-3 w-3 mr-1"}),"Receipt"]})]})]})},`${A.type}-${A.id}`))})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-16 text-center bg-green-50/50 lg:bg-green-50/30 rounded-2xl border border-green-100/50 lg:border-green-100/30",children:[t.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-green-100 rounded-full flex items-center justify-center mb-3",children:t.jsx(Lh,{className:"h-6 w-6 lg:h-8 lg:w-8 text-green-600"})}),t.jsx("p",{className:"text-sm lg:text-lg font-medium text-gray-900",children:"All Clear!"}),t.jsx("p",{className:"text-xs lg:text-sm text-gray-500 mt-1 max-w-[200px] lg:max-w-md",children:"No pending transactions to review right now. Great job!"})]})]})]})})}function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},oo(e)}function Un(e){if(e===null||e===!0||e===!1)return NaN;var s=Number(e);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}function Zs(e,s){if(s.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+s.length+" present")}function Ea(e){Zs(1,arguments);var s=Object.prototype.toString.call(e);return e instanceof Date||oo(e)==="object"&&s==="[object Date]"?new Date(e.getTime()):typeof e=="number"||s==="[object Number]"?new Date(e):((typeof e=="string"||s==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function UG(e,s){Zs(2,arguments);var n=Ea(e).getTime(),a=Un(s);return new Date(n+a)}var VG={};function gu(){return VG}function cR(e){var s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),e.getTime()-s.getTime()}function V2(e){Zs(1,arguments);var s=Ea(e);return s.setHours(0,0,0,0),s}var BG=6e4,zG=36e5,qG=1e3;function B2(e,s){Zs(2,arguments);var n=V2(e),a=V2(s);return n.getTime()===a.getTime()}function $G(e){return Zs(1,arguments),e instanceof Date||oo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dR(e){if(Zs(1,arguments),!$G(e)&&typeof e!="number")return!1;var s=Ea(e);return!isNaN(Number(s))}function uR(e,s){Zs(2,arguments);var n=Un(s);return UG(e,-n)}var GG=864e5;function HG(e){Zs(1,arguments);var s=Ea(e),n=s.getTime();s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0);var a=s.getTime(),r=n-a;return Math.floor(r/GG)+1}function Jd(e){Zs(1,arguments);var s=1,n=Ea(e),a=n.getUTCDay(),r=(a<s?7:0)+a-s;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function hR(e){Zs(1,arguments);var s=Ea(e),n=s.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var r=Jd(a),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=Jd(l);return s.getTime()>=r.getTime()?n+1:s.getTime()>=c.getTime()?n:n-1}function YG(e){Zs(1,arguments);var s=hR(e),n=new Date(0);n.setUTCFullYear(s,0,4),n.setUTCHours(0,0,0,0);var a=Jd(n);return a}var WG=6048e5;function mR(e){Zs(1,arguments);var s=Ea(e),n=Jd(s).getTime()-YG(s).getTime();return Math.round(n/WG)+1}function jc(e,s){var n,a,r,l,c,u,m,p;Zs(1,arguments);var f=gu(),g=Un((n=(a=(r=(l=s==null?void 0:s.weekStartsOn)!==null&&l!==void 0?l:s==null||(c=s.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:f.weekStartsOn)!==null&&a!==void 0?a:(m=f.locale)===null||m===void 0||(p=m.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&n!==void 0?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Ea(e),w=v.getUTCDay(),N=(w<g?7:0)+w-g;return v.setUTCDate(v.getUTCDate()-N),v.setUTCHours(0,0,0,0),v}function nj(e,s){var n,a,r,l,c,u,m,p;Zs(1,arguments);var f=Ea(e),g=f.getUTCFullYear(),v=gu(),w=Un((n=(a=(r=(l=s==null?void 0:s.firstWeekContainsDate)!==null&&l!==void 0?l:s==null||(c=s.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:v.firstWeekContainsDate)!==null&&a!==void 0?a:(m=v.locale)===null||m===void 0||(p=m.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=new Date(0);N.setUTCFullYear(g+1,0,w),N.setUTCHours(0,0,0,0);var j=jc(N,s),S=new Date(0);S.setUTCFullYear(g,0,w),S.setUTCHours(0,0,0,0);var E=jc(S,s);return f.getTime()>=j.getTime()?g+1:f.getTime()>=E.getTime()?g:g-1}function KG(e,s){var n,a,r,l,c,u,m,p;Zs(1,arguments);var f=gu(),g=Un((n=(a=(r=(l=s==null?void 0:s.firstWeekContainsDate)!==null&&l!==void 0?l:s==null||(c=s.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:f.firstWeekContainsDate)!==null&&a!==void 0?a:(m=f.locale)===null||m===void 0||(p=m.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&n!==void 0?n:1),v=nj(e,s),w=new Date(0);w.setUTCFullYear(v,0,g),w.setUTCHours(0,0,0,0);var N=jc(w,s);return N}var QG=6048e5;function pR(e,s){Zs(1,arguments);var n=Ea(e),a=jc(n,s).getTime()-KG(n,s).getTime();return Math.round(a/QG)+1}function Cs(e,s){for(var n=e<0?"-":"",a=Math.abs(e).toString();a.length<s;)a="0"+a;return n+a}var zo={y:function(s,n){var a=s.getUTCFullYear(),r=a>0?a:1-a;return Cs(n==="yy"?r%100:r,n.length)},M:function(s,n){var a=s.getUTCMonth();return n==="M"?String(a+1):Cs(a+1,2)},d:function(s,n){return Cs(s.getUTCDate(),n.length)},a:function(s,n){var a=s.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(s,n){return Cs(s.getUTCHours()%12||12,n.length)},H:function(s,n){return Cs(s.getUTCHours(),n.length)},m:function(s,n){return Cs(s.getUTCMinutes(),n.length)},s:function(s,n){return Cs(s.getUTCSeconds(),n.length)},S:function(s,n){var a=n.length,r=s.getUTCMilliseconds(),l=Math.floor(r*Math.pow(10,a-3));return Cs(l,n.length)}},ud={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JG={G:function(s,n,a){var r=s.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(s,n,a){if(n==="yo"){var r=s.getUTCFullYear(),l=r>0?r:1-r;return a.ordinalNumber(l,{unit:"year"})}return zo.y(s,n)},Y:function(s,n,a,r){var l=nj(s,r),c=l>0?l:1-l;if(n==="YY"){var u=c%100;return Cs(u,2)}return n==="Yo"?a.ordinalNumber(c,{unit:"year"}):Cs(c,n.length)},R:function(s,n){var a=hR(s);return Cs(a,n.length)},u:function(s,n){var a=s.getUTCFullYear();return Cs(a,n.length)},Q:function(s,n,a){var r=Math.ceil((s.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Cs(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(s,n,a){var r=Math.ceil((s.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Cs(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(s,n,a){var r=s.getUTCMonth();switch(n){case"M":case"MM":return zo.M(s,n);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(s,n,a){var r=s.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return Cs(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(s,n,a,r){var l=pR(s,r);return n==="wo"?a.ordinalNumber(l,{unit:"week"}):Cs(l,n.length)},I:function(s,n,a){var r=mR(s);return n==="Io"?a.ordinalNumber(r,{unit:"week"}):Cs(r,n.length)},d:function(s,n,a){return n==="do"?a.ordinalNumber(s.getUTCDate(),{unit:"date"}):zo.d(s,n)},D:function(s,n,a){var r=HG(s);return n==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Cs(r,n.length)},E:function(s,n,a){var r=s.getUTCDay();switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(s,n,a,r){var l=s.getUTCDay(),c=(l-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(c);case"ee":return Cs(c,2);case"eo":return a.ordinalNumber(c,{unit:"day"});case"eee":return a.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"});case"eeee":default:return a.day(l,{width:"wide",context:"formatting"})}},c:function(s,n,a,r){var l=s.getUTCDay(),c=(l-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(c);case"cc":return Cs(c,n.length);case"co":return a.ordinalNumber(c,{unit:"day"});case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"});case"cccc":default:return a.day(l,{width:"wide",context:"standalone"})}},i:function(s,n,a){var r=s.getUTCDay(),l=r===0?7:r;switch(n){case"i":return String(l);case"ii":return Cs(l,n.length);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(s,n,a){var r=s.getUTCHours(),l=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(s,n,a){var r=s.getUTCHours(),l;switch(r===12?l=ud.noon:r===0?l=ud.midnight:l=r/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(s,n,a){var r=s.getUTCHours(),l;switch(r>=17?l=ud.evening:r>=12?l=ud.afternoon:r>=4?l=ud.morning:l=ud.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(s,n,a){if(n==="ho"){var r=s.getUTCHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return zo.h(s,n)},H:function(s,n,a){return n==="Ho"?a.ordinalNumber(s.getUTCHours(),{unit:"hour"}):zo.H(s,n)},K:function(s,n,a){var r=s.getUTCHours()%12;return n==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Cs(r,n.length)},k:function(s,n,a){var r=s.getUTCHours();return r===0&&(r=24),n==="ko"?a.ordinalNumber(r,{unit:"hour"}):Cs(r,n.length)},m:function(s,n,a){return n==="mo"?a.ordinalNumber(s.getUTCMinutes(),{unit:"minute"}):zo.m(s,n)},s:function(s,n,a){return n==="so"?a.ordinalNumber(s.getUTCSeconds(),{unit:"second"}):zo.s(s,n)},S:function(s,n){return zo.S(s,n)},X:function(s,n,a,r){var l=r._originalDate||s,c=l.getTimezoneOffset();if(c===0)return"Z";switch(n){case"X":return q2(c);case"XXXX":case"XX":return Yl(c);case"XXXXX":case"XXX":default:return Yl(c,":")}},x:function(s,n,a,r){var l=r._originalDate||s,c=l.getTimezoneOffset();switch(n){case"x":return q2(c);case"xxxx":case"xx":return Yl(c);case"xxxxx":case"xxx":default:return Yl(c,":")}},O:function(s,n,a,r){var l=r._originalDate||s,c=l.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+z2(c,":");case"OOOO":default:return"GMT"+Yl(c,":")}},z:function(s,n,a,r){var l=r._originalDate||s,c=l.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+z2(c,":");case"zzzz":default:return"GMT"+Yl(c,":")}},t:function(s,n,a,r){var l=r._originalDate||s,c=Math.floor(l.getTime()/1e3);return Cs(c,n.length)},T:function(s,n,a,r){var l=r._originalDate||s,c=l.getTime();return Cs(c,n.length)}};function z2(e,s){var n=e>0?"-":"+",a=Math.abs(e),r=Math.floor(a/60),l=a%60;if(l===0)return n+String(r);var c=s;return n+String(r)+c+Cs(l,2)}function q2(e,s){if(e%60===0){var n=e>0?"-":"+";return n+Cs(Math.abs(e)/60,2)}return Yl(e,s)}function Yl(e,s){var n=s||"",a=e>0?"-":"+",r=Math.abs(e),l=Cs(Math.floor(r/60),2),c=Cs(r%60,2);return a+l+n+c}var $2=function(s,n){switch(s){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},fR=function(s,n){switch(s){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},XG=function(s,n){var a=s.match(/(P+)(p+)?/)||[],r=a[1],l=a[2];if(!l)return $2(s,n);var c;switch(r){case"P":c=n.dateTime({width:"short"});break;case"PP":c=n.dateTime({width:"medium"});break;case"PPP":c=n.dateTime({width:"long"});break;case"PPPP":default:c=n.dateTime({width:"full"});break}return c.replace("{{date}}",$2(r,n)).replace("{{time}}",fR(l,n))},xb={p:fR,P:XG},ZG=["D","DD"],eH=["YY","YYYY"];function gR(e){return ZG.indexOf(e)!==-1}function xR(e){return eH.indexOf(e)!==-1}function eg(e,s,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(s,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(s,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(s,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(s,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var tH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sH=function(s,n,a){var r,l=tH[s];return typeof l=="string"?r=l:n===1?r=l.one:r=l.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function b0(e){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=s.width?String(s.width):e.defaultWidth,a=e.formats[n]||e.formats[e.defaultWidth];return a}}var aH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iH={date:b0({formats:aH,defaultWidth:"full"}),time:b0({formats:nH,defaultWidth:"full"}),dateTime:b0({formats:rH,defaultWidth:"full"})},oH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lH=function(s,n,a,r){return oH[s]};function fh(e){return function(s,n){var a=n!=null&&n.context?String(n.context):"standalone",r;if(a==="formatting"&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;r=e.formattingValues[c]||e.formattingValues[l]}else{var u=e.defaultWidth,m=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[m]||e.values[u]}var p=e.argumentCallback?e.argumentCallback(s):s;return r[p]}}var cH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fH=function(s,n){var a=Number(s),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},gH={ordinalNumber:fH,era:fh({values:cH,defaultWidth:"wide"}),quarter:fh({values:dH,defaultWidth:"wide",argumentCallback:function(s){return s-1}}),month:fh({values:uH,defaultWidth:"wide"}),day:fh({values:hH,defaultWidth:"wide"}),dayPeriod:fh({values:mH,defaultWidth:"wide",formattingValues:pH,defaultFormattingWidth:"wide"})};function gh(e){return function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],l=s.match(r);if(!l)return null;var c=l[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(u)?yH(u,function(g){return g.test(c)}):xH(u,function(g){return g.test(c)}),p;p=e.valueCallback?e.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;var f=s.slice(c.length);return{value:p,rest:f}}}function xH(e,s){for(var n in e)if(e.hasOwnProperty(n)&&s(e[n]))return n}function yH(e,s){for(var n=0;n<e.length;n++)if(s(e[n]))return n}function vH(e){return function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.match(e.matchPattern);if(!a)return null;var r=a[0],l=s.match(e.parsePattern);if(!l)return null;var c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;var u=s.slice(r.length);return{value:c,rest:u}}}var bH=/^(\d+)(th|st|nd|rd)?/i,wH=/\d+/i,jH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NH={any:[/^b/i,/^(a|c)/i]},SH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CH={any:[/1/i,/2/i,/3/i,/4/i]},TH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PH={ordinalNumber:vH({matchPattern:bH,parsePattern:wH,valueCallback:function(s){return parseInt(s,10)}}),era:gh({matchPatterns:jH,defaultMatchWidth:"wide",parsePatterns:NH,defaultParseWidth:"any"}),quarter:gh({matchPatterns:SH,defaultMatchWidth:"wide",parsePatterns:CH,defaultParseWidth:"any",valueCallback:function(s){return s+1}}),month:gh({matchPatterns:TH,defaultMatchWidth:"wide",parsePatterns:kH,defaultParseWidth:"any"}),day:gh({matchPatterns:EH,defaultMatchWidth:"wide",parsePatterns:AH,defaultParseWidth:"any"}),dayPeriod:gh({matchPatterns:DH,defaultMatchWidth:"any",parsePatterns:IH,defaultParseWidth:"any"})},yR={code:"en-US",formatDistance:sH,formatLong:iH,formatRelative:lH,localize:gH,match:PH,options:{weekStartsOn:0,firstWeekContainsDate:1}},RH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MH=/^'([^]*?)'?$/,_H=/''/g,LH=/[a-zA-Z]/;function Cf(e,s,n){var a,r,l,c,u,m,p,f,g,v,w,N,j,S;Zs(2,arguments);var E=String(s),T=gu(),C=(a=(r=void 0)!==null&&r!==void 0?r:T.locale)!==null&&a!==void 0?a:yR,P=Un((l=(c=(u=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&u!==void 0?u:T.firstWeekContainsDate)!==null&&c!==void 0?c:(p=T.locale)===null||p===void 0||(f=p.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=Un((g=(v=(w=(N=void 0)!==null&&N!==void 0?N:void 0)!==null&&w!==void 0?w:T.weekStartsOn)!==null&&v!==void 0?v:(j=T.locale)===null||j===void 0||(S=j.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&g!==void 0?g:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var A=Ea(e);if(!dR(A))throw new RangeError("Invalid time value");var R=cR(A),F=uR(A,R),z={firstWeekContainsDate:P,weekStartsOn:D,locale:C,_originalDate:A},J=E.match(OH).map(function(K){var X=K[0];if(X==="p"||X==="P"){var ce=xb[X];return ce(K,C.formatLong)}return K}).join("").match(RH).map(function(K){if(K==="''")return"'";var X=K[0];if(X==="'")return FH(K);var ce=JG[X];if(ce)return xR(K)&&eg(K,s,String(e)),gR(K)&&eg(K,s,String(e)),ce(F,K,C.localize,z);if(X.match(LH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return K}).join("");return J}function FH(e){var s=e.match(MH);return s?s[1].replace(_H,"'"):e}function UH(e,s){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);return e}function VH(e,s){Zs(2,arguments);var n=Ea(e),a=Ea(s);return n.getTime()>a.getTime()}function BH(e,s){Zs(2,arguments);var n=Ea(e),a=Ea(s);return n.getTime()<a.getTime()}function G2(e,s){(s==null||s>e.length)&&(s=e.length);for(var n=0,a=Array(s);n<s;n++)a[n]=e[n];return a}function zH(e,s){if(e){if(typeof e=="string")return G2(e,s);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G2(e,s):void 0}}function H2(e,s){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zH(e))||s){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(p){throw p},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var p=n.next();return c=p.done,p},e:function(p){u=!0,l=p},f:function(){try{c||n.return==null||n.return()}finally{if(u)throw l}}}}function ot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yb(e,s){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yb(e,s)}function ds(e,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&yb(e,s)}function tg(e){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},tg(e)}function vR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vR=function(){return!!e})()}function qH(e,s){if(s&&(oo(s)=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ot(e)}function us(e){var s=vR();return function(){var n,a=tg(e);if(s){var r=tg(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return qH(this,n)}}function os(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function $H(e,s){if(oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,s);if(oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(e)}function bR(e){var s=$H(e,"string");return oo(s)=="symbol"?s:s+""}function GH(e,s){for(var n=0;n<s.length;n++){var a=s[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bR(a.key),a)}}function ls(e,s,n){return s&&GH(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ze(e,s,n){return(s=bR(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}var HH=10,wR=(function(){function e(){os(this,e),Ze(this,"priority",void 0),Ze(this,"subPriority",0)}return ls(e,[{key:"validate",value:function(n,a){return!0}}]),e})(),YH=(function(e){ds(n,e);var s=us(n);function n(a,r,l,c,u){var m;return os(this,n),m=s.call(this),m.value=a,m.validateValue=r,m.setValue=l,m.priority=c,u&&(m.subPriority=u),m}return ls(n,[{key:"validate",value:function(r,l){return this.validateValue(r,this.value,l)}},{key:"set",value:function(r,l,c){return this.setValue(r,l,this.value,c)}}]),n})(wR),WH=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",HH),Ze(ot(a),"subPriority",-1),a}return ls(n,[{key:"set",value:function(r,l){if(l.timestampIsSet)return r;var c=new Date(0);return c.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),c.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),c}}]),n})(wR),gs=(function(){function e(){os(this,e),Ze(this,"incompatibleTokens",void 0),Ze(this,"priority",void 0),Ze(this,"subPriority",void 0)}return ls(e,[{key:"run",value:function(n,a,r,l){var c=this.parse(n,a,r,l);return c?{setter:new YH(c.value,this.validate,this.set,this.priority,this.subPriority),rest:c.rest}:null}},{key:"validate",value:function(n,a,r){return!0}}]),e})(),KH=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",140),Ze(ot(a),"incompatibleTokens",["R","u","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"G":case"GG":case"GGG":return c.era(r,{width:"abbreviated"})||c.era(r,{width:"narrow"});case"GGGGG":return c.era(r,{width:"narrow"});case"GGGG":default:return c.era(r,{width:"wide"})||c.era(r,{width:"abbreviated"})||c.era(r,{width:"narrow"})}}},{key:"set",value:function(r,l,c){return l.era=c,r.setUTCFullYear(c,0,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),Ta={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ni={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ka(e,s){return e&&{value:s(e.value),rest:e.rest}}function la(e,s){var n=s.match(e);return n?{value:parseInt(n[0],10),rest:s.slice(n[0].length)}:null}function ri(e,s){var n=s.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:s.slice(1)};var a=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,l=n[3]?parseInt(n[3],10):0,c=n[5]?parseInt(n[5],10):0;return{value:a*(r*zG+l*BG+c*qG),rest:s.slice(n[0].length)}}function jR(e){return la(Ta.anyDigitsSigned,e)}function ya(e,s){switch(e){case 1:return la(Ta.singleDigit,s);case 2:return la(Ta.twoDigits,s);case 3:return la(Ta.threeDigits,s);case 4:return la(Ta.fourDigits,s);default:return la(new RegExp("^\\d{1,"+e+"}"),s)}}function sg(e,s){switch(e){case 1:return la(Ta.singleDigitSigned,s);case 2:return la(Ta.twoDigitsSigned,s);case 3:return la(Ta.threeDigitsSigned,s);case 4:return la(Ta.fourDigitsSigned,s);default:return la(new RegExp("^-?\\d{1,"+e+"}"),s)}}function rj(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function NR(e,s){var n=s>0,a=n?s:1-s,r;if(a<=50)r=e||100;else{var l=a+50,c=Math.floor(l/100)*100,u=e>=l%100;r=e+c-(u?100:0)}return n?r:1-r}function SR(e){return e%400===0||e%4===0&&e%100!==0}var QH=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",130),Ze(ot(a),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(p){return{year:p,isTwoDigitYear:l==="yy"}};switch(l){case"y":return ka(ya(4,r),u);case"yo":return ka(c.ordinalNumber(r,{unit:"year"}),u);default:return ka(ya(l.length,r),u)}}},{key:"validate",value:function(r,l){return l.isTwoDigitYear||l.year>0}},{key:"set",value:function(r,l,c){var u=r.getUTCFullYear();if(c.isTwoDigitYear){var m=NR(c.year,u);return r.setUTCFullYear(m,0,1),r.setUTCHours(0,0,0,0),r}var p=!("era"in l)||l.era===1?c.year:1-c.year;return r.setUTCFullYear(p,0,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),JH=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",130),Ze(ot(a),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(p){return{year:p,isTwoDigitYear:l==="YY"}};switch(l){case"Y":return ka(ya(4,r),u);case"Yo":return ka(c.ordinalNumber(r,{unit:"year"}),u);default:return ka(ya(l.length,r),u)}}},{key:"validate",value:function(r,l){return l.isTwoDigitYear||l.year>0}},{key:"set",value:function(r,l,c,u){var m=nj(r,u);if(c.isTwoDigitYear){var p=NR(c.year,m);return r.setUTCFullYear(p,0,u.firstWeekContainsDate),r.setUTCHours(0,0,0,0),jc(r,u)}var f=!("era"in l)||l.era===1?c.year:1-c.year;return r.setUTCFullYear(f,0,u.firstWeekContainsDate),r.setUTCHours(0,0,0,0),jc(r,u)}}]),n})(gs),XH=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",130),Ze(ot(a),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l){return sg(l==="R"?4:l.length,r)}},{key:"set",value:function(r,l,c){var u=new Date(0);return u.setUTCFullYear(c,0,4),u.setUTCHours(0,0,0,0),Jd(u)}}]),n})(gs),ZH=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",130),Ze(ot(a),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l){return sg(l==="u"?4:l.length,r)}},{key:"set",value:function(r,l,c){return r.setUTCFullYear(c,0,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),eY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",120),Ze(ot(a),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"Q":case"QQ":return ya(l.length,r);case"Qo":return c.ordinalNumber(r,{unit:"quarter"});case"QQQ":return c.quarter(r,{width:"abbreviated",context:"formatting"})||c.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return c.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return c.quarter(r,{width:"wide",context:"formatting"})||c.quarter(r,{width:"abbreviated",context:"formatting"})||c.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,l){return l>=1&&l<=4}},{key:"set",value:function(r,l,c){return r.setUTCMonth((c-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),tY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",120),Ze(ot(a),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"q":case"qq":return ya(l.length,r);case"qo":return c.ordinalNumber(r,{unit:"quarter"});case"qqq":return c.quarter(r,{width:"abbreviated",context:"standalone"})||c.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return c.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return c.quarter(r,{width:"wide",context:"standalone"})||c.quarter(r,{width:"abbreviated",context:"standalone"})||c.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,l){return l>=1&&l<=4}},{key:"set",value:function(r,l,c){return r.setUTCMonth((c-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),sY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ze(ot(a),"priority",110),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(p){return p-1};switch(l){case"M":return ka(la(Ta.month,r),u);case"MM":return ka(ya(2,r),u);case"Mo":return ka(c.ordinalNumber(r,{unit:"month"}),u);case"MMM":return c.month(r,{width:"abbreviated",context:"formatting"})||c.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return c.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return c.month(r,{width:"wide",context:"formatting"})||c.month(r,{width:"abbreviated",context:"formatting"})||c.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=11}},{key:"set",value:function(r,l,c){return r.setUTCMonth(c,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),aY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",110),Ze(ot(a),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(p){return p-1};switch(l){case"L":return ka(la(Ta.month,r),u);case"LL":return ka(ya(2,r),u);case"Lo":return ka(c.ordinalNumber(r,{unit:"month"}),u);case"LLL":return c.month(r,{width:"abbreviated",context:"standalone"})||c.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return c.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return c.month(r,{width:"wide",context:"standalone"})||c.month(r,{width:"abbreviated",context:"standalone"})||c.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=11}},{key:"set",value:function(r,l,c){return r.setUTCMonth(c,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs);function nY(e,s,n){Zs(2,arguments);var a=Ea(e),r=Un(s),l=pR(a,n)-r;return a.setUTCDate(a.getUTCDate()-l*7),a}var rY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",100),Ze(ot(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"w":return la(Ta.week,r);case"wo":return c.ordinalNumber(r,{unit:"week"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=1&&l<=53}},{key:"set",value:function(r,l,c,u){return jc(nY(r,c,u),u)}}]),n})(gs);function iY(e,s){Zs(2,arguments);var n=Ea(e),a=Un(s),r=mR(n)-a;return n.setUTCDate(n.getUTCDate()-r*7),n}var oY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",100),Ze(ot(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"I":return la(Ta.week,r);case"Io":return c.ordinalNumber(r,{unit:"week"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=1&&l<=53}},{key:"set",value:function(r,l,c){return Jd(iY(r,c))}}]),n})(gs),lY=[31,28,31,30,31,30,31,31,30,31,30,31],cY=[31,29,31,30,31,30,31,31,30,31,30,31],dY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"subPriority",1),Ze(ot(a),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"d":return la(Ta.date,r);case"do":return c.ordinalNumber(r,{unit:"date"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){var c=r.getUTCFullYear(),u=SR(c),m=r.getUTCMonth();return u?l>=1&&l<=cY[m]:l>=1&&l<=lY[m]}},{key:"set",value:function(r,l,c){return r.setUTCDate(c),r.setUTCHours(0,0,0,0),r}}]),n})(gs),uY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"subpriority",1),Ze(ot(a),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"D":case"DD":return la(Ta.dayOfYear,r);case"Do":return c.ordinalNumber(r,{unit:"date"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){var c=r.getUTCFullYear(),u=SR(c);return u?l>=1&&l<=366:l>=1&&l<=365}},{key:"set",value:function(r,l,c){return r.setUTCMonth(0,c),r.setUTCHours(0,0,0,0),r}}]),n})(gs);function ij(e,s,n){var a,r,l,c,u,m,p,f;Zs(2,arguments);var g=gu(),v=Un((a=(r=(l=(c=n==null?void 0:n.weekStartsOn)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(m=u.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&l!==void 0?l:g.weekStartsOn)!==null&&r!==void 0?r:(p=g.locale)===null||p===void 0||(f=p.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&a!==void 0?a:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Ea(e),N=Un(s),j=w.getUTCDay(),S=N%7,E=(S+7)%7,T=(E<v?7:0)+N-j;return w.setUTCDate(w.getUTCDate()+T),w}var hY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"incompatibleTokens",["D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"E":case"EE":case"EEE":return c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return c.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return c.day(r,{width:"wide",context:"formatting"})||c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=6}},{key:"set",value:function(r,l,c,u){return r=ij(r,c,u),r.setUTCHours(0,0,0,0),r}}]),n})(gs),mY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c,u){var m=function(f){var g=Math.floor((f-1)/7)*7;return(f+u.weekStartsOn+6)%7+g};switch(l){case"e":case"ee":return ka(ya(l.length,r),m);case"eo":return ka(c.ordinalNumber(r,{unit:"day"}),m);case"eee":return c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"});case"eeeee":return c.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return c.day(r,{width:"wide",context:"formatting"})||c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=6}},{key:"set",value:function(r,l,c,u){return r=ij(r,c,u),r.setUTCHours(0,0,0,0),r}}]),n})(gs),pY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c,u){var m=function(f){var g=Math.floor((f-1)/7)*7;return(f+u.weekStartsOn+6)%7+g};switch(l){case"c":case"cc":return ka(ya(l.length,r),m);case"co":return ka(c.ordinalNumber(r,{unit:"day"}),m);case"ccc":return c.day(r,{width:"abbreviated",context:"standalone"})||c.day(r,{width:"short",context:"standalone"})||c.day(r,{width:"narrow",context:"standalone"});case"ccccc":return c.day(r,{width:"narrow",context:"standalone"});case"cccccc":return c.day(r,{width:"short",context:"standalone"})||c.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return c.day(r,{width:"wide",context:"standalone"})||c.day(r,{width:"abbreviated",context:"standalone"})||c.day(r,{width:"short",context:"standalone"})||c.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=6}},{key:"set",value:function(r,l,c,u){return r=ij(r,c,u),r.setUTCHours(0,0,0,0),r}}]),n})(gs);function fY(e,s){Zs(2,arguments);var n=Un(s);n%7===0&&(n=n-7);var a=1,r=Ea(e),l=r.getUTCDay(),c=n%7,u=(c+7)%7,m=(u<a?7:0)+n-l;return r.setUTCDate(r.getUTCDate()+m),r}var gY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(p){return p===0?7:p};switch(l){case"i":case"ii":return ya(l.length,r);case"io":return c.ordinalNumber(r,{unit:"day"});case"iii":return ka(c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"}),u);case"iiiii":return ka(c.day(r,{width:"narrow",context:"formatting"}),u);case"iiiiii":return ka(c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"}),u);case"iiii":default:return ka(c.day(r,{width:"wide",context:"formatting"})||c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"}),u)}}},{key:"validate",value:function(r,l){return l>=1&&l<=7}},{key:"set",value:function(r,l,c){return r=fY(r,c),r.setUTCHours(0,0,0,0),r}}]),n})(gs),xY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",80),Ze(ot(a),"incompatibleTokens",["b","B","H","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"a":case"aa":case"aaa":return c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return c.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return c.dayPeriod(r,{width:"wide",context:"formatting"})||c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,l,c){return r.setUTCHours(rj(c),0,0,0),r}}]),n})(gs),yY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",80),Ze(ot(a),"incompatibleTokens",["a","B","H","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"b":case"bb":case"bbb":return c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return c.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return c.dayPeriod(r,{width:"wide",context:"formatting"})||c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,l,c){return r.setUTCHours(rj(c),0,0,0),r}}]),n})(gs),vY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",80),Ze(ot(a),"incompatibleTokens",["a","b","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"B":case"BB":case"BBB":return c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return c.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return c.dayPeriod(r,{width:"wide",context:"formatting"})||c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,l,c){return r.setUTCHours(rj(c),0,0,0),r}}]),n})(gs),bY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",70),Ze(ot(a),"incompatibleTokens",["H","K","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"h":return la(Ta.hour12h,r);case"ho":return c.ordinalNumber(r,{unit:"hour"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=1&&l<=12}},{key:"set",value:function(r,l,c){var u=r.getUTCHours()>=12;return u&&c<12?r.setUTCHours(c+12,0,0,0):!u&&c===12?r.setUTCHours(0,0,0,0):r.setUTCHours(c,0,0,0),r}}]),n})(gs),wY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",70),Ze(ot(a),"incompatibleTokens",["a","b","h","K","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"H":return la(Ta.hour23h,r);case"Ho":return c.ordinalNumber(r,{unit:"hour"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=0&&l<=23}},{key:"set",value:function(r,l,c){return r.setUTCHours(c,0,0,0),r}}]),n})(gs),jY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",70),Ze(ot(a),"incompatibleTokens",["h","H","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"K":return la(Ta.hour11h,r);case"Ko":return c.ordinalNumber(r,{unit:"hour"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=0&&l<=11}},{key:"set",value:function(r,l,c){var u=r.getUTCHours()>=12;return u&&c<12?r.setUTCHours(c+12,0,0,0):r.setUTCHours(c,0,0,0),r}}]),n})(gs),NY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",70),Ze(ot(a),"incompatibleTokens",["a","b","h","H","K","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"k":return la(Ta.hour24h,r);case"ko":return c.ordinalNumber(r,{unit:"hour"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=1&&l<=24}},{key:"set",value:function(r,l,c){var u=c<=24?c%24:c;return r.setUTCHours(u,0,0,0),r}}]),n})(gs),SY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",60),Ze(ot(a),"incompatibleTokens",["t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"m":return la(Ta.minute,r);case"mo":return c.ordinalNumber(r,{unit:"minute"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=0&&l<=59}},{key:"set",value:function(r,l,c){return r.setUTCMinutes(c,0,0),r}}]),n})(gs),CY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",50),Ze(ot(a),"incompatibleTokens",["t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"s":return la(Ta.second,r);case"so":return c.ordinalNumber(r,{unit:"second"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=0&&l<=59}},{key:"set",value:function(r,l,c){return r.setUTCSeconds(c,0),r}}]),n})(gs),TY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",30),Ze(ot(a),"incompatibleTokens",["t","T"]),a}return ls(n,[{key:"parse",value:function(r,l){var c=function(m){return Math.floor(m*Math.pow(10,-l.length+3))};return ka(ya(l.length,r),c)}},{key:"set",value:function(r,l,c){return r.setUTCMilliseconds(c),r}}]),n})(gs),kY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",10),Ze(ot(a),"incompatibleTokens",["t","T","x"]),a}return ls(n,[{key:"parse",value:function(r,l){switch(l){case"X":return ri(ni.basicOptionalMinutes,r);case"XX":return ri(ni.basic,r);case"XXXX":return ri(ni.basicOptionalSeconds,r);case"XXXXX":return ri(ni.extendedOptionalSeconds,r);case"XXX":default:return ri(ni.extended,r)}}},{key:"set",value:function(r,l,c){return l.timestampIsSet?r:new Date(r.getTime()-c)}}]),n})(gs),EY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",10),Ze(ot(a),"incompatibleTokens",["t","T","X"]),a}return ls(n,[{key:"parse",value:function(r,l){switch(l){case"x":return ri(ni.basicOptionalMinutes,r);case"xx":return ri(ni.basic,r);case"xxxx":return ri(ni.basicOptionalSeconds,r);case"xxxxx":return ri(ni.extendedOptionalSeconds,r);case"xxx":default:return ri(ni.extended,r)}}},{key:"set",value:function(r,l,c){return l.timestampIsSet?r:new Date(r.getTime()-c)}}]),n})(gs),AY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",40),Ze(ot(a),"incompatibleTokens","*"),a}return ls(n,[{key:"parse",value:function(r){return jR(r)}},{key:"set",value:function(r,l,c){return[new Date(c*1e3),{timestampIsSet:!0}]}}]),n})(gs),DY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",20),Ze(ot(a),"incompatibleTokens","*"),a}return ls(n,[{key:"parse",value:function(r){return jR(r)}},{key:"set",value:function(r,l,c){return[new Date(c),{timestampIsSet:!0}]}}]),n})(gs),IY={G:new KH,y:new QH,Y:new JH,R:new XH,u:new ZH,Q:new eY,q:new tY,M:new sY,L:new aY,w:new rY,I:new oY,d:new dY,D:new uY,E:new hY,e:new mY,c:new pY,i:new gY,a:new xY,b:new yY,B:new vY,h:new bY,H:new wY,K:new jY,k:new NY,m:new SY,s:new CY,S:new TY,X:new kY,x:new EY,t:new AY,T:new DY},PY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OY=/^'([^]*?)'?$/,MY=/''/g,_Y=/\S/,LY=/[a-zA-Z]/;function FY(e,s,n,a){var r,l,c,u,m,p,f,g,v,w,N,j,S,E;Zs(3,arguments);var T=String(e),C=String(s),P=gu(),D=(r=(l=void 0)!==null&&l!==void 0?l:P.locale)!==null&&r!==void 0?r:yR;if(!D.match)throw new RangeError("locale must contain match property");var A=Un((c=(u=(m=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&m!==void 0?m:P.firstWeekContainsDate)!==null&&u!==void 0?u:(f=P.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&c!==void 0?c:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=Un((v=(w=(N=(j=void 0)!==null&&j!==void 0?j:void 0)!==null&&N!==void 0?N:P.weekStartsOn)!==null&&w!==void 0?w:(S=P.locale)===null||S===void 0||(E=S.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&v!==void 0?v:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(C==="")return T===""?Ea(n):new Date(NaN);var F={firstWeekContainsDate:A,weekStartsOn:R,locale:D},z=[new WH],J=C.match(RY).map(function($){var me=$[0];if(me in xb){var ge=xb[me];return ge($,D.formatLong)}return $}).join("").match(PY),K=[],X=H2(J),ce;try{var q=function(){var me=ce.value;!(a!=null&&a.useAdditionalWeekYearTokens)&&xR(me)&&eg(me,C,e),!(a!=null&&a.useAdditionalDayOfYearTokens)&&gR(me)&&eg(me,C,e);var ge=me[0],ue=IY[ge];if(ue){var be=ue.incompatibleTokens;if(Array.isArray(be)){var Ee=K.find(function(fe){return be.includes(fe.token)||fe.token===ge});if(Ee)throw new RangeError("The format string mustn't contain `".concat(Ee.fullToken,"` and `").concat(me,"` at the same time"))}else if(ue.incompatibleTokens==="*"&&K.length>0)throw new RangeError("The format string mustn't contain `".concat(me,"` and any other token at the same time"));K.push({token:ge,fullToken:me});var H=ue.run(T,me,D.match,F);if(!H)return{v:new Date(NaN)};z.push(H.setter),T=H.rest}else{if(ge.match(LY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ge+"`");if(me==="''"?me="'":ge==="'"&&(me=UY(me)),T.indexOf(me)===0)T=T.slice(me.length);else return{v:new Date(NaN)}}};for(X.s();!(ce=X.n()).done;){var ie=q();if(oo(ie)==="object")return ie.v}}catch($){X.e($)}finally{X.f()}if(T.length>0&&_Y.test(T))return new Date(NaN);var L=z.map(function($){return $.priority}).sort(function($,me){return me-$}).filter(function($,me,ge){return ge.indexOf($)===me}).map(function($){return z.filter(function(me){return me.priority===$}).sort(function(me,ge){return ge.subPriority-me.subPriority})}).map(function($){return $[0]}),B=Ea(n);if(isNaN(B.getTime()))return new Date(NaN);var Y=uR(B,cR(B)),de={},G=H2(L),M;try{for(G.s();!(M=G.n()).done;){var V=M.value;if(!V.validate(Y,F))return new Date(NaN);var W=V.set(Y,de,F);Array.isArray(W)?(Y=W[0],UH(de,W[1])):Y=W}}catch($){G.e($)}finally{G.f()}return Y}function UY(e){return e.match(OY)[1].replace(MY,"'")}function VY(e,s,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(s).split(/\s/g).slice(2).join(" ")}const w0={},Nh={};function ac(e,s){try{const a=(w0[e]||(w0[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(s).split("GMT")[1];return a in Nh?Nh[a]:Y2(a,a.split(":"))}catch{if(e in Nh)return Nh[e];const n=e==null?void 0:e.match(BY);return n?Y2(e,n.slice(1)):NaN}}const BY=/([+-]\d\d):?(\d\d)?/;function Y2(e,s){const n=+(s[0]||0),a=+(s[1]||0),r=+(s[2]||0)/60;return Nh[e]=n*60+a>0?n*60+a+r:n*60-a-r}class li extends Date{constructor(...s){super(),s.length>1&&typeof s[s.length-1]=="string"&&(this.timeZone=s.pop()),this.internal=new Date,isNaN(ac(this.timeZone,this))?this.setTime(NaN):s.length?typeof s[0]=="number"&&(s.length===1||s.length===2&&typeof s[1]!="number")?this.setTime(s[0]):typeof s[0]=="string"?this.setTime(+new Date(s[0])):s[0]instanceof Date?this.setTime(+s[0]):(this.setTime(+new Date(...s)),CR(this),vb(this)):this.setTime(Date.now())}static tz(s,...n){return n.length?new li(...n,s):new li(Date.now(),s)}withTimeZone(s){return new li(+this,s)}getTimezoneOffset(){const s=-ac(this.timeZone,this);return s>0?Math.floor(s):Math.ceil(s)}setTime(s){return Date.prototype.setTime.apply(this,arguments),vb(this),+this}[Symbol.for("constructDateFrom")](s){return new li(+new Date(s),this.timeZone)}}const W2=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!W2.test(e))return;const s=e.replace(W2,"$1UTC");li.prototype[s]&&(e.startsWith("get")?li.prototype[e]=function(){return this.internal[s]()}:(li.prototype[e]=function(){return Date.prototype[s].apply(this.internal,arguments),zY(this),+this},li.prototype[s]=function(){return Date.prototype[s].apply(this,arguments),vb(this),+this}))});function vb(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-ac(e.timeZone,e)*60))}function zY(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),CR(e)}function CR(e){const s=ac(e.timeZone,e),n=s>0?Math.floor(s):Math.ceil(s),a=new Date(+e);a.setUTCHours(a.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),l=-new Date(+a).getTimezoneOffset(),c=r-l,u=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();c&&u&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+c);const m=r-n;m&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m);const p=new Date(+e);p.setUTCSeconds(0);const f=r>0?p.getSeconds():(p.getSeconds()-60)%60,g=Math.round(-(ac(e.timeZone,e)*60))%60;(g||f)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+g+f));const v=ac(e.timeZone,e),w=v>0?Math.floor(v):Math.ceil(v),j=-new Date(+e).getTimezoneOffset()-w,S=w!==n,E=j-m;if(S&&E){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+E);const T=ac(e.timeZone,e),C=T>0?Math.floor(T):Math.ceil(T),P=w-C;P&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+P),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+P))}}class Ki extends li{static tz(s,...n){return n.length?new Ki(...n,s):new Ki(Date.now(),s)}toISOString(){const[s,n,a]=this.tzComponents(),r=`${s}${n}:${a}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[s,n,a,r]=this.internal.toUTCString().split(" ");return`${s==null?void 0:s.slice(0,-1)} ${a} ${n} ${r}`}toTimeString(){const s=this.internal.toUTCString().split(" ")[4],[n,a,r]=this.tzComponents();return`${s} GMT${n}${a}${r} (${VY(this.timeZone,this)})`}toLocaleString(s,n){return Date.prototype.toLocaleString.call(this,s,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(s,n){return Date.prototype.toLocaleDateString.call(this,s,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(s,n){return Date.prototype.toLocaleTimeString.call(this,s,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const s=this.getTimezoneOffset(),n=s>0?"-":"+",a=String(Math.floor(Math.abs(s)/60)).padStart(2,"0"),r=String(Math.abs(s)%60).padStart(2,"0");return[n,a,r]}withTimeZone(s){return new Ki(+this,s)}[Symbol.for("constructDateFrom")](s){return new Ki(+new Date(s),this.timeZone)}}const TR=6048e5,qY=864e5,K2=Symbol.for("constructDateFrom");function Ma(e,s){return typeof e=="function"?e(s):e&&typeof e=="object"&&K2 in e?e[K2](s):e instanceof Date?new e.constructor(s):new Date(s)}function _s(e,s){return Ma(s||e,e)}function kR(e,s,n){const a=_s(e,n==null?void 0:n.in);return isNaN(s)?Ma(e,NaN):(s&&a.setDate(a.getDate()+s),a)}function ER(e,s,n){const a=_s(e,n==null?void 0:n.in);if(isNaN(s))return Ma(e,NaN);if(!s)return a;const r=a.getDate(),l=Ma(e,a.getTime());l.setMonth(a.getMonth()+s+1,0);const c=l.getDate();return r>=c?l:(a.setFullYear(l.getFullYear(),l.getMonth(),r),a)}let $Y={};function hm(){return $Y}function Xd(e,s){var u,m,p,f;const n=hm(),a=(s==null?void 0:s.weekStartsOn)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,r=_s(e,s==null?void 0:s.in),l=r.getDay(),c=(l<a?7:0)+l-a;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function Wh(e,s){return Xd(e,{...s,weekStartsOn:1})}function AR(e,s){const n=_s(e,s==null?void 0:s.in),a=n.getFullYear(),r=Ma(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const l=Wh(r),c=Ma(n,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const u=Wh(c);return n.getTime()>=l.getTime()?a+1:n.getTime()>=u.getTime()?a:a-1}function Q2(e){const s=_s(e),n=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return n.setUTCFullYear(s.getFullYear()),+e-+n}function xu(e,...s){const n=Ma.bind(null,s.find(a=>typeof a=="object"));return s.map(n)}function Kh(e,s){const n=_s(e,s==null?void 0:s.in);return n.setHours(0,0,0,0),n}function DR(e,s,n){const[a,r]=xu(n==null?void 0:n.in,e,s),l=Kh(a),c=Kh(r),u=+l-Q2(l),m=+c-Q2(c);return Math.round((u-m)/qY)}function GY(e,s){const n=AR(e,s),a=Ma(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Wh(a)}function HY(e,s,n){return kR(e,s*7,n)}function YY(e,s,n){return ER(e,s*12,n)}function WY(e,s){let n,a=s==null?void 0:s.in;return e.forEach(r=>{!a&&typeof r=="object"&&(a=Ma.bind(null,r));const l=_s(r,a);(!n||n<l||isNaN(+l))&&(n=l)}),Ma(a,n||NaN)}function KY(e,s){let n,a=s==null?void 0:s.in;return e.forEach(r=>{!a&&typeof r=="object"&&(a=Ma.bind(null,r));const l=_s(r,a);(!n||n>l||isNaN(+l))&&(n=l)}),Ma(a,n||NaN)}function QY(e,s,n){const[a,r]=xu(n==null?void 0:n.in,e,s);return+Kh(a)==+Kh(r)}function IR(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function JY(e){return!(!IR(e)&&typeof e!="number"||isNaN(+_s(e)))}function XY(e,s,n){const[a,r]=xu(n==null?void 0:n.in,e,s),l=a.getFullYear()-r.getFullYear(),c=a.getMonth()-r.getMonth();return l*12+c}function ZY(e,s){const n=_s(e,s==null?void 0:s.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function PR(e,s){const[n,a]=xu(e,s.start,s.end);return{start:n,end:a}}function eW(e,s){const{start:n,end:a}=PR(s==null?void 0:s.in,e);let r=+n>+a;const l=r?+n:+a,c=r?a:n;c.setHours(0,0,0,0),c.setDate(1);let u=1;const m=[];for(;+c<=l;)m.push(Ma(n,c)),c.setMonth(c.getMonth()+u);return r?m.reverse():m}function tW(e,s){const n=_s(e,s==null?void 0:s.in);return n.setDate(1),n.setHours(0,0,0,0),n}function sW(e,s){const n=_s(e,s==null?void 0:s.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function RR(e,s){const n=_s(e,s==null?void 0:s.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function aW(e,s){const{start:n,end:a}=PR(s==null?void 0:s.in,e);let r=+n>+a;const l=r?+n:+a,c=r?a:n;c.setHours(0,0,0,0),c.setMonth(0,1);let u=1;const m=[];for(;+c<=l;)m.push(Ma(n,c)),c.setFullYear(c.getFullYear()+u);return r?m.reverse():m}function OR(e,s){var u,m,p,f;const n=hm(),a=(s==null?void 0:s.weekStartsOn)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,r=_s(e,s==null?void 0:s.in),l=r.getDay(),c=(l<a?-7:0)+6-(l-a);return r.setDate(r.getDate()+c),r.setHours(23,59,59,999),r}function nW(e,s){return OR(e,{...s,weekStartsOn:1})}const rW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iW=(e,s,n)=>{let a;const r=rW[e];return typeof r=="string"?a=r:s===1?a=r.one:a=r.other.replace("{{count}}",s.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function j0(e){return(s={})=>{const n=s.width?String(s.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const oW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dW={date:j0({formats:oW,defaultWidth:"full"}),time:j0({formats:lW,defaultWidth:"full"}),dateTime:j0({formats:cW,defaultWidth:"full"})},uW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hW=(e,s,n,a)=>uW[e];function xh(e){return(s,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let r;if(a==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):c;r=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(s):s;return r[l]}}const mW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vW=(e,s)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bW={ordinalNumber:vW,era:xh({values:mW,defaultWidth:"wide"}),quarter:xh({values:pW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xh({values:fW,defaultWidth:"wide"}),day:xh({values:gW,defaultWidth:"wide"}),dayPeriod:xh({values:xW,defaultWidth:"wide",formattingValues:yW,defaultFormattingWidth:"wide"})};function yh(e){return(s,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],l=s.match(r);if(!l)return null;const c=l[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(u)?jW(u,g=>g.test(c)):wW(u,g=>g.test(c));let p;p=e.valueCallback?e.valueCallback(m):m,p=n.valueCallback?n.valueCallback(p):p;const f=s.slice(c.length);return{value:p,rest:f}}}function wW(e,s){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s(e[n]))return n}function jW(e,s){for(let n=0;n<e.length;n++)if(s(e[n]))return n}function NW(e){return(s,n={})=>{const a=s.match(e.matchPattern);if(!a)return null;const r=a[0],l=s.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const u=s.slice(r.length);return{value:c,rest:u}}}const SW=/^(\d+)(th|st|nd|rd)?/i,CW=/\d+/i,TW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kW={any:[/^b/i,/^(a|c)/i]},EW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AW={any:[/1/i,/2/i,/3/i,/4/i]},DW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_W={ordinalNumber:NW({matchPattern:SW,parsePattern:CW,valueCallback:e=>parseInt(e,10)}),era:yh({matchPatterns:TW,defaultMatchWidth:"wide",parsePatterns:kW,defaultParseWidth:"any"}),quarter:yh({matchPatterns:EW,defaultMatchWidth:"wide",parsePatterns:AW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yh({matchPatterns:DW,defaultMatchWidth:"wide",parsePatterns:IW,defaultParseWidth:"any"}),day:yh({matchPatterns:PW,defaultMatchWidth:"wide",parsePatterns:RW,defaultParseWidth:"any"}),dayPeriod:yh({matchPatterns:OW,defaultMatchWidth:"any",parsePatterns:MW,defaultParseWidth:"any"})},xd={code:"en-US",formatDistance:iW,formatLong:dW,formatRelative:hW,localize:bW,match:_W,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LW(e,s){const n=_s(e,s==null?void 0:s.in);return DR(n,RR(n))+1}function MR(e,s){const n=_s(e,s==null?void 0:s.in),a=+Wh(n)-+GY(n);return Math.round(a/TR)+1}function _R(e,s){var f,g,v,w;const n=_s(e,s==null?void 0:s.in),a=n.getFullYear(),r=hm(),l=(s==null?void 0:s.firstWeekContainsDate)??((g=(f=s==null?void 0:s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(v=r.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,c=Ma((s==null?void 0:s.in)||e,0);c.setFullYear(a+1,0,l),c.setHours(0,0,0,0);const u=Xd(c,s),m=Ma((s==null?void 0:s.in)||e,0);m.setFullYear(a,0,l),m.setHours(0,0,0,0);const p=Xd(m,s);return+n>=+u?a+1:+n>=+p?a:a-1}function FW(e,s){var u,m,p,f;const n=hm(),a=(s==null?void 0:s.firstWeekContainsDate)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,r=_R(e,s),l=Ma((s==null?void 0:s.in)||e,0);return l.setFullYear(r,0,a),l.setHours(0,0,0,0),Xd(l,s)}function LR(e,s){const n=_s(e,s==null?void 0:s.in),a=+Xd(n,s)-+FW(n,s);return Math.round(a/TR)+1}function Ts(e,s){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(s,"0");return n+a}const qo={y(e,s){const n=e.getFullYear(),a=n>0?n:1-n;return Ts(s==="yy"?a%100:a,s.length)},M(e,s){const n=e.getMonth();return s==="M"?String(n+1):Ts(n+1,2)},d(e,s){return Ts(e.getDate(),s.length)},a(e,s){const n=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,s){return Ts(e.getHours()%12||12,s.length)},H(e,s){return Ts(e.getHours(),s.length)},m(e,s){return Ts(e.getMinutes(),s.length)},s(e,s){return Ts(e.getSeconds(),s.length)},S(e,s){const n=s.length,a=e.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return Ts(r,s.length)}},hd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J2={G:function(e,s,n){const a=e.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,s,n){if(s==="yo"){const a=e.getFullYear(),r=a>0?a:1-a;return n.ordinalNumber(r,{unit:"year"})}return qo.y(e,s)},Y:function(e,s,n,a){const r=_R(e,a),l=r>0?r:1-r;if(s==="YY"){const c=l%100;return Ts(c,2)}return s==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ts(l,s.length)},R:function(e,s){const n=AR(e);return Ts(n,s.length)},u:function(e,s){const n=e.getFullYear();return Ts(n,s.length)},Q:function(e,s,n){const a=Math.ceil((e.getMonth()+1)/3);switch(s){case"Q":return String(a);case"QQ":return Ts(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,s,n){const a=Math.ceil((e.getMonth()+1)/3);switch(s){case"q":return String(a);case"qq":return Ts(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,s,n){const a=e.getMonth();switch(s){case"M":case"MM":return qo.M(e,s);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,s,n){const a=e.getMonth();switch(s){case"L":return String(a+1);case"LL":return Ts(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,s,n,a){const r=LR(e,a);return s==="wo"?n.ordinalNumber(r,{unit:"week"}):Ts(r,s.length)},I:function(e,s,n){const a=MR(e);return s==="Io"?n.ordinalNumber(a,{unit:"week"}):Ts(a,s.length)},d:function(e,s,n){return s==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):qo.d(e,s)},D:function(e,s,n){const a=LW(e);return s==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ts(a,s.length)},E:function(e,s,n){const a=e.getDay();switch(s){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,s,n,a){const r=e.getDay(),l=(r-a.weekStartsOn+8)%7||7;switch(s){case"e":return String(l);case"ee":return Ts(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,s,n,a){const r=e.getDay(),l=(r-a.weekStartsOn+8)%7||7;switch(s){case"c":return String(l);case"cc":return Ts(l,s.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,s,n){const a=e.getDay(),r=a===0?7:a;switch(s){case"i":return String(r);case"ii":return Ts(r,s.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,s,n){const r=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,s,n){const a=e.getHours();let r;switch(a===12?r=hd.noon:a===0?r=hd.midnight:r=a/12>=1?"pm":"am",s){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,s,n){const a=e.getHours();let r;switch(a>=17?r=hd.evening:a>=12?r=hd.afternoon:a>=4?r=hd.morning:r=hd.night,s){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,s,n){if(s==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return qo.h(e,s)},H:function(e,s,n){return s==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):qo.H(e,s)},K:function(e,s,n){const a=e.getHours()%12;return s==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ts(a,s.length)},k:function(e,s,n){let a=e.getHours();return a===0&&(a=24),s==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ts(a,s.length)},m:function(e,s,n){return s==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):qo.m(e,s)},s:function(e,s,n){return s==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):qo.s(e,s)},S:function(e,s){return qo.S(e,s)},X:function(e,s,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(s){case"X":return Z2(a);case"XXXX":case"XX":return Wl(a);case"XXXXX":case"XXX":default:return Wl(a,":")}},x:function(e,s,n){const a=e.getTimezoneOffset();switch(s){case"x":return Z2(a);case"xxxx":case"xx":return Wl(a);case"xxxxx":case"xxx":default:return Wl(a,":")}},O:function(e,s,n){const a=e.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+X2(a,":");case"OOOO":default:return"GMT"+Wl(a,":")}},z:function(e,s,n){const a=e.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+X2(a,":");case"zzzz":default:return"GMT"+Wl(a,":")}},t:function(e,s,n){const a=Math.trunc(+e/1e3);return Ts(a,s.length)},T:function(e,s,n){return Ts(+e,s.length)}};function X2(e,s=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),l=a%60;return l===0?n+String(r):n+String(r)+s+Ts(l,2)}function Z2(e,s){return e%60===0?(e>0?"-":"+")+Ts(Math.abs(e)/60,2):Wl(e,s)}function Wl(e,s=""){const n=e>0?"-":"+",a=Math.abs(e),r=Ts(Math.trunc(a/60),2),l=Ts(a%60,2);return n+r+s+l}const ek=(e,s)=>{switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},FR=(e,s)=>{switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},UW=(e,s)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return ek(e,s);let l;switch(a){case"P":l=s.dateTime({width:"short"});break;case"PP":l=s.dateTime({width:"medium"});break;case"PPP":l=s.dateTime({width:"long"});break;case"PPPP":default:l=s.dateTime({width:"full"});break}return l.replace("{{date}}",ek(a,s)).replace("{{time}}",FR(r,s))},VW={p:FR,P:UW},BW=/^D+$/,zW=/^Y+$/,qW=["D","DD","YY","YYYY"];function $W(e){return BW.test(e)}function GW(e){return zW.test(e)}function HW(e,s,n){const a=YW(e,s,n);if(console.warn(a),qW.includes(e))throw new RangeError(a)}function YW(e,s,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${s}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QW=/^'([^]*?)'?$/,JW=/''/g,XW=/[a-zA-Z]/;function Sh(e,s,n){var f,g,v,w,N,j,S,E;const a=hm(),r=(n==null?void 0:n.locale)??a.locale??xd,l=(n==null?void 0:n.firstWeekContainsDate)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(v=a.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((j=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:j.weekStartsOn)??a.weekStartsOn??((E=(S=a.locale)==null?void 0:S.options)==null?void 0:E.weekStartsOn)??0,u=_s(e,n==null?void 0:n.in);if(!JY(u))throw new RangeError("Invalid time value");let m=s.match(KW).map(T=>{const C=T[0];if(C==="p"||C==="P"){const P=VW[C];return P(T,r.formatLong)}return T}).join("").match(WW).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const C=T[0];if(C==="'")return{isToken:!1,value:ZW(T)};if(J2[C])return{isToken:!0,value:T};if(C.match(XW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:T}});r.localize.preprocessor&&(m=r.localize.preprocessor(u,m));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:r};return m.map(T=>{if(!T.isToken)return T.value;const C=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&GW(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&$W(C))&&HW(C,s,String(e));const P=J2[C[0]];return P(u,C,r.localize,p)}).join("")}function ZW(e){const s=e.match(QW);return s?s[1].replace(JW,"'"):e}function eK(e,s){const n=_s(e,s==null?void 0:s.in),a=n.getFullYear(),r=n.getMonth(),l=Ma(n,0);return l.setFullYear(a,r+1,0),l.setHours(0,0,0,0),l.getDate()}function tK(e,s){return _s(e,s==null?void 0:s.in).getMonth()}function sK(e,s){return _s(e,s==null?void 0:s.in).getFullYear()}function aK(e,s){return+_s(e)>+_s(s)}function nK(e,s){return+_s(e)<+_s(s)}function rK(e,s,n){const[a,r]=xu(n==null?void 0:n.in,e,s);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function iK(e,s,n){const[a,r]=xu(n==null?void 0:n.in,e,s);return a.getFullYear()===r.getFullYear()}function oK(e,s,n){const a=_s(e,n==null?void 0:n.in),r=a.getFullYear(),l=a.getDate(),c=Ma(e,0);c.setFullYear(r,s,15),c.setHours(0,0,0,0);const u=eK(c);return a.setMonth(s,Math.min(l,u)),a}function lK(e,s,n){const a=_s(e,n==null?void 0:n.in);return isNaN(+a)?Ma(e,NaN):(a.setFullYear(s),a)}const tk=5,cK=4;function dK(e,s){const n=s.startOfMonth(e),a=n.getDay()>0?n.getDay():7,r=s.addDays(e,-a+1),l=s.addDays(r,tk*7-1);return s.getMonth(e)===s.getMonth(l)?tk:cK}function UR(e,s){const n=s.startOfMonth(e),a=n.getDay();return a===1?n:a===0?s.addDays(n,-6):s.addDays(n,-1*(a-1))}function uK(e,s){const n=UR(e,s),a=dK(e,s);return s.addDays(n,a*7-1)}const VR={...xd,labels:{labelDayButton:(e,s,n,a)=>{let r;a&&typeof a.format=="function"?r=a.format.bind(a):r=(c,u)=>Sh(c,u,{locale:xd,...n});let l=r(e,"PPPP");return s.today&&(l=`Today, ${l}`),s.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,s,n)=>{let a;return n&&typeof n.format=="function"?a=n.format.bind(n):a=(r,l)=>Sh(r,l,{locale:xd,...s}),a(e,"LLLL yyyy")},labelGridcell:(e,s,n,a)=>{let r;a&&typeof a.format=="function"?r=a.format.bind(a):r=(c,u)=>Sh(c,u,{locale:xd,...n});let l=r(e,"PPPP");return s!=null&&s.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,s,n)=>{let a;return n&&typeof n.format=="function"?a=n.format.bind(n):a=(r,l)=>Sh(r,l,{locale:xd,...s}),a(e,"cccc")}}};class sr{constructor(s,n){this.Date=Date,this.today=()=>{var a;return(a=this.overrides)!=null&&a.today?this.overrides.today():this.options.timeZone?Ki.tz(this.options.timeZone):new this.Date},this.newDate=(a,r,l)=>{var c;return(c=this.overrides)!=null&&c.newDate?this.overrides.newDate(a,r,l):this.options.timeZone?new Ki(a,r,l,this.options.timeZone):new Date(a,r,l)},this.addDays=(a,r)=>{var l;return(l=this.overrides)!=null&&l.addDays?this.overrides.addDays(a,r):kR(a,r)},this.addMonths=(a,r)=>{var l;return(l=this.overrides)!=null&&l.addMonths?this.overrides.addMonths(a,r):ER(a,r)},this.addWeeks=(a,r)=>{var l;return(l=this.overrides)!=null&&l.addWeeks?this.overrides.addWeeks(a,r):HY(a,r)},this.addYears=(a,r)=>{var l;return(l=this.overrides)!=null&&l.addYears?this.overrides.addYears(a,r):YY(a,r)},this.differenceInCalendarDays=(a,r)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarDays?this.overrides.differenceInCalendarDays(a,r):DR(a,r)},this.differenceInCalendarMonths=(a,r)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(a,r):XY(a,r)},this.eachMonthOfInterval=a=>{var r;return(r=this.overrides)!=null&&r.eachMonthOfInterval?this.overrides.eachMonthOfInterval(a):eW(a)},this.eachYearOfInterval=a=>{var u;const r=(u=this.overrides)!=null&&u.eachYearOfInterval?this.overrides.eachYearOfInterval(a):aW(a),l=new Set(r.map(m=>this.getYear(m)));if(l.size===r.length)return r;const c=[];return l.forEach(m=>{c.push(new Date(m,0,1))}),c},this.endOfBroadcastWeek=a=>{var r;return(r=this.overrides)!=null&&r.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(a):uK(a,this)},this.endOfISOWeek=a=>{var r;return(r=this.overrides)!=null&&r.endOfISOWeek?this.overrides.endOfISOWeek(a):nW(a)},this.endOfMonth=a=>{var r;return(r=this.overrides)!=null&&r.endOfMonth?this.overrides.endOfMonth(a):ZY(a)},this.endOfWeek=(a,r)=>{var l;return(l=this.overrides)!=null&&l.endOfWeek?this.overrides.endOfWeek(a,r):OR(a,this.options)},this.endOfYear=a=>{var r;return(r=this.overrides)!=null&&r.endOfYear?this.overrides.endOfYear(a):sW(a)},this.format=(a,r,l)=>{var u;const c=(u=this.overrides)!=null&&u.format?this.overrides.format(a,r,this.options):Sh(a,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=a=>{var r;return(r=this.overrides)!=null&&r.getISOWeek?this.overrides.getISOWeek(a):MR(a)},this.getMonth=(a,r)=>{var l;return(l=this.overrides)!=null&&l.getMonth?this.overrides.getMonth(a,this.options):tK(a,this.options)},this.getYear=(a,r)=>{var l;return(l=this.overrides)!=null&&l.getYear?this.overrides.getYear(a,this.options):sK(a,this.options)},this.getWeek=(a,r)=>{var l;return(l=this.overrides)!=null&&l.getWeek?this.overrides.getWeek(a,this.options):LR(a,this.options)},this.isAfter=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isAfter?this.overrides.isAfter(a,r):aK(a,r)},this.isBefore=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isBefore?this.overrides.isBefore(a,r):nK(a,r)},this.isDate=a=>{var r;return(r=this.overrides)!=null&&r.isDate?this.overrides.isDate(a):IR(a)},this.isSameDay=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isSameDay?this.overrides.isSameDay(a,r):QY(a,r)},this.isSameMonth=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isSameMonth?this.overrides.isSameMonth(a,r):rK(a,r)},this.isSameYear=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isSameYear?this.overrides.isSameYear(a,r):iK(a,r)},this.max=a=>{var r;return(r=this.overrides)!=null&&r.max?this.overrides.max(a):WY(a)},this.min=a=>{var r;return(r=this.overrides)!=null&&r.min?this.overrides.min(a):KY(a)},this.setMonth=(a,r)=>{var l;return(l=this.overrides)!=null&&l.setMonth?this.overrides.setMonth(a,r):oK(a,r)},this.setYear=(a,r)=>{var l;return(l=this.overrides)!=null&&l.setYear?this.overrides.setYear(a,r):lK(a,r)},this.startOfBroadcastWeek=(a,r)=>{var l;return(l=this.overrides)!=null&&l.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(a,this):UR(a,this)},this.startOfDay=a=>{var r;return(r=this.overrides)!=null&&r.startOfDay?this.overrides.startOfDay(a):Kh(a)},this.startOfISOWeek=a=>{var r;return(r=this.overrides)!=null&&r.startOfISOWeek?this.overrides.startOfISOWeek(a):Wh(a)},this.startOfMonth=a=>{var r;return(r=this.overrides)!=null&&r.startOfMonth?this.overrides.startOfMonth(a):tW(a)},this.startOfWeek=(a,r)=>{var l;return(l=this.overrides)!=null&&l.startOfWeek?this.overrides.startOfWeek(a,this.options):Xd(a,this.options)},this.startOfYear=a=>{var r;return(r=this.overrides)!=null&&r.startOfYear?this.overrides.startOfYear(a):RR(a)},this.options={locale:VR,...s},this.overrides=n}getDigitMap(){const{numerals:s="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:s}),a={};for(let r=0;r<10;r++)a[r.toString()]=n.format(r);return a}replaceDigits(s){const n=this.getDigitMap();return s.replace(/\d/g,a=>n[a]||a)}formatNumber(s){return this.replaceDigits(s.toString())}getMonthYearOrder(){var n;const s=(n=this.options.locale)==null?void 0:n.code;return s&&sr.yearFirstLocales.has(s)?"year-first":"month-first"}formatMonthYear(s){const{locale:n,timeZone:a,numerals:r}=this.options,l=n==null?void 0:n.code;if(l&&sr.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:a,numberingSystem:r}).format(s)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(s,c)}}sr.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const vi=new sr;class BR{constructor(s,n,a=vi){this.date=s,this.displayMonth=n,this.outside=!!(n&&!a.isSameMonth(s,n)),this.dateLib=a,this.isoDate=a.format(s,"yyyy-MM-dd"),this.displayMonthId=a.format(n,"yyyy-MM"),this.dateMonthId=a.format(s,"yyyy-MM")}isEqualTo(s){return this.dateLib.isSameDay(s.date,this.date)&&this.dateLib.isSameMonth(s.displayMonth,this.displayMonth)}}class hK{constructor(s,n){this.date=s,this.weeks=n}}class mK{constructor(s,n){this.days=n,this.weekNumber=s}}function pK(e){return qe.createElement("button",{...e})}function fK(e){return qe.createElement("span",{...e})}function gK(e){const{size:s=24,orientation:n="left",className:a}=e;return qe.createElement("svg",{className:a,width:s,height:s,viewBox:"0 0 24 24"},n==="up"&&qe.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&qe.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&qe.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&qe.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function xK(e){const{day:s,modifiers:n,...a}=e;return qe.createElement("td",{...a})}function yK(e){const{day:s,modifiers:n,...a}=e,r=qe.useRef(null);return qe.useEffect(()=>{var l;n.focused&&((l=r.current)==null||l.focus())},[n.focused]),qe.createElement("button",{ref:r,...a})}var wt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(wt||(wt={}));var na;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(na||(na={}));var Br;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Br||(Br={}));var Jn;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Jn||(Jn={}));function vK(e){const{options:s,className:n,components:a,classNames:r,...l}=e,c=[r[wt.Dropdown],n].join(" "),u=s==null?void 0:s.find(({value:m})=>m===l.value);return qe.createElement("span",{"data-disabled":l.disabled,className:r[wt.DropdownRoot]},qe.createElement(a.Select,{className:c,...l},s==null?void 0:s.map(({value:m,label:p,disabled:f})=>qe.createElement(a.Option,{key:m,value:m,disabled:f},p))),qe.createElement("span",{className:r[wt.CaptionLabel],"aria-hidden":!0},u==null?void 0:u.label,qe.createElement(a.Chevron,{orientation:"down",size:18,className:r[wt.Chevron]})))}function bK(e){return qe.createElement("div",{...e})}function wK(e){return qe.createElement("div",{...e})}function jK(e){const{calendarMonth:s,displayIndex:n,...a}=e;return qe.createElement("div",{...a},e.children)}function NK(e){const{calendarMonth:s,displayIndex:n,...a}=e;return qe.createElement("div",{...a})}function SK(e){return qe.createElement("table",{...e})}function CK(e){return qe.createElement("div",{...e})}const zR=x.createContext(void 0);function mm(){const e=x.useContext(zR);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function TK(e){const{components:s}=mm();return qe.createElement(s.Dropdown,{...e})}function kK(e){const{onPreviousClick:s,onNextClick:n,previousMonth:a,nextMonth:r,...l}=e,{components:c,classNames:u,labels:{labelPrevious:m,labelNext:p}}=mm(),f=x.useCallback(v=>{r&&(n==null||n(v))},[r,n]),g=x.useCallback(v=>{a&&(s==null||s(v))},[a,s]);return qe.createElement("nav",{...l},qe.createElement(c.PreviousMonthButton,{type:"button",className:u[wt.PreviousMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":m(a),onClick:g},qe.createElement(c.Chevron,{disabled:a?void 0:!0,className:u[wt.Chevron],orientation:"left"})),qe.createElement(c.NextMonthButton,{type:"button",className:u[wt.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":p(r),onClick:f},qe.createElement(c.Chevron,{disabled:r?void 0:!0,orientation:"right",className:u[wt.Chevron]})))}function EK(e){const{components:s}=mm();return qe.createElement(s.Button,{...e})}function AK(e){return qe.createElement("option",{...e})}function DK(e){const{components:s}=mm();return qe.createElement(s.Button,{...e})}function IK(e){const{rootRef:s,...n}=e;return qe.createElement("div",{...n,ref:s})}function PK(e){return qe.createElement("select",{...e})}function RK(e){const{week:s,...n}=e;return qe.createElement("tr",{...n})}function OK(e){return qe.createElement("th",{...e})}function MK(e){return qe.createElement("thead",{"aria-hidden":!0},qe.createElement("tr",{...e}))}function _K(e){const{week:s,...n}=e;return qe.createElement("th",{...n})}function LK(e){return qe.createElement("th",{...e})}function FK(e){return qe.createElement("tbody",{...e})}function UK(e){const{components:s}=mm();return qe.createElement(s.Dropdown,{...e})}const VK=Object.freeze(Object.defineProperty({__proto__:null,Button:pK,CaptionLabel:fK,Chevron:gK,Day:xK,DayButton:yK,Dropdown:vK,DropdownNav:bK,Footer:wK,Month:jK,MonthCaption:NK,MonthGrid:SK,Months:CK,MonthsDropdown:TK,Nav:kK,NextMonthButton:EK,Option:AK,PreviousMonthButton:DK,Root:IK,Select:PK,Week:RK,WeekNumber:_K,WeekNumberHeader:LK,Weekday:OK,Weekdays:MK,Weeks:FK,YearsDropdown:UK},Symbol.toStringTag,{value:"Module"}));function Qi(e,s,n=!1,a=vi){let{from:r,to:l}=e;const{differenceInCalendarDays:c,isSameDay:u}=a;return r&&l?(c(l,r)<0&&([r,l]=[l,r]),c(s,r)>=(n?1:0)&&c(l,s)>=(n?1:0)):!n&&l?u(l,s):!n&&r?u(r,s):!1}function oj(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Eg(e){return!!(e&&typeof e=="object"&&"from"in e)}function lj(e){return!!(e&&typeof e=="object"&&"after"in e)}function cj(e){return!!(e&&typeof e=="object"&&"before"in e)}function qR(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function $R(e,s){return Array.isArray(e)&&e.every(s.isDate)}function Ji(e,s,n=vi){const a=Array.isArray(s)?s:[s],{isSameDay:r,differenceInCalendarDays:l,isAfter:c}=n;return a.some(u=>{if(typeof u=="boolean")return u;if(n.isDate(u))return r(e,u);if($R(u,n))return u.some(m=>r(e,m));if(Eg(u))return Qi(u,e,!1,n);if(qR(u))return Array.isArray(u.dayOfWeek)?u.dayOfWeek.includes(e.getDay()):u.dayOfWeek===e.getDay();if(oj(u)){const m=l(u.before,e),p=l(u.after,e),f=m>0,g=p<0;return c(u.before,u.after)?g&&f:f||g}return lj(u)?l(e,u.after)>0:cj(u)?l(u.before,e)>0:typeof u=="function"?u(e):!1})}function BK(e,s,n,a,r){const{disabled:l,hidden:c,modifiers:u,showOutsideDays:m,broadcastCalendar:p,today:f=r.today()}=s,{isSameDay:g,isSameMonth:v,startOfMonth:w,isBefore:N,endOfMonth:j,isAfter:S}=r,E=n&&w(n),T=a&&j(a),C={[na.focused]:[],[na.outside]:[],[na.disabled]:[],[na.hidden]:[],[na.today]:[]},P={};for(const D of e){const{date:A,displayMonth:R}=D,F=!!(R&&!v(A,R)),z=!!(E&&N(A,E)),J=!!(T&&S(A,T)),K=!!(l&&Ji(A,l,r)),X=!!(c&&Ji(A,c,r))||z||J||!p&&!m&&F||p&&m===!1&&F,ce=g(A,f);F&&C.outside.push(D),K&&C.disabled.push(D),X&&C.hidden.push(D),ce&&C.today.push(D),u&&Object.keys(u).forEach(q=>{const ie=u==null?void 0:u[q];ie&&Ji(A,ie,r)&&(P[q]?P[q].push(D):P[q]=[D])})}return D=>{const A={[na.focused]:!1,[na.disabled]:!1,[na.hidden]:!1,[na.outside]:!1,[na.today]:!1},R={};for(const F in C){const z=C[F];A[F]=z.some(J=>J===D)}for(const F in P)R[F]=P[F].some(z=>z===D);return{...A,...R}}}function zK(e,s,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[l])=>(n[l]?r.push(n[l]):s[na[l]]?r.push(s[na[l]]):s[Br[l]]&&r.push(s[Br[l]]),r),[s[wt.Day]])}function qK(e){return{...VK,...e}}function $K(e){const s={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,a])=>{n.startsWith("data-")&&(s[n]=a)}),s}function GK(){const e={};for(const s in wt)e[wt[s]]=`rdp-${wt[s]}`;for(const s in na)e[na[s]]=`rdp-${na[s]}`;for(const s in Br)e[Br[s]]=`rdp-${Br[s]}`;for(const s in Jn)e[Jn[s]]=`rdp-${Jn[s]}`;return e}function GR(e,s,n){return(n??new sr(s)).formatMonthYear(e)}const HK=GR;function YK(e,s,n){return(n??new sr(s)).format(e,"d")}function WK(e,s=vi){return s.format(e,"LLLL")}function KK(e,s,n){return(n??new sr(s)).format(e,"cccccc")}function QK(e,s=vi){return e<10?s.formatNumber(`0${e.toLocaleString()}`):s.formatNumber(`${e.toLocaleString()}`)}function JK(){return""}function HR(e,s=vi){return s.format(e,"yyyy")}const XK=HR,ZK=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:GR,formatDay:YK,formatMonthCaption:HK,formatMonthDropdown:WK,formatWeekNumber:QK,formatWeekNumberHeader:JK,formatWeekdayName:KK,formatYearCaption:XK,formatYearDropdown:HR},Symbol.toStringTag,{value:"Module"}));function eQ(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...ZK,...e}}function dj(e,s,n,a){let r=(a??new sr(n)).format(e,"PPPP");return s.today&&(r=`Today, ${r}`),s.selected&&(r=`${r}, selected`),r}const tQ=dj;function uj(e,s,n){return(n??new sr(s)).formatMonthYear(e)}const sQ=uj;function YR(e,s,n,a){let r=(a??new sr(n)).format(e,"PPPP");return s!=null&&s.today&&(r=`Today, ${r}`),r}function WR(e){return"Choose the Month"}function KR(){return""}const aQ="Go to the Next Month";function QR(e,s){return aQ}function JR(e){return"Go to the Previous Month"}function XR(e,s,n){return(n??new sr(s)).format(e,"cccc")}function ZR(e,s){return`Week ${e}`}function eO(e){return"Week Number"}function tO(e){return"Choose the Year"}const nQ=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:sQ,labelDay:tQ,labelDayButton:dj,labelGrid:uj,labelGridcell:YR,labelMonthDropdown:WR,labelNav:KR,labelNext:QR,labelPrevious:JR,labelWeekNumber:ZR,labelWeekNumberHeader:eO,labelWeekday:XR,labelYearDropdown:tO},Symbol.toStringTag,{value:"Module"})),Rr=(e,s,n)=>s||(n?typeof n=="function"?n:(...a)=>n:e);function rQ(e,s){var a;const n=((a=s.locale)==null?void 0:a.labels)??{};return{...nQ,...e??{},labelDayButton:Rr(dj,e==null?void 0:e.labelDayButton,n.labelDayButton),labelMonthDropdown:Rr(WR,e==null?void 0:e.labelMonthDropdown,n.labelMonthDropdown),labelNext:Rr(QR,e==null?void 0:e.labelNext,n.labelNext),labelPrevious:Rr(JR,e==null?void 0:e.labelPrevious,n.labelPrevious),labelWeekNumber:Rr(ZR,e==null?void 0:e.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:Rr(tO,e==null?void 0:e.labelYearDropdown,n.labelYearDropdown),labelGrid:Rr(uj,e==null?void 0:e.labelGrid,n.labelGrid),labelGridcell:Rr(YR,e==null?void 0:e.labelGridcell,n.labelGridcell),labelNav:Rr(KR,e==null?void 0:e.labelNav,n.labelNav),labelWeekNumberHeader:Rr(eO,e==null?void 0:e.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:Rr(XR,e==null?void 0:e.labelWeekday,n.labelWeekday)}}function iQ(e,s,n,a,r){const{startOfMonth:l,startOfYear:c,endOfYear:u,eachMonthOfInterval:m,getMonth:p}=r;return m({start:c(e),end:u(e)}).map(v=>{const w=a.formatMonthDropdown(v,r),N=p(v),j=s&&v<l(s)||n&&v>l(n)||!1;return{value:N,label:w,disabled:j}})}function oQ(e,s={},n={}){let a={...s==null?void 0:s[wt.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{a={...a,...n==null?void 0:n[r]}}),a}function lQ(e,s,n,a){const r=a??e.today(),l=n?e.startOfBroadcastWeek(r,e):s?e.startOfISOWeek(r):e.startOfWeek(r),c=[];for(let u=0;u<7;u++){const m=e.addDays(l,u);c.push(m)}return c}function cQ(e,s,n,a,r=!1){if(!e||!s)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:u,getYear:m}=a,p=l(e),f=c(s),g=u({start:p,end:f});return r&&g.reverse(),g.map(v=>{const w=n.formatYearDropdown(v,a);return{value:m(v),label:w,disabled:!1}})}const pm=e=>e instanceof HTMLElement?e:null,N0=e=>[...e.querySelectorAll("[data-animated-month]")??[]],dQ=e=>pm(e.querySelector("[data-animated-month]")),S0=e=>pm(e.querySelector("[data-animated-caption]")),C0=e=>pm(e.querySelector("[data-animated-weeks]")),uQ=e=>pm(e.querySelector("[data-animated-nav]")),hQ=e=>pm(e.querySelector("[data-animated-weekdays]"));function mQ(e,s,{classNames:n,months:a,focused:r,dateLib:l}){const c=x.useRef(null),u=x.useRef(a),m=x.useRef(!1);x.useLayoutEffect(()=>{const p=u.current;if(u.current=a,!s||!e.current||!(e.current instanceof HTMLElement)||a.length===0||p.length===0||a.length!==p.length)return;const f=l.isSameMonth(a[0].date,p[0].date),g=l.isAfter(a[0].date,p[0].date),v=g?n[Jn.caption_after_enter]:n[Jn.caption_before_enter],w=g?n[Jn.weeks_after_enter]:n[Jn.weeks_before_enter],N=c.current,j=e.current.cloneNode(!0);if(j instanceof HTMLElement?(N0(j).forEach(C=>{if(!(C instanceof HTMLElement))return;const P=dQ(C);P&&C.contains(P)&&C.removeChild(P);const D=S0(C);D&&D.classList.remove(v);const A=C0(C);A&&A.classList.remove(w)}),c.current=j):c.current=null,m.current||f||r)return;const S=N instanceof HTMLElement?N0(N):[],E=N0(e.current);if(E!=null&&E.every(T=>T instanceof HTMLElement)&&S&&S.every(T=>T instanceof HTMLElement)){m.current=!0,e.current.style.isolation="isolate";const T=uQ(e.current);T&&(T.style.zIndex="1"),E.forEach((C,P)=>{const D=S[P];if(!D)return;C.style.position="relative",C.style.overflow="hidden";const A=S0(C);A&&A.classList.add(v);const R=C0(C);R&&R.classList.add(w);const F=()=>{m.current=!1,e.current&&(e.current.style.isolation=""),T&&(T.style.zIndex=""),A&&A.classList.remove(v),R&&R.classList.remove(w),C.style.position="",C.style.overflow="",C.contains(D)&&C.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const z=hQ(D);z&&(z.style.opacity="0");const J=S0(D);J&&(J.classList.add(g?n[Jn.caption_before_exit]:n[Jn.caption_after_exit]),J.addEventListener("animationend",F));const K=C0(D);K&&K.classList.add(g?n[Jn.weeks_before_exit]:n[Jn.weeks_after_exit]),C.insertBefore(D,C.firstChild)})}})}function pQ(e,s,n,a){const r=e[0],l=e[e.length-1],{ISOWeek:c,fixedWeeks:u,broadcastCalendar:m}=n??{},{addDays:p,differenceInCalendarDays:f,differenceInCalendarMonths:g,endOfBroadcastWeek:v,endOfISOWeek:w,endOfMonth:N,endOfWeek:j,isAfter:S,startOfBroadcastWeek:E,startOfISOWeek:T,startOfWeek:C}=a,P=m?E(r,a):c?T(r):C(r),D=m?v(l):c?w(N(l)):j(N(l)),A=s&&(m?v(s):c?w(s):j(s)),R=A&&S(D,A)?A:D,F=f(R,P),z=g(l,r)+1,J=[];for(let ce=0;ce<=F;ce++){const q=p(P,ce);J.push(q)}const X=(m?35:42)*z;if(u&&J.length<X){const ce=X-J.length;for(let q=0;q<ce;q++){const ie=p(J[J.length-1],1);J.push(ie)}}return J}function fQ(e){const s=[];return e.reduce((n,a)=>{const r=a.weeks.reduce((l,c)=>l.concat(c.days.slice()),s.slice());return n.concat(r.slice())},s.slice())}function gQ(e,s,n,a){const{numberOfMonths:r=1}=n,l=[];for(let c=0;c<r;c++){const u=a.addMonths(e,c);if(s&&u>s)break;l.push(u)}return l}function sk(e,s,n,a){const{month:r,defaultMonth:l,today:c=a.today(),numberOfMonths:u=1}=e;let m=r||l||c;const{differenceInCalendarMonths:p,addMonths:f,startOfMonth:g}=a;if(n&&p(n,m)<u-1){const v=-1*(u-1);m=f(n,v)}return s&&p(m,s)<0&&(m=s),g(m)}function xQ(e,s,n,a){const{addDays:r,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:u,endOfWeek:m,getISOWeek:p,getWeek:f,startOfBroadcastWeek:g,startOfISOWeek:v,startOfWeek:w}=a,N=e.reduce((j,S)=>{const E=n.broadcastCalendar?g(S,a):n.ISOWeek?v(S):w(S),T=n.broadcastCalendar?l(S):n.ISOWeek?c(u(S)):m(u(S)),C=s.filter(R=>R>=E&&R<=T),P=n.broadcastCalendar?35:42;if(n.fixedWeeks&&C.length<P){const R=s.filter(F=>{const z=P-C.length;return F>T&&F<=r(T,z)});C.push(...R)}const D=C.reduce((R,F)=>{const z=n.ISOWeek?p(F):f(F),J=R.find(X=>X.weekNumber===z),K=new BR(F,S,a);return J?J.days.push(K):R.push(new mK(z,[K])),R},[]),A=new hK(S,D);return j.push(A),j},[]);return n.reverseMonths?N.reverse():N}function yQ(e,s){let{startMonth:n,endMonth:a}=e;const{startOfYear:r,startOfDay:l,startOfMonth:c,endOfMonth:u,addYears:m,endOfYear:p,newDate:f,today:g}=s,{fromYear:v,toYear:w,fromMonth:N,toMonth:j}=e;!n&&N&&(n=N),!n&&v&&(n=s.newDate(v,0,1)),!a&&j&&(a=j),!a&&w&&(a=f(w,11,31));const S=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=c(n):v?n=f(v,0,1):!n&&S&&(n=r(m(e.today??g(),-100))),a?a=u(a):w?a=f(w,11,31):!a&&S&&(a=p(e.today??g())),[n&&l(n),a&&l(a)]}function vQ(e,s,n,a){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:l=1}=n,{startOfMonth:c,addMonths:u,differenceInCalendarMonths:m}=a,p=r?l:1,f=c(e);if(!s)return u(f,p);if(!(m(s,e)<l))return u(f,p)}function bQ(e,s,n,a){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:l}=n,{startOfMonth:c,addMonths:u,differenceInCalendarMonths:m}=a,p=r?l??1:1,f=c(e);if(!s)return u(f,-p);if(!(m(f,s)<=0))return u(f,-p)}function wQ(e){const s=[];return e.reduce((n,a)=>n.concat(a.weeks.slice()),s.slice())}function Ag(e,s){const[n,a]=x.useState(e);return[s===void 0?n:s,a]}function jQ(e,s){var P;const[n,a]=yQ(e,s),{startOfMonth:r,endOfMonth:l}=s,c=sk(e,n,a,s),[u,m]=Ag(c,e.month?c:void 0);x.useEffect(()=>{const D=sk(e,n,a,s);m(D)},[e.timeZone]);const{months:p,weeks:f,days:g,previousMonth:v,nextMonth:w}=x.useMemo(()=>{const D=gQ(u,a,{numberOfMonths:e.numberOfMonths},s),A=pQ(D,e.endMonth?l(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},s),R=xQ(D,A,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},s),F=wQ(R),z=fQ(R),J=bQ(u,n,e,s),K=vQ(u,a,e,s);return{months:R,weeks:F,days:z,previousMonth:J,nextMonth:K}},[s,u.getTime(),a==null?void 0:a.getTime(),n==null?void 0:n.getTime(),e.disableNavigation,e.broadcastCalendar,(P=e.endMonth)==null?void 0:P.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:N,onMonthChange:j}=e,S=D=>f.some(A=>A.days.some(R=>R.isEqualTo(D))),E=D=>{if(N)return;let A=r(D);n&&A<r(n)&&(A=r(n)),a&&A>r(a)&&(A=r(a)),m(A),j==null||j(A)};return{months:p,weeks:f,days:g,navStart:n,navEnd:a,previousMonth:v,nextMonth:w,goToMonth:E,goToDay:D=>{S(D)||E(D.date)}}}var Zr;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Zr||(Zr={}));function ak(e){return!e[na.disabled]&&!e[na.hidden]&&!e[na.outside]}function NQ(e,s,n,a){let r,l=-1;for(const c of e){const u=s(c);ak(u)&&(u[na.focused]&&l<Zr.FocusedModifier?(r=c,l=Zr.FocusedModifier):a!=null&&a.isEqualTo(c)&&l<Zr.LastFocused?(r=c,l=Zr.LastFocused):n(c.date)&&l<Zr.Selected?(r=c,l=Zr.Selected):u[na.today]&&l<Zr.Today&&(r=c,l=Zr.Today))}return r||(r=e.find(c=>ak(s(c)))),r}function SQ(e,s,n,a,r,l,c){const{ISOWeek:u,broadcastCalendar:m}=l,{addDays:p,addMonths:f,addWeeks:g,addYears:v,endOfBroadcastWeek:w,endOfISOWeek:N,endOfWeek:j,max:S,min:E,startOfBroadcastWeek:T,startOfISOWeek:C,startOfWeek:P}=c;let A={day:p,week:g,month:f,year:v,startOfWeek:R=>m?T(R,c):u?C(R):P(R),endOfWeek:R=>m?w(R):u?N(R):j(R)}[e](n,s==="after"?1:-1);return s==="before"&&a?A=S([a,A]):s==="after"&&r&&(A=E([r,A])),A}function sO(e,s,n,a,r,l,c,u=0){if(u>365)return;const m=SQ(e,s,n.date,a,r,l,c),p=!!(l.disabled&&Ji(m,l.disabled,c)),f=!!(l.hidden&&Ji(m,l.hidden,c)),g=m,v=new BR(m,g,c);return!p&&!f?v:sO(e,s,v,a,r,l,c,u+1)}function CQ(e,s,n,a,r){const{autoFocus:l}=e,[c,u]=x.useState(),m=NQ(s.days,n,a||(()=>!1),c),[p,f]=x.useState(l?m:void 0);return{isFocusTarget:j=>!!(m!=null&&m.isEqualTo(j)),setFocused:f,focused:p,blur:()=>{u(p),f(void 0)},moveFocus:(j,S)=>{if(!p)return;const E=sO(j,S,p,s.navStart,s.navEnd,e,r);E&&(e.disableNavigation&&!s.days.some(C=>C.isEqualTo(E))||(s.goToDay(E),f(E)))}}}function TQ(e,s){const{selected:n,required:a,onSelect:r}=e,[l,c]=Ag(n,r?n:void 0),u=r?n:l,{isSameDay:m}=s,p=w=>(u==null?void 0:u.some(N=>m(N,w)))??!1,{min:f,max:g}=e;return{selected:u,select:(w,N,j)=>{let S=[...u??[]];if(p(w)){if((u==null?void 0:u.length)===f||a&&(u==null?void 0:u.length)===1)return;S=u==null?void 0:u.filter(E=>!m(E,w))}else(u==null?void 0:u.length)===g?S=[w]:S=[...S,w];return r||c(S),r==null||r(S,w,N,j),S},isSelected:p}}function kQ(e,s,n=0,a=0,r=!1,l=vi){const{from:c,to:u}=s||{},{isSameDay:m,isAfter:p,isBefore:f}=l;let g;if(!c&&!u)g={from:e,to:n>0?void 0:e};else if(c&&!u)m(c,e)?n===0?g={from:c,to:e}:r?g={from:c,to:void 0}:g=void 0:f(e,c)?g={from:e,to:c}:g={from:c,to:e};else if(c&&u)if(m(c,e)&&m(u,e))r?g={from:c,to:u}:g=void 0;else if(m(c,e))g={from:c,to:n>0?void 0:e};else if(m(u,e))g={from:e,to:n>0?void 0:e};else if(f(e,c))g={from:e,to:u};else if(p(e,c))g={from:c,to:e};else if(p(e,u))g={from:c,to:e};else throw new Error("Invalid range");if(g!=null&&g.from&&(g!=null&&g.to)){const v=l.differenceInCalendarDays(g.to,g.from);a>0&&v>a?g={from:e,to:void 0}:n>1&&v<n&&(g={from:e,to:void 0})}return g}function EQ(e,s,n=vi){const a=Array.isArray(s)?s:[s];let r=e.from;const l=n.differenceInCalendarDays(e.to,e.from),c=Math.min(l,6);for(let u=0;u<=c;u++){if(a.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function nk(e,s,n=vi){return Qi(e,s.from,!1,n)||Qi(e,s.to,!1,n)||Qi(s,e.from,!1,n)||Qi(s,e.to,!1,n)}function AQ(e,s,n=vi){const a=Array.isArray(s)?s:[s];if(a.filter(u=>typeof u!="function").some(u=>typeof u=="boolean"?u:n.isDate(u)?Qi(e,u,!1,n):$R(u,n)?u.some(m=>Qi(e,m,!1,n)):Eg(u)?u.from&&u.to?nk(e,{from:u.from,to:u.to},n):!1:qR(u)?EQ(e,u.dayOfWeek,n):oj(u)?n.isAfter(u.before,u.after)?nk(e,{from:n.addDays(u.after,1),to:n.addDays(u.before,-1)},n):Ji(e.from,u,n)||Ji(e.to,u,n):lj(u)||cj(u)?Ji(e.from,u,n)||Ji(e.to,u,n):!1))return!0;const c=a.filter(u=>typeof u=="function");if(c.length){let u=e.from;const m=n.differenceInCalendarDays(e.to,e.from);for(let p=0;p<=m;p++){if(c.some(f=>f(u)))return!0;u=n.addDays(u,1)}}return!1}function DQ(e,s){const{disabled:n,excludeDisabled:a,selected:r,required:l,onSelect:c}=e,[u,m]=Ag(r,c?r:void 0),p=c?r:u;return{selected:p,select:(v,w,N)=>{const{min:j,max:S}=e,E=v?kQ(v,p,j,S,l,s):void 0;return a&&n&&(E!=null&&E.from)&&E.to&&AQ({from:E.from,to:E.to},n,s)&&(E.from=v,E.to=void 0),c||m(E),c==null||c(E,v,w,N),E},isSelected:v=>p&&Qi(p,v,!1,s)}}function IQ(e,s){const{selected:n,required:a,onSelect:r}=e,[l,c]=Ag(n,r?n:void 0),u=r?n:l,{isSameDay:m}=s;return{selected:u,select:(g,v,w)=>{let N=g;return!a&&u&&u&&m(g,u)&&(N=void 0),r||c(N),r==null||r(N,g,v,w),N},isSelected:g=>u?m(u,g):!1}}function PQ(e,s){const n=IQ(e,s),a=TQ(e,s),r=DQ(e,s);switch(e.mode){case"single":return n;case"multiple":return a;case"range":return r;default:return}}function sn(e,s){return e instanceof Ki&&e.timeZone===s?e:new Ki(e,s)}function rk(e,s){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?sn(e,s):Array.isArray(e)?e.map(n=>n instanceof Date?sn(n,s):n):Eg(e)?{...e,from:e.from?sn(e.from,s):e.from,to:e.to?sn(e.to,s):e.to}:oj(e)?{before:sn(e.before,s),after:sn(e.after,s)}:lj(e)?{after:sn(e.after,s)}:cj(e)?{before:sn(e.before,s)}:e}function T0(e,s){return e&&(Array.isArray(e)?e.map(n=>rk(n,s)):rk(e,s))}function RQ(e){var on;let s=e;const n=s.timeZone;if(n&&(s={...e,timeZone:n},s.today&&(s.today=sn(s.today,n)),s.month&&(s.month=sn(s.month,n)),s.defaultMonth&&(s.defaultMonth=sn(s.defaultMonth,n)),s.startMonth&&(s.startMonth=sn(s.startMonth,n)),s.endMonth&&(s.endMonth=sn(s.endMonth,n)),s.mode==="single"&&s.selected?s.selected=sn(s.selected,n):s.mode==="multiple"&&s.selected?s.selected=(on=s.selected)==null?void 0:on.map(jt=>sn(jt,n)):s.mode==="range"&&s.selected&&(s.selected={from:s.selected.from?sn(s.selected.from,n):s.selected.from,to:s.selected.to?sn(s.selected.to,n):s.selected.to}),s.disabled!==void 0&&(s.disabled=T0(s.disabled,n)),s.hidden!==void 0&&(s.hidden=T0(s.hidden,n)),s.modifiers)){const jt={};Object.keys(s.modifiers).forEach(Ft=>{var k;jt[Ft]=T0((k=s.modifiers)==null?void 0:k[Ft],n)}),s.modifiers=jt}const{components:a,formatters:r,labels:l,dateLib:c,locale:u,classNames:m}=x.useMemo(()=>{const jt={...VR,...s.locale},Ft=new sr({locale:jt,weekStartsOn:s.broadcastCalendar?1:s.weekStartsOn,firstWeekContainsDate:s.firstWeekContainsDate,useAdditionalWeekYearTokens:s.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:s.useAdditionalDayOfYearTokens,timeZone:s.timeZone,numerals:s.numerals},s.dateLib);return{dateLib:Ft,components:qK(s.components),formatters:eQ(s.formatters),labels:rQ(s.labels,Ft.options),locale:jt,classNames:{...GK(),...s.classNames}}},[s.locale,s.broadcastCalendar,s.weekStartsOn,s.firstWeekContainsDate,s.useAdditionalWeekYearTokens,s.useAdditionalDayOfYearTokens,s.timeZone,s.numerals,s.dateLib,s.components,s.formatters,s.labels,s.classNames]);s.today||(s={...s,today:c.today()});const{captionLayout:p,mode:f,navLayout:g,numberOfMonths:v=1,onDayBlur:w,onDayClick:N,onDayFocus:j,onDayKeyDown:S,onDayMouseEnter:E,onDayMouseLeave:T,onNextClick:C,onPrevClick:P,showWeekNumber:D,styles:A}=s,{formatCaption:R,formatDay:F,formatMonthDropdown:z,formatWeekNumber:J,formatWeekNumberHeader:K,formatWeekdayName:X,formatYearDropdown:ce}=r,q=jQ(s,c),{days:ie,months:L,navStart:B,navEnd:Y,previousMonth:de,nextMonth:G,goToMonth:M}=q,V=BK(ie,s,B,Y,c),{isSelected:W,select:$,selected:me}=PQ(s,c)??{},{blur:ge,focused:ue,isFocusTarget:be,moveFocus:Ee,setFocused:H}=CQ(s,q,V,W??(()=>!1),c),{labelDayButton:fe,labelGridcell:je,labelGrid:Oe,labelMonthDropdown:_e,labelNav:Ie,labelPrevious:ze,labelNext:Ue,labelWeekday:Ge,labelWeekNumber:it,labelWeekNumberHeader:Tt,labelYearDropdown:yt}=l,xs=x.useMemo(()=>lQ(c,s.ISOWeek,s.broadcastCalendar,s.today),[c,s.ISOWeek,s.broadcastCalendar,s.today]),va=f!==void 0||N!==void 0,Fe=x.useCallback(()=>{de&&(M(de),P==null||P(de))},[de,M,P]),lt=x.useCallback(()=>{G&&(M(G),C==null||C(G))},[M,G,C]),Zt=x.useCallback((jt,Ft)=>k=>{k.preventDefault(),k.stopPropagation(),H(jt),!Ft.disabled&&($==null||$(jt.date,Ft,k),N==null||N(jt.date,Ft,k))},[$,N,H]),as=x.useCallback((jt,Ft)=>k=>{H(jt),j==null||j(jt.date,Ft,k)},[j,H]),es=x.useCallback((jt,Ft)=>k=>{ge(),w==null||w(jt.date,Ft,k)},[ge,w]),ae=x.useCallback((jt,Ft)=>k=>{const te={ArrowLeft:[k.shiftKey?"month":"day",s.dir==="rtl"?"after":"before"],ArrowRight:[k.shiftKey?"month":"day",s.dir==="rtl"?"before":"after"],ArrowDown:[k.shiftKey?"year":"week","after"],ArrowUp:[k.shiftKey?"year":"week","before"],PageUp:[k.shiftKey?"year":"month","before"],PageDown:[k.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(te[k.key]){k.preventDefault(),k.stopPropagation();const[le,Se]=te[k.key];Ee(le,Se)}S==null||S(jt.date,Ft,k)},[Ee,S,s.dir]),Ye=x.useCallback((jt,Ft)=>k=>{E==null||E(jt.date,Ft,k)},[E]),vt=x.useCallback((jt,Ft)=>k=>{T==null||T(jt.date,Ft,k)},[T]),St=x.useCallback(jt=>Ft=>{const k=Number(Ft.target.value),te=c.setMonth(c.startOfMonth(jt),k);M(te)},[c,M]),cs=x.useCallback(jt=>Ft=>{const k=Number(Ft.target.value),te=c.setYear(c.startOfMonth(jt),k);M(te)},[c,M]),{className:ys,style:Ks}=x.useMemo(()=>({className:[m[wt.Root],s.className].filter(Boolean).join(" "),style:{...A==null?void 0:A[wt.Root],...s.style}}),[m,s.className,s.style,A]),bt=$K(s),rn=x.useRef(null);mQ(rn,!!s.animate,{classNames:m,months:L,focused:ue,dateLib:c});const La={dayPickerProps:s,selected:me,select:$,isSelected:W,months:L,nextMonth:G,previousMonth:de,goToMonth:M,getModifiers:V,components:a,classNames:m,styles:A,labels:l,formatters:r};return qe.createElement(zR.Provider,{value:La},qe.createElement(a.Root,{rootRef:s.animate?rn:void 0,className:ys,style:Ks,dir:s.dir,id:s.id,lang:s.lang,nonce:s.nonce,title:s.title,role:s.role,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"],...bt},qe.createElement(a.Months,{className:m[wt.Months],style:A==null?void 0:A[wt.Months]},!s.hideNavigation&&!g&&qe.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:m[wt.Nav],style:A==null?void 0:A[wt.Nav],"aria-label":Ie(),onPreviousClick:Fe,onNextClick:lt,previousMonth:de,nextMonth:G}),L.map((jt,Ft)=>qe.createElement(a.Month,{"data-animated-month":s.animate?"true":void 0,className:m[wt.Month],style:A==null?void 0:A[wt.Month],key:Ft,displayIndex:Ft,calendarMonth:jt},g==="around"&&!s.hideNavigation&&Ft===0&&qe.createElement(a.PreviousMonthButton,{type:"button",className:m[wt.PreviousMonthButton],tabIndex:de?void 0:-1,"aria-disabled":de?void 0:!0,"aria-label":ze(de),onClick:Fe,"data-animated-button":s.animate?"true":void 0},qe.createElement(a.Chevron,{disabled:de?void 0:!0,className:m[wt.Chevron],orientation:s.dir==="rtl"?"right":"left"})),qe.createElement(a.MonthCaption,{"data-animated-caption":s.animate?"true":void 0,className:m[wt.MonthCaption],style:A==null?void 0:A[wt.MonthCaption],calendarMonth:jt,displayIndex:Ft},p!=null&&p.startsWith("dropdown")?qe.createElement(a.DropdownNav,{className:m[wt.Dropdowns],style:A==null?void 0:A[wt.Dropdowns]},(()=>{const k=p==="dropdown"||p==="dropdown-months"?qe.createElement(a.MonthsDropdown,{key:"month",className:m[wt.MonthsDropdown],"aria-label":_e(),classNames:m,components:a,disabled:!!s.disableNavigation,onChange:St(jt.date),options:iQ(jt.date,B,Y,r,c),style:A==null?void 0:A[wt.Dropdown],value:c.getMonth(jt.date)}):qe.createElement("span",{key:"month"},z(jt.date,c)),te=p==="dropdown"||p==="dropdown-years"?qe.createElement(a.YearsDropdown,{key:"year",className:m[wt.YearsDropdown],"aria-label":yt(c.options),classNames:m,components:a,disabled:!!s.disableNavigation,onChange:cs(jt.date),options:cQ(B,Y,r,c,!!s.reverseYears),style:A==null?void 0:A[wt.Dropdown],value:c.getYear(jt.date)}):qe.createElement("span",{key:"year"},ce(jt.date,c));return c.getMonthYearOrder()==="year-first"?[te,k]:[k,te]})(),qe.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},R(jt.date,c.options,c))):qe.createElement(a.CaptionLabel,{className:m[wt.CaptionLabel],role:"status","aria-live":"polite"},R(jt.date,c.options,c))),g==="around"&&!s.hideNavigation&&Ft===v-1&&qe.createElement(a.NextMonthButton,{type:"button",className:m[wt.NextMonthButton],tabIndex:G?void 0:-1,"aria-disabled":G?void 0:!0,"aria-label":Ue(G),onClick:lt,"data-animated-button":s.animate?"true":void 0},qe.createElement(a.Chevron,{disabled:G?void 0:!0,className:m[wt.Chevron],orientation:s.dir==="rtl"?"left":"right"})),Ft===v-1&&g==="after"&&!s.hideNavigation&&qe.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:m[wt.Nav],style:A==null?void 0:A[wt.Nav],"aria-label":Ie(),onPreviousClick:Fe,onNextClick:lt,previousMonth:de,nextMonth:G}),qe.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":Oe(jt.date,c.options,c)||void 0,className:m[wt.MonthGrid],style:A==null?void 0:A[wt.MonthGrid]},!s.hideWeekdays&&qe.createElement(a.Weekdays,{"data-animated-weekdays":s.animate?"true":void 0,className:m[wt.Weekdays],style:A==null?void 0:A[wt.Weekdays]},D&&qe.createElement(a.WeekNumberHeader,{"aria-label":Tt(c.options),className:m[wt.WeekNumberHeader],style:A==null?void 0:A[wt.WeekNumberHeader],scope:"col"},K()),xs.map(k=>qe.createElement(a.Weekday,{"aria-label":Ge(k,c.options,c),className:m[wt.Weekday],key:String(k),style:A==null?void 0:A[wt.Weekday],scope:"col"},X(k,c.options,c)))),qe.createElement(a.Weeks,{"data-animated-weeks":s.animate?"true":void 0,className:m[wt.Weeks],style:A==null?void 0:A[wt.Weeks]},jt.weeks.map(k=>qe.createElement(a.Week,{className:m[wt.Week],key:k.weekNumber,style:A==null?void 0:A[wt.Week],week:k},D&&qe.createElement(a.WeekNumber,{week:k,style:A==null?void 0:A[wt.WeekNumber],"aria-label":it(k.weekNumber,{locale:u}),className:m[wt.WeekNumber],scope:"row",role:"rowheader"},J(k.weekNumber,c)),k.days.map(te=>{const{date:le}=te,Se=V(te);if(Se[na.focused]=!Se.hidden&&!!(ue!=null&&ue.isEqualTo(te)),Se[Br.selected]=(W==null?void 0:W(le))||Se.selected,Eg(me)){const{from:Be,to:kt}=me;Se[Br.range_start]=!!(Be&&kt&&c.isSameDay(le,Be)),Se[Br.range_end]=!!(Be&&kt&&c.isSameDay(le,kt)),Se[Br.range_middle]=Qi(me,le,!0,c)}const dt=oQ(Se,A,s.modifiersStyles),_=zK(Se,m,s.modifiersClassNames),xe=!va&&!Se.hidden?je(le,Se,c.options,c):void 0;return qe.createElement(a.Day,{key:`${te.isoDate}_${te.displayMonthId}`,day:te,modifiers:Se,className:_.join(" "),style:dt,role:"gridcell","aria-selected":Se.selected||void 0,"aria-label":xe,"data-day":te.isoDate,"data-month":te.outside?te.dateMonthId:void 0,"data-selected":Se.selected||void 0,"data-disabled":Se.disabled||void 0,"data-hidden":Se.hidden||void 0,"data-outside":te.outside||void 0,"data-focused":Se.focused||void 0,"data-today":Se.today||void 0},!Se.hidden&&va?qe.createElement(a.DayButton,{className:m[wt.DayButton],style:A==null?void 0:A[wt.DayButton],type:"button",day:te,modifiers:Se,disabled:!Se.focused&&Se.disabled||void 0,"aria-disabled":Se.focused&&Se.disabled||void 0,tabIndex:be(te)?0:-1,"aria-label":fe(le,Se,c.options,c),onClick:Zt(te,Se),onBlur:es(te,Se),onFocus:as(te,Se),onKeyDown:ae(te,Se),onMouseEnter:Ye(te,Se),onMouseLeave:vt(te,Se)},F(le,c.options,c)):!Se.hidden&&F(te.date,c.options,c))})))))))),s.footer&&qe.createElement(a.Footer,{className:m[wt.Footer],style:A==null?void 0:A[wt.Footer],role:"status","aria-live":"polite"},s.footer)))}function aO({className:e,classNames:s,showOutsideDays:n=!0,...a}){return t.jsx(RQ,{showOutsideDays:n,className:Xe("p-4 bg-white rounded-2xl",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:flex-x-4 sm:space-y-0",month:"space-y-4 w-full",month_caption:"flex justify-between items-center mb-4 px-1",caption_label:"text-lg font-bold text-gray-900 pl-1",nav:"flex items-center gap-1",button_previous:Xe(xf({variant:"ghost"}),"h-8 w-8 bg-transparent p-0 text-gray-400 hover:text-gray-900 hover:bg-gray-50 transition-colors"),button_next:Xe(xf({variant:"ghost"}),"h-8 w-8 bg-transparent p-0 text-gray-400 hover:text-gray-900 hover:bg-gray-50 transition-colors"),month_grid:"w-full border-collapse space-y-1 block",weekdays:"grid grid-cols-7 w-full mb-1",weekday:"text-gray-400 font-medium text-[0.8rem] h-9 flex items-center justify-center",week:"grid grid-cols-7 w-full mt-1",weeks:"block w-full",day_button:Xe(xf({variant:"ghost"}),"h-10 w-10 p-0 font-normal aria-selected:opacity-100 rounded-full mx-auto relative text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-transparent"),range_end:"day-range-end",selected:"bg-transparent border-[2.5px] border-blue-500 text-blue-600 hover:bg-blue-50 hover:text-blue-600 focus:bg-blue-50 focus:text-blue-600 font-semibold",today:"text-red-500 font-bold relative after:content-[''] after:absolute after:bottom-[3px] after:left-1/2 after:-translate-x-1/2 after:w-1 after:h-1 after:bg-red-500 after:rounded-full",outside:"text-gray-300 opacity-50 aria-selected:bg-transparent aria-selected:text-gray-300 aria-selected:opacity-30",disabled:"text-gray-300 opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...s},...a})}aO.displayName="Calendar";var Dg="Popover",[nO,xX]=xi(Dg,[jg]),fm=jg(),[OQ,vl]=nO(Dg),rO=e=>{const{__scopePopover:s,children:n,open:a,defaultOpen:r,onOpenChange:l,modal:c=!1}=e,u=fm(s),m=x.useRef(null),[p,f]=x.useState(!1),[g,v]=dl({prop:a,defaultProp:r??!1,onChange:l,caller:Dg});return t.jsx(KI,{...u,children:t.jsx(OQ,{scope:s,contentId:Zi(),triggerRef:m,open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(w=>!w),[v]),hasCustomAnchor:p,onCustomAnchorAdd:x.useCallback(()=>f(!0),[]),onCustomAnchorRemove:x.useCallback(()=>f(!1),[]),modal:c,children:n})})};rO.displayName=Dg;var iO="PopoverAnchor",MQ=x.forwardRef((e,s)=>{const{__scopePopover:n,...a}=e,r=vl(iO,n),l=fm(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=r;return x.useEffect(()=>(c(),()=>u()),[c,u]),t.jsx(Yw,{...l,...a,ref:s})});MQ.displayName=iO;var oO="PopoverTrigger",lO=x.forwardRef((e,s)=>{const{__scopePopover:n,...a}=e,r=vl(oO,n),l=fm(n),c=Ms(s,r.triggerRef),u=t.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":mO(r.open),...a,ref:c,onClick:At(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?u:t.jsx(Yw,{asChild:!0,...l,children:u})});lO.displayName=oO;var hj="PopoverPortal",[_Q,LQ]=nO(hj,{forceMount:void 0}),cO=e=>{const{__scopePopover:s,forceMount:n,children:a,container:r}=e,l=vl(hj,s);return t.jsx(_Q,{scope:s,forceMount:n,children:t.jsx(lo,{present:n||l.open,children:t.jsx(nm,{asChild:!0,container:r,children:a})})})};cO.displayName=hj;var Zd="PopoverContent",dO=x.forwardRef((e,s)=>{const n=LQ(Zd,e.__scopePopover),{forceMount:a=n.forceMount,...r}=e,l=vl(Zd,e.__scopePopover);return t.jsx(lo,{present:a||l.open,children:l.modal?t.jsx(UQ,{...r,ref:s}):t.jsx(VQ,{...r,ref:s})})});dO.displayName=Zd;var FQ=gc("PopoverContent.RemoveScroll"),UQ=x.forwardRef((e,s)=>{const n=vl(Zd,e.__scopePopover),a=x.useRef(null),r=Ms(s,a),l=x.useRef(!1);return x.useEffect(()=>{const c=a.current;if(c)return Hb(c)},[]),t.jsx(hg,{as:FQ,allowPinchZoom:!0,children:t.jsx(uO,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),l.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,p=u.button===2||m;l.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:At(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),VQ=x.forwardRef((e,s)=>{const n=vl(Zd,e.__scopePopover),a=x.useRef(!1),r=x.useRef(!1);return t.jsx(uO,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(a.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:l=>{var m,p;(m=e.onInteractOutside)==null||m.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),uO=x.forwardRef((e,s)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:f,...g}=e,v=vl(Zd,n),w=fm(n);return Gb(),t.jsx(dg,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:l,children:t.jsx(am,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:f,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:p,onDismiss:()=>v.onOpenChange(!1),children:t.jsx(QI,{"data-state":mO(v.open),role:"dialog",id:v.contentId,...w,...g,ref:s,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hO="PopoverClose",BQ=x.forwardRef((e,s)=>{const{__scopePopover:n,...a}=e,r=vl(hO,n);return t.jsx(Ot.button,{type:"button",...a,ref:s,onClick:At(e.onClick,()=>r.onOpenChange(!1))})});BQ.displayName=hO;var zQ="PopoverArrow",qQ=x.forwardRef((e,s)=>{const{__scopePopover:n,...a}=e,r=fm(n);return t.jsx(JI,{...r,...a,ref:s})});qQ.displayName=zQ;function mO(e){return e?"open":"closed"}var $Q=rO,GQ=lO,HQ=cO,pO=dO;const YQ=$Q,WQ=GQ,fO=x.forwardRef(({className:e,align:s="center",sideOffset:n=4,...a},r)=>t.jsx(HQ,{children:t.jsx(pO,{ref:r,align:s,sideOffset:n,className:Xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));fO.displayName=pO.displayName;function ik({date:e,setDate:s,className:n,placeholder:a="MM/DD/YYYY",disabledDates:r,minDate:l,maxDate:c}){const[u,m]=x.useState(""),[p,f]=x.useState(null),[g,v]=x.useState(!1),[w,N]=x.useState({hour:12,minute:0,period:"PM"});x.useEffect(()=>{if(e){m(Cf(e,"MM/dd/yyyy")),f(null);const T=e.getHours(),C=e.getMinutes();N({hour:T%12||12,minute:C,period:T>=12?"PM":"AM"})}else m("")},[e]);const j=T=>{let C=T.target.value;if(C=C.replace(/[^0-9/]/g,""),C.length===2&&u.length===1?C+="/":C.length===2&&u.length===3?C=C.substring(0,1):C.length===5&&u.length===4?C+="/":C.length===5&&u.length===6&&(C=C.substring(0,4)),!(C.length>10))if(m(C),C.length===10){const P=FY(C,"MM/dd/yyyy",new Date);if(!dR(P)){f("Invalid date"),s(void 0);return}if(Cf(P,"MM/dd/yyyy")!==C){f("Date does not exist"),s(void 0);return}if(r&&r(P)){f("Date is disabled"),s(void 0);return}if(l&&BH(P,l)&&!B2(P,l)){f("Date is too early"),s(void 0);return}if(c&&VH(P,c)&&!B2(P,c)){f("Date is too late"),s(void 0);return}f(null);const D=new Date(P),A=w.period==="PM"?w.hour%12+12:w.hour%12;D.setHours(A,w.minute,0,0),s(D)}else e&&s(void 0),f(null)},S=T=>{if(T){const C=new Date(T),P=w.period==="PM"?w.hour%12+12:w.hour%12;C.setHours(P,w.minute,0,0),s(C),m(Cf(C,"MM/dd/yyyy")),f(null),v(!1)}else s(void 0),m("")},E=(T,C)=>{const P={...w};if(T==="hour"&&(P.hour=C),T==="minute"&&(P.minute=C),T==="period"&&(P.period=C),N(P),e){const D=new Date(e),A=P.period==="PM"?P.hour%12+12:P.hour%12;D.setHours(A,P.minute,0,0),s(D)}};return t.jsx("div",{className:Xe("relative w-full max-w-[300px]",n),children:t.jsxs(YQ,{open:g,onOpenChange:v,children:[t.jsxs("div",{className:"relative group",children:[t.jsx(ye,{type:"text",placeholder:a,value:u,onChange:j,className:Xe("pr-10 h-11 text-base transition-all duration-200","border-gray-200 focus:border-blue-500 hover:border-gray-300","placeholder:text-gray-400",p?"border-red-500 focus:border-red-500 ring-red-100":"")}),t.jsx(WQ,{asChild:!0,children:t.jsx(se,{variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-11 text-gray-500 hover:text-blue-600 hover:bg-transparent","aria-label":"Open calendar",children:t.jsx(qs,{className:"h-5 w-5"})})})]}),p&&t.jsxs("div",{className:"absolute -bottom-6 left-0 text-xs text-red-500 flex items-center gap-1 animate-in slide-in-from-left-1 fade-in duration-200",children:[t.jsx(is,{className:"h-3 w-3"}),p]}),t.jsx(fO,{className:"w-[min(340px,calc(100vw-2rem))] p-0 border-0 bg-transparent shadow-none",align:"start",children:t.jsxs("div",{className:"bg-white rounded-[13px] shadow-[0_8px_30px_rgba(0,0,0,0.12)] p-2.5 sm:p-3 pt-3 sm:pt-4 pb-2",children:[t.jsx(aO,{mode:"single",selected:e,onSelect:S,initialFocus:!0,disabled:r,defaultMonth:e||new Date,captionLayout:"dropdown",fromYear:2020,toYear:2030,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-1.5 sm:space-y-2 w-full",month_caption:"flex justify-center relative items-center h-[36px] sm:h-[40px] mb-2",caption_label:"hidden",dropdowns:"flex gap-1 sm:gap-1.5 items-center justify-center relative z-10",dropdown:"appearance-none bg-white/95 border border-gray-200/60 rounded-md px-1.5 sm:px-2 py-0.5 sm:py-1 text-[12px] sm:text-[13px] font-[600] text-black cursor-pointer hover:bg-white hover:border-gray-300 transition-all shadow-sm max-h-[32px] leading-tight",dropdown_month:"w-[85px] sm:w-[95px] order-2",dropdown_year:"w-[60px] sm:w-[65px] order-1",nav:"flex items-center absolute w-full justify-between left-0 top-1 px-1 z-20 pointer-events-none",button_previous:"h-[30px] w-[30px] bg-transparent p-0 text-gray-900/80 hover:text-black active:scale-95 active:bg-gray-200 transition-all flex items-center justify-center touch-manipulation pointer-events-auto hover:bg-gray-100/80 rounded-full disabled:opacity-30 disabled:pointer-events-none",button_next:"h-[30px] w-[30px] bg-transparent p-0 text-gray-900/80 hover:text-black active:scale-95 active:bg-gray-200 transition-all flex items-center justify-center touch-manipulation pointer-events-auto hover:bg-gray-100/80 rounded-full disabled:opacity-30 disabled:pointer-events-none",month_grid:"w-full border-collapse block",weeks:"w-full block space-y-0",weekdays:"grid grid-cols-7 w-full mb-1 gap-0",weekday:"text-[9px] sm:text-[10px] font-[600] text-[rgba(60,60,67,0.4)] w-[34px] sm:w-[42px] h-[14px] sm:h-[16px] flex items-center justify-center uppercase tracking-wider",week:"grid grid-cols-7 w-full gap-0",day_button:"h-[32px] w-[32px] sm:h-[38px] sm:w-[38px] p-0 font-[400] text-[14px] sm:text-[16px] text-black aria-selected:opacity-100 rounded-full hover:bg-black/5 active:bg-black/10 flex items-center justify-center transition-all duration-150 tracking-[-0.3px] relative text-center touch-manipulation",selected:"bg-[#0088FF] text-white hover:bg-[#0088FF] hover:text-white focus:bg-[#0088FF] focus:text-white active:bg-[#0077EE] font-[510] shadow-md shadow-blue-200/50",today:"text-red-500 font-[600] relative after:content-[''] after:absolute after:bottom-[3px] after:left-1/2 after:-translate-x-1/2 after:w-1 after:h-1 after:bg-red-500 after:rounded-full",outside:"text-gray-300 opacity-40 aria-selected:bg-transparent aria-selected:text-gray-300 aria-selected:opacity-30",disabled:"text-gray-300 opacity-40 line-through decoration-gray-300",hidden:"invisible"}}),t.jsxs("div",{className:"px-1.5 sm:px-2 mt-1.5 sm:mt-2",children:[t.jsx("div",{className:"h-[0.5px] bg-[#000000]/12 w-full mb-1.5 sm:mb-2"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-[14px] sm:text-[15px] text-black tracking-[-0.43px] font-[400]",children:"Time"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("select",{value:w.hour,onChange:T=>E("hour",parseInt(T.target.value)),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-[#767680]/12 rounded-lg text-[14px] sm:text-[15px] text-black border-0 cursor-pointer hover:bg-[#767680]/20 transition-colors appearance-none text-center w-[42px] sm:w-[48px] [&::-webkit-scrollbar]:w-0 [&::-webkit-scrollbar]:hidden scrollbar-width-none",children:Array.from({length:12},(T,C)=>C+1).map(T=>t.jsx("option",{value:T,children:T.toString().padStart(2,"0")},T))}),t.jsx("span",{className:"text-[14px] sm:text-[15px] text-black",children:":"}),t.jsx("select",{value:w.minute,onChange:T=>E("minute",parseInt(T.target.value)),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-[#767680]/12 rounded-lg text-[14px] sm:text-[15px] text-black border-0 cursor-pointer hover:bg-[#767680]/20 transition-colors appearance-none text-center w-[50px] sm:w-[56px] [&::-webkit-scrollbar]:w-0 [&::-webkit-scrollbar]:hidden scrollbar-width-none",children:Array.from({length:60},(T,C)=>C).map(T=>t.jsx("option",{value:T,children:T.toString().padStart(2,"0")},T))}),t.jsxs("select",{value:w.period,onChange:T=>E("period",T.target.value),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-[#767680]/12 rounded-lg text-[14px] sm:text-[15px] text-black border-0 cursor-pointer hover:bg-[#767680]/20 transition-colors appearance-none text-center w-[48px] sm:w-[52px] [&::-webkit-scrollbar]:w-0 [&::-webkit-scrollbar]:hidden scrollbar-width-none",children:[t.jsx("option",{value:"AM",children:"AM"}),t.jsx("option",{value:"PM",children:"PM"})]})]})]})]})]})})]})})}function KQ({selectedPropertyId:e,onPropertyChange:s,dateRange:n,onDateRangeChange:a,properties:r,onReset:l,className:c}){const[u,m]=x.useState(!0),[p,f]=x.useState(null),g=(N,j)=>{if(!N){a(j,"");return}const S=Cf(N,"yyyy-MM-dd");a(j,S),p&&f(null)},v=({label:N,field:j,value:S,mobile:E})=>{const T=S?new Date(S):void 0;return t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-semibold text-gray-700 ml-1",children:N}),t.jsx(ik,{date:T,setDate:C=>g(C,j),placeholder:j==="startDate"?"Start date":"End date",className:"max-w-full"})]})},w=({mobile:N=!1})=>t.jsxs("div",{className:Xe("space-y-4",N?"":"pt-2 sm:pt-0"),children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"property-filter",className:"text-sm font-semibold text-gray-700 ml-1",children:"Property"}),t.jsxs(st,{value:e,onValueChange:s,children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/80 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500/20 hover:bg-gray-100 transition-all shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-2.5 overflow-hidden",children:[t.jsx(UE,{className:"h-4 w-4 text-gray-400 shrink-0"}),t.jsx(at,{placeholder:"All properties"})]})}),t.jsxs(rt,{className:"rounded-2xl border-none shadow-xl",children:[t.jsx(he,{value:"all",className:"rounded-lg h-10 cursor-pointer",children:"All properties"}),r==null?void 0:r.map(j=>t.jsx(he,{value:j.id.toString(),className:"rounded-lg h-10 cursor-pointer",children:j.name},j.id))]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(v,{label:"Start",field:"startDate",value:n.startDate,mobile:N}),t.jsx(v,{label:"End",field:"endDate",value:n.endDate,mobile:N})]}),t.jsx(se,{variant:"ghost",onClick:l,className:"w-full h-12 text-sm font-semibold text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-2xl transition-all duration-200 mt-2",children:"Reset Filters"})]});return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"sm:hidden",children:t.jsxs(Kw,{children:[t.jsx(CP,{asChild:!0,children:t.jsx(Te,{className:"rounded-3xl border-none shadow-xl shadow-gray-200/50 bg-white overflow-hidden transition-all duration-300 active:scale-[0.98] cursor-pointer",children:t.jsx("div",{className:"p-5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2.5 bg-blue-50 rounded-2xl",children:t.jsx(pf,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold tracking-tight text-gray-900 leading-none",children:"Money Matters"}),t.jsx("p",{className:"text-xs font-medium text-gray-400 mt-1",children:"Filter your transaction data"})]})]}),t.jsx(_h,{className:"h-5 w-5 text-gray-300"})]})})})}),t.jsxs(Qw,{side:"bottom",className:"flex flex-col h-[85vh] p-0 overflow-hidden",children:[t.jsxs("div",{className:"shrink-0 bg-white border-b border-gray-100/50",children:[t.jsx("div",{className:"w-full flex justify-center pt-3 pb-1",children:t.jsx("div",{className:"w-12 h-1.5 bg-gray-200 rounded-full"})}),t.jsx(Jw,{className:"px-6 pb-4 pt-2 text-left min-h-[80px] justify-center",children:p?t.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-5 duration-200",children:[t.jsx(se,{variant:"ghost",size:"icon",className:"-ml-2 h-10 w-10 text-gray-500 rounded-full",onClick:()=>f(null),children:t.jsx(Af,{className:"h-6 w-6"})}),t.jsx(Kf,{className:"text-2xl font-bold text-gray-900",children:p==="startDate"?"Select Start Date":"Select End Date"})]}):t.jsxs("div",{className:"animate-in slide-in-from-right-5 duration-200",children:[t.jsxs(Kf,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:t.jsx(pf,{className:"h-5 w-5 text-blue-600"})}),"Money Matters"]}),t.jsx(Xw,{className:"mt-1",children:"Filter transactions by property and date range."})]})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 bg-white",children:p?t.jsx("div",{className:"flex justify-center animate-in zoom-in-95 duration-200",children:t.jsx("div",{className:"w-full max-w-[340px]",children:t.jsx(ik,{date:p==="startDate"&&n.startDate?new Date(n.startDate):p==="endDate"&&n.endDate?new Date(n.endDate):void 0,setDate:N=>{p&&g(N,p)},placeholder:p==="startDate"?"Start date":"End date",className:"max-w-full"})})}):t.jsx("div",{className:"animate-in fade-in duration-200",children:t.jsx(w,{mobile:!0})})}),!p&&t.jsx(t9,{className:"shrink-0 p-6 bg-white border-t border-gray-100 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] sm:flex-row gap-3",children:t.jsx(X$,{asChild:!0,children:t.jsx(se,{className:"w-full h-12 text-base rounded-xl font-bold bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-200 active:scale-[0.98] transition-all",children:"Apply Filters"})})})]})]})}),t.jsxs(Te,{className:Xe("hidden sm:block rounded-3xl border-none shadow-xl shadow-gray-200/50 bg-white overflow-hidden transition-all duration-300 lg:bg-white/70 lg:backdrop-blur-xl lg:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.1)] lg:border-white/20",c),children:[t.jsx("div",{className:"p-5 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:N=>{N.target.closest("button")||m(!u)},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2.5 bg-blue-50 rounded-2xl",children:t.jsx(pf,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold tracking-tight text-gray-900 leading-none",children:"Money Matters"}),t.jsx("p",{className:"text-xs font-medium text-gray-400 mt-1",children:"Filter your transaction data"})]})]}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-10 w-10 bg-gray-50 text-gray-400 rounded-full active:scale-95 transition-transform active:bg-gray-100 hover:bg-gray-100",onClick:N=>{N.stopPropagation(),m(!u)},children:u?t.jsx(Lb,{className:"h-5 w-5"}):t.jsx(_h,{className:"h-5 w-5"})})]})}),t.jsx("div",{className:Xe("px-5 pb-6 pt-0 duration-300 ease-in-out",u?"block animate-in slide-in-from-top-2":"hidden"),children:t.jsx(w,{})})]})]})}const $o=!1;function QQ(){const{getAuthenticatedBackend:e,user:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=kr(),{toast:r}=da(),l=_w(["/finance"]);x.useEffect(()=>{a("Financial Management","Track expenses, revenues, and financial performance")},[a]);const[c,u]=x.useState("all"),[m,p]=x.useState(!1),f=za(),g=x.useRef(new Set),v=x.useRef(null),[w,N]=x.useState({isLive:!0});x.useEffect(()=>{const k=te=>{const le=(te==null?void 0:te.detail)||{};N(le)};return window.addEventListener("finance-stream-health",k),()=>window.removeEventListener("finance-stream-health",k)},[]);const j=(k,te)=>{if(!so.isProduction())try{const le=localStorage.getItem("accessToken")||"";if(!le)return;const Se=`${xt.BASE_URL}/telemetry/client`,dt=(Array.isArray(te)?te:[]).map(_=>({type:"derived_debounce_fired",coalescedCount:1,ts:new Date().toISOString()}));fetch(Se,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`},body:JSON.stringify({events:dt}),keepalive:!0}).catch(()=>{})}catch{}};x.useEffect(()=>{try{const k=c==="all"?null:Number(c);uu(k)}catch{}},[c]);const S=k=>!!k&&typeof k.eventId=="string"&&typeof k.eventType=="string"&&typeof k.entityId=="number"&&(typeof k.timestamp=="string"||k.timestamp instanceof Date)&&typeof k.propertyId=="number"&&typeof k.orgId=="number"&&typeof k.userId=="number"&&typeof k.entityType=="string",E=(k,te,le,Se)=>{const dt=f.getQueriesData({queryKey:[k]});for(const[_,xe]of dt){const Be=Array.isArray(_)?_:[_];if(Be[0]!==k)continue;const Gt=Be[1],Wt=Be[2],ea=te==null?!0:!Gt||Gt==="all"||String(te)===String(Gt);let qt=!0;if(Wt&&(Wt.startDate||Wt.endDate)&&le){const Le=new Date(le),Gs=Wt.startDate?new Date(Wt.startDate):void 0,ba=Wt.endDate?new Date(Wt.endDate):void 0;Gs&&Le<Gs&&(qt=!1),ba&&Le>ba&&(qt=!1)}ea&&qt&&f.setQueryData(_,Le=>Se(Le))}},[T,C]=x.useState({cashRevenue:0,bankRevenue:0,cashExpense:0,bankExpense:0}),P=x.useRef({profitLoss:!1,approvals:!1,todayPending:!1}),D=x.useRef(null),A=k=>{if(P.current={profitLoss:P.current.profitLoss||!!k.profitLoss,approvals:P.current.approvals||!!k.approvals,todayPending:P.current.todayPending||!!k.todayPending},D.current)return;const te=TI("FIN_DERIVED_DEBOUNCE_MS",1e3);D.current=setTimeout(()=>{const le=P.current;D.current=null,P.current={profitLoss:!1,approvals:!1,todayPending:!1},le.profitLoss&&f.invalidateQueries({queryKey:["profit-loss"]}),le.approvals&&f.invalidateQueries({queryKey:["daily-approval-check"]}),le.todayPending&&f.invalidateQueries({queryKey:["today-pending-transactions"]})},Math.max(50,te))};x.useEffect(()=>{const k=te=>{var le;try{const Se=((le=te==null?void 0:te.detail)==null?void 0:le.events)||[];if(!Array.isArray(Se)||Se.length===0)return;const _=Se.filter(Gt=>!(Gt!=null&&Gt.eventId)||g.current.has(Gt.eventId)?!1:(g.current.add(Gt.eventId),!0)).filter(S).sort((Gt,Wt)=>{const ea=new Date(Gt.timestamp).getTime(),qt=new Date(Wt.timestamp).getTime();return ea!==qt?ea-qt:String(Gt.eventId).localeCompare(String(Wt.eventId))});C(Gt=>{var ea,qt;let Wt={...Gt};for(const Le of _){const Gs=(Le==null?void 0:Le.eventType)||"",ba=(ea=Le==null?void 0:Le.metadata)==null?void 0:ea.amountCents,As=(qt=Le==null?void 0:Le.metadata)==null?void 0:qt.paymentMode;if(!Gs||typeof ba!="number"||!As)continue;const zs=Gs.startsWith("revenue_"),Ht=Gs.startsWith("expense_"),Ut=Gs.endsWith("_approved"),Kt=Gs.endsWith("_deleted"),Bt=zs?As==="cash"?"cashRevenue":"bankRevenue":As==="cash"?"cashExpense":"bankExpense";Ut?Wt[Bt]=Math.max(0,(Wt[Bt]||0)+ba):Kt&&(Wt[Bt]=Math.max(0,(Wt[Bt]||0)-ba))}return Wt});let xe=!1,Be=!1,kt=!1;for(const Gt of _)try{const{eventType:Wt,entityId:ea,entityType:qt,metadata:Le,propertyId:Gs}=Gt;if(!Wt||!ea||!qt)continue;const ba=(Le==null?void 0:Le.transactionDate)||(typeof Gt.timestamp=="string"?Gt.timestamp:void 0),As=qt==="expense",zs=qt==="revenue",Ht=As?"expenses":zs?"revenues":null;if(!Ht){if(Wt==="daily_approval_granted"){kt=!0;const Ut=Le==null?void 0:Le.transactionIds,Kt=(Le==null?void 0:Le.newStatus)||"approved";console.log("[Finance] daily_approval_granted received",{transactionIds:Ut,newStatus:Kt,userId:Gt.userId,metadata:Le}),Ut&&Ut.length>0?(f.setQueriesData({queryKey:["revenues"]},Bt=>{if(!(Bt!=null&&Bt.revenues))return Bt;const ps={...Bt,revenues:Bt.revenues.map(ta=>Ut.includes(ta.id)?{...ta,status:Kt,approvedByUserId:Gt.userId,approvedAt:Gt.timestamp||new Date().toISOString()}:ta)};return console.log("[Finance] Updated revenues cache",{affected:Ut.length,newStatus:Kt}),ps}),f.setQueriesData({queryKey:["expenses"]},Bt=>{if(!(Bt!=null&&Bt.expenses))return Bt;const ps={...Bt,expenses:Bt.expenses.map(ta=>Ut.includes(ta.id)?{...ta,status:Kt,approvedByUserId:Gt.userId,approvedAt:Gt.timestamp||new Date().toISOString()}:ta)};return console.log("[Finance] Updated expenses cache",{affected:Ut.length,newStatus:Kt}),ps}),xe=!0,Be=!0):(console.log("[Finance] daily_approval_granted without transactionIds - forcing invalidation"),f.invalidateQueries({queryKey:["revenues"]}),f.invalidateQueries({queryKey:["expenses"]}),xe=!0,Be=!0)}continue}As&&(xe=!0),zs&&(Be=!0),(Wt.includes("approved")||Wt.includes("rejected"))&&(kt=!0),Wt.endsWith("_added")?(((Le==null?void 0:Le.newStatus)==="pending"||!(Le!=null&&Le.newStatus))&&(kt=!0),E(Ht,Gs,ba,Kt=>{if(!Kt||!Array.isArray(Kt[Ht]))return Kt;const Bt=Kt[Ht],ps={id:ea,propertyId:Gs,propertyName:(Le==null?void 0:Le.propertyName)||(Gs!=null?Ie(Gs):"Property"),amountCents:(Le==null?void 0:Le.amountCents)||0,currency:(Le==null?void 0:Le.currency)||"INR",paymentMode:(Le==null?void 0:Le.paymentMode)||"cash",status:(Le==null?void 0:Le.newStatus)||"pending",createdAt:Gt.timestamp||new Date().toISOString(),createdByName:(Le==null?void 0:Le.createdByName)||"Unknown User",createdByUserId:(Le==null?void 0:Le.createdByUserId)||Gt.userId,description:(Le==null?void 0:Le.description)||""};if(As?(ps.category=(Le==null?void 0:Le.category)||"other",ps.expenseDate=(Le==null?void 0:Le.transactionDate)||new Date().toISOString().split("T")[0]):(ps.source=(Le==null?void 0:Le.source)||"other",ps.occurredAt=(Le==null?void 0:Le.transactionDate)||new Date().toISOString()),Bt.find(js=>js.id===ea))return Kt;const ta=Bt.findIndex(js=>!(js!=null&&js.isOptimistic)||js.propertyId!==Gs||js.amountCents!==ps.amountCents||js.paymentMode!==ps.paymentMode?!1:As?js.category===ps.category&&String(js.expenseDate).slice(0,10)===String(ps.expenseDate).slice(0,10):js.source===ps.source&&String(js.occurredAt).slice(0,10)===String(ps.occurredAt).slice(0,10));if(ta>=0){const js=[...Bt];return js[ta]={...ps},{...Kt,[Ht]:js}}return{...Kt,[Ht]:[ps,...Bt]}})):Wt.endsWith("_updated")?E(Ht,Gs,ba,Ut=>{if(!Ut||!Array.isArray(Ut[Ht]))return Ut;const Kt=Ut[Ht],Bt=Kt.findIndex(js=>js.id===ea);if(Bt===-1)return Ut;const ps={...Kt[Bt],amountCents:(Le==null?void 0:Le.amountCents)??Kt[Bt].amountCents,currency:(Le==null?void 0:Le.currency)??Kt[Bt].currency,paymentMode:(Le==null?void 0:Le.paymentMode)??Kt[Bt].paymentMode,status:(Le==null?void 0:Le.newStatus)??Kt[Bt].status,updatedAt:new Date().toISOString()};As&&(Le!=null&&Le.category)&&(ps.category=Le.category),zs&&(Le!=null&&Le.source)&&(ps.source=Le.source),Le!=null&&Le.transactionDate&&(As?ps.expenseDate=Le.transactionDate:ps.occurredAt=Le.transactionDate);const ta=[...Kt];return ta[Bt]=ps,{...Ut,[Ht]:ta}}):Wt.endsWith("_approved")||Wt.endsWith("_rejected")?E(Ht,Gs,ba,Ut=>{if(!Ut||!Array.isArray(Ut[Ht]))return Ut;const Kt=Ut[Ht],Bt=Kt.findIndex(js=>js.id===ea);if(Bt===-1)return Ut;const ps={...Kt[Bt],status:(Le==null?void 0:Le.newStatus)||(Wt.endsWith("_approved")?"approved":"rejected"),approvedByUserId:Gt.userId,approvedAt:Gt.timestamp||new Date().toISOString()},ta=[...Kt];return ta[Bt]=ps,{...Ut,[Ht]:ta}}):Wt.endsWith("_deleted")&&E(Ht,Gs,ba,Ut=>!Ut||!Array.isArray(Ut[Ht])?Ut:{...Ut,[Ht]:Ut[Ht].filter(Kt=>Kt.id!==ea)})}catch(Wt){console.error("[Finance] Event processing error",Wt)}A({profitLoss:xe||Be,approvals:kt,todayPending:kt}),v.current&&clearTimeout(v.current),Os("REALTIME_PATCH_MODE",!0)||(v.current=setTimeout(()=>{f.invalidateQueries({queryKey:["revenues"]}),f.invalidateQueries({queryKey:["expenses"]})},5e3))}catch(Se){console.error("[Finance] Event batch failed",Se)}};return window.addEventListener("finance-stream-events",k),()=>window.removeEventListener("finance-stream-events",k)},[f]);const R=k=>{if(!k)return"";const te=k instanceof Date?k:new Date(k);if(!(te instanceof Date)||isNaN(te.getTime()))return"";const le=Math.floor((Date.now()-te.getTime())/1e3);return le<=0?"now":`${le}s ago`},[F,z]=x.useState(!1),[J,K]=x.useState(!1),[X,ce]=x.useState(!1),[q,ie]=x.useState(!1),[L,B]=x.useState(null),[Y,de]=x.useState(null),[G,M]=x.useState(!1),[V,W]=x.useState(null),[$,me]=x.useState({startDate:"",endDate:""});qe.useEffect(()=>{},[$]);const ge=(k,te)=>{if(k&&te){const le=new Date(k),Se=new Date(te);if(le>Se)return r({variant:"destructive",title:"Invalid date range",description:"Start date must be before or equal to end date."}),!1}return!0},ue=(k,te)=>{const le={...$,[k]:te};k==="startDate"&&te&&!le.endDate&&(le.endDate=te),k==="endDate"&&te&&!le.startDate&&(le.startDate=te),k==="startDate"&&le.endDate&&te>le.endDate&&(le.endDate=te),ge(le.startDate,le.endDate)&&me(le)},[be,Ee]=x.useState({propertyId:"",category:"",amountCents:"",description:"",receiptUrl:"",receiptFile:null,expenseDate:sc(),paymentMode:"cash",bankReference:""}),[H,fe]=x.useState({propertyId:"",source:"other",amountCents:"",description:"",receiptUrl:"",receiptFile:null,occurredAt:sc(),paymentMode:"cash",bankReference:""}),[je,Oe]=x.useState(null),{data:_e}=Xt({queryKey:["properties"],queryFn:async()=>e().properties.list({}),enabled:l,staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),Ie=k=>{var le,Se,dt;const te=(le=((_e==null?void 0:_e.properties)||[]).find(_=>_.id===k))==null?void 0:le.name;if(te)return te;try{const _=f.getQueriesData({queryKey:["revenues"]});for(const[,xe]of _){const Be=(Se=xe==null?void 0:xe.revenues)==null?void 0:Se.find(kt=>kt.propertyId===k);if(Be!=null&&Be.propertyName)return Be.propertyName}}catch{}try{const _=f.getQueriesData({queryKey:["expenses"]});for(const[,xe]of _){const Be=(dt=xe==null?void 0:xe.expenses)==null?void 0:dt.find(kt=>kt.propertyId===k);if(Be!=null&&Be.propertyName)return Be.propertyName}}catch{}return`Property #${k}`},{data:ze,isLoading:Ue}=Xt({queryKey:["expenses",c,$],queryFn:async()=>await e().finance.listExpenses({propertyId:c&&c!=="all"?parseInt(c):void 0,startDate:$.startDate||void 0,endDate:$.endDate||void 0,limit:100,offset:0}),enabled:l,...Os("REALTIME_PATCH_MODE",!0)?dn["realtime-connected"]:dn.expenses}),{data:Ge,isLoading:it}=Xt({queryKey:["revenues",c,$],queryFn:async()=>await e().finance.listRevenues({propertyId:c&&c!=="all"?parseInt(c):void 0,startDate:$.startDate||void 0,endDate:$.endDate||void 0}),enabled:l,...Os("REALTIME_PATCH_MODE",!0)?dn["realtime-connected"]:dn.revenues});x.useEffect(()=>{var dt,_,xe,Be,kt,Gt,Wt,ea;const k=((_=(dt=Ge==null?void 0:Ge.revenues)==null?void 0:dt.filter(qt=>qt.paymentMode==="cash"&&qt.status==="approved"))==null?void 0:_.reduce((qt,Le)=>qt+Le.amountCents,0))||0,te=((Be=(xe=Ge==null?void 0:Ge.revenues)==null?void 0:xe.filter(qt=>qt.paymentMode==="bank"&&qt.status==="approved"))==null?void 0:Be.reduce((qt,Le)=>qt+Le.amountCents,0))||0,le=((Gt=(kt=ze==null?void 0:ze.expenses)==null?void 0:kt.filter(qt=>qt.paymentMode==="cash"&&qt.status==="approved"))==null?void 0:Gt.reduce((qt,Le)=>qt+Le.amountCents,0))||0,Se=((ea=(Wt=ze==null?void 0:ze.expenses)==null?void 0:Wt.filter(qt=>qt.paymentMode==="bank"&&qt.status==="approved"))==null?void 0:ea.reduce((qt,Le)=>qt+Le.amountCents,0))||0;C({cashRevenue:k,bankRevenue:te,cashExpense:le,bankExpense:Se})},[ze,Ge]);const{data:Tt}=Xt({queryKey:["profit-loss",c,$],queryFn:async()=>e().reports.getMonthlyYearlyReport({propertyId:c&&c!=="all"?parseInt(c):void 0,startDate:$.startDate||void 0,endDate:$.endDate||void 0}),enabled:l,...dn.analytics}),{data:yt}=hG(),xs=vs({mutationFn:async k=>{var Se;return await e().finance.addExpense({...k,propertyId:parseInt(k.propertyId),amountCents:parseInt(k.amountCents),receiptFileId:((Se=k.receiptFile)==null?void 0:Se.fileId)||void 0,expenseDate:ph(k.expenseDate),paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||void 0})},onMutate:async k=>{await f.cancelQueries({queryKey:["expenses"]});const te=f.getQueryData(["expenses"]),le=`temp_${Date.now()}_${Math.random()}`;return E("expenses",parseInt(k.propertyId),ph(k.expenseDate),Se=>{if(!(Se!=null&&Se.expenses))return Se;const dt=(s==null?void 0:s.role)==="ADMIN"?"approved":"pending",_=(s==null?void 0:s.role)==="ADMIN"?{approvedByUserId:parseInt(s.userID),approvedAt:new Date().toISOString()}:{},xe={id:le,...k,amountCents:parseInt(k.amountCents),propertyId:parseInt(k.propertyId),propertyName:Ie(parseInt(k.propertyId)),status:dt,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isOptimistic:!0,..._};return{...Se,expenses:[xe,...Se.expenses],totalAmount:(Se.totalAmount||0)+parseInt(k.amountCents)}}),k.tempId=le,{previousExpenses:te}},onSuccess:(k,te)=>{E("expenses",k.propertyId,k.expenseDate?new Date(k.expenseDate).toISOString():void 0,le=>{if(!(le!=null&&le.expenses))return le;const Se=te.tempId,dt=Se?le.expenses.filter(xe=>xe.id!==Se):[...le.expenses];if(dt.some(xe=>xe.id===k.id))return{...le,expenses:dt};const _={id:k.id,propertyId:k.propertyId,propertyName:k.propertyName||Ie(k.propertyId),category:k.category,amountCents:k.amountCents,currency:k.currency,description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,expenseDate:k.expenseDate,status:k.status||"pending",createdByUserId:k.createdByUserId,createdByName:k.createdByName||"Current User",approvedByUserId:k.approvedByUserId,approvedByName:k.approvedByName,approvedAt:k.approvedAt,createdAt:k.createdAt,paymentMode:k.paymentMode,bankReference:k.bankReference};return{...le,expenses:[_,...dt],totalAmount:(le.totalAmount||0)+k.amountCents}}),z(!1),Ee({propertyId:"",category:"",amountCents:"",description:"",receiptUrl:"",receiptFile:null,expenseDate:sc(),paymentMode:"cash",bankReference:""}),r({title:"Expense added",description:"The expense has been recorded successfully."})},onError:(k,te,le)=>{var Se,dt,_;if(le!=null&&le.previousExpenses&&f.setQueryData(["expenses"],le.previousExpenses),console.error("Add expense error:",k),(Se=k.message)!=null&&Se.includes("Invalid token")||(dt=k.message)!=null&&dt.includes("Unauthorized")||(_=k.message)!=null&&_.includes("401")){r({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again to continue."}),setTimeout(()=>{window.location.href="/login"},2e3);return}r({variant:"destructive",title:"Failed to add expense",description:k.message||"Please try again."})}}),va=vs({mutationFn:async k=>{var Se;return await e().finance.addRevenue({...k,propertyId:parseInt(k.propertyId),amountCents:parseInt(k.amountCents),receiptFileId:((Se=k.receiptFile)==null?void 0:Se.fileId)||void 0,occurredAt:ph(k.occurredAt),paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||void 0})},onMutate:async k=>{await f.cancelQueries({queryKey:["revenues"]});const te=f.getQueryData(["revenues"]);return E("revenues",parseInt(k.propertyId),ph(k.occurredAt),le=>{if(!(le!=null&&le.revenues))return le;const Se=(s==null?void 0:s.role)==="ADMIN"?"approved":"pending",dt=(s==null?void 0:s.role)==="ADMIN"?{approvedByUserId:parseInt(s.userID),approvedAt:new Date().toISOString()}:{},_={id:Date.now(),...k,amountCents:parseInt(k.amountCents),propertyId:parseInt(k.propertyId),propertyName:Ie(parseInt(k.propertyId)),status:Se,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isOptimistic:!0,...dt};return{...le,revenues:[_,...le.revenues]}}),{previousRevenues:te}},onSuccess:k=>{E("revenues",k.propertyId,k.occurredAt?new Date(k.occurredAt).toISOString():void 0,te=>{if(!(te!=null&&te.revenues))return te;const le=[...te.revenues];if(le.some(_=>_.id===k.id)){const _=le.filter(xe=>!(xe.isOptimistic&&typeof xe.id=="number"&&xe.id>9e11));return{...te,revenues:_}}const Se=le.findIndex(_=>_.isOptimistic&&typeof _.id=="number"&&_.id>9e11),dt=k&&k.id?{id:k.id,propertyId:k.propertyId,propertyName:k.propertyName||Ie(k.propertyId),source:k.source,amountCents:k.amountCents,currency:k.currency,description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,occurredAt:k.occurredAt,status:k.status||"pending",createdByUserId:k.createdByUserId,createdByName:k.createdByName||"Current User",approvedByUserId:k.approvedByUserId,approvedByName:k.approvedByName,approvedAt:k.approvedAt,createdAt:k.createdAt,paymentMode:k.paymentMode,bankReference:k.bankReference}:null;return dt&&Se>=0?le[Se]=dt:dt&&le.unshift(dt),{...te,revenues:le}}),K(!1),fe({propertyId:"",source:"other",amountCents:"",description:"",receiptUrl:"",receiptFile:null,occurredAt:sc(),paymentMode:"cash",bankReference:""}),r({title:"Revenue added",description:"The revenue has been recorded successfully."})},onError:(k,te,le)=>{le!=null&&le.previousRevenues&&f.setQueryData(["revenues"],le.previousRevenues),console.error("Add revenue error:",k),r({variant:"destructive",title:"Failed to add revenue",description:k.message||"Please try again."})}}),Fe=vs({mutationFn:async({id:k,approved:te})=>{const le=e();if(!le)throw new Error("Not authenticated");try{return await le.finance.approveExpenseById(k,{approved:te})}catch(Se){throw console.error("Approve expense error:",Se),new Error(Se.message||"Failed to approve expense")}},onMutate:async({id:k,approved:te})=>{await f.cancelQueries({queryKey:["expenses"]});const le=f.getQueryData(["expenses"]);return E("expenses",void 0,void 0,Se=>Se!=null&&Se.expenses?{...Se,expenses:Se.expenses.map(dt=>dt.id===k?{...dt,status:te?"approved":"rejected"}:dt)}:Se),{previousExpenses:le}},onSuccess:(k,te)=>{E("expenses",k.propertyId,k.expenseDate?new Date(k.expenseDate).toISOString():void 0,le=>le!=null&&le.expenses?{...le,expenses:le.expenses.map(Se=>Se.id===te.id?{...Se,status:te.approved?"approved":"rejected",approvedByUserId:k.approvedByUserId,approvedByName:k.approvedByName,approvedAt:k.approvedAt}:Se)}:le),r({title:"Expense updated",description:"The expense status has been updated."})},onError:(k,{id:te,approved:le},Se)=>{Se!=null&&Se.previousExpenses&&f.setQueryData(["expenses"],Se.previousExpenses),console.error("Approve expense error:",k),r({variant:"destructive",title:"Failed to update expense",description:k.message||"Please try again."})}}),lt=vs({mutationFn:async({id:k,approved:te})=>{const le=e();if(!le)throw new Error("Not authenticated");try{return await le.finance.approveRevenueById(k,{approved:te})}catch(Se){throw console.error("Approve revenue error:",Se),new Error(Se.message||"Failed to approve revenue")}},onMutate:async({id:k,approved:te})=>{await f.cancelQueries({queryKey:["revenues"]});const le=f.getQueryData(["revenues"]);return E("revenues",void 0,void 0,Se=>Se!=null&&Se.revenues?{...Se,revenues:Se.revenues.map(dt=>dt.id===k?{...dt,status:te?"approved":"rejected"}:dt)}:Se),{previousRevenues:le}},onSuccess:()=>{r({title:"Revenue updated",description:"The revenue status has been updated."})},onError:(k,{id:te,approved:le},Se)=>{Se!=null&&Se.previousRevenues&&f.setQueryData(["revenues"],Se.previousRevenues),console.error("Approve revenue error:",k),r({variant:"destructive",title:"Failed to update revenue",description:k.message||"Please try again."})}}),Zt=vs({mutationFn:async k=>{const te=e(),le=parseInt(k.id);if(isNaN(le)||le<=0)throw new Error("Invalid expense ID");return te.finance.updateExpense(le,{propertyId:parseInt(k.propertyId),category:k.category,amountCents:parseInt(k.amountCents),description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,expenseDate:new Date(k.expenseDate),paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||void 0})},onMutate:async k=>{await f.cancelQueries({queryKey:["expenses"]});const te=f.getQueryData(["expenses"]);return E("expenses",parseInt(k.propertyId),k.expenseDate,le=>{if(!(le!=null&&le.expenses))return le;const Se=parseInt(k.id);if(!le.expenses.find(Be=>Be.id===Se))return le;const _=le.expenses.map(Be=>{var kt;return Be.id===Se?{...Be,propertyId:parseInt(k.propertyId),category:k.category,amountCents:parseInt(k.amountCents),description:k.description,receiptUrl:k.receiptUrl,receiptFileId:((kt=k.receiptFile)==null?void 0:kt.fileId)||Be.receiptFileId,expenseDate:new Date(k.expenseDate),paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||Be.bankReference,status:(s==null?void 0:s.role)==="MANAGER"?"pending":Be.status,updatedAt:new Date().toISOString()}:Be}),xe=_.reduce((Be,kt)=>Be+kt.amountCents,0);return{...le,expenses:_,totalAmount:xe}}),{previousExpenses:te}},onSuccess:k=>{E("expenses",k.propertyId,k.expenseDate?new Date(k.expenseDate).toISOString():void 0,te=>{if(!(te!=null&&te.expenses))return te;const le=te.expenses.map(dt=>dt.id===k.id?{...dt,...k}:dt),Se=le.reduce((dt,_)=>dt+_.amountCents,0);return{...te,expenses:le,totalAmount:Se}}),ce(!1),B(null),r({title:"Expense updated",description:(s==null?void 0:s.role)==="MANAGER"?"The expense has been updated and is pending approval.":"The expense has been updated successfully."})},onError:(k,te,le)=>{le!=null&&le.previousExpenses&&f.setQueryData(["expenses"],le.previousExpenses),console.error("Update expense error:",k),r({variant:"destructive",title:"Failed to update expense",description:k.message||"Please try again."})}}),as=vs({mutationFn:async k=>{const te=e(),le=parseInt(k.id);if(isNaN(le)||le<=0)throw new Error("Invalid revenue ID");return te.finance.updateRevenue(le,{propertyId:parseInt(k.propertyId),source:k.source,amountCents:parseInt(k.amountCents),description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,occurredAt:k.occurredAt,paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||void 0})},onSuccess:k=>{E("revenues",k.propertyId,k.occurredAt?new Date(k.occurredAt).toISOString():void 0,te=>{if(!(te!=null&&te.revenues))return te;const le=te.revenues.map(Se=>Se.id===k.id?{...Se,...k}:Se);return{...te,revenues:le}}),ie(!1),de(null),r({title:"Revenue updated",description:(s==null?void 0:s.role)==="MANAGER"?"The revenue has been updated and is pending approval.":"The revenue has been updated successfully."})},onError:k=>{console.error("Update revenue error:",k),r({variant:"destructive",title:"Failed to update revenue",description:k.message||"Please try again."})}}),es=vs({mutationFn:async k=>{const te=e();if(!te)throw new Error("Not authenticated");try{return await te.finance.deleteExpense(k)}catch(le){throw console.error("Delete expense error:",le),new Error(le.message||"Failed to delete expense")}},onMutate:async k=>{await f.cancelQueries({queryKey:["expenses"]});const te=f.getQueryData(["expenses"]);return f.setQueryData(["expenses"],le=>{if(!(le!=null&&le.expenses))return le;const Se=le.expenses.find(_=>_.id===k),dt=le.expenses.filter(_=>_.id!==k);return{...le,expenses:dt,totalCount:le.totalCount-1,totalAmount:Se?(le.totalAmount||0)-Se.amountCents:le.totalAmount}}),{previousExpenses:te}},onSuccess:k=>{try{f.invalidateQueries({queryKey:["expenses"]})}catch{}try{const te={type:"expense_deleted",id:(k==null?void 0:k.id)??null,ts:new Date().toISOString()};j(1,[te])}catch{}r({title:k.deleted?"Expense deleted":"Deletion requested",description:k.deleted?"The expense has been deleted successfully.":"Expense deletion has been requested and is pending approval."})},onError:(k,te,le)=>{le!=null&&le.previousExpenses&&f.setQueryData(["expenses"],le.previousExpenses),console.error("Delete expense error:",k),r({variant:"destructive",title:"Failed to delete expense",description:k.message||"Please try again."})}}),ae=vs({mutationFn:async k=>{const te=e();if(!te)throw new Error("Not authenticated");try{return await te.finance.deleteRevenue(k)}catch(le){throw console.error("Delete revenue error:",le),new Error(le.message||"Failed to delete revenue")}},onMutate:async k=>{await f.cancelQueries({queryKey:["revenues"]});const te=f.getQueryData(["revenues"]);return f.setQueryData(["revenues"],le=>le!=null&&le.revenues?{...le,revenues:le.revenues.filter(Se=>Se.id!==k)}:le),{previousRevenues:te}},onSuccess:k=>{try{f.invalidateQueries({queryKey:["revenues"]})}catch{}try{const te={type:"revenue_deleted",id:(k==null?void 0:k.id)??null,ts:new Date().toISOString()};j(1,[te])}catch{}r({title:k.deleted?"Revenue deleted":"Deletion requested",description:k.deleted?"The revenue has been deleted successfully.":"Revenue deletion has been requested and is pending approval."})},onError:(k,te,le)=>{le!=null&&le.previousRevenues&&f.setQueryData(["revenues"],le.previousRevenues),console.error("Delete revenue error:",k),r({variant:"destructive",title:"Failed to delete revenue",description:k.message||"Please try again."})}}),Ye=k=>fu(k,n.currency),vt=async k=>{if(G)throw new Error("Upload in progress, please wait...");M(!0);try{const te=await F2(k,{maxSize:10*1024*1024,quality:.8});$o&&te.wasCompressed;const le=await te.file.arrayBuffer(),Se=new Uint8Array(le),dt=U2(Se),_=await fetch(`${xt.BASE_URL}/uploads/file`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({fileData:dt,filename:te.file.name,mimeType:te.file.type})});if(!_.ok)throw new Error(`Upload failed: ${_.statusText}`);const xe=await _.json(),Be={fileId:xe.fileId,filename:xe.filename,url:xe.url};return fe(kt=>({...kt,receiptFile:{fileId:Be.fileId,filename:Be.filename}})),Be}catch(te){throw console.error("Revenue file upload error:",te),new Error(te instanceof Error?te.message:"Failed to upload file")}finally{M(!1)}},St=async k=>{if(G)throw new Error("Upload in progress, please wait...");M(!0);try{const te=await F2(k,{maxSize:10*1024*1024,quality:.8});$o&&te.wasCompressed;const le=await te.file.arrayBuffer(),Se=new Uint8Array(le),dt=U2(Se),_=await fetch(`${xt.BASE_URL}/uploads/file`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({fileData:dt,filename:te.file.name,mimeType:te.file.type})});if(!_.ok)throw new Error(`Upload failed: ${_.statusText}`);const xe=await _.json(),Be={fileId:xe.fileId,filename:xe.filename,url:xe.url};return Ee(kt=>({...kt,receiptFile:{fileId:Be.fileId,filename:Be.filename}})),Be}catch(te){throw console.error("Expense file upload error:",te),new Error(te instanceof Error?te.message:"Failed to upload file")}finally{M(!1)}},cs=k=>{switch(k){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ys=()=>{Oe(null);const k=[];if(be.propertyId||k.push("Property"),be.category||k.push("Category"),be.amountCents||k.push("Amount"),be.expenseDate||k.push("Date"),k.length>0){Oe(`Missing required fields: ${k.join(", ")}`);return}xs.mutate(be)},Ks=()=>{Oe(null);const k=[];if(H.propertyId||k.push("Property"),H.amountCents||k.push("Amount"),H.occurredAt||k.push("Date"),k.length>0){Oe(`Missing required fields: ${k.join(", ")}`);return}va.mutate(H)},bt=k=>{if(console.log("=== EDIT EXPENSE DEBUG ==="),console.log("Expense object:",k),console.log("Expense ID:",k.id,"Type:",typeof k.id),console.log("Expense ID parsed:",parseInt(k.id),"Is NaN:",isNaN(parseInt(k.id))),!k){console.error("Expense object is null or undefined"),r({variant:"destructive",title:"Invalid expense",description:"Cannot edit expense: expense data is missing."});return}if(!k.id){console.error("Expense ID is missing:",k),r({variant:"destructive",title:"Invalid expense",description:"Cannot edit expense: missing expense ID."});return}if(typeof k.id=="object"){console.error("Expense ID is an object instead of a number:",k.id),console.error("Expense ID stringified:",JSON.stringify(k.id)),r({variant:"destructive",title:"Invalid expense ID",description:"Cannot edit expense: ID is in wrong format. Please refresh and try again."});return}const te=String(k.id),le=parseInt(te);if(console.log("Expense ID conversion:",{original:k.id,stringified:te,parsed:le,isNaN:isNaN(le)}),isNaN(le)||le<=0){console.error("Expense ID is not a valid number after conversion:",{original:k.id,stringified:te,parsed:le,type:typeof k.id}),r({variant:"destructive",title:"Invalid expense ID",description:`Cannot edit expense: invalid ID "${k.id}". Please refresh and try again.`});return}if(!k.propertyId||!k.category||!k.amountCents){console.error("Expense missing required fields:",{propertyId:k.propertyId,category:k.category,amountCents:k.amountCents}),r({variant:"destructive",title:"Incomplete expense data",description:"Cannot edit expense: missing required information. Please refresh and try again."});return}console.log("Expense validation passed, proceeding with edit");const Se={...k,id:le};B(Se),Ee({propertyId:k.propertyId.toString(),category:k.category,amountCents:k.amountCents.toString(),description:k.description||"",receiptUrl:k.receiptUrl||"",receiptFile:k.receiptFileId?{fileId:k.receiptFileId,filename:"Existing file"}:null,expenseDate:x0(k.expenseDate),paymentMode:k.paymentMode,bankReference:k.bankReference||""}),ce(!0)},rn=k=>{if(console.log("=== EDIT REVENUE DEBUG ==="),console.log("Revenue object:",k),console.log("Revenue ID:",k.id,"Type:",typeof k.id),console.log("Revenue ID parsed:",parseInt(k.id),"Is NaN:",isNaN(parseInt(k.id))),console.log("Revenue occurredAt:",k.occurredAt,"Type:",typeof k.occurredAt),console.log("Formatted for input:",x0(k.occurredAt)),!k||!k.id){console.error("Invalid revenue object or missing ID:",k),r({variant:"destructive",title:"Invalid revenue",description:"Cannot edit revenue: missing ID."});return}de(k),fe({propertyId:k.propertyId.toString(),source:k.source,amountCents:k.amountCents.toString(),description:k.description||"",receiptUrl:k.receiptUrl||"",receiptFile:k.receiptFileId?{fileId:k.receiptFileId,filename:"Existing file"}:null,occurredAt:x0(k.occurredAt),paymentMode:k.paymentMode,bankReference:k.bankReference||""}),ie(!0)},La=()=>{var _;if(console.log("=== UPDATE EXPENSE SUBMIT DEBUG ==="),console.log("Expense form:",be),console.log("Editing expense:",L),!be.propertyId||!be.category||!be.amountCents){r({variant:"destructive",title:"Missing fields",description:"Please fill in all required fields."});return}if(!L||!L.id){console.error("Expense ID validation failed:",{editingExpense:L}),r({variant:"destructive",title:"Invalid expense",description:"Cannot update expense: missing expense ID. Please refresh and try again."});return}if(console.log("=== UPDATE EXPENSE ID DEBUG ==="),console.log("Editing expense:",L),console.log("Editing expense ID:",L.id,"Type:",typeof L.id),typeof L.id=="object"){console.error("CRITICAL: Editing expense ID is still an object:",L.id),r({variant:"destructive",title:"Invalid expense ID",description:"Cannot update expense: ID is in wrong format. Please refresh and try again."});return}const k=String(L.id),te=parseInt(k);if(console.log("Update expense ID conversion:",{original:L.id,stringified:k,parsed:te,isNaN:isNaN(te)}),isNaN(te)||te<=0){console.error("Expense ID is not a valid number during update:",{original:L.id,stringified:k,parsed:te,type:typeof L.id}),r({variant:"destructive",title:"Invalid expense ID",description:`Cannot update expense: invalid ID "${L.id}". Please refresh and try again.`});return}const le=parseInt(be.amountCents);if(isNaN(le)||le<=0){r({variant:"destructive",title:"Invalid amount",description:"Please enter a valid amount greater than zero."});return}const Se=parseInt(be.propertyId);if(isNaN(Se)||Se<=0){r({variant:"destructive",title:"Invalid property",description:"Please select a valid property."});return}console.log("All validations passed, submitting expense update with ID:",te);const dt={id:te,propertyId:Se,category:be.category,amountCents:le,description:be.description||void 0,receiptUrl:be.receiptUrl||void 0,receiptFileId:((_=be.receiptFile)==null?void 0:_.fileId)||void 0,expenseDate:be.expenseDate,paymentMode:be.paymentMode||"cash",bankReference:be.bankReference||void 0};console.log("Update data being sent:",dt),Zt.mutate(dt)},on=()=>{var xe;if(console.log("=== UPDATE REVENUE SUBMIT DEBUG ==="),console.log("Revenue form:",H),console.log("Editing revenue:",Y),!H.propertyId||!H.amountCents){r({variant:"destructive",title:"Missing fields",description:"Please fill in all required fields."});return}if(!H.occurredAt){r({variant:"destructive",title:"Missing date",description:"Please select a date for the revenue."});return}if(typeof H.occurredAt!="string"){console.error("Revenue occurredAt is not a string:",H.occurredAt,"Type:",typeof H.occurredAt),r({variant:"destructive",title:"Invalid date type",description:"Date field contains invalid data. Please refresh and try again."});return}if(!/^\d{4}-\d{2}-\d{2}$/.test(H.occurredAt)){r({variant:"destructive",title:"Invalid date format",description:"Please enter a valid date in YYYY-MM-DD format."});return}const k=new Date(H.occurredAt);if(isNaN(k.getTime())){r({variant:"destructive",title:"Invalid date",description:"The selected date is not valid. Please choose a different date."});return}if(!Y||!Y.id){console.error("Revenue ID validation failed: editingRevenue or ID is missing",{editingRevenue:Y}),r({variant:"destructive",title:"Invalid revenue",description:"Cannot update revenue: ID is missing or invalid."});return}const te=parseInt(Y.id);if(isNaN(te)){console.error("Revenue ID is not a valid number:",{editingRevenue:Y,revenueId:Y.id,type:typeof Y.id}),r({variant:"destructive",title:"Invalid revenue ID",description:"The revenue ID is not a valid number. Please try again."});return}const le=parseInt(H.amountCents);if(isNaN(le)||le<=0){r({variant:"destructive",title:"Invalid amount",description:"Please enter a valid amount greater than zero."});return}const Se=parseInt(H.propertyId);if(isNaN(Se)||Se<=0){r({variant:"destructive",title:"Invalid property",description:"Please select a valid property."});return}console.log("All validations passed, submitting revenue update with ID:",te);const dt=ph(H.occurredAt);if(console.log("Date formatting debug:",{originalDate:H.occurredAt,formattedDate:dt,isValidDate:!isNaN(new Date(dt).getTime())}),!dt||isNaN(new Date(dt).getTime())){r({variant:"destructive",title:"Invalid date",description:"Please enter a valid date for the revenue."});return}const _={id:te,propertyId:Se,source:H.source,amountCents:le,description:H.description||void 0,receiptUrl:H.receiptUrl||void 0,receiptFileId:((xe=H.receiptFile)==null?void 0:xe.fileId)||void 0,occurredAt:new Date(dt),paymentMode:H.paymentMode||"cash",bankReference:H.bankReference||void 0};console.log("Update data being sent:",_),as.mutate(_)},jt=k=>{window.confirm("Are you sure you want to delete this expense?")&&es.mutate(k)},Ft=k=>{window.confirm("Are you sure you want to delete this revenue?")&&ae.mutate(k)};return t.jsx("div",{className:"w-full min-h-screen bg-gray-50 pt-safe pb-safe",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6 pb-20 sm:pb-0 lg:bg-[#F5F7FA]",children:[t.jsxs("div",{className:"hidden sm:flex items-center justify-between bg-white/50 backdrop-blur-sm sticky top-14 lg:top-20 z-10 p-2 -mx-2 mb-4 rounded-xl border border-gray-100/50 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 px-2",children:[t.jsx("div",{className:"h-8 w-1 bg-blue-600 rounded-full"}),t.jsx("h2",{className:"text-xl font-bold tracking-tight text-gray-900",children:"Financial Overview"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(bs,{open:J,onOpenChange:K,children:[t.jsx(Ff,{asChild:!0,children:t.jsxs(se,{className:"bg-green-600 hover:bg-green-700 shadow-sm hover:shadow text-white transition-all duration-200",children:[t.jsx(_r,{className:"mr-2 h-4 w-4"}),"Add Revenue"]})}),t.jsxs(Es,{className:"w-screen h-screen max-w-none m-0 rounded-none border-0 sm:h-auto sm:max-w-lg sm:rounded-2xl flex flex-col overflow-hidden bg-white",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(_r,{className:"h-5 w-5 text-green-600"})}),"Add Revenue"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Record new revenue for your property"}),je&&t.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[t.jsx(is,{className:"h-4 w-4 shrink-0"}),je]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-0",children:t.jsxs("div",{className:"space-y-6 px-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:H.propertyId,onValueChange:k=>fe(te=>({...te,propertyId:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:_e==null?void 0:_e.properties.map(k=>t.jsx(he,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-source",className:"text-sm font-medium text-gray-700",children:"Source"}),t.jsxs(st,{value:H.source,onValueChange:k=>fe(te=>({...te,source:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"room",children:"Room Revenue"}),t.jsx(he,{value:"addon",children:"Add-on Services"}),t.jsx(he,{value:"other",children:"Other Revenue"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-payment-mode",className:"text-sm font-medium text-gray-700",children:"Payment Mode *"}),t.jsxs(st,{value:H.paymentMode,onValueChange:k=>fe(te=>({...te,paymentMode:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"cash",children:"Cash"}),t.jsx(he,{value:"bank",children:"Bank (UPI/Net Banking/Online)"})]})]})]})]}),H.paymentMode==="bank"&&t.jsx("div",{className:"space-y-2 w-full",children:t.jsx(nf,{label:"Receipt Upload",description:"Upload receipt images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",onFileUpload:vt,value:H.receiptFile,onClear:()=>fe(k=>({...k,receiptFile:null}))})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-amount",className:"text-sm font-medium text-gray-700",children:"Amount *"}),t.jsx(ye,{id:"revenue-amount",type:"number",step:"0.01",value:H.amountCents?(parseInt(H.amountCents)/100).toString():"",onChange:k=>fe(te=>({...te,amountCents:(parseFloat(k.target.value)*100).toString()})),placeholder:"0.00",className:"h-14 text-lg font-medium bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]}),H.paymentMode==="bank"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-bank-reference",className:"text-sm font-medium text-gray-700",children:"Bank Reference"}),t.jsx(ye,{id:"revenue-bank-reference",value:H.bankReference,onChange:k=>fe(te=>({...te,bankReference:k.target.value})),placeholder:"Transaction ID, UPI reference, etc.",className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Vr,{id:"revenue-description",value:H.description,onChange:k=>fe(te=>({...te,description:k.target.value})),placeholder:"Revenue description",className:"min-h-[100px] text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm resize-none"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-date",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ye,{id:"revenue-date",type:"date",value:H.occurredAt,onChange:k=>fe(te=>({...te,occurredAt:k.target.value})),className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]})]})}),t.jsx(ga,{className:"border-t border-gray-100 bg-white/80 backdrop-blur p-4 sm:p-6 sm:bg-gray-50 sticky bottom-0 z-10",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>{K(!1),Oe(null)},className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:Ks,disabled:va.isPending,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:va.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(_r,{className:"mr-2 h-4 w-4"}),"Add Revenue"]})})]})})]})]}),t.jsxs(bs,{open:F,onOpenChange:z,children:[t.jsx(Ff,{asChild:!0,children:t.jsxs(se,{className:"bg-red-600 hover:bg-red-700 shadow-sm hover:shadow text-white transition-all duration-200",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add Expense"]})}),t.jsxs(Es,{className:"w-screen h-screen max-w-none m-0 rounded-none border-0 sm:h-auto sm:max-w-lg sm:rounded-2xl flex flex-col overflow-hidden bg-white",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(ra,{className:"h-5 w-5 text-red-600"})}),"Add Expense"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Record a new expense for your property"}),je&&t.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[t.jsx(is,{className:"h-4 w-4 shrink-0"}),je]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-0",children:t.jsxs("div",{className:"space-y-6 px-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:be.propertyId,onValueChange:k=>Ee(te=>({...te,propertyId:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:_e==null?void 0:_e.properties.map(k=>t.jsx(he,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-category",className:"text-sm font-medium text-gray-700",children:"Category *"}),t.jsxs(st,{value:be.category,onValueChange:k=>Ee(te=>({...te,category:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select category"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"supplies",children:"Supplies"}),t.jsx(he,{value:"maintenance",children:"Maintenance"}),t.jsx(he,{value:"utilities",children:"Utilities"}),t.jsx(he,{value:"marketing",children:"Marketing"}),t.jsx(he,{value:"staff",children:"Staff"}),t.jsx(he,{value:"insurance",children:"Insurance"}),t.jsx(he,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-payment-mode",className:"text-sm font-medium text-gray-700",children:"Payment Mode *"}),t.jsxs(st,{value:be.paymentMode,onValueChange:k=>Ee(te=>({...te,paymentMode:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"cash",children:"Cash"}),t.jsx(he,{value:"bank",children:"Bank (UPI/Net Banking/Online)"})]})]})]})]}),t.jsx("div",{className:"space-y-2 w-full",children:t.jsx(nf,{label:"Receipt Upload",description:"Upload receipt images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",onFileUpload:St,value:be.receiptFile,onClear:()=>Ee(k=>({...k,receiptFile:null}))})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-amount",className:"text-sm font-medium text-gray-700",children:"Amount *"}),t.jsx(ye,{id:"expense-amount",type:"number",step:"0.01",value:be.amountCents?(parseInt(be.amountCents)/100).toString():"",onChange:k=>Ee(te=>({...te,amountCents:(parseFloat(k.target.value)*100).toString()})),placeholder:"0.00",className:"h-14 text-lg font-medium bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]}),be.paymentMode==="bank"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-bank-reference",className:"text-sm font-medium text-gray-700",children:"Bank Reference"}),t.jsx(ye,{id:"expense-bank-reference",value:be.bankReference,onChange:k=>Ee(te=>({...te,bankReference:k.target.value})),placeholder:"Transaction ID, UPI reference, etc.",className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Vr,{id:"expense-description",value:be.description,onChange:k=>Ee(te=>({...te,description:k.target.value})),placeholder:"Expense description",className:"min-h-[100px] text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm resize-none"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-date",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ye,{id:"expense-date",type:"date",value:be.expenseDate,onChange:k=>Ee(te=>({...te,expenseDate:k.target.value})),className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]})]})}),t.jsx(ga,{className:"border-t border-gray-100 bg-white/80 backdrop-blur p-4 sm:p-6 sm:bg-gray-50 sticky bottom-0 z-10",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>{z(!1),Oe(null)},className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:ys,disabled:xs.isPending,className:"bg-red-600 hover:bg-red-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:xs.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add Expense"]})})]})})]})]})]})]}),(s==null?void 0:s.role)==="MANAGER"&&yt&&t.jsx(Te,{className:`border-l-4 ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"border-l-yellow-500 bg-yellow-50 border-yellow-200":"border-l-green-500 bg-green-50 border-green-200":"border-l-red-500 bg-red-50 border-red-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:t.jsx(ke,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-2 rounded-full ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"bg-yellow-100":"bg-green-100":"bg-red-100"}`,children:t.jsx(qs,{className:`h-5 w-5 ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"text-yellow-600":"text-green-600":"text-red-600"}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:`text-lg font-bold ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"text-yellow-800":"text-green-800":"text-red-800"}`,children:yt.canAddTransactions?yt.hasUnapprovedTransactions?"Pending Approval":"Approved":"Approval Required"}),yt.message&&t.jsx("p",{className:`text-sm mt-1 ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"text-yellow-700":"text-green-700":"text-red-700"}`,children:yt.message})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${w!=null&&w.isLive?"bg-green-500 animate-pulse":"bg-gray-400"}`}),t.jsxs("span",{className:"text-xs text-gray-600",children:[w!=null&&w.isLive?"Live":"Reconnecting","  ",R((w==null?void 0:w.lastEventAt)||(w==null?void 0:w.lastSuccessAt))]})]})]})})}),t.jsx(KQ,{selectedPropertyId:c,onPropertyChange:u,dateRange:$,onDateRangeChange:ue,properties:(_e==null?void 0:_e.properties)||[],onReset:()=>{u("all"),me({startDate:"",endDate:""})}}),t.jsx(bs,{open:X,onOpenChange:ce,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(jr,{className:"h-5 w-5 text-orange-600"})}),"Edit Expense"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Update the expense details"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:be.propertyId,onValueChange:k=>Ee(te=>({...te,propertyId:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:_e==null?void 0:_e.properties.map(k=>t.jsx(he,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-category",className:"text-sm font-medium text-gray-700",children:"Category *"}),t.jsxs(st,{value:be.category,onValueChange:k=>Ee(te=>({...te,category:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select category"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"supplies",children:"Supplies"}),t.jsx(he,{value:"maintenance",children:"Maintenance"}),t.jsx(he,{value:"utilities",children:"Utilities"}),t.jsx(he,{value:"marketing",children:"Marketing"}),t.jsx(he,{value:"staff",children:"Staff"}),t.jsx(he,{value:"insurance",children:"Insurance"}),t.jsx(he,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-amount",className:"text-sm font-medium text-gray-700",children:"Amount *"}),t.jsx(ye,{id:"edit-expense-amount",type:"number",step:"0.01",value:be.amountCents?(parseInt(be.amountCents)/100).toString():"",onChange:k=>Ee(te=>({...te,amountCents:(parseFloat(k.target.value)*100).toString()})),placeholder:"0.00",className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Vr,{id:"edit-expense-description",value:be.description,onChange:k=>Ee(te=>({...te,description:k.target.value})),placeholder:"Expense description",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsx("div",{className:"space-y-2",children:t.jsx(nf,{label:"Receipt Upload",description:"Upload receipt images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",onFileUpload:St,value:be.receiptFile,onClear:()=>Ee(k=>({...k,receiptFile:null}))})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-payment-mode",className:"text-sm font-medium text-gray-700",children:"Payment Mode *"}),t.jsxs(st,{value:be.paymentMode,onValueChange:k=>Ee(te=>({...te,paymentMode:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"cash",children:"Cash"}),t.jsx(he,{value:"bank",children:"Bank (UPI/Net Banking/Online)"})]})]})]}),be.paymentMode==="bank"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-bank-reference",className:"text-sm font-medium text-gray-700",children:"Bank Reference"}),t.jsx(ye,{id:"edit-expense-bank-reference",value:be.bankReference,onChange:k=>Ee(te=>({...te,bankReference:k.target.value})),placeholder:"Transaction ID, UPI reference, etc.",className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-date",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ye,{id:"edit-expense-date",type:"date",value:be.expenseDate,onChange:k=>Ee(te=>({...te,expenseDate:k.target.value})),className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>ce(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:La,disabled:Zt.isPending,className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:Zt.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jr,{className:"mr-2 h-4 w-4"}),"Update Expense"]})})]})})]})}),t.jsx(bs,{open:q,onOpenChange:ie,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(jr,{className:"h-5 w-5 text-blue-600"})}),"Edit Revenue"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Update the revenue details"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:H.propertyId,onValueChange:k=>fe(te=>({...te,propertyId:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:_e==null?void 0:_e.properties.map(k=>t.jsx(he,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-source",className:"text-sm font-medium text-gray-700",children:"Source"}),t.jsxs(st,{value:H.source,onValueChange:k=>fe(te=>({...te,source:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"room",children:"Room Revenue"}),t.jsx(he,{value:"addon",children:"Add-on Services"}),t.jsx(he,{value:"other",children:"Other Revenue"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-amount",className:"text-sm font-medium text-gray-700",children:"Amount *"}),t.jsx(ye,{id:"edit-revenue-amount",type:"number",step:"0.01",value:H.amountCents?(parseInt(H.amountCents)/100).toString():"",onChange:k=>fe(te=>({...te,amountCents:(parseFloat(k.target.value)*100).toString()})),placeholder:"0.00",className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Vr,{id:"edit-revenue-description",value:H.description,onChange:k=>fe(te=>({...te,description:k.target.value})),placeholder:"Revenue description",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsx("div",{className:"space-y-2",children:t.jsx(nf,{label:"Receipt Upload",description:"Upload receipt images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",onFileUpload:vt,value:H.receiptFile,onClear:()=>fe(k=>({...k,receiptFile:null}))})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-payment-mode",className:"text-sm font-medium text-gray-700",children:"Payment Mode *"}),t.jsxs(st,{value:H.paymentMode,onValueChange:k=>fe(te=>({...te,paymentMode:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"cash",children:"Cash"}),t.jsx(he,{value:"bank",children:"Bank (UPI/Net Banking/Online)"})]})]})]}),H.paymentMode==="bank"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-bank-reference",className:"text-sm font-medium text-gray-700",children:"Bank Reference"}),t.jsx(ye,{id:"edit-revenue-bank-reference",value:H.bankReference,onChange:k=>fe(te=>({...te,bankReference:k.target.value})),placeholder:"Transaction ID, UPI reference, etc.",className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-date",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ye,{id:"edit-revenue-date",type:"date",value:H.occurredAt,onChange:k=>fe(te=>({...te,occurredAt:k.target.value})),className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>ie(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:on,disabled:as.isPending,className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:as.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jr,{className:"mr-2 h-4 w-4"}),"Update Revenue"]})})]})})]})}),(s==null?void 0:s.role)==="ADMIN"&&t.jsx(FG,{className:"mt-6",propertyId:c,startDate:$.startDate,endDate:$.endDate}),t.jsxs("div",{className:"flex overflow-x-auto pb-4 gap-4 sm:grid sm:grid-cols-2 lg:grid-cols-4 sm:overflow-visible sm:pb-0 snap-x snap-mandatory px-4 sm:px-0 -mx-4 sm:mx-0 scrollbar-hide",children:[t.jsx(Yi,{title:"Cash Revenue",value:Ye(T.cashRevenue||0),subtitle:c!=="all"||$.startDate||$.endDate?"Filtered":"All time",icon:CC,iconColor:"text-green-600",iconBgColor:"bg-green-100",className:"snap-center border-none shadow-md bg-white/90 backdrop-blur-sm min-w-[85%] sm:min-w-0",compact:!0}),t.jsx(Yi,{title:"Bank/UPI Revenue",value:Ye(T.bankRevenue||0),subtitle:c!=="all"||$.startDate||$.endDate?"Filtered":"All time",icon:nl,iconColor:"text-blue-600",iconBgColor:"bg-blue-100",className:"snap-center border-none shadow-md bg-white/90 backdrop-blur-sm min-w-[85%] sm:min-w-0",compact:!0}),t.jsx(Yi,{title:"Cash Expenses",value:Ye(T.cashExpense||0),subtitle:c!=="all"||$.startDate||$.endDate?"Filtered":"All time",icon:CC,iconColor:"text-red-600",iconBgColor:"bg-red-100",valueColor:"text-red-600",className:"snap-center border-none shadow-md bg-white/90 backdrop-blur-sm min-w-[85%] sm:min-w-0",compact:!0}),t.jsx(Yi,{title:"Bank/UPI Expenses",value:Ye(T.bankExpense||0),subtitle:c!=="all"||$.startDate||$.endDate?"Filtered":"All time",icon:nl,iconColor:"text-orange-600",iconBgColor:"bg-orange-100",valueColor:"text-orange-600",className:"snap-center border-none shadow-md bg-white/90 backdrop-blur-sm min-w-[85%] sm:min-w-0",compact:!0})]}),t.jsxs(wc,{defaultValue:"expenses",theme:n,children:[t.jsxs(ll,{className:"grid-cols-2",theme:n,children:[t.jsxs(Vs,{value:"expenses",theme:n,children:[t.jsx(Zl,{className:"h-4 w-4 mr-2"}),"Expenses"]}),t.jsxs(Vs,{value:"revenues",theme:n,children:[t.jsx(_r,{className:"h-4 w-4 mr-2"}),"Revenues"]})]}),t.jsxs("div",{className:"px-0 sm:px-6 py-2 sm:py-6",children:[t.jsx(ks,{value:"expenses",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-none shadow-md bg-white/80 backdrop-blur-sm",children:[t.jsxs(Qe,{className:"pb-3 px-3 pt-4 sm:px-6 sm:pt-6",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(_r,{className:"h-5 w-5 text-red-600"})}),"Recent Expenses",t.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Track and manage property expenses"})]}),t.jsx(ke,{className:"px-2 py-2 sm:p-6",children:Ue?t.jsx(Te,{className:"border-none shadow-sm bg-gray-50/50",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading expenses..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your expense data"})]})})}):(ze==null?void 0:ze.expenses.length)===0?t.jsx(Te,{className:"border-none shadow-sm bg-gray-50/50",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Cn,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No expenses recorded"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Start tracking your property expenses"}),t.jsxs(se,{onClick:()=>z(!0),className:"bg-red-600 hover:bg-red-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add First Expense"]})]})}):t.jsx("div",{className:"space-y-4",children:ze==null?void 0:ze.expenses.map(k=>t.jsx("div",{className:"group relative bg-white rounded-2xl p-3 sm:p-4 transition-all duration-200 hover:bg-gray-50 border border-gray-100 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] hover:shadow-[0_8px_25px_-5px_rgba(0,0,0,0.1),0_8px_10px_-6px_rgba(0,0,0,0.1)]",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[t.jsx("h4",{className:"text-lg font-bold text-gray-900 capitalize leading-tight",children:k.category}),t.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[t.jsx(Lt,{className:`${cs(k.status)} rounded-md px-2 py-0.5 font-normal text-xs uppercase tracking-wide border-0`,children:k.status}),t.jsx(Lt,{className:`${k.paymentMode==="cash"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"} rounded-md px-2 py-0.5 font-normal text-xs uppercase tracking-wide border-0`,children:k.paymentMode}),k.bankReference&&t.jsx(Lt,{variant:"outline",className:"text-xs text-gray-500 border-gray-200 rounded-md px-2 py-0.5 font-normal",children:k.bankReference})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm font-medium text-slate-500",children:k.propertyName}),t.jsxs("div",{className:"flex items-center text-xs text-gray-400 font-medium",children:[t.jsx(qs,{className:"h-3.5 w-3.5 mr-1.5 text-gray-300"}),Zf(k.createdAt)]}),t.jsxs("div",{className:"inline-flex items-center bg-blue-50/50 border border-blue-100 rounded-lg px-3 py-1.5",children:[t.jsx(qs,{className:"h-3.5 w-3.5 mr-2 text-blue-600"}),t.jsxs("span",{className:"text-xs font-semibold text-blue-700",children:["For: ",_2(k.expenseDate)]})]}),t.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:["By ",k.createdByName]}),k.description&&t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed pt-1",children:k.description})]}),t.jsx("div",{className:"h-px w-full bg-gray-100/80 my-1"}),t.jsxs("div",{className:"flex items-center justify-between pt-1",children:[t.jsx("span",{className:"text-2xl font-bold text-red-600 tracking-tight",children:Ye(k.amountCents)}),t.jsxs("div",{className:"flex items-center gap-3",children:[(k.receiptUrl||k.receiptFileId)&&t.jsx(se,{variant:"outline",size:"icon",className:"h-11 w-11 rounded-full border-gray-100 bg-white text-gray-400 hover:text-blue-600 hover:border-blue-200 hover:bg-blue-50 transition-all shadow-sm",onClick:()=>W({id:k.id,type:"expense",category:k.category,propertyName:k.propertyName,amountCents:k.amountCents,description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,date:k.expenseDate,createdAt:k.createdAt,createdByName:k.createdByName,status:k.status,paymentMode:k.paymentMode,bankReference:k.bankReference,approvedByName:k.approvedByName,approvedAt:k.approvedAt}),children:t.jsx(un,{className:"h-5 w-5"})}),(s==null?void 0:s.role)==="ADMIN"&&k.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(se,{size:"icon",variant:"outline",onClick:()=>Fe.mutate({id:k.id,approved:!0}),disabled:Fe.isPending,className:"h-11 w-11 rounded-full border-green-100 bg-green-50 text-green-600 hover:bg-green-100 active:scale-95 transition-all shadow-sm",children:t.jsx(an,{className:"h-5 w-5"})}),t.jsx(se,{size:"icon",variant:"outline",onClick:()=>Fe.mutate({id:k.id,approved:!1}),disabled:Fe.isPending,className:"h-11 w-11 rounded-full border-red-100 bg-red-50 text-red-600 hover:bg-red-100 active:scale-95 transition-all shadow-sm",children:t.jsx(Ws,{className:"h-5 w-5"})})]}),((s==null?void 0:s.role)==="ADMIN"||(s==null?void 0:s.role)==="MANAGER"&&k.createdByUserId===parseInt(s.userID))&&t.jsxs(t.Fragment,{children:[t.jsx(se,{size:"icon",variant:"outline",onClick:()=>bt(k),disabled:Zt.isPending,className:"h-11 w-11 rounded-full border-gray-100 bg-white text-gray-600 hover:bg-gray-50 hover:border-gray-200 active:scale-95 transition-all shadow-sm",children:t.jsx(jr,{className:"h-5 w-5"})}),t.jsx(se,{size:"icon",variant:"outline",onClick:()=>jt(k.id),disabled:es.isPending,className:"h-11 w-11 rounded-full border-red-50 bg-white text-red-500 hover:bg-red-50 hover:border-red-100 active:scale-95 transition-all shadow-sm",children:t.jsx(jn,{className:"h-5 w-5"})})]})]})]})]})},k.id))})})]})}),t.jsx(ks,{value:"revenues",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-none shadow-md bg-white/80 backdrop-blur-sm",children:[t.jsxs(Qe,{className:"pb-3 px-3 pt-4 sm:px-6 sm:pt-6",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(_r,{className:"h-5 w-5 text-green-600"})}),"Recent Revenues",t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Track property income and revenue streams"})]}),t.jsx(ke,{className:"px-2 py-2 sm:p-6",children:it?t.jsx(Te,{className:"border-none shadow-sm bg-gray-50/50",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading revenues..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your revenue data"})]})})}):(Ge==null?void 0:Ge.revenues.length)===0?t.jsx(Te,{className:"border-none shadow-sm bg-gray-50/50",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(_r,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No revenue recorded"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Start tracking your property revenue"}),t.jsxs(se,{onClick:()=>K(!0),className:"bg-green-600 hover:bg-green-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add First Revenue"]})]})}):t.jsx("div",{className:"space-y-4",children:Ge==null?void 0:Ge.revenues.map(k=>t.jsx("div",{className:"group relative bg-white rounded-2xl p-3 sm:p-4 transition-all duration-200 hover:bg-gray-50 border border-gray-100 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] hover:shadow-[0_8px_25px_-5px_rgba(0,0,0,0.1),0_8px_10px_-6px_rgba(0,0,0,0.1)]",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[t.jsxs("h4",{className:"text-lg font-bold text-gray-900 capitalize leading-tight",children:[k.source," Revenue"]}),t.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[t.jsx(Lt,{className:`${cs(k.status)} rounded-md px-2 py-0.5 font-normal text-xs uppercase tracking-wide border-0`,children:k.status}),t.jsx(Lt,{className:`${k.paymentMode==="cash"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"} rounded-md px-2 py-0.5 font-normal text-xs uppercase tracking-wide border-0`,children:k.paymentMode}),k.bankReference&&t.jsx(Lt,{variant:"outline",className:"text-xs text-gray-500 border-gray-200 rounded-md px-2 py-0.5 font-normal",children:k.bankReference})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm font-medium text-slate-500",children:k.propertyName}),t.jsxs("div",{className:"flex items-center text-xs text-gray-400 font-medium",children:[t.jsx(qs,{className:"h-3.5 w-3.5 mr-1.5 text-gray-300"}),Zf(k.createdAt)]}),t.jsxs("div",{className:"inline-flex items-center bg-blue-50/50 border border-blue-100 rounded-lg px-3 py-1.5",children:[t.jsx(qs,{className:"h-3.5 w-3.5 mr-2 text-blue-600"}),t.jsxs("span",{className:"text-xs font-semibold text-blue-700",children:["For: ",_2(k.occurredAt)]})]}),t.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:["By ",k.createdByName]}),k.description&&t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed pt-1",children:k.description})]}),t.jsx("div",{className:"h-px w-full bg-gray-100/80 my-1"}),t.jsxs("div",{className:"flex items-center justify-between pt-1",children:[t.jsx("span",{className:"text-2xl font-bold text-green-600 tracking-tight",children:Ye(k.amountCents)}),t.jsxs("div",{className:"flex items-center gap-3",children:[(k.receiptUrl||k.receiptFileId)&&t.jsx(se,{variant:"outline",size:"icon",className:"h-11 w-11 rounded-full border-gray-100 bg-white text-gray-400 hover:text-blue-600 hover:border-blue-200 hover:bg-blue-50 transition-all shadow-sm",onClick:()=>W({id:k.id,type:"revenue",source:k.source,propertyName:k.propertyName,amountCents:k.amountCents,description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,date:k.occurredAt,createdAt:k.createdAt,createdByName:k.createdByName,status:k.status,paymentMode:k.paymentMode,bankReference:k.bankReference,approvedByName:k.approvedByName,approvedAt:k.approvedAt}),children:t.jsx(un,{className:"h-5 w-5"})}),(s==null?void 0:s.role)==="ADMIN"&&k.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(se,{size:"icon",variant:"outline",onClick:()=>lt.mutate({id:k.id,approved:!0}),disabled:lt.isPending,className:"h-11 w-11 rounded-full border-green-100 bg-green-50 text-green-600 hover:bg-green-100 active:scale-95 transition-all shadow-sm",children:t.jsx(an,{className:"h-5 w-5"})}),t.jsx(se,{size:"icon",variant:"outline",onClick:()=>lt.mutate({id:k.id,approved:!1}),disabled:lt.isPending,className:"h-11 w-11 rounded-full border-red-100 bg-red-50 text-red-600 hover:bg-red-100 active:scale-95 transition-all shadow-sm",children:t.jsx(Ws,{className:"h-5 w-5"})})]}),((s==null?void 0:s.role)==="ADMIN"||(s==null?void 0:s.role)==="MANAGER"&&k.createdByUserId===parseInt(s.userID))&&t.jsxs(t.Fragment,{children:[t.jsx(se,{size:"icon",variant:"outline",onClick:()=>rn(k),disabled:as.isPending,className:"h-11 w-11 rounded-full border-gray-100 bg-white text-gray-600 hover:bg-gray-50 hover:border-gray-200 active:scale-95 transition-all shadow-sm",children:t.jsx(jr,{className:"h-5 w-5"})}),t.jsx(se,{size:"icon",variant:"outline",onClick:()=>Ft(k.id),disabled:ae.isPending,className:"h-11 w-11 rounded-full border-red-50 bg-white text-red-500 hover:bg-red-50 hover:border-red-100 active:scale-95 transition-all shadow-sm",children:t.jsx(jn,{className:"h-5 w-5"})})]})]})]})]})},k.id))})})]})})]})]}),V&&t.jsx(RG,{isOpen:!!V,onClose:()=>W(null),transaction:V}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 sm:hidden animate-in fade-in duration-200",onClick:()=>p(!1)}),t.jsxs("div",{className:"fixed bottom-24 right-4 z-50 flex flex-col items-end gap-4 sm:hidden",children:[t.jsxs("div",{className:`flex flex-col gap-3 transition-all duration-300 ease-out origin-bottom ${m?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-10 scale-95 pointer-events-none"}`,children:[t.jsxs(se,{onClick:()=>{K(!0),p(!1)},className:"h-11 pl-4 pr-5 rounded-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-lg shadow-green-500/30 border-0 flex items-center gap-2 transition-transform active:scale-95",children:[t.jsx("div",{className:"bg-white/20 p-1 rounded-full",children:t.jsx(_r,{className:"h-4 w-4"})}),t.jsx("span",{className:"font-semibold tracking-wide",children:"Add Revenue"})]}),t.jsxs(se,{onClick:()=>{z(!0),p(!1)},className:"h-11 pl-4 pr-5 rounded-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg shadow-red-500/30 border-0 flex items-center gap-2 transition-transform active:scale-95",children:[t.jsx("div",{className:"bg-white/20 p-1 rounded-full",children:t.jsx(ra,{className:"h-4 w-4"})}),t.jsx("span",{className:"font-semibold tracking-wide",children:"Add Expense"})]})]}),t.jsx(se,{onClick:()=>p(!m),className:`h-14 w-14 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 border-0 ${m?"bg-gray-800 rotate-90":"bg-blue-600 hover:bg-blue-700"}`,children:t.jsx(ra,{className:`h-8 w-8 text-white transition-transform duration-300 ${m?"rotate-45":"rotate-0"}`})})]})]})})}const Kn=e=>fu(e),ok=(e,s)=>{const n=new Date(e,s,0).getDate(),a=[];for(let r=1;r<=n;r++){const l=new Date(e,s-1,r).toISOString().split("T")[0];a.push(l)}return a},JQ=e=>{const s=new Date().toISOString().split("T")[0];return e===s},XQ=e=>{try{const s=new Date(e);return isNaN(s.getTime())?"Invalid Date":s.toLocaleDateString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"Invalid Date"}};function ZQ({year:e,month:s,propertyId:n,orgId:a}){const{getAuthenticatedBackend:r}=$s(),{toast:l}=da(),c=za(),[u,m]=x.useState(new Date),{data:p,isLoading:f,error:g,dataUpdatedAt:v}=Xt({queryKey:["monthly-report",n,e,s,a],queryFn:async()=>{const ce=r();console.log("MonthlyReportSpreadsheet: Fetching monthly data for:",{propertyId:n,year:e,month:s,orgId:a});const q=await ce.reports.getMonthlyReport({propertyId:n,year:e,month:s});return console.log("MonthlyReportSpreadsheet: Monthly data:",q),q},staleTime:25e3,gcTime:3e5,refetchInterval:!1,refetchOnMount:!0,refetchOnReconnect:!0});x.useEffect(()=>{if(p)try{const ce=window.__reportsLastInvalidateAt;if(!ce)return;const q=`monthly|${n}|${e}-${s}`,ie=ce[q];if(!ie)return;const L=Date.now()-ie;!so.isProduction()&&Math.random()<.02&&fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"reports_refetch_ms",ts:new Date().toISOString(),scope:"monthly",ms:L,propertyId:n,year:e,month:s}]})}).catch(()=>{})}catch{}},[p,n,e,s]),p!=null&&p.openingBalanceCents;const w=(p==null?void 0:p.totalCashReceivedCents)||0,N=(p==null?void 0:p.totalBankReceivedCents)||0,j=(p==null?void 0:p.totalCashExpensesCents)||0,S=(p==null?void 0:p.totalBankExpensesCents)||0;p!=null&&p.closingBalanceCents;const E=w+N,T=j+S,C=(p==null?void 0:p.netCashFlowCents)||0,[P,D]=x.useState(!1),[A,R]=x.useState(!1),F=async()=>{D(!0);try{const ce=localStorage.getItem("accessToken"),q=await fetch(`${xt.BASE_URL}/reports/v2/export-monthly-excel`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify({propertyId:n,year:e,month:s})});if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const ie=await q.json(),{exportId:L,statusUrl:B}=ie;l({title:"Generating Excel",description:"Your export is being processed..."});const Y=async()=>{const M=await fetch(`${xt.BASE_URL}${B}`,{headers:{Authorization:`Bearer ${ce}`}});if(!M.ok)throw new Error("Failed to check export status");return M.json()};let de=0;const G=60;for(;de<G;){const M=await Y();if(M.status==="ready"){const V=await fetch(`${xt.BASE_URL}/documents/exports/${L}/download`,{headers:{Authorization:`Bearer ${ce}`}});if(!V.ok)throw new Error("Failed to download file");const W=await V.json(),$=atob(W.data),me=new Uint8Array($.length);for(let Ee=0;Ee<$.length;Ee++)me[Ee]=$.charCodeAt(Ee);const ge=new Blob([me],{type:W.mimeType}),ue=window.URL.createObjectURL(ge),be=document.createElement("a");be.href=ue,be.download=W.filename,document.body.appendChild(be),be.click(),document.body.removeChild(be),window.URL.revokeObjectURL(ue),l({title:"Excel Ready",description:"Monthly report Excel has been downloaded."});break}else if(M.status==="failed")throw new Error(M.errorMessage||"Export failed");await new Promise(V=>setTimeout(V,1e3)),de++}if(de>=G)throw new Error("Export timeout - please try again")}catch(ce){console.error("Excel export error:",ce),l({title:"Export Failed",description:ce.message||"Failed to export Excel. Please try again.",variant:"destructive"})}finally{D(!1)}},z=async()=>{R(!0);try{const ce=localStorage.getItem("accessToken"),q=await fetch(`${xt.BASE_URL}/reports/v2/export-monthly-pdf`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify({propertyId:n,year:e,month:s})});if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const ie=await q.json(),{exportId:L,statusUrl:B}=ie;l({title:"Generating PDF",description:"Your export is being processed..."});const Y=async()=>{const M=await fetch(`${xt.BASE_URL}${B}`,{headers:{Authorization:`Bearer ${ce}`}});if(!M.ok)throw new Error("Failed to check export status");return M.json()};let de=0;const G=60;for(;de<G;){const M=await Y();if(M.status==="ready"){const V=await fetch(`${xt.BASE_URL}/documents/exports/${L}/download`,{headers:{Authorization:`Bearer ${ce}`}});if(!V.ok)throw new Error("Failed to download file");const W=await V.json(),$=atob(W.data),me=new Uint8Array($.length);for(let Ee=0;Ee<$.length;Ee++)me[Ee]=$.charCodeAt(Ee);const ge=new Blob([me],{type:W.mimeType}),ue=window.URL.createObjectURL(ge),be=document.createElement("a");be.href=ue,be.download=W.filename,document.body.appendChild(be),be.click(),document.body.removeChild(be),window.URL.revokeObjectURL(ue),l({title:"PDF Ready",description:"Monthly report PDF has been downloaded."});break}else if(M.status==="failed")throw new Error(M.errorMessage||"Export failed");await new Promise(V=>setTimeout(V,1e3)),de++}if(de>=G)throw new Error("Export timeout - please try again")}catch(ce){console.error("PDF export error:",ce),l({title:"Export Failed",description:ce.message||"Failed to export PDF. Please try again.",variant:"destructive"})}finally{R(!1)}},K=`${["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]} ${e}`,X=new Date;return X.getFullYear()===e&&X.getMonth()+1,f?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading monthly report data..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your financial data"})]})})}):g?t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Bb,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Data"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:g.message}),t.jsxs(se,{onClick:()=>c.invalidateQueries({queryKey:["monthly-report"]}),className:"bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Monthly Cash Balance Report"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:K})]})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Property ID"}),t.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["#",n]})]})})]})}),t.jsx(ke,{className:"pt-0",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsxs(se,{onClick:F,variant:"outline",disabled:P,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[P?t.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Rs,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:P?"Generating...":"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Excel"})]}),t.jsxs(se,{onClick:z,variant:"outline",disabled:A,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[A?t.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Ln,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:A?"Generating...":"Export PDF"}),t.jsx("span",{className:"sm:hidden",children:"PDF"})]})]})})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-blue-600"})}),"Monthly Cash Balance Spreadsheet",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Daily cash flow breakdown for ",K," with monthly totals",t.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:"Scroll to view all dates"}),v&&t.jsxs("span",{className:"ml-2 text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:["Last updated: ",new Date(v).toLocaleTimeString()]})]})]}),t.jsxs(ke,{children:[t.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{className:"bg-gray-50 sticky top-0 z-20 shadow-sm",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-2 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-16",children:"Date"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Cash Rev"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Bank Rev"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Total Rev"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Cash Exp"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Bank Exp"})]})}),t.jsx("tbody",{children:(()=>{const ce=ok(e,s),q=new Map;return p!=null&&p.dailyReports&&p.dailyReports.forEach(ie=>{q.set(ie.date,ie)}),ce.map(ie=>{const L=q.get(ie),B=JQ(ie);return t.jsxs("tr",{className:`${B?"bg-green-50 hover:bg-green-100 border-l-4 border-l-green-500":"bg-white hover:bg-gray-50"} transition-colors border-b border-gray-200`,children:[t.jsx("td",{className:"px-2 py-4 border-b font-medium text-sm w-16",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:B?"text-green-700 font-semibold":"text-gray-900",children:XQ(ie)}),B&&t.jsx("span",{className:"text-xs bg-green-600 text-white px-1 py-0.5 rounded-full font-medium",children:"Today"})]})}),t.jsx("td",{className:"px-3 py-4 border-b text-green-600 font-medium text-sm text-right w-28 tabular-nums",children:Kn((L==null?void 0:L.cashReceivedCents)||0)}),t.jsx("td",{className:"px-3 py-4 border-b text-blue-600 text-sm text-right w-28 tabular-nums",children:Kn((L==null?void 0:L.bankReceivedCents)||0)}),t.jsx("td",{className:"px-3 py-4 border-b text-gray-900 font-medium text-sm text-right w-28 tabular-nums",children:Kn(((L==null?void 0:L.cashReceivedCents)||0)+((L==null?void 0:L.bankReceivedCents)||0))}),t.jsx("td",{className:"px-3 py-4 border-b text-red-600 font-medium text-sm text-right w-28 tabular-nums",children:Kn((L==null?void 0:L.cashExpensesCents)||0)}),t.jsx("td",{className:"px-3 py-4 border-b text-orange-600 text-sm text-right w-28 tabular-nums",children:Kn((L==null?void 0:L.bankExpensesCents)||0)})]},ie)})})()}),t.jsx("tfoot",{className:"bg-gray-100 sticky bottom-0 z-20 shadow-lg",children:t.jsxs("tr",{className:"border-t-2 border-gray-400",children:[t.jsx("td",{className:"px-2 py-4 font-bold text-sm text-gray-900 bg-gray-100 sticky bottom-0 w-16",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:"text-gray-900 font-bold",children:[K," Total"]}),t.jsx("span",{className:"text-xs bg-blue-600 text-white px-1 py-0.5 rounded-full font-medium",children:"Monthly"})]})}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-green-600 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(w)}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-blue-600 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(N)}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-gray-900 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(E)}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-red-600 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(j)}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-orange-600 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(S)})]})})]})}),t.jsx("div",{className:"mt-2 text-center",children:t.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-gray-500",children:[t.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full animate-bounce"}),t.jsxs("span",{children:["Scroll to view all ",ok(e,s).length," days"]})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-green-600"})}),"Monthly Revenue"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:Kn(E)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Total revenue for ",K]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(Zl,{className:"h-4 w-4 text-red-600"})}),"Monthly Expenses"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:Kn(T)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Total expenses for ",K]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-4 w-4 text-blue-600"})}),"Monthly Net Income"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:`text-2xl font-bold ${C>=0?"text-green-600":"text-red-600"}`,children:Kn(C)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Net income for ",K]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-4 w-4 text-purple-600"})}),"Monthly Profit Margin"]})}),t.jsxs(ke,{children:[t.jsxs("div",{className:`text-2xl font-bold ${E>0?C>=0?"text-green-600":"text-red-600":"text-gray-600"}`,children:[E>0?(C/E*100).toFixed(1):"0.0","%"]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Based on monthly revenue and expenses"})]})]})]})]})}function eJ({onOpenDailyReportManager:e}){const{getAuthenticatedBackend:s,user:n}=$s(),{theme:a}=_a();da(),za();const[r,l]=x.useState(()=>new Date().getFullYear()),[c,u]=x.useState(()=>new Date().getMonth()+1),[m,p]=x.useState(null),[f,g]=x.useState([]),{data:v,isLoading:w,error:N}=Xt({queryKey:["properties",n==null?void 0:n.orgId],queryFn:async()=>{const j=s();console.log("Fetching properties for orgId:",n==null?void 0:n.orgId);const S=await j.properties.list({orgId:(n==null?void 0:n.orgId)||0});return console.log("Properties response:",S),S.properties||[]},enabled:!!(n!=null&&n.orgId)});return x.useEffect(()=>{v&&(g(v),v.length>0&&!m&&p(v[0].id))},[v,m]),w?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading properties..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your property data"})]})})}):N?t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Properties"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N.message}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):!m||f.length===0?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-blue-600"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Properties Available"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Please create a property first to view daily reports."})]})})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),"Monthly Spreadsheet",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"View and manage monthly cash balance reports for your properties"})]}),t.jsx(ke,{className:"space-y-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start",children:[t.jsxs("div",{className:"space-y-2 flex-1 min-w-0",children:[t.jsx(ee,{htmlFor:"property-select",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:(m==null?void 0:m.toString())||"",onValueChange:j=>p(parseInt(j)),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select a property"})}),t.jsx(rt,{children:f.map(j=>t.jsx(he,{value:j.id.toString(),children:j.name},j.id))})]})]}),t.jsxs("div",{className:"flex gap-1 items-end",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"month-select",className:"text-sm font-medium text-gray-700",children:"Month"}),t.jsxs(st,{value:c.toString(),onValueChange:j=>u(parseInt(j)),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500 w-32",children:t.jsx(at,{placeholder:"Select month"})}),t.jsx(rt,{children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((j,S)=>t.jsx(he,{value:(S+1).toString(),children:j},S+1))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"year-select",className:"text-sm font-medium text-gray-700",children:"Year"}),t.jsxs(st,{value:r.toString(),onValueChange:j=>l(parseInt(j)),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500 w-24",children:t.jsx(at,{placeholder:"Select year"})}),t.jsx(rt,{children:Array.from({length:5},(j,S)=>{const E=new Date().getFullYear()-2+S;return t.jsx(he,{value:E.toString(),children:E},E)})})]})]})]})]})})]}),m&&t.jsx(ZQ,{year:r,month:c,propertyId:m,orgId:(n==null?void 0:n.orgId)||0})]})}async function lk(e,s={}){const{maxRetries:n=3,baseDelay:a=1e3,maxDelay:r=8e3,timeout:l=3e4}=s;let c=null;for(let u=0;u<=n;u++)try{const m=new Promise((f,g)=>{setTimeout(()=>g(new Error("Request timeout")),l)}),p=await Promise.race([e(),m]);if(p==null)throw new Error("API returned null or undefined");return p}catch(m){if(c=m,tJ(m))throw m;if(u===n)break;const p=Math.min(a*Math.pow(2,u),r);console.warn(`API call failed (attempt ${u+1}/${n+1}), retrying in ${p}ms:`,m.message),await new Promise(f=>setTimeout(f,p))}throw new Error(`API call failed after ${n+1} attempts. Last error: ${c==null?void 0:c.message}`)}function tJ(e){var s,n;return!!((e==null?void 0:e.status)===401||(e==null?void 0:e.status)===403||(e==null?void 0:e.status)>=400&&(e==null?void 0:e.status)<500||(s=e==null?void 0:e.message)!=null&&s.includes("validation")||(n=e==null?void 0:e.message)!=null&&n.includes("invalid"))}function ck(e,s,n){try{const a=s.split(".");let r=e;for(const l of a){if(r==null)return n;r=r[l]}return r??n}catch(a){return console.warn(`Safe data access failed for path "${s}":`,a),n}}class sJ extends x.Component{constructor(n){super(n);Ve(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});Ve(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,a){console.error("ErrorBoundary caught an error:",n,a),this.logErrorToService(n,a),this.setState({error:n,errorInfo:a})}logErrorToService(n,a){console.error("Error Boundary - Full Error Details:",{error:n.message,stack:n.stack,componentStack:a.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href})}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2 text-red-900",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(is,{className:"h-6 w-6 text-red-600"})}),"Application Error"]}),t.jsx(Dt,{className:"text-sm text-red-700",children:"Something went wrong while loading the data"})]}),t.jsxs(ke,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Error Details:"}),t.jsx("p",{className:"text-sm text-red-700 mb-2",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),!1]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs(se,{onClick:this.handleRetry,className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]}),t.jsx(se,{variant:"outline",onClick:this.handleReload,className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reload Page"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support with the error details above."})]})]}):this.props.children}}function aJ(){const e=new Date().getMonth()+1;return e>=4&&e<=6?"Q1":e>=7&&e<=9?"Q2":e>=10&&e<=12?"Q3":"Q4"}function nJ(e){switch(e){case"Q1":return[4,5,6];case"Q2":return[7,8,9];case"Q3":return[10,11,12];case"Q4":return[1,2,3];default:return[4,5,6]}}function rJ(e,s){const n=nJ(e),a=`${s}-${n[0].toString().padStart(2,"0")}-01`;let r=s;e==="Q4"&&(r=s);const l=new Date(r,n[2],0).toISOString().split("T")[0];return{startDate:a,endDate:l}}function iJ(){var S,E;const{getAuthenticatedBackend:e}=$s(),{theme:s}=_a(),[n,a]=x.useState(new Date().getFullYear().toString()),[r,l]=x.useState(aJ()),[c,u]=x.useState(""),{data:m}=Xt({queryKey:["properties"],queryFn:async()=>e().properties.list({})}),{data:p,isLoading:f}=Xt({queryKey:["quarterly-report",n,r,c],queryFn:async()=>{var q,ie;const T=e(),{startDate:C,endDate:P}=rJ(r,parseInt(n)),D=await lk(()=>T.reports.getDailyReports({startDate:C,endDate:P,propertyId:c&&c!=="all"?parseInt(c):void 0}),{maxRetries:3,baseDelay:1e3}),A=ck(D,"reports",[]);if(!Array.isArray(A)||A.length===0)return console.warn("No reports data available for the selected period"),{quarter:r,year:n,propertyId:c&&c!=="all"?parseInt(c):void 0,propertyName:c&&c!=="all"&&((q=m==null?void 0:m.properties.find(L=>L.id.toString()===c))==null?void 0:q.name),totalOpeningBalanceCents:0,totalCashReceivedCents:0,totalBankReceivedCents:0,totalReceivedCents:0,totalCashExpensesCents:0,totalBankExpensesCents:0,totalExpensesCents:0,totalClosingBalanceCents:0,netCashFlowCents:0,averageDailyBalanceCents:0,daysWithTransactions:0,totalDays:0};const R=A.reduce((L,B)=>L+((B==null?void 0:B.openingBalanceCents)||0),0),F=A.reduce((L,B)=>L+((B==null?void 0:B.cashReceivedCents)||0),0),z=A.reduce((L,B)=>L+((B==null?void 0:B.bankReceivedCents)||0),0),J=A.reduce((L,B)=>L+((B==null?void 0:B.cashExpensesCents)||0),0),K=A.reduce((L,B)=>L+((B==null?void 0:B.bankExpensesCents)||0),0),X=A.reduce((L,B)=>L+((B==null?void 0:B.closingBalanceCents)||0),0);return{quarter:r,year:n,propertyId:c&&c!=="all"?parseInt(c):void 0,propertyName:c&&c!=="all"&&((ie=m==null?void 0:m.properties.find(L=>L.id.toString()===c))==null?void 0:ie.name),totalOpeningBalanceCents:R,totalCashReceivedCents:F,totalBankReceivedCents:z,totalReceivedCents:F+z,totalCashExpensesCents:J,totalBankExpensesCents:K,totalExpensesCents:J+K,totalClosingBalanceCents:X,netCashFlowCents:F+z-(J+K),averageDailyBalanceCents:A.length>0?X/A.length:0,daysWithTransactions:A.filter(L=>{var B;return(((B=L==null?void 0:L.transactions)==null?void 0:B.length)||0)>0}).length,totalDays:A.length}},enabled:!!n&&!!r,refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnMount:!0});qe.useEffect(()=>{if(p)try{const T=window.__reportsLastInvalidateAt;if(!T)return;const C=`quarterly|${n}|${r}|${c||"all"}`,P=T[C];if(!P)return;const D=Date.now()-P;!so.isProduction()&&Math.random()<.02&&fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"reports_refetch_ms",ts:new Date().toISOString(),scope:"quarterly",ms:D,year:n,quarter:r,propertyId:c||"all"}]})}).catch(()=>{})}catch{}},[p,n,r,c]);const{data:g,isLoading:v}=Xt({queryKey:["yearly-report",n,c],queryFn:async()=>{var q,ie;const T=e(),C=`${n}-01-01`,P=`${n}-12-31`,D=await lk(()=>T.reports.getDailyReports({startDate:C,endDate:P,propertyId:c&&c!=="all"?parseInt(c):void 0}),{maxRetries:3,baseDelay:1e3}),A=ck(D,"reports",[]);if(!Array.isArray(A)||A.length===0)return console.warn("No reports data available for the selected year"),{year:n,propertyId:c?parseInt(c):void 0,propertyName:c&&((q=m==null?void 0:m.properties.find(L=>L.id.toString()===c))==null?void 0:q.name),totalOpeningBalanceCents:0,totalCashReceivedCents:0,totalBankReceivedCents:0,totalReceivedCents:0,totalCashExpensesCents:0,totalBankExpensesCents:0,totalExpensesCents:0,totalClosingBalanceCents:0,netCashFlowCents:0,averageMonthlyBalanceCents:0,monthsWithTransactions:0,totalMonths:12};const R=A.reduce((L,B)=>L+((B==null?void 0:B.openingBalanceCents)||0),0),F=A.reduce((L,B)=>L+((B==null?void 0:B.cashReceivedCents)||0),0),z=A.reduce((L,B)=>L+((B==null?void 0:B.bankReceivedCents)||0),0),J=A.reduce((L,B)=>L+((B==null?void 0:B.cashExpensesCents)||0),0),K=A.reduce((L,B)=>L+((B==null?void 0:B.bankExpensesCents)||0),0),X=A.reduce((L,B)=>L+((B==null?void 0:B.closingBalanceCents)||0),0);return{year:n,propertyId:c?parseInt(c):void 0,propertyName:c&&((ie=m==null?void 0:m.properties.find(L=>L.id.toString()===c))==null?void 0:ie.name),totalOpeningBalanceCents:R,totalCashReceivedCents:F,totalBankReceivedCents:z,totalReceivedCents:F+z,totalCashExpensesCents:J,totalBankExpensesCents:K,totalExpensesCents:J+K,totalClosingBalanceCents:X,netCashFlowCents:F+z-(J+K),averageMonthlyBalanceCents:A.length>0?X/12:0,monthsWithTransactions:new Set(A.map(L=>{var B;return((B=L==null?void 0:L.date)==null?void 0:B.substring(0,7))||""})).size,totalMonths:12}},enabled:!!n,refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnMount:!0});qe.useEffect(()=>{if(g)try{const T=window.__reportsLastInvalidateAt;if(!T)return;const C=`yearly|${n}|${c||"all"}`,P=T[C];if(!P)return;const D=Date.now()-P;!so.isProduction()&&Math.random()<.02&&fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"reports_refetch_ms",ts:new Date().toISOString(),scope:"yearly",ms:D,year:n,propertyId:c||"all"}]})}).catch(()=>{})}catch{}},[g,n,c]);const w=T=>fu(T,s.currency),N=()=>{if(!p)return;const C=[["Quarter","Year","Property","Total Opening Balance","Cash Received","Bank Received","Total Received","Cash Expenses","Bank Expenses","Total Expenses","Total Closing Balance","Net Cash Flow","Average Daily Balance","Days with Transactions","Total Days"].join(","),[p.quarter,p.year,p.propertyName||"All Properties",w(p.totalOpeningBalanceCents),w(p.totalCashReceivedCents),w(p.totalBankReceivedCents),w(p.totalReceivedCents),w(p.totalCashExpensesCents),w(p.totalBankExpensesCents),w(p.totalExpensesCents),w(p.totalClosingBalanceCents),w(p.netCashFlowCents),w(p.averageDailyBalanceCents),p.daysWithTransactions,p.totalDays].join(",")].join(`
`),P=new Blob([C],{type:"text/csv"}),D=window.URL.createObjectURL(P),A=document.createElement("a");A.href=D,A.download=`quarterly-report-${n}-${r}.csv`,A.click(),window.URL.revokeObjectURL(D)},j=()=>{if(!g)return;const C=[["Year","Property","Total Opening Balance","Cash Received","Bank Received","Total Received","Cash Expenses","Bank Expenses","Total Expenses","Total Closing Balance","Net Cash Flow","Average Monthly Balance","Months with Transactions","Total Months"].join(","),[g.year,g.propertyName||"All Properties",w(g.totalOpeningBalanceCents),w(g.totalCashReceivedCents),w(g.totalBankReceivedCents),w(g.totalReceivedCents),w(g.totalCashExpensesCents),w(g.totalBankExpensesCents),w(g.totalExpensesCents),w(g.totalClosingBalanceCents),w(g.netCashFlowCents),w(g.averageMonthlyBalanceCents),g.monthsWithTransactions,g.totalMonths].join(",")].join(`
`),P=new Blob([C],{type:"text/csv"}),D=window.URL.createObjectURL(P),A=document.createElement("a");A.href=D,A.download=`yearly-report-${n}.csv`,A.click(),window.URL.revokeObjectURL(D)};return t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-xl font-bold text-gray-900",children:"Quarterly & Yearly Reports"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Aggregated financial reports and analytics"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Live"})]})]})})}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),"Report Filters",t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Active"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Select year, quarter, and property for aggregated reports"})]}),t.jsx(ke,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"property-filter",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:c,onValueChange:u,children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"All Properties"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Properties"}),m==null?void 0:m.properties.map(T=>t.jsx(he,{value:T.id.toString(),children:T.name},T.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"year-filter",className:"text-sm font-medium text-gray-700",children:"Year"}),t.jsx(ye,{id:"year-filter",type:"number",value:n,onChange:T=>a(T.target.value),min:"2020",max:"2030",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"quarter-filter",className:"text-sm font-medium text-gray-700",children:"Quarter"}),t.jsxs(st,{value:r,onValueChange:l,children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"Q1",children:"Q1 (Apr-Jun)"}),t.jsx(he,{value:"Q2",children:"Q2 (Jul-Sep)"}),t.jsx(he,{value:"Q3",children:"Q3 (Oct-Dec)"}),t.jsx(he,{value:"Q4",children:"Q4 (Jan-Mar)"})]})]})]})]})})]}),t.jsxs(wc,{defaultValue:"quarterly",theme:s,children:[t.jsxs(ll,{className:"grid-cols-2",theme:s,children:[t.jsxs(Vs,{value:"quarterly",theme:s,children:[t.jsx(qs,{className:"h-4 w-4 mr-2"}),"Quarterly Report"]}),t.jsxs(Vs,{value:"yearly",theme:s,children:[t.jsx(Va,{className:"h-4 w-4 mr-2"}),"Yearly Report"]})]}),t.jsxs("div",{className:"px-6 py-6",children:[t.jsx(ks,{value:"quarterly",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(qs,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900",children:["Quarterly Report - ",r," ",n]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Financial summary for ",r," ",n,c&&(m==null?void 0:m.properties.find(T=>T.id.toString()===c))&&` - ${(S=m.properties.find(T=>T.id.toString()===c))==null?void 0:S.name}`]})]})]}),p&&t.jsxs(se,{onClick:N,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ln,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsx(ke,{children:f?t.jsx(Te,{className:"border-l-4 border-l-blue-500",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading quarterly report..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your financial data"})]})})}):p?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-green-600"})}),"Total Received"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:w(p.totalReceivedCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cash: ",w(p.totalCashReceivedCents)," | Bank: ",w(p.totalBankReceivedCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(Zl,{className:"h-4 w-4 text-red-600"})}),"Total Expenses"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:w(p.totalExpensesCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cash: ",w(p.totalCashExpensesCents)," | Bank: ",w(p.totalBankExpensesCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-4 w-4 text-blue-600"})}),"Net Cash Flow"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:`text-2xl font-bold ${p.netCashFlowCents>=0?"text-green-600":"text-red-600"}`,children:w(p.netCashFlowCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Avg Daily: ",w(p.averageDailyBalanceCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(jC,{className:"h-4 w-4 text-purple-600"})}),"Activity"]})}),t.jsxs(ke,{children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[p.daysWithTransactions,"/",p.totalDays]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Days with transactions"})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-orange-600"})}),"Detailed Breakdown"]})}),t.jsx(ke,{children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("h4",{className:"font-semibold mb-3 text-green-600 flex items-center gap-2",children:[t.jsx(Nn,{className:"h-4 w-4"}),"Income Breakdown"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_n,{className:"h-4 w-4"}),"Cash Received"]}),t.jsx("span",{className:"font-medium text-green-600",children:w(p.totalCashReceivedCents)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(nl,{className:"h-4 w-4"}),"Bank Received"]}),t.jsx("span",{className:"font-medium text-blue-600",children:w(p.totalBankReceivedCents)})]}),t.jsxs("div",{className:"border-t border-green-300 pt-3 flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Received"}),t.jsx("span",{className:"text-green-600",children:w(p.totalReceivedCents)})]})]})]}),t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("h4",{className:"font-semibold mb-3 text-red-600 flex items-center gap-2",children:[t.jsx(Zl,{className:"h-4 w-4"}),"Expense Breakdown"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_n,{className:"h-4 w-4"}),"Cash Expenses"]}),t.jsx("span",{className:"font-medium text-red-600",children:w(p.totalCashExpensesCents)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(nl,{className:"h-4 w-4"}),"Bank Expenses"]}),t.jsx("span",{className:"font-medium text-orange-600",children:w(p.totalBankExpensesCents)})]}),t.jsxs("div",{className:"border-t border-red-300 pt-3 flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Expenses"}),t.jsx("span",{className:"text-red-600",children:w(p.totalExpensesCents)})]})]})]})]})})]})]}):t.jsx(Te,{className:"",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qs,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No data available"}),t.jsx("p",{className:"text-gray-500 text-center",children:"No financial data found for this month"})]})})})]})}),t.jsx(ks,{value:"yearly",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900",children:["Yearly Report - ",n]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Financial summary for ",n,c&&(m==null?void 0:m.properties.find(T=>T.id.toString()===c))&&` - ${(E=m.properties.find(T=>T.id.toString()===c))==null?void 0:E.name}`]})]})]}),g&&t.jsxs(se,{onClick:j,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ln,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsx(ke,{children:v?t.jsx(Te,{className:"border-l-4 border-l-blue-500",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading yearly report..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your financial data"})]})})}):g?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-green-600"})}),"Total Received"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:w(g.totalReceivedCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cash: ",w(g.totalCashReceivedCents)," | Bank: ",w(g.totalBankReceivedCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(Zl,{className:"h-4 w-4 text-red-600"})}),"Total Expenses"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:w(g.totalExpensesCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cash: ",w(g.totalCashExpensesCents)," | Bank: ",w(g.totalBankExpensesCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-4 w-4 text-blue-600"})}),"Net Cash Flow"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:`text-2xl font-bold ${g.netCashFlowCents>=0?"text-green-600":"text-red-600"}`,children:w(g.netCashFlowCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Avg Monthly: ",w(g.averageMonthlyBalanceCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(jC,{className:"h-4 w-4 text-purple-600"})}),"Activity"]})}),t.jsxs(ke,{children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[g.monthsWithTransactions,"/",g.totalMonths]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Months with transactions"})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-orange-600"})}),"Detailed Breakdown"]})}),t.jsx(ke,{children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("h4",{className:"font-semibold mb-3 text-green-600 flex items-center gap-2",children:[t.jsx(Nn,{className:"h-4 w-4"}),"Income Breakdown"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_n,{className:"h-4 w-4"}),"Cash Received"]}),t.jsx("span",{className:"font-medium text-green-600",children:w(g.totalCashReceivedCents)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(nl,{className:"h-4 w-4"}),"Bank Received"]}),t.jsx("span",{className:"font-medium text-blue-600",children:w(g.totalBankReceivedCents)})]}),t.jsxs("div",{className:"border-t border-green-300 pt-3 flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Received"}),t.jsx("span",{className:"text-green-600",children:w(g.totalReceivedCents)})]})]})]}),t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("h4",{className:"font-semibold mb-3 text-red-600 flex items-center gap-2",children:[t.jsx(Zl,{className:"h-4 w-4"}),"Expense Breakdown"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_n,{className:"h-4 w-4"}),"Cash Expenses"]}),t.jsx("span",{className:"font-medium text-red-600",children:w(g.totalCashExpensesCents)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(nl,{className:"h-4 w-4"}),"Bank Expenses"]}),t.jsx("span",{className:"font-medium text-orange-600",children:w(g.totalBankExpensesCents)})]}),t.jsxs("div",{className:"border-t border-red-300 pt-3 flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Expenses"}),t.jsx("span",{className:"text-red-600",children:w(g.totalExpensesCents)})]})]})]})]})})]})]}):t.jsx(Te,{className:"",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qs,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No data available"}),t.jsx("p",{className:"text-gray-500 text-center",children:"No financial data found for this year"})]})})})]})})]})]})]})})}function oJ(){return t.jsx(sJ,{children:t.jsx(iJ,{})})}function lJ({selectedPropertyId:e,selectedDate:s,onPropertyDateChange:n}){const{getAuthenticatedBackend:a,user:r}=$s(),{toast:l}=da(),c=za(),u=parseInt(e),m=(r==null?void 0:r.orgId)||0,{data:p,isLoading:f,error:g}=Xt({queryKey:["properties",r==null?void 0:r.orgId],queryFn:async()=>{const q=a();console.log("DailyReportManagerContent: Fetching properties for orgId:",r==null?void 0:r.orgId);const ie=await q.properties.list({orgId:(r==null?void 0:r.orgId)||0});return console.log("DailyReportManagerContent: Properties response:",ie),ie.properties||[]},enabled:!!(r!=null&&r.orgId)});x.useEffect(()=>{p&&p.length>0&&!e&&n(p[0].id,s)},[p,e,s,n]);const{data:v,isLoading:w,error:N}=Xt({queryKey:["daily-report",u,s,m],queryFn:async()=>{const q=a();console.log("DailyReportManagerContent: Fetching daily report from backend API for:",{propertyId:u,selectedDate:s,orgId:m});const ie=await q.reports.getDailyReport({propertyId:u,date:s});return console.log("DailyReportManagerContent: Daily report response:",ie),ie},enabled:!!u&&!!s&&!!m,staleTime:25e3,gcTime:3e5,refetchInterval:!1,refetchOnMount:!0});x.useEffect(()=>{if(v)try{const q=window.__reportsLastInvalidateAt;if(!q)return;const ie=`daily|${u}|${s}`,L=q[ie];if(!L)return;const B=Date.now()-L;!so.isProduction()&&Math.random()<.02&&fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"reports_refetch_ms",ts:new Date().toISOString(),scope:"daily",ms:B,propertyId:u,date:s}]})}).catch(()=>{})}catch{}},[v,u,s]);const j=(v==null?void 0:v.cashReceivedCents)||0,S=(v==null?void 0:v.bankReceivedCents)||0,E=(v==null?void 0:v.cashExpensesCents)||0,T=(v==null?void 0:v.bankExpensesCents)||0,C=(v==null?void 0:v.openingBalanceCents)||0,P=(v==null?void 0:v.closingBalanceCents)||0,D=C===0,A=C+j,R=q=>fu(q,"INR"),[F,z]=x.useState(!1),[J,K]=x.useState(!1),X=async()=>{if(!u||!s){l({title:"Export Failed",description:"Please select a property and date first.",variant:"destructive"});return}z(!0);try{const q=localStorage.getItem("accessToken"),ie=await fetch(`${xt.BASE_URL}/reports/v2/export-daily-pdf`,{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({propertyId:u,date:s})});if(!ie.ok)throw new Error(`HTTP error! status: ${ie.status}`);const L=await ie.json(),{exportId:B,statusUrl:Y}=L;l({title:"Generating PDF",description:"Your export is being processed..."});const de=async()=>{const V=await fetch(`${xt.BASE_URL}${Y}`,{headers:{Authorization:`Bearer ${q}`}});if(!V.ok)throw new Error("Failed to check export status");return V.json()};let G=0;const M=60;for(;G<M;){const V=await de();if(V.status==="ready"){const W=await fetch(`${xt.BASE_URL}/documents/exports/${B}/download`,{headers:{Authorization:`Bearer ${q}`}});if(!W.ok)throw new Error("Failed to download file");const $=await W.json(),me=atob($.data),ge=new Array(me.length);for(let fe=0;fe<me.length;fe++)ge[fe]=me.charCodeAt(fe);const ue=new Uint8Array(ge),be=new Blob([ue],{type:$.mimeType}),Ee=window.URL.createObjectURL(be),H=document.createElement("a");H.href=Ee,H.download=$.filename||`daily-report-${s}.pdf`,document.body.appendChild(H),H.click(),document.body.removeChild(H),window.URL.revokeObjectURL(Ee),l({title:"PDF Ready",description:"Daily report PDF has been downloaded."});break}else if(V.status==="failed")throw new Error(V.errorMessage||"Export generation failed");await new Promise(W=>setTimeout(W,1e3)),G++}if(G>=M)throw new Error("Export timed out")}catch(q){console.error("PDF export error:",q),l({title:"Export Failed",description:q.message||"Failed to export PDF. Please try again.",variant:"destructive"})}finally{z(!1)}},ce=async()=>{if(!u||!s){l({title:"Export Failed",description:"Please select a property and date first.",variant:"destructive"});return}K(!0);try{const q=localStorage.getItem("accessToken"),ie=await fetch(`${xt.BASE_URL}/reports/export-daily-excel`,{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({propertyId:u,date:s})});if(!ie.ok)throw new Error(`HTTP error! status: ${ie.status}`);const L=await ie.json(),B=document.createElement("a");B.href=`data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,${L.excelData}`,B.download=L.filename,document.body.appendChild(B),B.click(),document.body.removeChild(B),l({title:"Excel Exported",description:"Daily report Excel file has been downloaded successfully."})}catch(q){console.error("Excel export error:",q),l({title:"Export Failed",description:q.message||"Failed to export Excel. Please try again.",variant:"destructive"})}finally{K(!1)}};return f?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading properties..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your property data"})]})})}):g?t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Properties"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:g.message}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"border-red-300 text-red-700 hover:bg-red-50",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):!p||p.length===0?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-blue-600"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Properties Available"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Please create a property first to view daily reports."})]})})}):!u||!s?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-blue-600"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Property and Date"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Please select a property and date to view the daily report manager."})]})})}):t.jsxs("div",{className:"w-full space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-xl shadow-sm",children:t.jsx(Cn,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"Daily Cash Balance Report"}),t.jsx(Dt,{className:"text-sm lg:text-base text-gray-600 mt-1",children:new Date(s).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(se,{variant:"outline",size:"sm",onClick:X,disabled:!u||!s||F,className:"transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[F?t.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Cn,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:F?"Generating PDF...":"Export PDF"}),t.jsx("span",{className:"sm:hidden",children:"PDF"})]}),t.jsxs(se,{variant:"outline",size:"sm",onClick:ce,disabled:!u||!s||J,className:"transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[J?t.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Va,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:J?"Generating Excel...":"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Excel"})]})]})]})}),t.jsx(ke,{className:"pt-0",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"property-select",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:e||"",onValueChange:q=>n(parseInt(q),s),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select a property"})}),t.jsx(rt,{children:f?t.jsx(he,{value:"",disabled:!0,children:"Loading properties..."}):g?t.jsx(he,{value:"",disabled:!0,children:"Error loading properties"}):p&&p.length>0?p.map(q=>t.jsx(he,{value:q.id.toString(),children:q.name},q.id)):t.jsx(he,{value:"",disabled:!0,children:"No properties available"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"date-select",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ye,{id:"date-select",type:"date",value:s,onChange:q=>n(parseInt(e||"0"),q.target.value),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})})]}),w?t.jsx(Te,{className:"border-l-4 border-l-blue-500",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading transaction data..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your financial data"})]})})}):N?t.jsx(Te,{className:"border-l-4 border-l-red-500",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Cn,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error loading transaction data"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N.message}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"border-red-300 text-red-700 hover:bg-red-50",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),"Opening Balance (Cash)",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live Data"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:D?"Day 1: Manually entered (default: 0.00)":"Day 2+: Auto-calculated from previous day's closing balance"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Current Value"}),t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:R(C)})]})]})}),t.jsx(ke,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Auto-Calculated Value"}),t.jsx("div",{className:"text-xs text-blue-600 mt-1",children:D?"Based on all cash transactions before this date":"Equals previous day's closing balance"})]}),t.jsx("span",{className:"font-bold text-2xl text-blue-600",children:R(C)})]})}),(v==null?void 0:v.isOpeningBalanceAutoCalculated)&&t.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[t.jsx(an,{className:"h-4 w-4"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Live Data:"})," Calculated from Finance transactions"]})]})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg text-green-600 flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),"Revenue",t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Live Data"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Real-time revenue from Finance transactions"})]}),t.jsxs(ke,{className:"space-y-3",children:[t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Cash Revenue"}),t.jsx("span",{className:"font-bold text-xl text-green-600",children:R(j)})]}),t.jsx("div",{className:"text-xs text-green-600 mt-1",children:"From cash transactions"})]}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Bank Revenue"}),t.jsx("span",{className:"font-bold text-xl text-blue-600",children:R(S)})]}),t.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"From bank transactions"})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg text-red-600 flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),"Expenses",t.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium",children:"Live Data"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Real-time expenses from Finance transactions"})]}),t.jsxs(ke,{className:"space-y-3",children:[t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Cash Expenses"}),t.jsx("span",{className:"font-bold text-xl text-red-600",children:R(E)})]}),t.jsx("div",{className:"text-xs text-red-600 mt-1",children:"From cash transactions"})]}),t.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Bank Expenses"}),t.jsx("span",{className:"font-bold text-xl text-orange-600",children:R(T)})]}),t.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"From bank transactions"})]})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse"}),"Live Calculations",t.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium",children:"Auto-calculated"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Real-time calculations based on current data"})]}),t.jsxs(ke,{className:"space-y-4",children:[t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Total Cash"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Opening Balance + Cash Revenue"})]}),t.jsx("span",{className:"font-bold text-xl text-gray-800",children:R(A)})]})}),t.jsx("div",{className:"p-4 bg-purple-50 rounded-lg border-2 border-purple-200",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Closing Balance"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Total Cash - Cash Expenses"})]}),t.jsx("span",{className:"font-bold text-2xl text-purple-600",children:R(P)})]})}),t.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Next Day Opening Balance"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Carries forward to tomorrow"})]}),t.jsx("span",{className:"font-bold text-xl text-blue-600",children:R(P)})]})})]})]}),t.jsx(Te,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:t.jsx(ke,{className:"pt-6 pb-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Live Data"})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date().toLocaleTimeString()]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Source:"})," Finance Transactions"]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[t.jsxs(se,{variant:"outline",size:"sm",onClick:()=>c.invalidateQueries({queryKey:["daily-report"]}),disabled:w,className:"transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[t.jsx(mt,{className:`h-4 w-4 mr-2 ${w?"animate-spin":""}`}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),t.jsx("span",{className:"sm:hidden",children:"Refresh"})]}),t.jsxs(se,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",onClick:()=>{navigator.clipboard.writeText(`Closing Balance: ${R(P)}`),l({title:"Copied to Clipboard",description:"Closing balance copied to clipboard"})},children:[t.jsx($E,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Copy Balance"}),t.jsx("span",{className:"sm:hidden",children:"Copy"})]})]})]})})})]})]})}function cJ(){const{getAuthenticatedBackend:e,user:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=kr();da();const r=za(),l=.02,c=K=>{try{if(so.isProduction()||Math.random()>=l)return;fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:l,events:K})}).catch(()=>{})}catch{}};x.useEffect(()=>{a("Reports & Analytics","Generate comprehensive reports and analyze performance")},[a]);const[u,m]=x.useState(sc()),[p,f]=x.useState(""),[g,v]=x.useState(sc()),[w,N]=x.useState(sc()),[j,S]=x.useState(!1),E=x.useRef(new Set),T=x.useRef(new Set),C=x.useRef(new Set),P=x.useRef(new Set),D=x.useRef(new Set),A=x.useRef(null),R=x.useRef({});x.useEffect(()=>{window.__reportsLastInvalidateAt=R.current},[]);const F=K=>{if(!K)return null;try{const X=new Date(K),ce=X.toLocaleString("en-CA",{year:"numeric",timeZone:"Asia/Kolkata"}),q=X.toLocaleString("en-CA",{month:"2-digit",timeZone:"Asia/Kolkata"}),ie=X.toLocaleString("en-CA",{day:"2-digit",timeZone:"Asia/Kolkata"});return`${ce}-${q}-${ie}`}catch{return null}},z=K=>{const[X,ce]=K.split("-");return{year:parseInt(X,10),month:parseInt(ce,10)}},J=(K,X)=>X>=4&&X<=6?{q:"Q1",year:K}:X>=7&&X<=9?{q:"Q2",year:K}:X>=10&&X<=12?{q:"Q3",year:K}:{q:"Q4",year:K};return wr("finance",K=>{var B,Y;if(!Os("REPORTS_REALTIME_V1",!0))return;const X=E.current,ce=T.current,q=C.current,ie=P.current,L=D.current;for(const de of K){const G=de==null?void 0:de.eventId;if(!G||L.has(G))continue;L.add(G);const M=de==null?void 0:de.propertyId,V=((B=de==null?void 0:de.metadata)==null?void 0:B.transactionDate)||(de==null?void 0:de.timestamp),W=Array.isArray((Y=de==null?void 0:de.metadata)==null?void 0:Y.affectedReportDates)?de.metadata.affectedReportDates:[],$=new Set,me=F(V);me&&$.add(me),W.forEach(ge=>{const ue=F(ge);ue&&$.add(ue)});for(const ge of $){if(!M)continue;X.add(["daily",String(M),ge].join("|"));const{year:ue,month:be}=z(ge);ce.add(["monthly",String(M),String(ue),String(be)].join("|"));const Ee=J(ue,be);q.add(["quarterly",String(Ee.year),Ee.q,String(M)].join("|")),ie.add(["yearly",String(ue),String(M)].join("|"))}}A.current||(A.current=setTimeout(()=>{const de=R.current;X.forEach(G=>{const[M,V,W]=G.split("|");de[`daily|${V}|${W}`]=Date.now(),r.invalidateQueries({queryKey:["daily-report",parseInt(V,10),W],exact:!1})}),ce.forEach(G=>{const[M,V,W,$]=G.split("|");de[`monthly|${V}|${W}-${$}`]=Date.now(),r.invalidateQueries({queryKey:["monthly-report",parseInt(V,10),parseInt(W,10),parseInt($,10)],exact:!1})}),q.forEach(G=>{const[M,V,W,$]=G.split("|");de[`quarterly|${V}|${W}|${$}`]=Date.now(),r.invalidateQueries({queryKey:["quarterly-report",V,W,$],exact:!1})}),ie.forEach(G=>{const[M,V,W]=G.split("|");de[`yearly|${V}|${W}`]=Date.now(),r.invalidateQueries({queryKey:["yearly-report",V,W],exact:!1})}),c([{type:"reports_realtime_invalidation",ts:new Date().toISOString()}]),X.clear(),ce.clear(),q.clear(),ie.clear(),A.current=null},1e3))},!0),x.useEffect(()=>()=>{A.current&&clearTimeout(A.current)},[]),x.useEffect(()=>{const K=p?Number(p):null;try{uu(K)}catch{}},[p]),t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsxs("div",{className:"px-6 pb-6 sm:py-6 lg:bg-[#F5F7FA]",children:[t.jsxs("div",{className:"hidden sm:flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:t.jsx(Va,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive reports and insights"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Live Data"})]})]}),t.jsxs(wc,{defaultValue:"daily-manager",theme:n,children:[t.jsx("div",{className:"sticky top-16 z-30 bg-white lg:bg-[#F5F7FA] border-b border-gray-200 -mx-6 px-4 sm:px-6 py-3 shadow-sm lg:shadow-none",children:t.jsx("div",{className:"overflow-x-auto no-scrollbar",children:t.jsxs(ll,{className:"grid w-full grid-cols-3 min-w-max bg-gray-100",theme:n,children:[t.jsxs(Vs,{value:"daily-manager",theme:n,children:[t.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Daily Report Manager"]}),t.jsxs(Vs,{value:"daily-spreadsheet",theme:n,children:[t.jsx(Va,{className:"h-4 w-4 mr-2"}),"Monthly Spreadsheet"]}),t.jsxs(Vs,{value:"monthly-yearly",theme:n,children:[t.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Quarterly & Yearly"]})]})})}),t.jsx("div",{className:"py-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx(ks,{value:"daily-manager",className:"space-y-6 mt-0",children:t.jsx(lJ,{selectedPropertyId:p,selectedDate:u,onPropertyDateChange:(K,X)=>{f(K.toString()),m(X)}})}),t.jsx(ks,{value:"daily-spreadsheet",className:"space-y-6 mt-0",children:t.jsx(eJ,{onOpenDailyReportManager:(K,X)=>{f(K.toString()),m(X)}})}),t.jsx(ks,{value:"monthly-yearly",className:"space-y-6 mt-0",children:t.jsx(oJ,{})})]})})]})]})})}function dJ(){const{getAuthenticatedBackend:e,user:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=kr(),{toast:r}=da(),l=za();x.useEffect(()=>{a("Staff Management","Manage staff members, schedules, and leave requests")},[a]);const[c,u]=x.useState(!1),[m,p]=x.useState(!1),[f,g]=x.useState(!1),[v,w]=x.useState(!1),[N,j]=x.useState(!1),[S,E]=x.useState(!1),[T,C]=x.useState(!1),[P,D]=x.useState(null),[A,R]=x.useState("staff"),[F,z]=x.useState(""),[J,K]=x.useState("all"),[X,ce]=x.useState("all"),[q,ie]=x.useState(window.innerWidth<768),[L,B]=x.useState({userId:"",propertyId:"none",department:"",hourlyRateCents:"",hireDate:"",notes:""}),[Y,de]=x.useState({id:"",propertyId:"none",department:"",hourlyRateCents:"",performanceRating:"",hireDate:"",notes:"",status:"active",salaryType:"hourly",baseSalaryCents:"",overtimeRateCents:"",attendanceTrackingEnabled:!0,maxOvertimeHours:"",leaveBalance:""}),[G,M]=x.useState({staffId:"",propertyId:"",shiftDate:"",startTime:"",endTime:"",breakMinutes:"30",notes:""}),[V,W]=x.useState({leaveType:"vacation",startDate:"",endDate:"",reason:""}),[$,me]=x.useState({staffId:"",checkInTime:"",checkOutTime:"",notes:""}),[ge,ue]=x.useState({staffId:"",baseSalaryCents:"",overtimeRateCents:"",bonusCents:"",effectiveDate:""}),[be,Ee]=x.useState({reportType:"attendance",startDate:"",endDate:"",format:"csv",includeDetails:!0}),{data:H,isLoading:fe}=Xt({queryKey:["staff"],queryFn:async()=>e().staff.list({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:je,isLoading:Oe}=Xt({queryKey:["schedules"],queryFn:async()=>e().staff.listSchedules({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:_e,isLoading:Ie}=Xt({queryKey:["leave-requests"],queryFn:async()=>e().staff.listLeaveRequests({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:ze}=Xt({queryKey:["users"],queryFn:async()=>e().users.list({}),enabled:(s==null?void 0:s.role)==="ADMIN",refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:Ue}=Xt({queryKey:["properties"],queryFn:async()=>e().properties.list({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:Ge,isLoading:it}=Xt({queryKey:["attendance"],queryFn:async()=>e().staff.listAttendance({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:Tt,isLoading:yt}=Xt({queryKey:["salary-components"],queryFn:async()=>e().staff.salaryComponents({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:xs,isLoading:va}=Xt({queryKey:["payslips"],queryFn:async()=>e().staff.payslips({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:Fe,isLoading:lt}=Xt({queryKey:["staff-statistics"],queryFn:async()=>e().staff.statistics({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),[Zt,as]=x.useState(null),es=qe.useRef(0),ae=qe.useRef(null),Ye=qe.useRef(new Set);x.useEffect(()=>{try{window.__staffSelectedPropertyId="all"}catch{}if(!Os("STAFF_REALTIME_V1",!0))return;const xe=Be=>{var Gt;const kt=!!((Gt=Be==null?void 0:Be.detail)!=null&&Gt.isLive);as(kt)};return window.addEventListener("staff-stream-health",xe),()=>{window.removeEventListener("staff-stream-health",xe),ae.current&&clearTimeout(ae.current)}},[l]),wr("staff",_=>{if(!Array.isArray(_)||_.length===0)return;const xe=Ye.current;for(const Be of _){const kt=String((Be==null?void 0:Be.eventType)||"");kt.startsWith("staff_")&&xe.add("staff"),kt.startsWith("schedule_")&&xe.add("schedules"),kt.startsWith("leave_")&&xe.add("leave-requests"),kt.startsWith("attendance_")&&xe.add("attendance"),kt.startsWith("salary_component_")&&xe.add("salary-components"),kt.startsWith("payslip_")&&xe.add("payslips"),xe.add("staff-statistics")}ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{const Be=Array.from(xe);xe.clear();for(const kt of Be)l.invalidateQueries({queryKey:[kt]});es.current=Date.now()},Math.floor(500+Math.random()*500))},Os("STAFF_REALTIME_V1",!0)),x.useEffect(()=>{try{uu(null)}catch{}},[]);const vt=vs({mutationFn:async _=>e().staff.create({..._,userId:parseInt(_.userId),propertyId:_.propertyId==="none"?void 0:parseInt(_.propertyId),hourlyRateCents:_.hourlyRateCents?parseInt(_.hourlyRateCents):0,hireDate:_.hireDate?new Date(_.hireDate):void 0}),onMutate:async _=>{await l.cancelQueries({queryKey:["staff"]});const xe=l.getQueryData(["staff"]);return l.setQueryData(["staff"],Be=>{if(!(Be!=null&&Be.staff))return Be;const kt={id:Date.now(),..._,userId:parseInt(_.userId),propertyId:_.propertyId==="none"?void 0:parseInt(_.propertyId),hourlyRateCents:_.hourlyRateCents?parseInt(_.hourlyRateCents):0,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{...Be,staff:[kt,...Be.staff]}}),{previousStaff:xe}},onSuccess:()=>{l.invalidateQueries({queryKey:["staff"]}),u(!1),B({userId:"",propertyId:"none",department:"",hourlyRateCents:"",hireDate:"",notes:""}),r({title:"Staff member added",description:"The staff member has been created successfully."})},onError:(_,xe,Be)=>{Be!=null&&Be.previousStaff&&l.setQueryData(["staff"],Be.previousStaff),r({variant:"destructive",title:"Failed to add staff member",description:_.message||"Please try again."})}}),St=vs({mutationFn:async _=>e().staff.createSchedule({..._,staffId:parseInt(_.staffId),propertyId:parseInt(_.propertyId),shiftDate:new Date(_.shiftDate),breakMinutes:parseInt(_.breakMinutes)}),onSuccess:()=>{l.invalidateQueries({queryKey:["schedules"]}),p(!1),M({staffId:"",propertyId:"",shiftDate:"",startTime:"",endTime:"",breakMinutes:"30",notes:""}),r({title:"Schedule created",description:"The staff schedule has been created successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to create schedule",description:_.message||"Please try again."})}}),cs=vs({mutationFn:async _=>e().staff.requestLeave({..._,startDate:new Date(_.startDate),endDate:new Date(_.endDate)}),onSuccess:()=>{l.invalidateQueries({queryKey:["leave-requests"]}),g(!1),W({leaveType:"vacation",startDate:"",endDate:"",reason:""}),r({title:"Leave request submitted",description:"Your leave request has been submitted for approval."})},onError:_=>{r({variant:"destructive",title:"Failed to submit leave request",description:_.message||"Please try again."})}}),ys=vs({mutationFn:async({id:_,approved:xe})=>{console.log("=== APPROVE LEAVE MUTATION ==="),console.log("Leave ID:",_,"Approved:",xe);const kt=await e().staff.approveLeave({id:_,approved:xe});return console.log("Approve leave result:",kt),kt},onSuccess:()=>{console.log("Leave approval successful"),l.invalidateQueries({queryKey:["leave-requests"]}),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]}),l.invalidateQueries({queryKey:["pending-approvals"]}),l.refetchQueries({queryKey:["leave-requests"]}),l.refetchQueries({queryKey:["pending-approvals"]}),l.refetchQueries({queryKey:["dashboard"]}),r({title:"Leave request updated",description:"The leave request has been processed."})},onError:_=>{console.error("Approve leave error:",_),r({variant:"destructive",title:"Failed to process leave request",description:_.message||"Please try again."})}}),Ks=vs({mutationFn:async _=>e().staff.checkIn(parseInt(_.staffId),{staffId:parseInt(_.staffId),notes:_.notes}),onSuccess:()=>{l.invalidateQueries({queryKey:["attendance"]}),w(!1),me({staffId:"",checkInTime:"",checkOutTime:"",notes:""}),r({title:"Check-in successful",description:"You have been checked in successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to check in",description:_.message||"Please try again."})}}),bt=vs({mutationFn:async _=>e().staff.checkOut(parseInt(_.staffId),{staffId:parseInt(_.staffId),notes:_.notes}),onSuccess:()=>{l.invalidateQueries({queryKey:["attendance"]}),w(!1),me({staffId:"",checkInTime:"",checkOutTime:"",notes:""}),r({title:"Check-out successful",description:"You have been checked out successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to check out",description:_.message||"Please try again."})}}),rn=vs({mutationFn:async _=>e().staff.salaryComponents({staffId:parseInt(_.staffId),componentType:"base_salary",amountCents:parseInt(_.baseSalaryCents),effectiveDate:new Date(_.effectiveDate)}),onSuccess:()=>{l.invalidateQueries({queryKey:["salary-components"]}),j(!1),ue({staffId:"",baseSalaryCents:"",overtimeRateCents:"",bonusCents:"",effectiveDate:""}),r({title:"Salary component created",description:"The salary component has been created successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to create salary component",description:_.message||"Please try again."})}}),La=vs({mutationFn:async _=>e().staff.exportAttendance({startDate:new Date(_.startDate),endDate:new Date(_.endDate),format:_.format}),onSuccess:_=>{E(!1),Ee({reportType:"attendance",startDate:"",endDate:"",format:"csv",includeDetails:!0}),r({title:"Report generated",description:"Your report has been generated successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to generate report",description:_.message||"Please try again."})}}),on=vs({mutationFn:async _=>e().staff.update({id:parseInt(_.id),propertyId:_.propertyId,department:_.department,hourlyRateCents:_.hourlyRateCents,performanceRating:_.performanceRating,hireDate:_.hireDate,notes:_.notes,status:_.status,salaryType:_.salaryType,baseSalaryCents:_.baseSalaryCents,overtimeRateCents:_.overtimeRateCents,attendanceTrackingEnabled:_.attendanceTrackingEnabled,maxOvertimeHours:_.maxOvertimeHours,leaveBalance:_.leaveBalance}),onMutate:async _=>{await l.cancelQueries({queryKey:["staff"]});const xe=l.getQueryData(["staff"]);return l.setQueryData(["staff"],Be=>Be!=null&&Be.staff?{...Be,staff:Be.staff.map(kt=>kt.id===parseInt(_.id)?{...kt,..._}:kt)}:Be),{previousStaff:xe}},onSuccess:()=>{l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),C(!1),D(null),de({id:"",propertyId:"none",department:"",hourlyRateCents:"",performanceRating:"",hireDate:"",notes:"",status:"active",salaryType:"hourly",baseSalaryCents:"",overtimeRateCents:"",attendanceTrackingEnabled:!0,maxOvertimeHours:"",leaveBalance:""}),r({title:"Staff member updated",description:"The staff member has been updated successfully."})},onError:(_,xe,Be)=>{Be!=null&&Be.previousStaff&&l.setQueryData(["staff"],Be.previousStaff),r({variant:"destructive",title:"Failed to update staff member",description:_.message||"Please try again."})}}),jt=vs({mutationFn:async _=>e().staff.deleteStaff(_),onMutate:async _=>{await l.cancelQueries({queryKey:["staff"]});const xe=l.getQueryData(["staff"]);return l.setQueryData(["staff"],Be=>Be!=null&&Be.staff?{...Be,staff:Be.staff.filter(kt=>kt.id!==_)}:Be),{previousStaff:xe}},onSuccess:_=>{l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),r({title:"Staff member deleted",description:_.message||"The staff member has been deleted successfully."})},onError:(_,xe,Be)=>{Be!=null&&Be.previousStaff&&l.setQueryData(["staff"],Be.previousStaff),r({variant:"destructive",title:"Failed to delete staff member",description:_.message||"Please try again."})}}),Ft=_=>{switch(_){case"frontdesk":return"bg-blue-100 text-blue-800";case"housekeeping":return"bg-green-100 text-green-800";case"maintenance":return"bg-orange-100 text-orange-800";case"fnb":return"bg-purple-100 text-purple-800";case"admin":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=_=>{switch(_){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"scheduled":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},te=_=>{switch(_){case"vacation":return"bg-blue-100 text-blue-800";case"sick":return"bg-red-100 text-red-800";case"personal":return"bg-purple-100 text-purple-800";case"emergency":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},le=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_/100),Se=_=>{D(_),de({id:_.id.toString(),propertyId:_.propertyId?_.propertyId.toString():"none",department:_.department||"",hourlyRateCents:_.hourlyRateCents?_.hourlyRateCents.toString():"",performanceRating:_.performanceRating?_.performanceRating.toString():"",hireDate:_.hireDate?new Date(_.hireDate).toISOString().split("T")[0]:"",notes:_.notes||"",status:_.status||"active",salaryType:_.salaryType||"hourly",baseSalaryCents:_.baseSalaryCents?_.baseSalaryCents.toString():"",overtimeRateCents:_.overtimeRateCents?_.overtimeRateCents.toString():"",attendanceTrackingEnabled:_.attendanceTrackingEnabled!==!1,maxOvertimeHours:_.maxOvertimeHours?_.maxOvertimeHours.toString():"",leaveBalance:_.leaveBalance?_.leaveBalance.toString():""}),C(!0)},dt=_=>{window.confirm(`Are you sure you want to delete ${_.userName}? This action cannot be undone and will remove all related data including attendance, schedules, and salary records.`)&&jt.mutate(_.id)};return t.jsxs("div",{className:"w-full min-h-screen bg-gray-50",children:[t.jsxs("div",{className:"px-6 pb-6 sm:py-6 space-y-6",children:[t.jsx(Te,{className:"hidden sm:block border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:t.jsx(ke,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(kh,{className:"h-5 w-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Staff Management"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage staff members, schedules, and leave requests"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Live"}),(fe||Oe||Ie)&&t.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[t.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),t.jsx("span",{className:"text-xs",children:"Updating..."})]})]})]})})}),t.jsxs(wc,{defaultValue:"staff",theme:n,children:[t.jsx("div",{className:"sticky top-16 z-30 bg-white border-b border-gray-200 -mx-6 px-4 sm:px-6 py-3 shadow-sm",children:t.jsx("div",{className:"overflow-x-auto no-scrollbar",children:t.jsxs(ll,{className:"grid w-full grid-cols-5 min-w-max bg-gray-100",theme:n,children:[t.jsxs(Vs,{value:"staff",theme:n,children:[t.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Staff"]}),t.jsxs(Vs,{value:"schedules",theme:n,children:[t.jsx(R6,{className:"h-4 w-4 mr-2"}),"Schedules"]}),t.jsxs(Vs,{value:"attendance",theme:n,children:[t.jsx(s_,{className:"h-4 w-4 mr-2"}),"Attendance"]}),t.jsxs(Vs,{value:"salary",theme:n,children:[t.jsx(_n,{className:"h-4 w-4 mr-2"}),"Salary"]}),t.jsxs(Vs,{value:"reports",theme:n,children:[t.jsx(Va,{className:"h-4 w-4 mr-2"}),"Reports"]})]})})}),t.jsxs("div",{className:"py-6",children:[t.jsx(ks,{value:"staff",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Wi,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Staff Members"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage your team members and their information"})]})]}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Add Staff Member"}),t.jsx("span",{className:"sm:hidden",children:"Add"})]})]})}),t.jsx(ke,{children:fe?t.jsx(Te,{className:"",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Wi,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading staff members..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your team data"})]})})}):(H==null?void 0:H.staff.length)===0?t.jsx(Te,{className:"",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(kh,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff members"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Start by adding your first staff member"}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add First Staff Member"]})]})}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:H==null?void 0:H.staff.map(_=>t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-all duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(kh,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:_.userName}),t.jsx(Dt,{className:"text-sm text-gray-600",children:_.userEmail})]})]}),t.jsx(Lt,{className:`${Ft(_.department)} flex-shrink-0`,children:_.department})]})}),t.jsxs(ke,{className:"space-y-3",children:[_.propertyName&&t.jsxs("div",{className:"flex items-center text-sm",children:[t.jsx(ca,{className:"h-4 w-4 mr-2 text-gray-500 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:_.propertyName})]}),_.hourlyRateCents>0&&t.jsxs("div",{className:"flex items-center text-sm",children:[t.jsx(_n,{className:"h-4 w-4 mr-2 text-green-500 flex-shrink-0"}),t.jsxs("span",{className:"font-medium",children:["Rate: ",le(_.hourlyRateCents),"/hr"]})]}),_.performanceRating>0&&t.jsxs("div",{className:"flex items-center text-sm",children:[t.jsx(GE,{className:"h-4 w-4 mr-2 text-yellow-500 flex-shrink-0"}),t.jsxs("span",{children:[_.performanceRating.toFixed(1),"/5.0"]})]}),_.hireDate&&t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(qs,{className:"h-4 w-4 mr-2 flex-shrink-0"}),t.jsxs("span",{children:["Hired ",new Date(_.hireDate).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx(Lt,{variant:_.status==="active"?"default":"secondary",className:"border-green-500 text-green-700",children:_.status}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs("div",{className:"flex gap-2",children:[t.jsx(se,{size:"sm",variant:"outline",onClick:()=>Se(_),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:t.jsx(jr,{className:"h-4 w-4"})}),t.jsx(se,{size:"sm",variant:"outline",onClick:()=>dt(_),disabled:jt.isPending,className:"transition-all duration-200 hover:scale-105 hover:shadow-md text-red-600 hover:text-red-700 hover:bg-red-50",children:jt.isPending?t.jsx(mt,{className:"h-4 w-4 animate-spin"}):t.jsx(jn,{className:"h-4 w-4"})})]})]})]})]},_.id))})})]})}),t.jsx(ks,{value:"schedules",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(qs,{className:"h-5 w-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Staff Schedules"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"View and manage staff work schedules"})]})]}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>p(!0),className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Create Schedule"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})]})}),t.jsx(ke,{children:Oe?t.jsx(Te,{className:"",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qs,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading schedules..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your schedule data"})]})})}):(je==null?void 0:je.schedules.length)===0?t.jsx(Te,{className:"",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qs,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No schedules"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Start by creating staff schedules"}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>p(!0),className:"bg-green-600 hover:bg-green-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Create First Schedule"]})]})}):t.jsx("div",{className:"space-y-4",children:je==null?void 0:je.schedules.map(_=>t.jsx(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-all duration-200",children:t.jsx(ke,{className:"p-4",children:t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx("h4",{className:"font-medium truncate",children:_.staffName}),t.jsx(Lt,{className:`${k(_.status)} flex-shrink-0`,children:_.status})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-1 truncate",children:_.propertyName}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),new Date(_.shiftDate).toLocaleDateString()]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1 flex-shrink-0"}),_.startTime," - ",_.endTime]}),_.breakMinutes>0&&t.jsxs("span",{children:["Break: ",_.breakMinutes,"min"]})]}),_.notes&&t.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:_.notes})]})})})},_.id))})})]})}),t.jsx(ks,{value:"leave",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(uh,{className:"h-5 w-5 text-orange-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Leave Requests"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage staff leave requests and approvals"})]})]}),t.jsxs(se,{onClick:()=>g(!0),className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Request Leave"}),t.jsx("span",{className:"sm:hidden",children:"Request"})]})]})}),t.jsx(ke,{children:Ie?t.jsx(Te,{className:"",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(uh,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading leave requests..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your leave data"})]})})}):(_e==null?void 0:_e.leaveRequests.length)===0?t.jsx(Te,{className:"",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(uh,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No leave requests"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"No leave requests have been submitted yet"}),t.jsxs(se,{onClick:()=>g(!0),className:"bg-orange-600 hover:bg-orange-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Request Leave"]})]})}):t.jsx("div",{className:"space-y-4",children:_e==null?void 0:_e.leaveRequests.map(_=>t.jsx(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-all duration-200",children:t.jsx(ke,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx("h4",{className:"font-medium truncate",children:_.staffName}),t.jsx(Lt,{className:`${te(_.leaveType)} flex-shrink-0`,children:_.leaveType}),t.jsx(Lt,{className:`${k(_.status)} flex-shrink-0`,children:_.status})]}),t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500 mb-1",children:t.jsxs("span",{className:"flex items-center",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),new Date(_.startDate).toLocaleDateString()," - ",new Date(_.endDate).toLocaleDateString()]})}),_.reason&&t.jsx("p",{className:"text-sm text-gray-600 mb-1 line-clamp-2",children:_.reason}),_.approvedByName&&t.jsxs("p",{className:"text-xs text-gray-500",children:[_.status," by ",_.approvedByName," on ",new Date(_.approvedAt).toLocaleDateString()]})]}),(s==null?void 0:s.role)==="ADMIN"&&_.status==="pending"&&t.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[t.jsxs(se,{size:"sm",onClick:()=>ys.mutate({id:_.id,approved:!0}),disabled:ys.isPending,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ca,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"hidden sm:inline",children:"Approve"})]}),t.jsxs(se,{size:"sm",variant:"outline",onClick:()=>ys.mutate({id:_.id,approved:!1}),disabled:ys.isPending,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(lg,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"hidden sm:inline",children:"Reject"})]})]})]})})},_.id))})})]})}),t.jsx(ks,{value:"attendance",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(qi,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Attendance Tracking"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Track staff attendance and working hours"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{onClick:()=>w(!0),className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(qi,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Check In/Out"}),t.jsx("span",{className:"sm:hidden",children:"Check In"})]}),t.jsxs(se,{variant:"outline",onClick:()=>La.mutate({reportType:"attendance",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],format:"csv"}),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ln,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Export"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]})}),t.jsx(ke,{children:it?t.jsx(Te,{className:"",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qi,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading attendance..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your attendance data"})]})})}):(Ge==null?void 0:Ge.attendance.length)===0?t.jsx(Te,{className:"",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qi,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No attendance records"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"No attendance records found for the selected period"}),t.jsxs(se,{onClick:()=>w(!0),className:"bg-purple-600 hover:bg-purple-700",children:[t.jsx(qi,{className:"mr-2 h-4 w-4"}),"Check In"]})]})}):t.jsx("div",{className:"space-y-4",children:Ge==null?void 0:Ge.attendance.map(_=>t.jsx(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-all duration-200",children:t.jsx(ke,{className:"p-4",children:t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx("h4",{className:"font-medium truncate",children:_.staffName}),t.jsx(Lt,{className:`${k(_.status)} flex-shrink-0`,children:_.status})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),new Date(_.attendanceDate).toLocaleDateString()]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1 flex-shrink-0"}),_.checkInTime," - ",_.checkOutTime||"Not checked out"]}),_.totalHours>0&&t.jsxs("span",{children:["Hours: ",_.totalHours.toFixed(1)]})]}),_.notes&&t.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:_.notes})]})})})},_.id))})})]})}),t.jsx(ks,{value:"salary",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(_n,{className:"h-5 w-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Salary Management"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage staff salary components and payslips"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>j(!0),className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(_n,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Add Salary Component"}),t.jsx("span",{className:"sm:hidden",children:"Add Component"})]}),t.jsxs(se,{variant:"outline",onClick:()=>La.mutate({reportType:"salary",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],format:"csv"}),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ln,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Export"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]})}),t.jsx(ke,{children:yt?t.jsx(Te,{className:"",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(_n,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading salary data..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your salary information"})]})})}):(Tt==null?void 0:Tt.salaryComponents.length)===0?t.jsx(Te,{className:"",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(_n,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No salary components"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"No salary components have been configured yet"}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>j(!0),className:"bg-green-600 hover:bg-green-700",children:[t.jsx(_n,{className:"mr-2 h-4 w-4"}),"Add First Salary Component"]})]})}):t.jsx("div",{className:"space-y-4",children:Tt==null?void 0:Tt.salaryComponents.map(_=>t.jsx(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-all duration-200",children:t.jsx(ke,{className:"p-4",children:t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx("h4",{className:"font-medium truncate",children:_.staffName}),t.jsx(Lt,{className:"bg-green-100 text-green-800 flex-shrink-0",children:_.componentType})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500",children:[t.jsxs("span",{className:"font-medium",children:["Amount: ",le(_.amountCents)]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),"Effective: ",new Date(_.effectiveDate).toLocaleDateString()]})]}),_.notes&&t.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:_.notes})]})})})},_.id))})})]})}),t.jsx(ks,{value:"reports",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Reports & Analytics"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Generate reports and view staff analytics"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{onClick:()=>E(!0),className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Rs,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Generate Report"}),t.jsx("span",{className:"sm:hidden",children:"Generate"})]}),t.jsxs(se,{variant:"outline",onClick:()=>l.refetchQueries({queryKey:["staff-statistics"]}),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),t.jsx("span",{className:"sm:hidden",children:"Refresh"})]})]})]})}),t.jsx(ke,{children:lt?t.jsx(Te,{className:"",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading analytics..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your staff statistics"})]})})}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:Fe&&t.jsxs(t.Fragment,{children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Wi,{className:"h-4 w-4 text-blue-600"})}),"Total Staff"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Fe.overview.totalStaff}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[Fe.overview.activeStaff," active"]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-green-600"})}),"Performance"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:Fe.overview.averagePerformance.toFixed(1)}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Average rating"})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(_n,{className:"h-4 w-4 text-orange-600"})}),"Total Payroll"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:le(Fe.overview.totalPayrollCents)}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This month"})]})]})]})})})]})})]})]})]}),t.jsx(bs,{open:c,onOpenChange:u,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Mf,{className:"h-5 w-5 text-blue-600"})}),"Add Staff Member"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Add a new staff member to your team"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"userId",className:"text-sm font-medium text-gray-700",children:"User"}),t.jsxs(st,{value:L.userId,onValueChange:_=>B(xe=>({...xe,userId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select user"})}),t.jsx(rt,{children:ze==null?void 0:ze.users.filter(_=>_.role==="MANAGER").map(_=>t.jsxs(he,{value:_.id.toString(),children:[_.displayName," (",_.email,")"]},_.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"propertyId",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:L.propertyId,onValueChange:_=>B(xe=>({...xe,propertyId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"none",children:"No property assigned"}),Ue==null?void 0:Ue.properties.map(_=>t.jsx(he,{value:_.id.toString(),children:_.name},_.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"department",className:"text-sm font-medium text-gray-700",children:"Department"}),t.jsxs(st,{value:L.department,onValueChange:_=>B(xe=>({...xe,department:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select department"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"frontdesk",children:"Front Desk"}),t.jsx(he,{value:"housekeeping",children:"Housekeeping"}),t.jsx(he,{value:"maintenance",children:"Maintenance"}),t.jsx(he,{value:"fnb",children:"Food & Beverage"}),t.jsx(he,{value:"admin",children:"Administration"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"hourlyRateCents",className:"text-sm font-medium text-gray-700",children:"Hourly Rate (cents)"}),t.jsx(ye,{id:"hourlyRateCents",type:"number",value:L.hourlyRateCents,onChange:_=>B(xe=>({...xe,hourlyRateCents:_.target.value})),placeholder:"1500 for $15.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"hireDate",className:"text-sm font-medium text-gray-700",children:"Hire Date"}),t.jsx(ye,{id:"hireDate",type:"date",value:L.hireDate,onChange:_=>B(xe=>({...xe,hireDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes"}),t.jsx(Vr,{id:"notes",value:L.notes,onChange:_=>B(xe=>({...xe,notes:_.target.value})),placeholder:"Additional notes about this staff member",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>u(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>vt.mutate(L),disabled:vt.isPending||!L.userId||!L.department,className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:vt.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Mf,{className:"mr-2 h-4 w-4"}),"Add Staff Member"]})})]})})]})}),t.jsx(bs,{open:m,onOpenChange:p,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(qs,{className:"h-5 w-5 text-green-600"})}),"Create Staff Schedule"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Create a new work schedule for a staff member"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"scheduleStaffId",className:"text-sm font-medium text-gray-700",children:"Staff Member"}),t.jsxs(st,{value:G.staffId,onValueChange:_=>M(xe=>({...xe,staffId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select staff member"})}),t.jsx(rt,{children:H==null?void 0:H.staff.map(_=>t.jsx(he,{value:_.id.toString(),children:_.userName},_.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"schedulePropertyId",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:G.propertyId,onValueChange:_=>M(xe=>({...xe,propertyId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:Ue==null?void 0:Ue.properties.map(_=>t.jsx(he,{value:_.id.toString(),children:_.name},_.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"shiftDate",className:"text-sm font-medium text-gray-700",children:"Shift Date"}),t.jsx(ye,{id:"shiftDate",type:"date",value:G.shiftDate,onChange:_=>M(xe=>({...xe,shiftDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"startTime",className:"text-sm font-medium text-gray-700",children:"Start Time"}),t.jsx(ye,{id:"startTime",type:"time",value:G.startTime,onChange:_=>M(xe=>({...xe,startTime:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"endTime",className:"text-sm font-medium text-gray-700",children:"End Time"}),t.jsx(ye,{id:"endTime",type:"time",value:G.endTime,onChange:_=>M(xe=>({...xe,endTime:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"breakMinutes",className:"text-sm font-medium text-gray-700",children:"Break Minutes"}),t.jsx(ye,{id:"breakMinutes",type:"number",value:G.breakMinutes,onChange:_=>M(xe=>({...xe,breakMinutes:_.target.value})),placeholder:"30",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"scheduleNotes",className:"text-sm font-medium text-gray-700",children:"Notes"}),t.jsx(Vr,{id:"scheduleNotes",value:G.notes,onChange:_=>M(xe=>({...xe,notes:_.target.value})),placeholder:"Additional notes about this schedule",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>p(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>St.mutate(G),disabled:St.isPending||!G.staffId||!G.propertyId||!G.shiftDate||!G.startTime||!G.endTime,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:St.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(qs,{className:"mr-2 h-4 w-4"}),"Create Schedule"]})})]})})]})}),t.jsx(bs,{open:f,onOpenChange:g,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(uh,{className:"h-5 w-5 text-orange-600"})}),"Request Leave"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Submit a leave request for approval"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"leaveType",className:"text-sm font-medium text-gray-700",children:"Leave Type"}),t.jsxs(st,{value:V.leaveType,onValueChange:_=>W(xe=>({...xe,leaveType:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select leave type"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"vacation",children:"Vacation"}),t.jsx(he,{value:"sick",children:"Sick Leave"}),t.jsx(he,{value:"personal",children:"Personal Leave"}),t.jsx(he,{value:"emergency",children:"Emergency Leave"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"startDate",className:"text-sm font-medium text-gray-700",children:"Start Date"}),t.jsx(ye,{id:"startDate",type:"date",value:V.startDate,onChange:_=>W(xe=>({...xe,startDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"endDate",className:"text-sm font-medium text-gray-700",children:"End Date"}),t.jsx(ye,{id:"endDate",type:"date",value:V.endDate,onChange:_=>W(xe=>({...xe,endDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"leaveReason",className:"text-sm font-medium text-gray-700",children:"Reason"}),t.jsx(Vr,{id:"leaveReason",value:V.reason,onChange:_=>W(xe=>({...xe,reason:_.target.value})),placeholder:"Reason for leave request",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>g(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>cs.mutate(V),disabled:cs.isPending||!V.startDate||!V.endDate,className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:cs.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(uh,{className:"mr-2 h-4 w-4"}),"Submit Request"]})})]})})]})}),t.jsx(bs,{open:v,onOpenChange:w,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(qi,{className:"h-5 w-5 text-purple-600"})}),"Check In/Out"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Record your attendance for today"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"attendanceStaffId",className:"text-sm font-medium text-gray-700",children:"Staff Member"}),t.jsxs(st,{value:$.staffId,onValueChange:_=>me(xe=>({...xe,staffId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select staff member"})}),t.jsx(rt,{children:H==null?void 0:H.staff.map(_=>t.jsx(he,{value:_.id.toString(),children:_.userName},_.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"checkInTime",className:"text-sm font-medium text-gray-700",children:"Check In Time"}),t.jsx(ye,{id:"checkInTime",type:"datetime-local",value:$.checkInTime,onChange:_=>me(xe=>({...xe,checkInTime:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"checkOutTime",className:"text-sm font-medium text-gray-700",children:"Check Out Time"}),t.jsx(ye,{id:"checkOutTime",type:"datetime-local",value:$.checkOutTime,onChange:_=>me(xe=>({...xe,checkOutTime:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"attendanceNotes",className:"text-sm font-medium text-gray-700",children:"Notes"}),t.jsx(Vr,{id:"attendanceNotes",value:$.notes,onChange:_=>me(xe=>({...xe,notes:_.target.value})),placeholder:"Additional notes about attendance",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>w(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(se,{onClick:()=>Ks.mutate($),disabled:Ks.isPending||!$.staffId||!$.checkInTime,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:Ks.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking In..."]}):t.jsxs(t.Fragment,{children:[t.jsx(qi,{className:"mr-2 h-4 w-4"}),"Check In"]})}),t.jsx(se,{variant:"outline",onClick:()=>bt.mutate($),disabled:bt.isPending||!$.staffId||!$.checkOutTime,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:bt.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking Out..."]}):t.jsxs(t.Fragment,{children:[t.jsx(qi,{className:"mr-2 h-4 w-4"}),"Check Out"]})})]})]})})]})}),t.jsx(bs,{open:N,onOpenChange:j,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(_n,{className:"h-5 w-5 text-green-600"})}),"Add Salary Component"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Add a new salary component for a staff member"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"salaryStaffId",className:"text-sm font-medium text-gray-700",children:"Staff Member"}),t.jsxs(st,{value:ge.staffId,onValueChange:_=>ue(xe=>({...xe,staffId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select staff member"})}),t.jsx(rt,{children:H==null?void 0:H.staff.map(_=>t.jsx(he,{value:_.id.toString(),children:_.userName},_.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"baseSalaryCents",className:"text-sm font-medium text-gray-700",children:"Base Salary (cents)"}),t.jsx(ye,{id:"baseSalaryCents",type:"number",value:ge.baseSalaryCents,onChange:_=>ue(xe=>({...xe,baseSalaryCents:_.target.value})),placeholder:"500000 for $5000.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"overtimeRateCents",className:"text-sm font-medium text-gray-700",children:"Overtime Rate (cents)"}),t.jsx(ye,{id:"overtimeRateCents",type:"number",value:ge.overtimeRateCents,onChange:_=>ue(xe=>({...xe,overtimeRateCents:_.target.value})),placeholder:"2250 for $22.50",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"bonusCents",className:"text-sm font-medium text-gray-700",children:"Bonus (cents)"}),t.jsx(ye,{id:"bonusCents",type:"number",value:ge.bonusCents,onChange:_=>ue(xe=>({...xe,bonusCents:_.target.value})),placeholder:"10000 for $100.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"effectiveDate",className:"text-sm font-medium text-gray-700",children:"Effective Date"}),t.jsx(ye,{id:"effectiveDate",type:"date",value:ge.effectiveDate,onChange:_=>ue(xe=>({...xe,effectiveDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>j(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>rn.mutate(ge),disabled:rn.isPending||!ge.staffId||!ge.baseSalaryCents,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:rn.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(_n,{className:"mr-2 h-4 w-4"}),"Add Salary Component"]})})]})})]})}),t.jsx(bs,{open:S,onOpenChange:E,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(Rs,{className:"h-5 w-5 text-purple-600"})}),"Generate Report"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Generate a report for staff data"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"reportType",className:"text-sm font-medium text-gray-700",children:"Report Type"}),t.jsxs(st,{value:be.reportType,onValueChange:_=>Ee(xe=>({...xe,reportType:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select report type"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"attendance",children:"Attendance Report"}),t.jsx(he,{value:"salary",children:"Salary Report"}),t.jsx(he,{value:"leave",children:"Leave Report"}),t.jsx(he,{value:"schedule",children:"Schedule Report"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"reportStartDate",className:"text-sm font-medium text-gray-700",children:"Start Date"}),t.jsx(ye,{id:"reportStartDate",type:"date",value:be.startDate,onChange:_=>Ee(xe=>({...xe,startDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"reportEndDate",className:"text-sm font-medium text-gray-700",children:"End Date"}),t.jsx(ye,{id:"reportEndDate",type:"date",value:be.endDate,onChange:_=>Ee(xe=>({...xe,endDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"reportFormat",className:"text-sm font-medium text-gray-700",children:"Format"}),t.jsxs(st,{value:be.format,onValueChange:_=>Ee(xe=>({...xe,format:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select format"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"csv",children:"CSV"}),t.jsx(he,{value:"excel",children:"Excel"}),t.jsx(he,{value:"pdf",children:"PDF"})]})]})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>E(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>La.mutate(be),disabled:La.isPending||!be.startDate||!be.endDate,className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:La.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Rs,{className:"mr-2 h-4 w-4"}),"Generate Report"]})})]})})]})}),t.jsx(bs,{open:T,onOpenChange:C,children:t.jsxs(Es,{className:"max-w-4xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(jr,{className:"h-5 w-5 text-blue-600"})}),"Edit Staff Member"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Update staff member information and settings"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editPropertyId",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:Y.propertyId,onValueChange:_=>de(xe=>({...xe,propertyId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"none",children:"No property assigned"}),Ue==null?void 0:Ue.properties.map(_=>t.jsx(he,{value:_.id.toString(),children:_.name},_.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editDepartment",className:"text-sm font-medium text-gray-700",children:"Department"}),t.jsxs(st,{value:Y.department,onValueChange:_=>de(xe=>({...xe,department:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select department"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"frontdesk",children:"Front Desk"}),t.jsx(he,{value:"housekeeping",children:"Housekeeping"}),t.jsx(he,{value:"maintenance",children:"Maintenance"}),t.jsx(he,{value:"fnb",children:"Food & Beverage"}),t.jsx(he,{value:"admin",children:"Administration"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editHireDate",className:"text-sm font-medium text-gray-700",children:"Hire Date"}),t.jsx(ye,{id:"editHireDate",type:"date",value:Y.hireDate,onChange:_=>de(xe=>({...xe,hireDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editStatus",className:"text-sm font-medium text-gray-700",children:"Status"}),t.jsxs(st,{value:Y.status,onValueChange:_=>de(xe=>({...xe,status:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select status"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"active",children:"Active"}),t.jsx(he,{value:"inactive",children:"Inactive"})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Salary Information"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editSalaryType",className:"text-sm font-medium text-gray-700",children:"Salary Type"}),t.jsxs(st,{value:Y.salaryType,onValueChange:_=>de(xe=>({...xe,salaryType:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select salary type"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"hourly",children:"Hourly"}),t.jsx(he,{value:"monthly",children:"Monthly"}),t.jsx(he,{value:"daily",children:"Daily"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editHourlyRateCents",className:"text-sm font-medium text-gray-700",children:"Hourly Rate (cents)"}),t.jsx(ye,{id:"editHourlyRateCents",type:"number",value:Y.hourlyRateCents,onChange:_=>de(xe=>({...xe,hourlyRateCents:_.target.value})),placeholder:"1500 for $15.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editBaseSalaryCents",className:"text-sm font-medium text-gray-700",children:"Base Salary (cents)"}),t.jsx(ye,{id:"editBaseSalaryCents",type:"number",value:Y.baseSalaryCents,onChange:_=>de(xe=>({...xe,baseSalaryCents:_.target.value})),placeholder:"500000 for $5000.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editOvertimeRateCents",className:"text-sm font-medium text-gray-700",children:"Overtime Rate (cents)"}),t.jsx(ye,{id:"editOvertimeRateCents",type:"number",value:Y.overtimeRateCents,onChange:_=>de(xe=>({...xe,overtimeRateCents:_.target.value})),placeholder:"2250 for $22.50",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Performance & Settings"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editPerformanceRating",className:"text-sm font-medium text-gray-700",children:"Performance Rating (0-5)"}),t.jsx(ye,{id:"editPerformanceRating",type:"number",min:"0",max:"5",step:"0.1",value:Y.performanceRating,onChange:_=>de(xe=>({...xe,performanceRating:_.target.value})),placeholder:"4.5",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editMaxOvertimeHours",className:"text-sm font-medium text-gray-700",children:"Max Overtime Hours"}),t.jsx(ye,{id:"editMaxOvertimeHours",type:"number",min:"0",step:"0.5",value:Y.maxOvertimeHours,onChange:_=>de(xe=>({...xe,maxOvertimeHours:_.target.value})),placeholder:"10",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editLeaveBalance",className:"text-sm font-medium text-gray-700",children:"Leave Balance (days)"}),t.jsx(ye,{id:"editLeaveBalance",type:"number",min:"0",value:Y.leaveBalance,onChange:_=>de(xe=>({...xe,leaveBalance:_.target.value})),placeholder:"20",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsx("div",{className:"space-y-2",children:t.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[t.jsx("input",{type:"checkbox",id:"editAttendanceTracking",checked:Y.attendanceTrackingEnabled,onChange:_=>de(xe=>({...xe,attendanceTrackingEnabled:_.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),t.jsx(ee,{htmlFor:"editAttendanceTracking",className:"text-sm font-medium text-gray-700",children:"Enable Attendance Tracking"})]})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editNotes",className:"text-sm font-medium text-gray-700",children:"Notes"}),t.jsx(Vr,{id:"editNotes",value:Y.notes,onChange:_=>de(xe=>({...xe,notes:_.target.value})),placeholder:"Additional notes about this staff member",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",rows:3})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>C(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>on.mutate(Y),disabled:on.isPending||!Y.department,className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:on.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jr,{className:"mr-2 h-4 w-4"}),"Update Staff Member"]})})]})})]})})]})}var k0={exports:{}},E0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function uJ(){if(dk)return E0;dk=1;var e=ag();function s(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:s,a=e.useState,r=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,v){var w=v(),N=a({inst:{value:w,getSnapshot:v}}),j=N[0].inst,S=N[1];return l(function(){j.value=w,j.getSnapshot=v,m(j)&&S({inst:j})},[g,w,v]),r(function(){return m(j)&&S({inst:j}),g(function(){m(j)&&S({inst:j})})},[g]),c(w),w}function m(g){var v=g.getSnapshot;g=g.value;try{var w=v();return!n(g,w)}catch{return!0}}function p(g,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return E0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,E0}var uk;function hJ(){return uk||(uk=1,k0.exports=uJ()),k0.exports}var mJ=hJ();function pJ(){return mJ.useSyncExternalStore(fJ,()=>!0,()=>!1)}function fJ(){return()=>{}}var mj="Avatar",[gJ,yX]=xi(mj),[xJ,gO]=gJ(mj),xO=x.forwardRef((e,s)=>{const{__scopeAvatar:n,...a}=e,[r,l]=x.useState("idle");return t.jsx(xJ,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:l,children:t.jsx(Ot.span,{...a,ref:s})})});xO.displayName=mj;var yO="AvatarImage",yJ=x.forwardRef((e,s)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:r=()=>{},...l}=e,c=gO(yO,n),u=vJ(a,l),m=tr(p=>{r(p),c.onImageLoadingStatusChange(p)});return Oa(()=>{u!=="idle"&&m(u)},[u,m]),u==="loaded"?t.jsx(Ot.img,{...l,ref:s,src:a}):null});yJ.displayName=yO;var vO="AvatarFallback",bO=x.forwardRef((e,s)=>{const{__scopeAvatar:n,delayMs:a,...r}=e,l=gO(vO,n),[c,u]=x.useState(a===void 0);return x.useEffect(()=>{if(a!==void 0){const m=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(m)}},[a]),c&&l.imageLoadingStatus!=="loaded"?t.jsx(Ot.span,{...r,ref:s}):null});bO.displayName=vO;function hk(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function vJ(e,{referrerPolicy:s,crossOrigin:n}){const a=pJ(),r=x.useRef(null),l=a?(r.current||(r.current=new window.Image),r.current):null,[c,u]=x.useState(()=>hk(l,e));return Oa(()=>{u(hk(l,e))},[l,e]),Oa(()=>{const m=g=>()=>{u(g)};if(!l)return;const p=m("loaded"),f=m("error");return l.addEventListener("load",p),l.addEventListener("error",f),s&&(l.referrerPolicy=s),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",p),l.removeEventListener("error",f)}},[l,n,s]),c}var bJ=xO,wJ=bO;function jJ({className:e,...s}){return t.jsx(bJ,{"data-slot":"avatar",className:Xe("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...s})}function NJ({className:e,...s}){return t.jsx(wJ,{"data-slot":"avatar-fallback",className:Xe("bg-muted flex size-full items-center justify-center rounded-full",e),...s})}function SJ(){const{user:e,getAuthenticatedBackend:s,refreshUser:n}=$s(),{setPageTitle:a}=kr(),{toast:r}=da(),l=za();x.useEffect(()=>{a("User Management","Manage user accounts and permissions")},[a]);const[c,u]=x.useState(""),[m,p]=x.useState("all"),[f,g]=x.useState(!1),[v,w]=x.useState(!1),[N,j]=x.useState(!1),[S,E]=x.useState(null),[T,C]=x.useState(!1),[P,D]=x.useState(null),[A,R]=x.useState(!1),[F,z]=x.useState(null),[J,K]=x.useState({email:"",password:"",displayName:"",role:"MANAGER",propertyIds:[]}),[X,ce]=x.useState(null),[q,ie]=x.useState(""),[L,B]=x.useState(""),[Y,de]=x.useState(""),[G,M]=x.useState([]),{data:V,isLoading:W,refetch:$}=Xt({queryKey:["users"],queryFn:async()=>s().users.list({}),enabled:(e==null?void 0:e.role)==="ADMIN",refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnMount:!0,refetchOnWindowFocus:!1,retry:(ae,Ye)=>(console.error("Users query failed:",Ye),ae<2)}),{data:me}=Xt({queryKey:["properties"],queryFn:async()=>s().properties.list({}),enabled:(e==null?void 0:e.role)==="ADMIN",refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),[ge,ue]=x.useState(null),be=qe.useRef(null);qe.useRef(new Set),x.useEffect(()=>{try{uu(null)}catch{}if(!Os("USERS_REALTIME_V1",!0))return;const Ye=vt=>{var St;ue(!!((St=vt==null?void 0:vt.detail)!=null&&St.isLive))};return window.addEventListener("users-stream-health",Ye),()=>{window.removeEventListener("users-stream-health",Ye),be.current&&clearTimeout(be.current)}},[l]),wr("users",ae=>{let Ye=!1,vt=!1;for(const St of ae){const cs=St==null?void 0:St.eventType,ys=St==null?void 0:St.metadata;if(cs){if(cs==="user_created"||cs==="user_deleted"){Ye=!0;continue}if(cs==="user_updated"){Ye=!0;continue}if(cs==="user_properties_assigned"){Ye=!0,vt=!0;continue}}}Ye&&l.invalidateQueries({queryKey:["users"]}),vt&&l.invalidateQueries({queryKey:["properties"]})},Os("USERS_REALTIME_V1",!0));const Ee=vs({mutationFn:async ae=>(console.log("Creating user with data:",ae),s().users.create(ae)),onMutate:async ae=>{console.log("User creation mutation starting..."),await l.cancelQueries({queryKey:["users"]});const Ye=l.getQueryData(["users"]);return l.setQueryData(["users"],vt=>vt?{users:[{id:Date.now(),email:ae.email,role:ae.role,displayName:ae.displayName,createdByUserId:e!=null&&e.userID?parseInt(e.userID):0,createdByName:e==null?void 0:e.displayName,createdAt:new Date,lastLoginAt:void 0,lastActivityAt:new Date,loginCount:0,lastLoginIp:void 0,lastLoginUserAgent:void 0,lastLoginLocation:null,timezone:"UTC",locale:"en-US"},...vt.users]}:{users:[]}),{previousUsers:Ye}},onError:(ae,Ye,vt)=>{console.error("User creation failed:",ae),l.setQueryData(["users"],vt==null?void 0:vt.previousUsers);let St="Please try again.";ae.message&&(ae.message.includes("already exists")?St="A user with this email already exists in your organization. Please check the user list or use a different email.":ae.message.includes("email")?St="This email address is already in use.":ae.message.includes("password")?St="Password must be at least 8 characters long.":St=ae.message),r({variant:"destructive",title:"Failed to create manager",description:St})},onSuccess:ae=>{console.log("User created successfully:",ae),l.setQueryData(["users"],Ye=>{if(!Ye)return{users:[ae]};const vt=Ye.users.filter(St=>!(typeof St.id=="number"&&St.id>=1e12));return{users:[ae,...vt]}}),g(!1),K({email:"",password:"",displayName:"",role:"MANAGER",propertyIds:[]}),r({title:"Manager created successfully",description:"The new manager account has been created."})},onSettled:()=>{console.log("User creation mutation settled, invalidating queries..."),$(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),H=vs({mutationFn:async ae=>(console.log("Updating user with data:",ae),s().users.update(ae.id,{displayName:ae.displayName,email:ae.email,password:ae.password})),onMutate:async ae=>{console.log("User update mutation starting..."),await l.cancelQueries({queryKey:["users"]});const Ye=l.getQueryData(["users"]);return l.setQueryData(["users"],vt=>vt&&{users:vt.users.map(St=>St.id===ae.id?{...St,displayName:ae.displayName??St.displayName,email:ae.email??St.email}:St)}),{previousUsers:Ye}},onError:(ae,Ye,vt)=>{console.error("User update failed:",ae),l.setQueryData(["users"],vt==null?void 0:vt.previousUsers);let St="Please try again.";ae.message&&ae.message.includes("already exists")?St="This email address is already in use by another user.":ae.message&&(St=ae.message),r({variant:"destructive",title:"Failed to update user",description:St})},onSuccess:(ae,Ye)=>{console.log(" User updated successfully"),console.log(" Checking if current user updated their own profile..."),console.log("Current user ID:",e==null?void 0:e.userID,"Updated user ID:",Ye.id),e&&parseInt(e.userID)===Ye.id?(console.log(" Current user updated their own profile, refreshing AuthContext..."),n().catch(vt=>{console.warn(" Failed to refresh current user data:",vt)})):console.log(" Different user updated, no need to refresh AuthContext"),r({title:"User updated",description:"Manager details have been updated."})},onSettled:()=>{console.log("User update mutation settled, invalidating queries..."),$(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),fe=vs({mutationFn:async ae=>(console.log("Assigning properties with data:",ae),s().users.assignProperties({id:ae.id,propertyIds:ae.propertyIds})),onError:ae=>{console.error("Property assignment failed:",ae),r({variant:"destructive",title:"Failed to update assignments",description:ae.message||"Please try again."})},onSuccess:()=>{console.log("Properties assigned successfully"),r({title:"Assignments updated",description:"Property assignments have been saved."})},onSettled:()=>{console.log("Property assignment mutation settled, invalidating queries..."),$(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["tasks"]}),l.refetchQueries({queryKey:["tasks"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),je=vs({mutationFn:async ae=>{if(console.log("Promoting user to admin:",ae),typeof ae!="number"||isNaN(ae))throw new Error(`Invalid user ID: ${ae} (type: ${typeof ae})`);return s().users.update(ae,{role:"ADMIN"})},onError:ae=>{console.error("Role promotion failed:",ae),r({variant:"destructive",title:"Failed to promote user",description:ae.message||"Please try again."})},onSuccess:ae=>{console.log("User promoted to admin successfully:",ae),r({title:"User promoted",description:"User has been promoted to Admin role."})},onSettled:()=>{console.log("Role promotion mutation settled, invalidating queries..."),$(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),Oe=vs({mutationFn:async ae=>{if(console.log("Demoting user to manager:",ae),typeof ae!="number"||isNaN(ae))throw new Error(`Invalid user ID: ${ae} (type: ${typeof ae})`);return s().users.update(ae,{role:"MANAGER"})},onError:ae=>{console.error("Role demotion failed:",ae),r({variant:"destructive",title:"Failed to demote user",description:ae.message||"Please try again."})},onSuccess:ae=>{console.log("User demoted to manager successfully:",ae),r({title:"User demoted",description:"User has been demoted to Manager role."})},onSettled:()=>{console.log("Role demotion mutation settled, invalidating queries..."),$(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),_e=vs({mutationFn:async ae=>{if(console.log("Deleting user:",ae),typeof ae!="number"||isNaN(ae))throw new Error(`Invalid user ID: ${ae} (type: ${typeof ae})`);const Ye=localStorage.getItem("accessToken");if(!Ye)throw new Error("No access token found");const vt=await fetch(`http://localhost:4000/users/${ae}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ye}`,"Content-Type":"application/json"}});if(!vt.ok){const St=await vt.json().catch(()=>({}));throw new Error(St.message||`Failed to delete user: ${vt.statusText}`)}return await vt.json()},onError:ae=>{console.error("User deletion failed:",ae);let Ye="Please try again.";ae.message&&ae.message.includes("Cannot delete your own account")?Ye="You cannot delete your own account.":ae.message&&(Ye=ae.message),r({variant:"destructive",title:"Failed to delete user",description:Ye})},onSuccess:ae=>{console.log("User deleted successfully:",ae),r({title:"User deleted",description:ae.message||"User has been successfully deleted."})},onSettled:()=>{console.log("User deletion mutation settled, invalidating queries..."),$(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),Ie=(V==null?void 0:V.users.filter(ae=>{const Ye=ae.displayName.toLowerCase().includes(c.toLowerCase())||ae.email.toLowerCase().includes(c.toLowerCase()),vt=m==="all"||ae.role===m;return Ye&&vt}))||[],ze=ae=>{switch(ae){case"ADMIN":return"bg-purple-100 text-purple-800";case"MANAGER":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Ue=ae=>{switch(ae){case"ADMIN":return"Admin";case"MANAGER":return"Manager";default:return ae.charAt(0)+ae.slice(1).toLowerCase()}},Ge=ae=>ae.split(" ").map(Ye=>Ye[0]).join("").toUpperCase(),it=()=>{if(!J.email||!J.password||!J.displayName){r({variant:"destructive",title:"Missing fields",description:"Please fill in all required fields."});return}if(V==null?void 0:V.users.some(Ye=>Ye.email.toLowerCase()===J.email.toLowerCase())){r({variant:"destructive",title:"Email already exists",description:"A user with this email already exists in your organization."});return}Ee.mutate(J)},Tt=async ae=>{ce(ae),ie(ae.displayName),B(ae.email),de(""),w(!0);try{const vt=await s().users.get(ae.id);M(vt.propertyIds)}catch(Ye){console.error("Failed to load user details:",Ye),M([])}},yt=ae=>{M(Ye=>Ye.includes(ae)?Ye.filter(vt=>vt!==ae):[...Ye,ae])},xs=()=>{$(),r({title:"Refreshed",description:"User list has been refreshed."})},va=ae=>{if(console.log("Handling promotion for user:",ae),console.log("User ID type:",typeof ae.id,"Value:",ae.id),!ae||typeof ae.id!="number"||isNaN(ae.id)){console.error("Invalid user object for promotion:",ae),r({variant:"destructive",title:"Invalid User Data",description:"Cannot promote user with invalid data. Please refresh and try again."});return}E(ae),j(!0)},Fe=()=>{if(S){if(console.log("Confirming promotion for user:",S),console.log("User ID type:",typeof S.id,"Value:",S.id),typeof S.id!="number"||isNaN(S.id)){console.error("Invalid user ID for promotion:",S.id),r({variant:"destructive",title:"Invalid User ID",description:"Cannot promote user with invalid ID. Please refresh and try again."});return}S.role==="MANAGER"&&je.mutate(S.id),j(!1),E(null)}},lt=ae=>{if(console.log("Handling demotion for user:",ae),console.log("User ID type:",typeof ae.id,"Value:",ae.id),!ae||typeof ae.id!="number"||isNaN(ae.id)){console.error("Invalid user object for demotion:",ae),r({variant:"destructive",title:"Invalid User Data",description:"Cannot demote user with invalid data. Please refresh and try again."});return}D(ae),C(!0)},Zt=()=>{if(P){if(console.log("Confirming demotion for user:",P),console.log("User ID type:",typeof P.id,"Value:",P.id),typeof P.id!="number"||isNaN(P.id)){console.error("Invalid user ID for demotion:",P.id),r({variant:"destructive",title:"Invalid User ID",description:"Cannot demote user with invalid ID. Please refresh and try again."});return}P.role==="ADMIN"&&Oe.mutate(P.id),C(!1),D(null)}},as=ae=>{if(console.log("Handling deletion for user:",ae),console.log("User ID type:",typeof ae.id,"Value:",ae.id),!ae||typeof ae.id!="number"||isNaN(ae.id)){console.error("Invalid user object for deletion:",ae),r({variant:"destructive",title:"Invalid User Data",description:"Cannot delete user with invalid data. Please refresh and try again."});return}z(ae),R(!0)},es=()=>{if(F){if(console.log("Confirming deletion for user:",F),console.log("User ID type:",typeof F.id,"Value:",F.id),typeof F.id!="number"||isNaN(F.id)){console.error("Invalid user ID for deletion:",F.id),r({variant:"destructive",title:"Invalid User ID",description:"Cannot delete user with invalid ID. Please refresh and try again."});return}_e.mutate(F.id),R(!1),z(null)}};return(e==null?void 0:e.role)!=="ADMIN"?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(nn,{className:"h-6 w-6 text-red-600"})}),t.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Access Restricted"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Only Administrators can manage users."})]})})})})}):W?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading users..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your user data"})]})})})})}):t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsxs("div",{className:"px-6 pb-6 sm:py-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200 mb-6",children:[t.jsx(Qe,{className:"pb-4 hidden sm:block",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Wi,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs(Je,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["User Management",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage team members and their roles"})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs(se,{variant:"outline",size:"sm",onClick:()=>{console.log(" Manual refresh triggered..."),n().catch(ae=>{console.warn(" Manual refresh failed:",ae)})},className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Refresh User Data"]})})]})}),t.jsxs(ke,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"search-users",className:"text-sm font-medium text-gray-700",children:"Search Users"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(ye,{id:"search-users",placeholder:"Search by name or email...",value:c,onChange:ae=>u(ae.target.value),className:"pl-10 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"role-filter",className:"text-sm font-medium text-gray-700",children:"Filter by Role"}),t.jsxs(st,{value:m,onValueChange:p,children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Filter by role"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Roles"}),t.jsx(he,{value:"ADMIN",children:"Admin"}),t.jsx(he,{value:"MANAGER",children:"Manager"})]})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(se,{variant:"outline",onClick:xs,className:"transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),t.jsx("span",{className:"sm:hidden",children:"Refresh"})]}),t.jsxs(bs,{open:f,onOpenChange:g,children:[t.jsx(Ff,{asChild:!0,children:t.jsxs(se,{className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Create User"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})}),t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Mf,{className:"h-5 w-5 text-blue-600"})}),"Create ",J.role==="ADMIN"?"Admin":"Manager"," Account"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Create a new ",J.role==="ADMIN"?"admin":"manager"," account",J.role==="MANAGER"?" and assign properties":"","."]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"displayName",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),t.jsx(ye,{id:"displayName",value:J.displayName,onChange:ae=>K(Ye=>({...Ye,displayName:ae.target.value})),placeholder:"Enter full name",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email *"}),t.jsx(ye,{id:"email",type:"email",value:J.email,onChange:ae=>K(Ye=>({...Ye,email:ae.target.value})),placeholder:"Enter email address",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),(V==null?void 0:V.users.some(ae=>ae.email.toLowerCase()===J.email.toLowerCase()))&&t.jsx("p",{className:"text-sm text-red-600",children:"This email is already in use"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password *"}),t.jsx(ye,{id:"password",type:"password",value:J.password,onChange:ae=>K(Ye=>({...Ye,password:ae.target.value})),placeholder:"Enter password (min 8 characters)",minLength:8,className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"role",className:"text-sm font-medium text-gray-700",children:"Role *"}),t.jsxs(st,{value:J.role,onValueChange:ae=>K(Ye=>({...Ye,role:ae})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select role"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"MANAGER",children:"Manager"}),t.jsx(he,{value:"ADMIN",children:"Admin"})]})]}),t.jsx("p",{className:"text-xs text-gray-500",children:J.role==="ADMIN"?"Admins have full access to all features and can manage managers.":"Managers can manage properties and tasks assigned to them."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Assign Properties"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-48 overflow-auto border rounded p-2",children:me==null?void 0:me.properties.map(ae=>t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:J.propertyIds.includes(ae.id),onChange:()=>{K(Ye=>({...Ye,propertyIds:Ye.propertyIds.includes(ae.id)?Ye.propertyIds.filter(vt=>vt!==ae.id):[...Ye.propertyIds,ae.id]}))}}),t.jsx("span",{children:ae.name})]},ae.id))})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>g(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:it,disabled:Ee.isPending||!J.email||!J.password||!J.displayName||(V==null?void 0:V.users.some(ae=>ae.email.toLowerCase()===J.email.toLowerCase())),className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:Ee.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Mf,{className:"mr-2 h-4 w-4"}),"Create ",J.role==="ADMIN"?"Admin":"Manager"]})})]})})]})]})]})]})]}),Ie.length===0?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:t.jsxs(ke,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Wi,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:c||m!=="all"?"Try adjusting your search or filters":"Get started by creating your first user"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(se,{variant:"outline",onClick:xs,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"}),"Refresh List"]}),t.jsxs(se,{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Create User"]})]})]})}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:Ie.map(ae=>t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx(jJ,{className:"h-12 w-12",children:t.jsx(NJ,{className:"bg-blue-100 text-blue-600",children:Ge(ae.displayName)})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900 truncate",children:ae.displayName}),t.jsxs(Dt,{className:"flex items-center mt-1",children:[t.jsx($d,{className:"h-3 w-3 mr-1 flex-shrink-0"}),t.jsx("span",{className:"truncate text-sm text-gray-600",children:ae.email})]})]}),t.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[t.jsx(se,{variant:"outline",size:"sm",onClick:()=>Tt(ae),className:"h-8 w-8 p-0 bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 rounded-lg shadow-sm",title:"Edit user",children:t.jsx(mf,{className:"h-4 w-4"})}),ae.id!==parseInt((e==null?void 0:e.userID)||"0")&&t.jsx(se,{variant:"outline",size:"sm",onClick:()=>as(ae),disabled:_e.isPending,className:"h-8 w-8 p-0 bg-white border-gray-300 text-red-600 hover:bg-red-50 hover:border-red-400 transition-all duration-200 rounded-lg shadow-sm",title:"Delete user",children:t.jsx(jn,{className:"h-4 w-4"})})]})]})})]})}),t.jsxs(ke,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Role"}),t.jsx(Lt,{className:`${ze(ae.role)} flex-shrink-0`,children:Ue(ae.role)})]}),ae.createdByName&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Created by"}),t.jsx("span",{className:"text-gray-600",children:ae.createdByName})]}),ae.lastLoginAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Last login"}),t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),t.jsx("span",{children:new Date(ae.lastLoginAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Joined"}),t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),t.jsx("span",{children:new Date(ae.createdAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Login count"}),t.jsx("span",{className:"text-gray-600",children:ae.loginCount||0})]}),ae.lastActivityAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Last activity"}),t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),t.jsx("span",{children:cG(ae.lastActivityAt)})]})]}),ae.lastLoginLocation&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Last location"}),t.jsxs("div",{className:"text-gray-600 text-xs",children:[ae.lastLoginLocation.city&&t.jsx("div",{children:ae.lastLoginLocation.city}),ae.lastLoginLocation.region&&t.jsx("div",{children:ae.lastLoginLocation.region}),ae.lastLoginLocation.country&&t.jsx("div",{children:ae.lastLoginLocation.country})]})]}),ae.timezone&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Timezone"}),t.jsx("span",{className:"text-gray-600",children:ae.timezone})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[(e==null?void 0:e.role)==="ADMIN"&&ae.role==="MANAGER"&&ae.id!==parseInt((e==null?void 0:e.userID)||"0")&&t.jsxs(se,{variant:"outline",size:"sm",onClick:()=>va(ae),disabled:je.isPending,className:"bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100 transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[t.jsx(nn,{className:"mr-2 h-3 w-3"}),t.jsx("span",{className:"hidden sm:inline",children:"Promote to Admin"}),t.jsx("span",{className:"sm:hidden",children:"Promote"})]}),ae.role==="MANAGER"&&ae.id===parseInt((e==null?void 0:e.userID)||"0")&&t.jsx("div",{className:"text-xs text-gray-500 italic px-2 py-1 bg-gray-100 rounded",children:"Current user (cannot promote)"}),(e==null?void 0:e.role)==="ADMIN"&&ae.role==="ADMIN"&&ae.id!==parseInt((e==null?void 0:e.userID)||"0")&&t.jsxs(se,{variant:"outline",size:"sm",onClick:()=>lt(ae),disabled:Oe.isPending,className:"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100 transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[t.jsx(Ya,{className:"mr-2 h-3 w-3"}),t.jsx("span",{className:"hidden sm:inline",children:"Demote to Manager"}),t.jsx("span",{className:"sm:hidden",children:"Demote"})]}),ae.role==="ADMIN"&&ae.id===parseInt((e==null?void 0:e.userID)||"0")&&t.jsx("div",{className:"text-xs text-gray-500 italic px-2 py-1 bg-gray-100 rounded",children:"Current user (cannot demote)"})]})]})]},ae.id))}),t.jsx(bs,{open:v,onOpenChange:w,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(mf,{className:"h-5 w-5 text-orange-600"})}),"Edit ",(X==null?void 0:X.role)==="ADMIN"?"Admin":"Manager"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Update ",(X==null?void 0:X.role)==="ADMIN"?"admin":"manager"," details",(X==null?void 0:X.role)==="MANAGER"?" and property assignments":""]})]}),X&&t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[X.id===parseInt((e==null?void 0:e.userID)||"0")&&t.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ya,{className:"h-5 w-5 text-blue-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium",children:" Note: This is your own account"}),t.jsx("p",{children:"You can update your personal details, but some changes may require another admin."})]})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-displayName",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),t.jsx(ye,{id:"edit-displayName",value:q,onChange:ae=>ie(ae.target.value),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-email",className:"text-sm font-medium text-gray-700",children:"Email *"}),t.jsx(ye,{id:"edit-email",type:"email",value:L,onChange:ae=>B(ae.target.value),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),(V==null?void 0:V.users.some(ae=>ae.id!==X.id&&ae.email.toLowerCase()===L.toLowerCase()))&&t.jsx("p",{className:"text-sm text-red-600",children:"This email is already in use by another user"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-password",className:"text-sm font-medium text-gray-700",children:"New Password (optional)"}),t.jsx(ye,{id:"edit-password",type:"password",value:Y,onChange:ae=>de(ae.target.value),placeholder:"Leave blank to keep current password",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Assigned Properties"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-48 overflow-auto border rounded p-2",children:me==null?void 0:me.properties.map(ae=>t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:G.includes(ae.id),onChange:()=>yt(ae.id)}),t.jsx("span",{children:ae.name})]},ae.id))})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>w(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:async()=>{if(!X)return;if(V==null?void 0:V.users.some(Ye=>Ye.id!==X.id&&Ye.email.toLowerCase()===L.toLowerCase())){r({variant:"destructive",title:"Email conflict",description:"This email is already in use by another user."});return}try{await H.mutateAsync({id:X.id,displayName:q,email:L,password:Y||void 0}),await fe.mutateAsync({id:X.id,propertyIds:G}),w(!1),ce(null)}catch{}},disabled:H.isPending||fe.isPending||!q||!L||(V==null?void 0:V.users.some(ae=>ae.id!==(X==null?void 0:X.id)&&ae.email.toLowerCase()===L.toLowerCase())),className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:H.isPending||fe.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(mf,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})})]})}),t.jsx(bs,{open:N,onOpenChange:j,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(nn,{className:"h-5 w-5 text-purple-600"})}),"Promote User"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Are you sure you want to promote ",t.jsx("strong",{children:S==null?void 0:S.displayName}),"?"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-4",children:[S&&parseInt((e==null?void 0:e.userID)||"0")===S.id&&t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(is,{className:"h-5 w-5 text-red-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("p",{className:"font-medium",children:" Warning: This is your own account"}),t.jsx("p",{children:"You cannot promote yourself. Ask another admin to do this for you."})]})]})}),t.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(nn,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-yellow-800",children:[t.jsx("p",{className:"font-medium mb-1",children:((S==null?void 0:S.role)==="MANAGER","Admin privileges include:")}),t.jsx("ul",{className:"list-disc list-inside space-y-1",children:(S==null?void 0:S.role)==="MANAGER"?t.jsxs(t.Fragment,{children:[t.jsx("li",{children:"Full access to all system features"}),t.jsx("li",{children:"Ability to create and manage managers"}),t.jsx("li",{children:"Access to organization settings"}),t.jsx("li",{children:"View all properties and financial data"})]}):t.jsxs(t.Fragment,{children:[t.jsx("li",{children:"Full access to all system features"}),t.jsx("li",{children:"Ability to create and manage managers"}),t.jsx("li",{children:"Complete control over organization settings"}),t.jsx("li",{children:"View and manage all properties and financial data"}),t.jsx("li",{children:"Highest level administrative privileges"})]})})]})]})})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>j(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:Fe,disabled:je.isPending,className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:je.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Promoting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(nn,{className:"mr-2 h-4 w-4"}),"Promote User"]})})]})})]})}),t.jsx(bs,{open:T,onOpenChange:C,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(Ya,{className:"h-5 w-5 text-orange-600"})}),"Demote User"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Are you sure you want to demote ",t.jsx("strong",{children:P==null?void 0:P.displayName}),"?"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-4",children:[P&&parseInt((e==null?void 0:e.userID)||"0")===P.id&&t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(is,{className:"h-5 w-5 text-red-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("p",{className:"font-medium",children:" Warning: This is your own account"}),t.jsx("p",{children:"You cannot demote yourself. Ask another admin to do this for you."})]})]})}),t.jsx("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ya,{className:"h-5 w-5 text-orange-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-orange-800",children:[t.jsx("p",{className:"font-medium mb-1",children:(P==null?void 0:P.role)==="ADMIN"?"Admin privileges include:":"Manager privileges include:"}),t.jsx("ul",{className:"list-disc list-inside space-y-1",children:(P==null?void 0:P.role)==="ADMIN"?t.jsxs(t.Fragment,{children:[t.jsx("li",{children:"Full access to all system features"}),t.jsx("li",{children:"Ability to create and manage managers"}),t.jsx("li",{children:"Access to organization settings"}),t.jsx("li",{children:"View all properties and financial data"})]}):t.jsxs(t.Fragment,{children:[t.jsx("li",{children:"Manage assigned properties and tasks"}),t.jsx("li",{children:"View financial data for assigned properties"}),t.jsx("li",{children:"Manage staff and bookings"}),t.jsx("li",{children:"Cannot access user management or system settings"})]})})]})]})})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>C(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:Zt,disabled:Oe.isPending,className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:Oe.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Demoting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Demote User"]})})]})})]})}),t.jsx(bs,{open:A,onOpenChange:R,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(jn,{className:"h-5 w-5 text-red-600"})}),"Delete User"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Are you sure you want to delete ",t.jsx("strong",{children:F==null?void 0:F.displayName}),"? This action cannot be undone."]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-4",children:[F&&parseInt((e==null?void 0:e.userID)||"0")===F.id&&t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(is,{className:"h-5 w-5 text-red-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("p",{className:"font-medium",children:" Warning: This is your own account"}),t.jsx("p",{children:"You cannot delete your own account. Ask another admin to do this for you."})]})]})}),t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(jn,{className:"h-5 w-5 text-red-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("p",{className:"font-medium mb-1",children:" This will permanently delete:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsx("li",{children:"User account and all login sessions"}),t.jsx("li",{children:"All tasks created by this user"}),t.jsx("li",{children:"All expenses and revenues created by this user"}),t.jsx("li",{children:"All staff records associated with this user"}),t.jsx("li",{children:"All property assignments for this user"}),t.jsx("li",{children:"All related data and history"})]}),t.jsx("p",{className:"font-medium mt-2 text-red-900",children:"This action cannot be undone!"})]})]})})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>R(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:es,disabled:_e.isPending,className:"bg-red-600 hover:bg-red-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:_e.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jn,{className:"mr-2 h-4 w-4"}),"Delete User"]})})]})})]})})]})})}function CJ(){var N,j,S,E,T,C,P,D,A,R,F,z,J,K,X,ce,q,ie,L,B,Y,de;const{getAuthenticatedBackend:e}=$s(),{theme:s}=_a(),{setPageTitle:n}=kr(),[a,r]=x.useState("30"),l=za();x.useEffect(()=>{n("Analytics Dashboard","View detailed analytics and performance metrics")},[n]);const{data:c,isLoading:u,error:m}=Xt({queryKey:["analytics","overview",a],queryFn:async()=>{const G=e(),M=new Date,V=new Date;return V.setDate(V.getDate()-parseInt(a)),G.analytics.overview({startDate:V.toISOString().split("T")[0],endDate:M.toISOString().split("T")[0]})},retry:(G,M)=>G<2?(console.error("Analytics query failed:",M),!0):!1,refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),p=u,f=m,g=G=>new Intl.NumberFormat("en-US",{style:"currency",currency:s.currency||"USD"}).format(G),v=G=>`${G.toFixed(1)}%`;x.useEffect(()=>{try{window.__analyticsSelectedPropertyId="all"}catch{}if(!Os("ANALYTICS_REALTIME_V1",!0))return;let M=null;const V=()=>{if(l.invalidateQueries({queryKey:["analytics"]}),!so.isProduction()&&Math.random()<.02)try{fetch("/telemetry/client",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"analytics_realtime_invalidation",counts:{scopes:1},ts:new Date().toISOString()}]})}).catch(()=>{})}catch{}},W=me=>{var ue;const ge=((ue=me==null?void 0:me.detail)==null?void 0:ue.events)||[];!Array.isArray(ge)||ge.length===0||(M&&clearTimeout(M),M=setTimeout(V,Math.floor(400+Math.random()*400)))},$=me=>{};return window.addEventListener("analytics-stream-events",W),window.addEventListener("analytics-stream-health",$),()=>{window.removeEventListener("analytics-stream-events",W),window.removeEventListener("analytics-stream-health",$),M&&clearTimeout(M)}},[l]);const w=(G,M)=>G>=M?t.jsx(Nn,{className:"h-4 w-4 text-green-600"}):t.jsx(Zl,{className:"h-4 w-4 text-red-600"});return p?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading analytics..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your performance data"})]})})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[...Array(8)].map((G,M)=>t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm animate-pulse",children:[t.jsx(Qe,{className:"pb-4",children:t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),t.jsxs(ke,{children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},M))})]})})}):f?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Va,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error loading analytics"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:m?"Analytics data failed to load":"Properties data failed to load"}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})})})}):t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Te,{className:"hidden sm:block border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600"})}),"Analytics Dashboard",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Performance insights and key metrics for your hospitality business"})]}),t.jsx(ke,{className:"space-y-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{children:"Real-time data updates"}),p&&t.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[t.jsx(mt,{className:"w-3 h-3 animate-spin"}),t.jsx("span",{className:"text-xs",children:"Updating..."})]})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Time Range"}),t.jsxs(st,{value:a,onValueChange:r,children:[t.jsx(nt,{className:"h-11 w-48 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(he,{value:"7",children:"Last 7 days"}),t.jsx(he,{value:"30",children:"Last 30 days"}),t.jsx(he,{value:"90",children:"Last 90 days"})]})]})]})})]})})]}),c&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(nL,{className:"h-4 w-4 text-purple-600"})}),"Occupancy Rate"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:v(((N=c.metrics)==null?void 0:N.occupancyRate)||0)}),t.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1 mt-2",children:[w(((j=c.metrics)==null?void 0:j.occupancyRate)||0,75),"Target: 75%"]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-4 w-4 text-green-600"})}),"Average Daily Rate"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:g(((S=c.metrics)==null?void 0:S.adr)||0)}),t.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Per occupied room"})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-4 w-4 text-blue-600"})}),"RevPAR"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g(((E=c.metrics)==null?void 0:E.revpar)||0)}),t.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Revenue per available room"})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-orange-600"})}),"Net Income"]})}),t.jsxs(ke,{children:[t.jsx("div",{className:`text-2xl font-bold ${(((T=c.metrics)==null?void 0:T.netIncome)||0)>=0?"text-green-600":"text-red-600"}`,children:g(((C=c.metrics)==null?void 0:C.netIncome)||0)}),t.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1 mt-2",children:[w((((P=c.metrics)==null?void 0:P.netIncome)||0)>=0?1:0,0),(((D=c.metrics)==null?void 0:D.netIncome)||0)>=0?"Profitable":"Loss"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-green-600"})}),"Total Revenue"]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Last ",a," days"]})]}),t.jsxs(ke,{className:"space-y-4",children:[t.jsx("div",{className:"text-3xl font-bold text-green-600",children:g(((A=c.metrics)==null?void 0:A.totalRevenue)||0)}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Bookings:"}),t.jsx("span",{className:"font-medium",children:((R=c.metrics)==null?void 0:R.totalBookings)||0})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Guests:"}),t.jsx("span",{className:"font-medium",children:((F=c.metrics)==null?void 0:F.totalGuests)||0})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Avg Stay:"}),t.jsxs("span",{className:"font-medium",children:[(((z=c.metrics)==null?void 0:z.averageStayLength)||0).toFixed(1)," days"]})]})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-red-600"})}),"Total Expenses"]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Last ",a," days"]})]}),t.jsxs(ke,{className:"space-y-4",children:[t.jsx("div",{className:"text-3xl font-bold text-red-600",children:g(((J=c.metrics)==null?void 0:J.totalExpenses)||0)}),t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Expense Ratio:"}),t.jsx("span",{className:"font-medium text-red-600",children:(((K=c.metrics)==null?void 0:K.totalRevenue)||0)>0?v((((X=c.metrics)==null?void 0:X.totalExpenses)||0)/(((ce=c.metrics)==null?void 0:ce.totalRevenue)||1)*100):"0%"})]})})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-5 w-5 text-blue-600"})}),"Net Income"]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Last ",a," days"]})]}),t.jsxs(ke,{className:"space-y-4",children:[t.jsx("div",{className:`text-3xl font-bold ${(((q=c.metrics)==null?void 0:q.netIncome)||0)>=0?"text-green-600":"text-red-600"}`,children:g(((ie=c.metrics)==null?void 0:ie.netIncome)||0)}),t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Profit Margin:"}),t.jsx("span",{className:`font-medium ${(((L=c.metrics)==null?void 0:L.netIncome)||0)>=0?"text-green-600":"text-red-600"}`,children:(((B=c.metrics)==null?void 0:B.totalRevenue)||0)>0?v((((Y=c.metrics)==null?void 0:Y.netIncome)||0)/(((de=c.metrics)==null?void 0:de.totalRevenue)||1)*100):"0%"})]})})]})]})]})]})]})})})}function TJ(){var E;const[e,s]=x.useState(null),[n,a]=x.useState(!1),[r,l]=x.useState(null),c=async()=>{a(!0),l(null);try{try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0,metricsFetches:0,financeMetricsFetches:0,listRefetchesBurst:0},window.__realtimeClientStats.financeMetricsFetches++}catch{}const T=localStorage.getItem("accessToken");if(!T)throw new Error("Not authenticated");const C=await fetch(`${xt.BASE_URL}/finance/events/metrics`,{headers:{Authorization:`Bearer ${T}`}});if(!C.ok){const R=await C.text();throw new Error(R||`HTTP ${C.status}`)}const P=await C.text();if(!P||P.trim()==="")throw new Error("Empty response from server");let D;try{D=JSON.parse(P)}catch{throw new Error(`Invalid JSON: ${P.substring(0,100)}`)}const A={realtime:D.realtime||{buffers:[],totals:{orgs:0,totalDropped:0},publishedByType:{},deliveredByType:{},maxBufferSize:200,eventTtlMs:25e3},database:D.metrics?{last24Hours:D.metrics.map(R=>({event_type:R.event_type,count:Number(R.count)||0}))}:void 0};s(A)}catch(T){console.error("Failed to fetch finance realtime metrics:",T),l(T instanceof Error?T.message:"Unknown error")}finally{a(!1)}};if(x.useEffect(()=>{const T=()=>{typeof document<"u"&&document.visibilityState!=="visible"||c()};T();const C=setInterval(T,6e4),P=()=>{document.visibilityState==="visible"&&c()};return document.addEventListener("visibilitychange",P),()=>{clearInterval(C),document.removeEventListener("visibilitychange",P)}},[]),r)return t.jsxs(Te,{className:"border-l-4 border-l-red-500",children:[t.jsx(Qe,{className:"pb-2",children:t.jsxs(Je,{className:"text-sm flex items-center gap-2",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),"Finance Realtime Health",t.jsx(Lt,{variant:"destructive",children:"Error"})]})}),t.jsxs(ke,{children:[t.jsx("p",{className:"text-xs text-red-600",children:r}),t.jsxs(se,{size:"sm",variant:"outline",onClick:c,className:"mt-2",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]});if(!e)return t.jsx(Te,{className:"border-l-4 border-l-gray-300",children:t.jsx(ke,{className:"flex items-center justify-center p-6",children:t.jsx(mt,{className:"h-6 w-6 animate-spin text-gray-400"})})});const u=e.realtime,m=((E=u.totals)==null?void 0:E.totalDropped)||0,p=u.buffers||[],f=u.publishedByType||{},g=u.deliveredByType||{},v=m===0,w=p.sort((T,C)=>C.size-T.size).slice(0,5),N=Object.values(f).reduce((T,C)=>T+C,0),j=Object.values(g).reduce((T,C)=>T+C,0),S=N>0?(j/N*100).toFixed(1):"100";return t.jsxs(Te,{className:"border-l-4 border-l-blue-500",children:[t.jsx(Qe,{className:"pb-3",children:t.jsxs(Je,{className:"text-sm flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Nn,{className:"h-4 w-4 text-blue-600"}),"Finance Realtime Health"]}),t.jsxs(Lt,{variant:v?"outline":"destructive",className:"flex items-center gap-1",children:[v?t.jsx(Ca,{className:"h-3 w-3 text-green-600"}):t.jsx(is,{className:"h-3 w-3"}),v?"Healthy":`${m} Drops`]})]})}),t.jsxs(ke,{className:"space-y-4 text-xs",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"p-2 bg-blue-50 rounded border border-blue-200",children:[t.jsx("div",{className:"text-gray-600 text-[10px] uppercase font-medium mb-1",children:"Active Buffers"}),t.jsx("div",{className:"text-lg font-bold text-blue-700",children:p.length}),t.jsx("div",{className:"text-[10px] text-gray-500",children:"org streams"})]}),t.jsxs("div",{className:"p-2 bg-green-50 rounded border border-green-200",children:[t.jsx("div",{className:"text-gray-600 text-[10px] uppercase font-medium mb-1",children:"Delivery Rate"}),t.jsxs("div",{className:"text-lg font-bold text-green-700",children:[S,"%"]}),t.jsxs("div",{className:"text-[10px] text-gray-500",children:[j,"/",N," events"]})]})]}),w.length>0&&t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium mb-2 flex items-center gap-1",children:[t.jsx(Ub,{className:"h-3 w-3 text-gray-600"}),"Top Buffers (by size)"]}),t.jsx("div",{className:"space-y-1",children:w.map(T=>t.jsxs("div",{className:"flex justify-between items-center p-1.5 bg-gray-50 rounded",children:[t.jsxs("span",{className:"text-gray-700 font-medium",children:["Org ",T.orgId]}),t.jsxs(Lt,{variant:"secondary",className:"text-[10px]",children:[T.size," events"]})]},T.orgId))}),t.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:["Max: ",u.maxBufferSize," events/org, TTL: ",(u.eventTtlMs/1e3).toFixed(0),"s"]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium mb-2 flex items-center gap-1",children:[t.jsx(Nn,{className:"h-3 w-3 text-gray-600"}),"Delivery by Event Type"]}),t.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:Object.keys(f).length>0?Object.keys(f).sort((T,C)=>(f[C]||0)-(f[T]||0)).map(T=>{const C=f[T]||0,P=g[T]||0,D=C>0?(P/C*100).toFixed(0):"100",A=P>=C*.9;return t.jsxs("div",{className:"flex justify-between items-center p-1.5 bg-gray-50 rounded text-[11px]",children:[t.jsx("span",{className:"text-gray-700 truncate flex-1",children:T.replace(/_/g," ")}),t.jsxs("span",{className:A?"text-green-700 font-medium":"text-orange-700 font-medium",children:[P,"/",C," (",D,"%)"]})]},T)}):t.jsx("div",{className:"text-gray-500 text-center py-2",children:"No events yet"})})]}),m>0&&t.jsx("div",{className:"p-2 bg-red-50 rounded border border-red-200",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(is,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-red-900",children:"Dropped Events Detected"}),t.jsxs("div",{className:"text-[10px] text-red-700 mt-1",children:[m," events have been dropped due to buffer overflow. Consider scaling subscribers or adjusting buffer size."]})]})]})}),t.jsxs(se,{size:"sm",variant:"outline",onClick:c,disabled:n,className:"w-full",children:[t.jsx(mt,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),n?"Refreshing...":"Refresh Metrics"]}),t.jsx("div",{className:"text-[10px] text-gray-500 text-center pt-2 border-t",children:"Metrics auto-refresh every 60 seconds"})]})]})}function kJ(){const{user:e}=$s(),{theme:s,updateTheme:n,isLoading:a}=_a(),{setPageTitle:r}=kr(),{toast:l}=da(),c=Tr(),u=x.useRef(null),{markEssentialStepCompleted:m}=Lw();x.useEffect(()=>{r("Settings","Configure your application preferences and branding")},[r]),x.useEffect(()=>{(e==null?void 0:e.role)==="ADMIN"&&m("setup-organization")},[e==null?void 0:e.role,m]),x.useEffect(()=>{if(!Os("BRANDING_REALTIME_V1",!0))return;const A=F=>{var J;const z=((J=F==null?void 0:F.detail)==null?void 0:J.events)||[];if(!(!Array.isArray(z)||z.length===0)){if(!so.isProduction()&&Math.random()<.02)try{fetch("/telemetry/client",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"branding_realtime_invalidation",counts:{events:z.length},ts:new Date().toISOString()}]})}).catch(()=>{})}catch{}l({title:"Branding updated",description:"Live settings changes have been applied."})}},R=F=>{};return window.addEventListener("branding-stream-events",A),window.addEventListener("branding-stream-health",R),()=>{window.removeEventListener("branding-stream-events",A),window.removeEventListener("branding-stream-health",R)}},[l]);const[p,f]=x.useState({brandName:s.brandName,logoUrl:s.logoUrl||"",primaryColor:s.primaryColor,secondaryColor:s.secondaryColor,accentColor:s.accentColor,currency:s.currency,dateFormat:s.dateFormat,timeFormat:s.timeFormat,timezone:s.timezone}),[g,v]=x.useState(!1),[w,N]=x.useState(null);x.useEffect(()=>{if(f({brandName:s.brandName,logoUrl:s.logoUrl||"",primaryColor:s.primaryColor,secondaryColor:s.secondaryColor,accentColor:s.accentColor,currency:s.currency,dateFormat:s.dateFormat,timeFormat:s.timeFormat,timezone:s.timezone}),s.logoUrl&&s.logoUrl.trim()!=="")if(s.logoUrl.startsWith("http"))N(s.logoUrl),console.log("Setting logo preview (external):",s.logoUrl);else{const D=`${xt.BASE_URL}${s.logoUrl}`;N(D),console.log("Setting logo preview (relative):",D)}else N(null)},[s]);const j=async D=>{var R,F,z;if(D.preventDefault(),!e){l({variant:"destructive",title:"Authentication Required",description:"Please log in to save your settings."}),c("/login",{replace:!0});return}if(!p.brandName||p.brandName.trim()===""){l({variant:"destructive",title:"Validation Error",description:"Brand name is required."});return}const A=/^#[0-9A-F]{6}$/i;if(!A.test(p.primaryColor)){l({variant:"destructive",title:"Validation Error",description:"Primary color must be a valid hex color (e.g., #3b82f6)."});return}if(!A.test(p.secondaryColor)){l({variant:"destructive",title:"Validation Error",description:"Secondary color must be a valid hex color (e.g., #64748b)."});return}if(!A.test(p.accentColor)){l({variant:"destructive",title:"Validation Error",description:"Accent color must be a valid hex color (e.g., #10b981)."});return}try{console.log("Submitting theme form:",p);const J={...p};console.log("Theme data to submit:",J),await n(J),l({title:"Settings updated",description:"Your branding settings have been saved successfully."})}catch(J){if(console.error("Failed to update theme:",J),(R=J.message)!=null&&R.includes("session has expired")||(F=J.message)!=null&&F.includes("Invalid token")||(z=J.message)!=null&&z.includes("Unauthorized")){l({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again to save your settings."}),setTimeout(()=>{c("/login",{replace:!0})},2e3);return}const K=J.message||"Failed to update settings. Please try again.";l({variant:"destructive",title:"Update failed",description:K})}},S=(D,A)=>{f(R=>({...R,[D]:A}))},E=async D=>{if(g){l({variant:"destructive",title:"Upload in Progress",description:"Please wait for the current upload to complete."});return}v(!0);try{if(console.log("Starting logo upload for file:",D.name,D.type,D.size),!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(D.type))throw new Error("File type not supported. Please upload images (JPG, PNG, GIF, WebP, SVG) only.");const R=5*1024*1024;if(D.size>R)throw new Error("File size too large. Maximum size is 5MB for logos.");const F=await D.arrayBuffer(),z=new Uint8Array(F),J=btoa(String.fromCharCode(...z));console.log("File converted to base64, length:",J.length);const K=await fetch(`${xt.BASE_URL}/branding/logo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({fileData:J,filename:D.name,mimeType:D.type})});if(!K.ok){const q=await K.json().catch(()=>({}));throw new Error(q.message||`Upload failed: ${K.statusText}`)}const X=await K.json();console.log("Upload result:",X),f(q=>({...q,logoUrl:X.logoUrl}));const ce=`data:${D.type};base64,${J}`;N(ce),console.log("Logo preview set:",ce),console.log("Form logo URL updated:",X.logoUrl),l({title:"Logo uploaded successfully",description:"Your organization logo has been uploaded and will be saved when you click 'Save Changes'."})}catch(A){console.error("Logo upload error:",A),l({variant:"destructive",title:"Upload failed",description:A instanceof Error?A.message:"Failed to upload logo"})}finally{v(!1)}},T=()=>{console.log("Removing logo..."),f(D=>({...D,logoUrl:""})),N(null),u.current&&(u.current.value=""),console.log("Logo removed from form state"),l({title:"Logo removed",description:"Logo has been removed from the form. Click 'Save Changes' to apply."})},C=D=>{var R;const A=(R=D.target.files)==null?void 0:R[0];A&&E(A)},P=[{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Purple",value:"#8b5cf6"},{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Pink",value:"#ec4899"}];return(e==null?void 0:e.role)!=="ADMIN"?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(ke,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(md,{className:"h-6 w-6 text-red-600"})}),t.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Access Restricted"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Only Administrators can access organization settings."})]})})})})}):t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsxs("div",{className:"px-6 pb-6 sm:py-6",children:[t.jsx(Te,{className:"hidden sm:block border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200 mb-6",children:t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(md,{className:"h-5 w-5 text-blue-600"})}),"Settings"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage your organization settings and branding"})]})}),t.jsxs(wc,{defaultValue:"branding",theme:s,children:[t.jsx("div",{className:"sticky top-16 z-30 bg-white border-b border-gray-200 -mx-6 px-4 sm:px-6 py-3 shadow-sm",children:t.jsx("div",{className:"overflow-x-auto no-scrollbar",children:t.jsxs(ll,{className:"grid w-full grid-cols-4 min-w-max bg-gray-100",theme:s,children:[t.jsxs(Vs,{value:"branding",theme:s,children:[t.jsx(SC,{className:"h-4 w-4 mr-2"}),"Branding"]}),t.jsxs(Vs,{value:"organization",theme:s,children:[t.jsx(ca,{className:"h-4 w-4 mr-2"}),"Organization"]}),t.jsxs(Vs,{value:"integrations",theme:s,children:[t.jsx(md,{className:"h-4 w-4 mr-2"}),"Integrations"]}),(e==null?void 0:e.role)==="ADMIN"&&t.jsxs(Vs,{value:"system-health",theme:s,children:[t.jsx(Uy,{className:"h-4 w-4 mr-2"}),"System Health"]})]})})}),t.jsxs("div",{className:"py-6",children:[t.jsx(ks,{value:"branding",className:"space-y-6 mt-0",children:t.jsxs("form",{onSubmit:j,className:"space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(SC,{className:"h-5 w-5 text-purple-600"})}),"Brand Identity"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Customize your organization's visual identity and branding"})]}),t.jsxs(ke,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"brandName",className:"text-sm font-medium text-gray-700",children:"Brand Name"}),t.jsx(ye,{id:"brandName",value:p.brandName,onChange:D=>f(A=>({...A,brandName:D.target.value})),placeholder:"Your organization name",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Organization Logo"}),(w||p.logoUrl&&p.logoUrl.trim()!=="")&&t.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-gray-50",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:w||(p.logoUrl.startsWith("http")?p.logoUrl:`${xt.BASE_URL}${p.logoUrl}`),alt:"Organization Logo",className:"h-16 w-16 object-contain rounded border",onError:D=>{console.error("Logo preview failed to load:",w||p.logoUrl),D.currentTarget.style.display="none"}}),t.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:T,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-red-500 hover:bg-red-600 text-white rounded-full z-10",title:"Remove logo",children:t.jsx(Ws,{className:"h-3 w-3"})})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Current Logo"}),t.jsx("p",{className:"text-xs text-gray-500",children:p.logoUrl&&p.logoUrl.trim()!==""?"Logo uploaded successfully":"Preview of uploaded logo"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ye,{ref:u,type:"file",accept:"image/*",onChange:C,className:"flex-1 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",disabled:g}),t.jsx(se,{type:"button",variant:"outline",onClick:()=>{var D;return(D=u.current)==null?void 0:D.click()},disabled:g,className:"h-11 px-4 transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:g?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}):t.jsx(ul,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Upload your organization logo (JPG, PNG, GIF, WebP, SVG). Max size: 5MB"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"logoUrl",className:"text-sm font-medium text-gray-700",children:"Or provide logo URL"}),t.jsx(ye,{id:"logoUrl",value:p.logoUrl,onChange:D=>f(A=>({...A,logoUrl:D.target.value})),placeholder:"https://example.com/logo.png",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),!1]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Color Scheme"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"primaryColor",className:"text-sm font-medium text-gray-700",children:"Primary Color"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(ye,{id:"primaryColor",type:"color",value:p.primaryColor,onChange:D=>S("primaryColor",D.target.value),className:"w-16 h-11 p-1 border border-gray-300 rounded focus:border-blue-500 focus:ring-blue-500"}),t.jsx(ye,{value:p.primaryColor,onChange:D=>S("primaryColor",D.target.value),placeholder:"#3b82f6",className:"flex-1 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:P.map(D=>t.jsx("button",{type:"button",onClick:()=>S("primaryColor",D.value),className:"w-8 h-8 rounded border-2 border-gray-200 hover:border-gray-400 transition-all duration-200 hover:scale-110",style:{backgroundColor:D.value},title:D.name},D.name))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"secondaryColor",className:"text-sm font-medium text-gray-700",children:"Secondary Color"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(ye,{id:"secondaryColor",type:"color",value:p.secondaryColor,onChange:D=>S("secondaryColor",D.target.value),className:"w-16 h-11 p-1 border border-gray-300 rounded focus:border-blue-500 focus:ring-blue-500"}),t.jsx(ye,{value:p.secondaryColor,onChange:D=>S("secondaryColor",D.target.value),placeholder:"#64748b",className:"flex-1 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"accentColor",className:"text-sm font-medium text-gray-700",children:"Accent Color"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(ye,{id:"accentColor",type:"color",value:p.accentColor,onChange:D=>S("accentColor",D.target.value),className:"w-16 h-11 p-1 border border-gray-300 rounded focus:border-blue-500 focus:ring-blue-500"}),t.jsx(ye,{value:p.accentColor,onChange:D=>S("accentColor",D.target.value),placeholder:"#10b981",className:"flex-1 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(md,{className:"h-5 w-5 text-green-600"})}),"Localization"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Configure regional settings and formats"})]}),t.jsx(ke,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"currency",className:"text-sm font-medium text-gray-700",children:"Currency"}),t.jsxs(st,{value:p.currency,onValueChange:D=>f(A=>({...A,currency:D})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select currency"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"INR",children:"INR - Indian Rupee"}),t.jsx(he,{value:"USD",children:"USD - US Dollar"}),t.jsx(he,{value:"EUR",children:"EUR - Euro"}),t.jsx(he,{value:"GBP",children:"GBP - British Pound"}),t.jsx(he,{value:"CAD",children:"CAD - Canadian Dollar"}),t.jsx(he,{value:"AUD",children:"AUD - Australian Dollar"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"dateFormat",className:"text-sm font-medium text-gray-700",children:"Date Format"}),t.jsxs(st,{value:p.dateFormat,onValueChange:D=>f(A=>({...A,dateFormat:D})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select date format"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),t.jsx(he,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),t.jsx(he,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"timeFormat",className:"text-sm font-medium text-gray-700",children:"Time Format"}),t.jsxs(st,{value:p.timeFormat,onValueChange:D=>f(A=>({...A,timeFormat:D})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select time format"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"24h",children:"24 Hour"}),t.jsx(he,{value:"12h",children:"12 Hour"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"timezone",className:"text-sm font-medium text-gray-700",children:"Timezone"}),t.jsxs(st,{value:p.timezone,onValueChange:D=>f(A=>({...A,timezone:D})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select timezone"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"Asia/Kolkata",children:"Asia/Kolkata (IST)"}),t.jsx(he,{value:"UTC",children:"UTC"}),t.jsx(he,{value:"America/New_York",children:"America/New_York (EST)"}),t.jsx(he,{value:"America/Los_Angeles",children:"America/Los_Angeles (PST)"}),t.jsx(he,{value:"Europe/London",children:"Europe/London (GMT)"}),t.jsx(he,{value:"Europe/Paris",children:"Europe/Paris (CET)"}),t.jsx(he,{value:"Asia/Tokyo",children:"Asia/Tokyo (JST)"}),t.jsx(he,{value:"Asia/Shanghai",children:"Asia/Shanghai (CST)"}),t.jsx(he,{value:"Australia/Sydney",children:"Australia/Sydney (AEST)"})]})]})]})]})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(se,{type:"submit",disabled:a,className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md h-11 px-6",children:a?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t.jsx("span",{className:"hidden sm:inline",children:"Saving..."}),t.jsx("span",{className:"sm:hidden",children:"Save"})]}):t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($E,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Save Changes"}),t.jsx("span",{className:"sm:hidden",children:"Save"})]})})})]})}),t.jsx(ks,{value:"organization",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(ca,{className:"h-5 w-5 text-orange-600"})}),"Organization Details"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage your organization information and settings"})]}),t.jsx(ke,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Organization Name"}),t.jsx(ye,{value:s.brandName,disabled:!0,className:"h-11 border-gray-300 bg-gray-50"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Subdomain"}),t.jsx(ye,{value:"demo.hospitality.com",disabled:!0,className:"h-11 border-gray-300 bg-gray-50"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Contact support to change your subdomain"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Plan"}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Professional Plan"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Up to 10 properties, unlimited users"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Upgrade"})]})]})]})})]})}),t.jsx(ks,{value:"integrations",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-indigo-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg shadow-sm",children:t.jsx(md,{className:"h-5 w-5 text-indigo-600"})}),"Integrations"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Connect with third-party services and platforms"})]}),t.jsx(ke,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Booking.com"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Sync reservations and availability"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Connect"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Airbnb"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage Airbnb listings and bookings"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Connect"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Stripe"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Process payments and manage billing"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Connect"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"QuickBooks"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Sync financial data and accounting"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Connect"})]})]})})]})}),(e==null?void 0:e.role)==="ADMIN"&&t.jsx(ks,{value:"system-health",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Uy,{className:"h-5 w-5 text-blue-600"})}),"System Health Monitoring"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Monitor realtime event streams, buffer status, and system performance"})]}),t.jsxs(ke,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(TJ,{}),t.jsxs(Te,{className:"border-l-4 border-l-gray-300",children:[t.jsx(Qe,{className:"pb-3",children:t.jsx(Je,{className:"text-sm",children:"Additional Metrics"})}),t.jsx(ke,{children:t.jsx("p",{className:"text-xs text-gray-500",children:"More system health metrics will be available here soon."})})]})]}),t.jsx("div",{className:"p-4 bg-blue-50 rounded border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Uy,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-blue-900 text-sm",children:"About System Health"}),t.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"This dashboard provides real-time monitoring of the Finance Pub/Sub system. Metrics auto-refresh every 30 seconds. Use this to diagnose realtime update issues, monitor buffer occupancy, and validate event delivery across all organizations."})]})]})})]})]})})]})]})]})})}function mk({score:e,showIcon:s=!0,size:n="sm"}){const r=e>=90?{label:"High Confidence",color:"bg-green-100 text-green-800 border-green-300",icon:Ca}:e>=70?{label:"Please Verify",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Bb}:{label:"Manual Entry Recommended",color:"bg-red-100 text-red-800 border-red-300",icon:lg},l=r.icon,c={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"};return t.jsxs(Lt,{variant:"outline",className:`${r.color} ${c[n]} font-medium flex items-center gap-1.5 flex-shrink-0`,children:[s&&t.jsx(l,{className:"h-3 w-3"}),t.jsxs("span",{children:[e,"%"]}),n!=="sm"&&t.jsxs("span",{className:"hidden sm:inline",children:[" ",r.label]})]})}async function EJ(e,s={}){const{maxWidth:n=2048,maxHeight:a=2048,quality:r=.8,maxSizeMB:l=10,format:c="jpeg"}=s;return new Promise((u,m)=>{const p=document.createElement("canvas"),f=p.getContext("2d"),g=new Image;g.onload=()=>{try{let{width:v,height:w}=g;if(v>n||w>a){const N=v/w;v>w?(v=Math.min(v,n),w=v/N):(w=Math.min(w,a),v=w*N)}p.width=v,p.height=w,f==null||f.drawImage(g,0,0,v,w),p.toBlob(N=>{if(!N){m(new Error("Failed to compress image"));return}const j=N.size/(1024*1024),E={compressedFile:new File([N],e.name.replace(/\.[^/.]+$/,`.${c}`),{type:`image/${c}`,lastModified:Date.now()}),originalSize:e.size,compressedSize:N.size,compressionRatio:(1-N.size/e.size)*100,quality:r};u(E)},`image/${c}`,r)}catch(v){m(v)}},g.onerror=()=>{m(new Error("Failed to load image for compression"))},g.src=URL.createObjectURL(e)})}async function AJ(e,s=5){if(e.size/1048576<=1)return{compressedFile:e,originalSize:e.size,compressedSize:e.size,compressionRatio:0,quality:1};const a=[.6,.5,.4,.3,.2];for(const r of a)try{const l=await EJ(e,{maxWidth:1200,maxHeight:1200,quality:r,maxSizeMB:s,format:"jpeg"}),c=l.compressedSize/(1024*1024),u=l.compressionRatio;if(console.log(`Compression attempt: quality=${r}, size=${c.toFixed(2)}MB, reduction=${u.toFixed(1)}%`),u>=20||c<=s)return l}catch(l){console.warn(`Compression failed at quality ${r}:`,l)}return console.warn("All compression attempts failed, returning original file"),{compressedFile:e,originalSize:e.size,compressedSize:e.size,compressionRatio:0,quality:1}}const DJ=e=>({aadhaar:"Aadhaar Card",aadhaar_front:"Aadhaar Card (Front)",aadhaar_back:"Aadhaar Card (Back)",pan_card:"PAN Card",driving_license:"Driving License",driving_license_front:"Driving License (Front)",driving_license_back:"Driving License (Back)",election_card:"Election Card",election_card_front:"Election Card (Front)",election_card_back:"Election Card (Back)",passport:"Passport",visa_front:"Visa (Front)",visa_back:"Visa (Back)",other:"ID Document"})[e]||e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase());function rf({documentType:e,label:s,onUploadComplete:n,onExtractionComplete:a,onUploadStatusChange:r,className:l="",maxSize:c=100}){const[u,m]=x.useState(!1),[p,f]=x.useState(!1),[g,v]=x.useState(0),[w,N]=x.useState(null),[j,S]=x.useState(null),E=x.useRef(null),[T,C]=x.useState("idle"),P=async X=>{if(N(null),C("uploading"),!["image/jpeg","image/jpg","image/png","image/webp"].includes(X.type)){N("File type not supported. Please upload JPEG, PNG, or WEBP images."),C("error");return}f(!0),v(10);try{let q=X,ie="";const L=X.size/(1024*1024);if(console.log(`File size: ${L.toFixed(2)}MB, Max allowed: ${c}MB`),L>1){v(20),C("extracting"),console.log("Compression needed, starting compression...");try{const ge=await AJ(X,3);q=ge.compressedFile;const ue=(ge.originalSize/(1024*1024)).toFixed(2),be=(ge.compressedSize/(1024*1024)).toFixed(2),Ee=ge.compressionRatio.toFixed(1);console.log(`Compression successful: ${ue}MB -> ${be}MB (${Ee}% reduction)`),ie=` (compressed from ${ue}MB to ${be}MB, ${Ee}% reduction)`,lE({title:"Image compressed",description:`File size reduced by ${Ee}% for faster upload`,duration:3e3})}catch(ge){console.error("Compression failed, using original file:",ge)}}else console.log("File size is acceptable, no compression needed");if(q.size>c*1024*1024){const ge=(q.size/1048576).toFixed(2);N(`File size too large even after compression. Maximum size is ${c}MB (your file is ${ge}MB). Please use a smaller image.`),C("error");return}v(40),C("extracting"),console.log(`Converting file to base64. Size: ${(q.size/(1024*1024)).toFixed(2)}MB`);const B=await q.arrayBuffer(),Y=new Uint8Array(B),de=8192;let G="";for(let ge=0;ge<Y.length;ge+=de){const ue=Y.slice(ge,ge+de);G+=String.fromCharCode(...ue)}const M=btoa(G),V=M.length*.75/(1024*1024);console.log(`Base64 conversion complete. Base64 size: ${V.toFixed(2)}MB`),V>100&&console.warn(`Base64 size (${V.toFixed(2)}MB) exceeds 100MB limit`),v(40),C("extracting");const W=await fetch("http://localhost:4000/v1/guest-checkin/documents/extract-only",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({documentType:e,fileData:M,filename:q.name,mimeType:q.type})});if(v(80),!W.ok){let ge="Upload failed";try{const ue=await W.json();ge=ue.message||ue.error||"Upload failed"}catch{ge=`Upload failed: ${W.status} ${W.statusText}`}throw new Error(ge)}let $;try{$=await W.json()}catch{throw new Error("Invalid response from server. Please try again.")}v(100),C("complete");const me={documentType:$.detectedDocumentType||e,filename:q.name+ie,fileData:M,mimeType:q.type,extractedData:$.extractedData,overallConfidence:$.overallConfidence,detectedDocumentType:$.detectedDocumentType,documentTypeConfidence:$.documentTypeConfidence,success:!0};S(me),n(me),r==null||r(!0,me),$.extractionStatus==="completed"&&a&&a($.extractedData)}catch(q){console.error("Upload error:",q),N(q instanceof Error?q.message:"Failed to upload document"),C("error")}finally{f(!1),v(0)}},D=X=>{X.preventDefault(),m(!1);const ce=Array.from(X.dataTransfer.files);ce.length>0&&P(ce[0])},A=X=>{X.preventDefault(),m(!0)},R=X=>{X.preventDefault(),m(!1)},F=X=>{const ce=X.currentTarget,q=Array.from(ce.files||[]);q.length>0&&P(q[0]),ce.value=""},z=()=>{var X;E.current&&(E.current.value=""),(X=E.current)==null||X.click()},J=async()=>{try{const X=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});z()}catch(X){console.error("Camera access denied:",X),z()}},K=()=>{r==null||r(!1,j),S(null),C("idle"),N(null),E.current&&(E.current.value="")};return t.jsxs("div",{className:l,children:[t.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:F,className:"hidden"}),j?t.jsx(Te,{className:"border-l-4 border-l-green-500 shadow-sm",children:t.jsx(ke,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(an,{className:"h-5 w-5 text-green-600"}),t.jsx("h4",{className:"font-medium text-gray-900",children:j.detectedDocumentType?`${DJ(j.detectedDocumentType)} Uploaded`:`${s} Uploaded`})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:j.filename}),j.detectedDocumentType&&j.documentTypeConfidence&&t.jsxs("div",{className:"space-y-2 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Detected Type:"}),t.jsx(mk,{score:j.documentTypeConfidence})]}),j.documentTypeConfidence<85&&t.jsx("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded-md",children:t.jsxs("p",{className:"text-xs text-orange-800 flex items-center gap-1",children:[t.jsx(is,{className:"h-3 w-3"}),t.jsx("strong",{children:"Low detection confidence."})," Please verify the document type is correct."]})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Extraction Confidence:"}),t.jsx(mk,{score:j.overallConfidence})]}),Object.keys(j.extractedData).length>0&&t.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-xs text-green-700 font-medium mb-2",children:"Extracted Fields:"}),t.jsxs("div",{className:"space-y-1",children:[Object.entries(j.extractedData).slice(0,3).map(([X,ce])=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("span",{className:"text-gray-700",children:[X,":"]}),t.jsx("span",{className:"text-gray-900 font-medium truncate ml-2",style:{maxWidth:"200px"},children:ce.value})]},X)),Object.keys(j.extractedData).length>3&&t.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",Object.keys(j.extractedData).length-3," more fields"]})]})]})]}),t.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:K,className:"flex-shrink-0",children:t.jsx(Ws,{className:"h-4 w-4"})})]})})}):t.jsx("div",{onDrop:D,onDragOver:A,onDragLeave:R,className:`
            border-2 border-dashed rounded-lg p-6 transition-all duration-200
            ${u?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"}
            ${p?"opacity-60 cursor-not-allowed":"cursor-pointer hover:border-blue-400 hover:bg-blue-50/50"}
          `,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4",children:t.jsx(ul,{className:"h-12 w-12 text-gray-400 mx-auto"})}),t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:s}),p?t.jsxs("div",{className:"space-y-3",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[T==="uploading"&&"Uploading document...",T==="extracting"&&"Extracting information..."]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Drag and drop or click to upload"}),t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:z,className:"flex-shrink-0",children:[t.jsx(ul,{className:"h-4 w-4 mr-2"}),"Choose File"]}),t.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:J,className:"flex-shrink-0",children:[t.jsx(FE,{className:"h-4 w-4 mr-2"}),"Take Photo"]})]}),t.jsxs("p",{className:"text-xs text-gray-400 mt-3",children:["JPEG, PNG, WEBP  Max ",c,"MB"]})]})]})}),w&&t.jsxs(rl,{className:"mt-3 border-red-200 bg-red-50",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),t.jsx(il,{className:"text-red-800",children:w})]})]})}function IJ({open:e,onClose:s,guestCheckInId:n,guestName:a,documents:r}){const[l,c]=x.useState(null),[u,m]=x.useState(100),[p,f]=x.useState(0),[g,v]=x.useState(!1),[w,N]=x.useState({});x.useEffect(()=>{r.length>0&&!l&&c(r[0].id)},[r,l]),x.useEffect(()=>{if(e){try{window.dispatchEvent(new CustomEvent("realtime:suspend"))}catch{}return()=>{try{window.dispatchEvent(new CustomEvent("realtime:resume"))}catch{}}}},[e]);const{data:j,isLoading:S}=Xt({queryKey:["document-data",l],queryFn:async()=>{if(!l)return null;const R=await fetch(`${xt.BASE_URL}/guest-checkin/documents/${l}/view`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!R.ok)throw new Error(`Failed to fetch document: ${R.statusText}`);return R.json()},enabled:!!l&&e,staleTime:300*1e3}),E=()=>m(R=>Math.min(R+25,200)),T=()=>m(R=>Math.max(R-25,50)),C=()=>f(R=>(R+90)%360),P=()=>{m(100),f(0)},D=async R=>{try{const F=await fetch(`${xt.BASE_URL}/guest-checkin/documents/${R}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!F.ok)throw new Error("Download failed");const z=await F.json(),J=atob(z.fileData),K=new Array(J.length);for(let L=0;L<J.length;L++)K[L]=J.charCodeAt(L);const X=new Uint8Array(K),ce=new Blob([X],{type:z.mimeType}),q=window.URL.createObjectURL(ce),ie=document.createElement("a");ie.style.display="none",ie.href=q,ie.download=z.filename,document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(q),document.body.removeChild(ie)}catch(F){console.error("Download error:",F)}},A=R=>({aadhaar_front:"Aadhaar Card (Front)",aadhaar_back:"Aadhaar Card (Back)",pan_card:"PAN Card",passport:"Passport",visa_front:"Visa (Front)",visa_back:"Visa (Back)"})[R]||R;return r.find(R=>R.id===l),t.jsx(bs,{open:e,onOpenChange:s,children:t.jsx(Xb,{children:t.jsxs(Es,{className:"max-w-6xl max-h-[98vh] w-[95vw] border-0 shadow-2xl bg-gradient-to-br from-slate-50 via-white to-green-50 flex flex-col rounded-3xl overflow-hidden",showCloseButton:!1,children:[t.jsx("div",{className:"sticky top-0 z-[60] bg-gradient-to-r from-white via-green-50 to-emerald-50 border-b border-green-200/50 shadow-xl backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:"p-3 rounded-2xl shadow-lg bg-gradient-to-br from-green-100 to-emerald-200",children:t.jsx("div",{className:"text-2xl",children:""})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(Bs,{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 bg-clip-text text-transparent truncate",children:"Guest Documents"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxs(Lt,{className:"bg-green-100 text-green-800 text-xs sm:text-sm font-bold px-3 py-1 shadow-md rounded-full",children:[t.jsx(nn,{className:"h-3 w-3 mr-1"}),a]}),t.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 bg-white/50 px-2 py-1 rounded-full",children:[r.length," ",r.length===1?"Document":"Documents"]})]})]})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:s,className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-110 flex-shrink-0",children:t.jsx(Ws,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})}),r.length===0?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-gray-400 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 m-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-gray-200 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-gray-500"})}),t.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:" No Documents Available"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Upload documents during check-in to view them here"})]})}):t.jsx("div",{className:"flex-1 overflow-auto px-6 pb-6",children:t.jsx("div",{className:"space-y-6 p-2",children:t.jsxs(tj,{value:l==null?void 0:l.toString(),onValueChange:R=>c(parseInt(R)),className:"space-y-6",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsx(ZP,{className:"w-full justify-start bg-gradient-to-r from-gray-100 to-green-100 rounded-lg p-2 border border-green-200",children:r.map(R=>t.jsx(eR,{value:R.id.toString(),className:"text-xs sm:text-sm px-4 py-3 data-[state=active]:bg-white data-[state=active]:shadow-lg data-[state=active]:text-green-700 font-semibold rounded-lg transition-all",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rs,{className:"h-4 w-4"}),A(R.documentType),R.isVerified&&t.jsx(Ca,{className:"h-3 w-3 text-green-600"})]})},R.id))})}),r.map(R=>t.jsx(ks,{value:R.id.toString(),className:"space-y-6 mt-0",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex flex-wrap items-center justify-center sm:justify-end gap-3 p-4 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-lg border-2 border-indigo-200",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-lg px-3 py-1 border border-indigo-200",children:[t.jsx(se,{size:"sm",variant:"ghost",onClick:T,disabled:u<=50,className:"h-8 w-8 p-0 hover:bg-indigo-100",children:""}),t.jsxs("span",{className:"text-sm font-medium text-indigo-700 min-w-[3rem] text-center",children:[u,"%"]}),t.jsx(se,{size:"sm",variant:"ghost",onClick:E,disabled:u>=200,className:"h-8 w-8 p-0 hover:bg-indigo-100",children:"+"}),t.jsx(se,{size:"sm",variant:"ghost",onClick:P,className:"h-8 px-2 text-xs hover:bg-indigo-100",children:"Reset"})]}),t.jsx(se,{size:"sm",variant:"ghost",onClick:C,className:"h-8 w-8 p-0 bg-white border border-indigo-200 hover:bg-indigo-100",children:t.jsx(G_,{className:"h-4 w-4 text-indigo-700"})}),t.jsx(se,{size:"sm",variant:"ghost",onClick:()=>v(!g),className:"h-8 w-8 p-0 bg-white border border-indigo-200 hover:bg-indigo-100",children:g?t.jsx(L_,{className:"h-4 w-4 text-indigo-700"}):t.jsx(O_,{className:"h-4 w-4 text-indigo-700"})}),t.jsx(se,{onClick:()=>D(R.id),size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold px-3 py-2 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",title:"Download Document",children:t.jsx(Ln,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 bg-white shadow-lg",children:[S?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-blue-300 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-blue-700 font-semibold",children:"Loading document..."}),t.jsx("p",{className:"text-blue-600 text-sm",children:"Please wait while we fetch your document"})]})}):j?t.jsx("div",{className:`flex justify-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200 overflow-auto ${g?"h-[70vh]":"h-96"}`,children:w[R.id]?t.jsxs("div",{className:"bg-white p-8 shadow-lg rounded-lg text-center",children:[t.jsx(Rs,{className:"h-32 w-32 text-gray-300 mx-auto mb-4"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Document: ",R.filename]}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Preview failed to load"})]}):t.jsx("img",{src:`data:${j.mimeType};base64,${j.fileData}`,alt:A(R.documentType),className:"rounded-lg shadow-lg border border-gray-300 hover:shadow-xl transition-shadow duration-300",style:{transform:`scale(${u/100}) rotate(${p}deg)`,transition:"transform 0.3s ease",maxWidth:"100%",height:"auto",objectFit:"contain"},onError:()=>N(F=>({...F,[R.id]:!0}))})}):t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-gray-400 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-gray-200 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-gray-500"})}),t.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:" No Document Data"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Unable to load document preview"})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Filename"}),t.jsx("p",{className:"font-semibold text-gray-800 text-sm truncate",children:(j==null?void 0:j.filename)||R.originalFilename})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Size"}),t.jsxs("p",{className:"font-semibold text-gray-800",children:[(R.fileSize/1024).toFixed(2)," KB"]})]}),j&&t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg col-span-2",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Type"}),t.jsx("p",{className:"font-semibold text-gray-800",children:j.mimeType})]})]})]})]})},R.id))]})})})]})})})}function PJ({logs:e,isLoading:s,error:n,pagination:a,onRefresh:r,onExport:l,onViewDetails:c,className:u=""}){const m=g=>({create_checkin:Ca,update_checkin:jr,delete_checkin:jn,checkout_guest:Fh,view_guest_details:un,upload_document:ul,view_documents:un,view_document:un,download_document:Ln,delete_document:jn,verify_document:Ca,generate_c_form:Rs,download_c_form:Ln,query_audit_logs:Rs,export_audit_logs:Ln,unauthorized_access_attempt:nn})[g]||Rs,p=(g,v)=>{if(!v)return t.jsx(Lt,{className:"bg-red-100 text-red-800 border-red-300 text-xs",children:"Failed"});const N={create_checkin:{color:"bg-green-100 text-green-800 border-green-300",label:"Create"},update_checkin:{color:"bg-blue-100 text-blue-800 border-blue-300",label:"Update"},delete_checkin:{color:"bg-red-100 text-red-800 border-red-300",label:"Delete"},checkout_guest:{color:"bg-purple-100 text-purple-800 border-purple-300",label:"Checkout"},view_guest_details:{color:"bg-gray-100 text-gray-800 border-gray-300",label:"View Details"},upload_document:{color:"bg-green-100 text-green-800 border-green-300",label:"Upload"},view_documents:{color:"bg-gray-100 text-gray-800 border-gray-300",label:"View Docs"},download_document:{color:"bg-blue-100 text-blue-800 border-blue-300",label:"Download"},generate_c_form:{color:"bg-blue-100 text-blue-800 border-blue-300",label:"C-Form"},download_c_form:{color:"bg-blue-100 text-blue-800 border-blue-300",label:"C-Form DL"},unauthorized_access_attempt:{color:"bg-red-100 text-red-800 border-red-300",label:"Unauthorized"}}[g]||{color:"bg-gray-100 text-gray-800",label:g},j=m(g);return t.jsxs(Lt,{className:`${N.color} text-xs flex items-center gap-1 w-fit`,children:[t.jsx(j,{className:"h-3 w-3"}),N.label]})},f=g=>{const v=new Date(g);return new Intl.DateTimeFormat("en-IN",{dateStyle:"short",timeStyle:"medium"}).format(v)};return t.jsxs(Te,{className:`border-l-4 border-l-blue-500 shadow-lg hover:shadow-xl transition-shadow duration-200 ${u}`,children:[t.jsx(Qe,{className:"pb-4 bg-gradient-to-r from-blue-50 to-transparent dark:from-blue-900/20",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs(Je,{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:t.jsx(nn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Audit Trail",t.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full font-medium",children:[(a==null?void 0:a.total)||e.length," ",((a==null?void 0:a.total)||e.length)===1?"Entry":"Entries"]})]}),t.jsx(Dt,{className:"mt-1",children:"Complete history of actions on guest records with full context"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(se,{variant:"outline",size:"sm",onClick:r,disabled:s,className:"flex-shrink-0 hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[t.jsx(mt,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),t.jsxs(se,{variant:"outline",size:"sm",onClick:l,className:"flex-shrink-0 hover:bg-green-50 hover:border-green-300 transition-colors",children:[t.jsx(Ln,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]})]})}),t.jsxs(ke,{children:[n&&t.jsxs(rl,{className:"mb-4 border-red-200 bg-red-50",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),t.jsx(il,{className:"text-red-800",children:n})]}),s?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading audit logs..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait"})]})}):e.length===0?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No audit logs found"}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Try adjusting your filters"})]})}):t.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"border-b-2 border-gray-200 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-800/50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Timestamp"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Action"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Guest"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Duration"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Details"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map((g,v)=>t.jsxs("tr",{className:`
                      hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors duration-150
                      ${g.success?v%2===0?"bg-white dark:bg-gray-850":"bg-gray-50/50 dark:bg-gray-800/30":"bg-red-50 dark:bg-red-900/10"}
                    `,children:[t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zn,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),t.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:f(g.timestamp)})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(Ya,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",style:{maxWidth:"180px"},children:g.user.email}),t.jsx(Lt,{variant:"outline",className:"mt-0.5 text-xs",children:g.user.role})]})]})}),t.jsx("td",{className:"p-4",children:p(g.action.type,g.success)}),t.jsx("td",{className:"p-4",children:g.guest.name?t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Ya,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",style:{maxWidth:"140px"},children:g.guest.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",g.guest.checkInId]})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:""})}),t.jsx("td",{className:"p-4",children:g.durationMs?t.jsxs("span",{className:"text-sm font-mono text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:[g.durationMs,"ms"]}):t.jsx("span",{className:"text-sm text-gray-400",children:""})}),t.jsx("td",{className:"p-4",children:c&&t.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>c(g),className:"h-8 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",title:"View detailed audit information",children:[t.jsx(un,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"text-xs hidden lg:inline",children:"View"})]})})]},g.id))})]})})]})]})}const RJ=[{value:"create_checkin",label:"Create Check-in"},{value:"update_checkin",label:"Update Check-in"},{value:"delete_checkin",label:"Delete Check-in"},{value:"checkout_guest",label:"Checkout Guest"},{value:"view_guest_details",label:"View Guest Details"},{value:"upload_document",label:"Upload Document"},{value:"view_documents",label:"View Documents"},{value:"download_document",label:"Download Document"},{value:"delete_document",label:"Delete Document"},{value:"verify_document",label:"Verify Document"}],OJ=[{value:"guest_checkin",label:"Guest Check-in"},{value:"guest_document",label:"Guest Document"},{value:"audit_log",label:"Audit Log"}];function MJ({filters:e,onFiltersChange:s,onClear:n,className:a=""}){const r=(c,u)=>{s({...e,[c]:u||void 0})},l=Object.values(e).some(c=>c!==void 0&&c!=="");return t.jsx(Te,{className:`border-l-4 border-l-purple-500 shadow-sm ${a}`,children:t.jsxs(ke,{className:"pt-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"start-date",className:"text-sm font-medium text-gray-700",children:"Start Date"}),t.jsx(ye,{id:"start-date",type:"date",value:e.startDate||"",onChange:c=>r("startDate",c.target.value),className:"h-11 border-gray-300 focus:border-purple-500 focus:ring-purple-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"end-date",className:"text-sm font-medium text-gray-700",children:"End Date"}),t.jsx(ye,{id:"end-date",type:"date",value:e.endDate||"",onChange:c=>r("endDate",c.target.value),className:"h-11 border-gray-300 focus:border-purple-500 focus:ring-purple-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"action-type",className:"text-sm font-medium text-gray-700",children:"Action Type"}),t.jsxs(st,{value:e.actionType||"all",onValueChange:c=>r("actionType",c==="all"?"":c),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-purple-500 focus:ring-purple-500",children:t.jsx(at,{placeholder:"All Actions"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Actions"}),RJ.map(c=>t.jsx(he,{value:c.value,children:c.label},c.value))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"resource-type",className:"text-sm font-medium text-gray-700",children:"Resource Type"}),t.jsxs(st,{value:e.resourceType||"all",onValueChange:c=>r("resourceType",c==="all"?"":c),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-purple-500 focus:ring-purple-500",children:t.jsx(at,{placeholder:"All Resources"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Resources"}),OJ.map(c=>t.jsx(he,{value:c.value,children:c.label},c.value))]})]})]})]}),l&&t.jsx("div",{className:"mt-4",children:t.jsxs(se,{variant:"outline",size:"sm",onClick:n,className:"text-xs",children:[t.jsx(Ws,{className:"h-3 w-3 mr-2"}),"Clear Filters"]})})]})})}const Ch=x.forwardRef(({className:e="",orientation:s="horizontal",decorative:n=!0,...a},r)=>{const l="shrink-0 bg-gray-200 dark:bg-gray-700",c=s==="horizontal"?"h-[1px] w-full my-4":"h-full w-[1px] mx-4";return t.jsx("div",{ref:r,role:n?"none":"separator","aria-orientation":s,className:`${l} ${c} ${e}`.trim(),...a})});Ch.displayName="Separator";function _J({open:e,onClose:s,log:n}){var g,v,w;const{toast:a}=da();if(!n)return null;const r=N=>({create_checkin:Ca,update_checkin:jr,delete_checkin:jn,checkout_guest:Fh,view_guest_details:un,upload_document:ul,view_documents:un,view_document:un,download_document:Ln,delete_document:jn,verify_document:Ca,generate_c_form:Rs,download_c_form:Ln,query_audit_logs:Rs,export_audit_logs:Ln,unauthorized_access_attempt:nn})[N]||Rs,l=N=>({create_checkin:"text-green-600",update_checkin:"text-blue-600",delete_checkin:"text-red-600",checkout_guest:"text-purple-600",view_guest_details:"text-gray-600",upload_document:"text-green-600",view_documents:"text-gray-600",generate_c_form:"text-blue-600",download_c_form:"text-blue-600",unauthorized_access_attempt:"text-red-600"})[N]||"text-gray-600",c=N=>({create_checkin:"Guest Check-in Created",update_checkin:"Guest Check-in Updated",delete_checkin:"Guest Check-in Deleted",checkout_guest:"Guest Checked Out",view_guest_details:"Viewed Guest Details",upload_document:"Document Uploaded",view_documents:"Viewed Documents",view_document:"Viewed Document",download_document:"Document Downloaded",delete_document:"Document Deleted",verify_document:"Document Verified",generate_c_form:"Form C Generated",download_c_form:"Form C Downloaded",query_audit_logs:"Queried Audit Logs",export_audit_logs:"Exported Audit Logs",unauthorized_access_attempt:"Unauthorized Access Attempt"})[N]||N.replace(/_/g," ").toUpperCase(),u=N=>{const j=new Date(N);return new Intl.DateTimeFormat("en-IN",{dateStyle:"full",timeStyle:"long"}).format(j)},m=(N,j)=>{navigator.clipboard.writeText(N),a({title:"Copied!",description:`${j} copied to clipboard.`,duration:2e3})},p=r(n.action.type),f=l(n.action.type);return t.jsx(bs,{open:e,onOpenChange:s,children:t.jsxs(Es,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(ia,{children:[t.jsxs(Bs,{className:"text-xl font-bold flex items-center gap-2",children:[t.jsx(Rs,{className:"h-5 w-5 text-blue-600"}),"Audit Log Details"]}),t.jsx(xa,{children:"Comprehensive details of the audit trail entry"})]}),t.jsxs("div",{className:"space-y-6 mt-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Action Information"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-2 rounded-lg bg-white dark:bg-gray-700 ${f}`,children:t.jsx(p,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c(n.action.type)}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Resource: ",n.action.resourceType.replace("_"," "),n.action.resourceId&&` #${n.action.resourceId}`]})]})]}),t.jsx(Lt,{className:n.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:n.success?t.jsxs(t.Fragment,{children:[t.jsx(Ca,{className:"h-3 w-3 mr-1"})," Success"]}):t.jsxs(t.Fragment,{children:[t.jsx(lg,{className:"h-3 w-3 mr-1"})," Failed"]})})]}),n.durationMs&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Zn,{className:"h-4 w-4"}),t.jsxs("span",{children:["Duration: ",n.durationMs,"ms"]})]}),!n.success&&n.errorMessage&&t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-md border border-red-200",children:[t.jsx(is,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"Error Message"}),t.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:n.errorMessage})]})]})]})]}),t.jsx(Ch,{}),n.guest.name&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Guest Information"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ya,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:n.guest.name})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>m(n.guest.name||"","Guest name"),className:"h-7",children:t.jsx(Rs,{className:"h-3 w-3"})})]}),n.guest.checkInId&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(nn,{className:"h-4 w-4"}),t.jsxs("span",{children:["Check-in ID: ",n.guest.checkInId]})]}),((g=n.details)==null?void 0:g.guestEmail)&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx($d,{className:"h-4 w-4"}),t.jsx("span",{children:n.details.guestEmail})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>m(n.details.guestEmail,"Email"),className:"h-7",children:t.jsx(Rs,{className:"h-3 w-3"})})]}),((v=n.details)==null?void 0:v.guestPhone)&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(qE,{className:"h-4 w-4"}),t.jsx("span",{children:n.details.guestPhone})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>m(n.details.guestPhone,"Phone"),className:"h-7",children:t.jsx(Rs,{className:"h-3 w-3"})})]}),((w=n.details)==null?void 0:w.propertyName)&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Pf,{className:"h-4 w-4"}),t.jsxs("span",{children:["Property: ",n.details.propertyName]})]})]})]}),t.jsx(Ch,{})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Performed By"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($d,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:n.user.email})]}),t.jsx(Lt,{variant:"outline",className:"text-xs",children:n.user.role})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(nn,{className:"h-4 w-4"}),t.jsxs("span",{children:["User ID: ",n.user.id]})]})]})]}),t.jsx(Ch,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Context"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Zn,{className:"h-4 w-4"}),t.jsx("span",{children:u(n.timestamp)})]}),n.context.ipAddress&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Kl,{className:"h-4 w-4"}),t.jsxs("span",{children:["IP: ",n.context.ipAddress]})]}),n.context.requestPath&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 font-mono text-xs",children:[t.jsx(Rs,{className:"h-4 w-4"}),t.jsxs("span",{children:[n.context.requestMethod," ",n.context.requestPath]})]}),n.context.userAgent&&t.jsxs("div",{className:"text-xs text-gray-500 truncate",title:n.context.userAgent,children:["User Agent: ",n.context.userAgent]})]})]}),n.details&&Object.keys(n.details).length>0&&t.jsxs(t.Fragment,{children:[t.jsx(Ch,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Additional Details"}),t.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:t.jsx("pre",{className:"text-xs text-gray-600 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(n.details,null,2)})})]})]})]}),t.jsx("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:t.jsx(se,{variant:"outline",onClick:s,children:"Close"})})]})})}function LJ(e={},s=!0){const[n,a]=x.useState([]),[r,l]=x.useState(!1),[c,u]=x.useState(null),[m,p]=x.useState({total:0,limit:50,offset:0,hasMore:!1}),f=x.useCallback(async(v={},w={})=>{var S,E;w.silent||l(!0),u(null);const j={...w.replace?{}:e,...v};try{const T=new URLSearchParams;j.startDate&&T.append("startDate",j.startDate),j.endDate&&T.append("endDate",j.endDate),j.userId&&T.append("userId",j.userId.toString()),j.guestCheckInId&&T.append("guestCheckInId",j.guestCheckInId.toString()),j.actionType&&T.append("actionType",j.actionType),j.resourceType&&T.append("resourceType",j.resourceType),j.success!==void 0&&T.append("success",j.success.toString()),j.limit&&T.append("limit",j.limit.toString()),j.offset&&T.append("offset",j.offset.toString());const C=await fetch(`${xt.BASE_URL}/guest-checkin/audit-logs?${T.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!C.ok)throw new Error("Failed to fetch audit logs");let P;try{const D=await C.text();D?P=JSON.parse(D):P={logs:[],pagination:{total:0,limit:50,offset:0,hasMore:!1}}}catch(D){console.error("Failed to parse audit logs response:",D),P={logs:[],pagination:{total:0,limit:50,offset:0,hasMore:!1}}}console.log(" Audit logs fetched successfully:",{count:((S=P.logs)==null?void 0:S.length)||0,total:((E=P.pagination)==null?void 0:E.total)||0}),a(P.logs||[]),p(P.pagination||{total:0,limit:50,offset:0,hasMore:!1})}catch(T){const C=T instanceof Error?T.message:"Failed to fetch audit logs";console.error(" Failed to fetch audit logs:",C),u(C)}finally{w.silent||l(!1)}},[e]),g=async()=>{try{const v=new URLSearchParams;e.startDate&&v.append("startDate",e.startDate),e.endDate&&v.append("endDate",e.endDate),e.userId&&v.append("userId",e.userId.toString()),e.guestCheckInId&&v.append("guestCheckInId",e.guestCheckInId.toString()),e.actionType&&v.append("actionType",e.actionType),e.resourceType&&v.append("resourceType",e.resourceType);const w=await fetch(`${xt.BASE_URL}/guest-checkin/audit-logs/export?${v.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!w.ok)throw new Error("Export failed");let N;try{const T=await w.text();if(!T)throw new Error("Empty response");N=JSON.parse(T)}catch(T){throw console.error("Failed to parse export response:",T),new Error("Failed to parse export response")}const j=new Blob([N.csv],{type:"text/csv"}),S=window.URL.createObjectURL(j),E=document.createElement("a");E.href=S,E.download=N.filename,E.click(),window.URL.revokeObjectURL(S)}catch(v){console.error("Export error:",v),u("Failed to export audit logs")}};return x.useEffect(()=>{s&&f(void 0,{replace:!0})},[s,f]),{logs:n,isLoading:r,error:c,pagination:m,fetchLogs:f,exportToCsv:g}}function FJ(e,s){const n=x.useRef(null),a=x.useRef(e);return x.useEffect(()=>{a.current=e},[e]),x.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]),x.useCallback(((...r)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{a.current(...r)},s)}),[s])}function UJ(){var Cc;const{theme:e}=_a(),{setPageTitle:s}=kr(),{toast:n}=da(),[a,r]=x.useState("landing"),[l,c]=x.useState([]),[u,m]=x.useState([]),[p,f]=x.useState([]),[g,v]=x.useState(!1),[w,N]=x.useState(null),[j,S]=x.useState(null),[E,T]=x.useState("all"),[C,P]=x.useState("all"),[D,A]=x.useState("all"),[R,F]=x.useState(""),[z,J]=x.useState(""),[K,X]=x.useState(!1),ce=x.useCallback(O=>{n({title:"Validation error",description:O,variant:"destructive",duration:4e3})},[n]),[q,ie]=x.useState("personal"),[L,B]=x.useState(!1),[Y,de]=x.useState(!1),[G,M]=x.useState("personal"),[V,W]=x.useState("personal"),[$,me]=x.useState("indian-guest"),[ge,ue]=x.useState(!1),[be,Ee]=x.useState(!1),H=async O=>{const Q=await O.text();if(console.log("parseJsonSafe - Response text length:",(Q==null?void 0:Q.length)||0),console.log("parseJsonSafe - Response text preview:",Q==null?void 0:Q.substring(0,200)),!Q)return console.warn("parseJsonSafe - Empty response body, returning empty object"),{};try{const Pe=JSON.parse(Q);return console.log("parseJsonSafe - Parsed successfully:",Pe),Pe}catch(Pe){throw console.error("parseJsonSafe - JSON parse error:",Pe),new Error("Invalid JSON response from server")}},[fe,je]=x.useState(!1),Oe=x.useRef(null),_e=x.useRef(null),Ie=O=>{const Q={EST:"+372",Estonia:"+372",India:"+91",IND:"+91","United States":"+1",USA:"+1",US:"+1","United Kingdom":"+44",UK:"+44",Germany:"+49",DEU:"+49",France:"+33",FRA:"+33",Canada:"+1",CAN:"+1",Australia:"+61",AUS:"+61",Japan:"+81",JPN:"+81",China:"+86",CHN:"+86",Brazil:"+55",BRA:"+55",Russia:"+7",RUS:"+7","South Korea":"+82",KOR:"+82",Italy:"+39",ITA:"+39",Spain:"+34",ESP:"+34",Netherlands:"+31",NLD:"+31",Sweden:"+46",SWE:"+46",Norway:"+47",NOR:"+47",Denmark:"+45",DNK:"+45",Finland:"+358",FIN:"+358"},Pe=O.toUpperCase();return Q[Pe]||Q[O]||"+1"},[ze,Ue]=x.useState([]),[Ge,it]=x.useState(!1),[Tt,yt]=x.useState(!1),[xs,va]=x.useState(!1),[Fe,lt]=x.useState(0),[Zt,as]=x.useState(!1),[es,ae]=x.useState(null),[Ye,vt]=x.useState([]),[St,cs]=x.useState(null),[ys,Ks]=x.useState(!1),[bt,rn]=x.useState(null),La=x.useCallback((O,Q=!1)=>{if(!O)return;if(O.includes("T")&&(O.includes("+")||O.endsWith("Z")))return O.includes("Z")?O.replace("Z","+05:30"):O;const Pe=O.match(/^(\d{2})[\/-](\d{2})[\/-](\d{4})$/);let ft=0,It=0,He=0;if(Pe)He=parseInt(Pe[1],10),It=parseInt(Pe[2],10)-1,ft=parseInt(Pe[3],10);else{const qa=O.match(/^(\d{4})[\/-](\d{2})[\/-](\d{2})$/);if(qa)ft=parseInt(qa[1],10),It=parseInt(qa[2],10)-1,He=parseInt(qa[3],10);else return}const Pt=(qa,rr=2)=>String(qa).padStart(rr,"0"),We=Q?23:0,Mt=Q?59:0,Ls=Q?59:0,Vn=Q?999:0;return`${ft}-${Pt(It+1)}-${Pt(He)}T${Pt(We)}:${Pt(Mt)}:${Pt(Ls)}.${Pt(Vn,3)}+05:30`},[]),on=x.useCallback(O=>{const Q={...O};return O!=null&&O.startDate&&(Q.startDate=La(String(O.startDate),!1)),O!=null&&O.endDate&&(Q.endDate=La(String(O.endDate),!0)),Q},[La]),[jt,Ft]=x.useState({}),k=qe.useMemo(()=>on(jt),[jt,on]),{logs:te,isLoading:le,error:Se,pagination:dt,fetchLogs:_,exportToCsv:xe}=LJ(k,!1),Be=FJ(O=>{console.log(" Applying debounced filters:",O),_(O,{silent:!0,replace:!0})},500),[kt,Gt]=x.useState(!1),[Wt,ea]=x.useState(null),qt=$==="audit-logs",Le=x.useRef(!1),Gs=x.useRef(!1),ba=x.useRef(k),As=x.useRef(_);x.useEffect(()=>{ba.current=k},[k]),x.useEffect(()=>{As.current=_},[_]),x.useEffect(()=>{qt?Le.current?Gs.current&&(console.log(" Audit logs tab re-activated, performing silent refresh..."),As.current(ba.current,{silent:!0,replace:!0}),Gs.current=!1):(console.log(" Audit logs tab opened for FIRST time, fetching initial data..."),As.current(ba.current,{replace:!0}),Le.current=!0,Gs.current=!1):Le.current&&(Gs.current=!0)},[qt]),x.useCallback(()=>{console.log(" Real audit event received, refreshing with filters:",ba.current),As.current(ba.current,{silent:!0,replace:!0})},[]);const zs=x.useCallback(O=>{Ue(Q=>[...Q.filter(ft=>ft.fileData!==O.fileData),O])},[]),Ht=x.useCallback(O=>{O&&Ue(Q=>Q.filter(Pe=>Pe.fileData!==O.fileData))},[]),Ut=x.useCallback(O=>{const Q=l.find(Pe=>Pe.id.toString()===O);if(console.log("=== AUTOFILL INDIAN ADDRESS ==="),console.log("Property ID:",O),console.log("Selected property:",Q),Q){const Pe=Q.addressJson||{},ft=[Pe.street,Pe.city,Pe.state,Pe.country,Pe.zipCode].filter(Boolean).join(", ");console.log("Address JSON:",Pe),console.log("Full address:",ft),pt(It=>({...It,propertyId:O,indianAddress:ft||Pe.street||It.indianAddress,indianCityDistrict:Pe.city||It.indianCityDistrict,indianState:Pe.state||It.indianState,indianPincode:Pe.zipCode||It.indianPincode,mobileNoIndia:Q.mobileNumber||It.mobileNoIndia}))}},[l]),Kt=()=>et.fullName.trim()!==""&&et.email.trim()!==""&&et.phone.trim()!==""&&et.address.trim()!=="",Bt=()=>Ge&&(et.aadharNumber.trim()!==""||et.panNumber.trim()!==""||et.drivingLicenseNumber.trim()!==""||et.electionCardNumber.trim()!==""),ps=()=>{const O=et.propertyId!==""&&et.numberOfGuests>0;return console.log("Indian booking validation:",{propertyId:et.propertyId,numberOfGuests:et.numberOfGuests,indianPrimaryDocUploaded:Ge,isValid:O&&Ge}),O},ta=()=>Z.fullName.trim()!==""&&Z.email.trim()!==""&&Z.phone.trim()!==""&&Z.address.trim()!=="",js=()=>{var Pe,ft,It;const O=Z.passportNumber.trim()!=="",Q=(((Pe=Z.passportCountry)==null?void 0:Pe.trim())||"").length>0||(((ft=Z.country)==null?void 0:ft.trim())||"").length>0||(((It=Z.passportNationality)==null?void 0:It.trim())||"").length>0;return O&&Q&&Tt&&xs},co=()=>{const O=Z.propertyId!==""&&Z.numberOfGuests>0;return console.log("Foreign booking validation:",{propertyId:Z.propertyId,numberOfGuests:Z.numberOfGuests,foreignPassportUploaded:Tt,foreignVisaUploaded:xs,isValid:O&&Tt&&xs}),O};x.useEffect(()=>{switch(a){case"landing":s("Guest Check-in","Welcome guests and manage check-ins");break;case"admin-dashboard":s("Guest Management","Manage all guest check-ins");break;case"add-guest":s("Add New Guest","Add a new guest to the system");break}},[a,s]);const[et,ua]=x.useState({propertyId:"",fullName:"",email:"",phone:"",address:"",aadharNumber:"",panNumber:"",drivingLicenseNumber:"",electionCardNumber:"",roomNumber:"",numberOfGuests:1,expectedCheckoutDate:""}),[Z,pt]=x.useState({propertyId:"",fullName:"",email:"",phone:"",address:"",passportNumber:"",passportCountry:"",passportNationality:"",passportDateOfBirth:"",passportIssueDate:"",passportExpiryDate:"",passportPlaceOfBirth:"",passportIssuingAuthority:"",visaType:"",visaCategory:"",visaNumber:"",visaCountry:"",visaIssueDate:"",visaExpiryDate:"",visaPlaceOfIssue:"",visaPurposeOfVisit:"",visaDurationOfStay:"",visaNumberOfEntries:"",visaPortOfEntry:"",visaIssuingAuthority:"",visaStatus:"",visaRemarks:"",surname:"",sex:"Male",specialCategory:"Others",permanentCity:"",indianAddress:"",indianCityDistrict:"",indianState:"",indianPincode:"",arrivedFrom:"",dateOfArrivalInIndia:"",dateOfArrivalAtAccommodation:"",timeOfArrival:"12:00",intendedDuration:7,employedInIndia:"N",purposeOfVisit:"Tourism",nextPlace:"",destinationCityDistrict:"",destinationState:"",mobileNoIndia:"",contactNoPermanent:"",mobileNoPermanent:"",remarks:"",country:"",roomNumber:"",numberOfGuests:1,expectedCheckoutDate:""}),wa=O=>{var Q;if(zs(O),O.extractedData){const Pe=O.extractedData;ua(We=>{var Vn,qa,rr,gn,ji,Ni,ir,or,uo,Si,ho,Er,xn;const Mt={...We};if((Vn=Pe.fullName)!=null&&Vn.value){Mt.fullName=Pe.fullName.value;const mo=Pe.fullName.value.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s+/g,"").substring(0,10);Mt.email=`${mo}@curat.ai`}(qa=Pe.address)!=null&&qa.value?Mt.address=Pe.address.value:(rr=Pe.placeOfBirth)!=null&&rr.value&&((gn=Pe.nationality)!=null&&gn.value)?Mt.address=`${Pe.placeOfBirth.value}, ${Pe.nationality.value}`:(ji=Pe.placeOfBirth)!=null&&ji.value&&(Mt.address=Pe.placeOfBirth.value),Mt.phone="+910000000000";const Ls=(O.detectedDocumentType||O.documentType||"").toLowerCase();return Ls.includes("aadhaar")&&((Ni=Pe.aadharNumber)!=null&&Ni.value)?Mt.aadharNumber=Pe.aadharNumber.value.replace(/\s/g,""):Ls.includes("pan")&&((ir=Pe.panNumber)!=null&&ir.value)?Mt.panNumber=Pe.panNumber.value:Ls.includes("driving")&&((or=Pe.licenseNumber)!=null&&or.value)?Mt.drivingLicenseNumber=Pe.licenseNumber.value:Ls.includes("election")&&((uo=Pe.epicNumber)!=null&&uo.value)?Mt.electionCardNumber=Pe.epicNumber.value:((Si=Pe.aadharNumber)!=null&&Si.value&&(Mt.aadharNumber=Pe.aadharNumber.value.replace(/\s/g,"")),(ho=Pe.panNumber)!=null&&ho.value&&(Mt.panNumber=Pe.panNumber.value),(Er=Pe.licenseNumber)!=null&&Er.value&&(Mt.drivingLicenseNumber=Pe.licenseNumber.value),(xn=Pe.epicNumber)!=null&&xn.value&&(Mt.electionCardNumber=Pe.epicNumber.value)),Mt});const ft=O.detectedDocumentType||O.documentType||"unknown";(ft.includes("aadhaar")||(Q=Pe.aadharNumber)!=null&&Q.value)&&B(!0),de(!0);const It=Object.keys(Pe).length,He=O.documentTypeConfidence||100;let Pt=`Document processed successfully! Detected: ${ft.replace(/_/g," ").toUpperCase()}. Extracted ${It} fields with ${O.overallConfidence}% confidence.`;He<85&&(Pt+=`  Document type detection confidence is ${He}% - please verify the detected type is correct.`),S(Pt),setTimeout(()=>S(""),7e3)}},yu=O=>{if(zs(O),O.extractedData){const Q=O.extractedData,Pe=O.documentType||O.detectedDocumentType||"unknown";pt(Pt=>{var qa,rr,gn,ji,Ni,ir,or,uo,Si,ho,Er,xn,mo,po,Ar,Tc,jl,wu,Nl,Sl,ju,Ka,Hr,Cl,fo,bm,kc,Ec,go,Tl,Nu,wm,jm,Nm,Ac,Sm,Cm,Tm,km,Em,Su,Am,Dm,Im,Pm,Dc,Rm,Om,Mm;const We={...Pt};if((qa=Q.fullName)!=null&&qa.value){We.fullName=Q.fullName.value;const sa=Q.fullName.value.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s+/g,"").substring(0,10);We.email=`${sa}@curat.ai`;const kl=Q.fullName.value.split(",");if(kl.length>1)We.surname=kl[0].trim();else{const xo=Q.fullName.value.trim().split(/\s+/);xo.length>1&&(We.surname=xo[xo.length-1])}}if((rr=Q.address)!=null&&rr.value?We.address=Q.address.value:(gn=Q.placeOfBirth)!=null&&gn.value&&((ji=Q.nationality)!=null&&ji.value)?We.address=`${Q.placeOfBirth.value}, ${Q.nationality.value}`:(Ni=Q.placeOfBirth)!=null&&Ni.value&&(We.address=Q.placeOfBirth.value),(ir=Q.country)!=null&&ir.value){const sa=Ie(Q.country.value);We.phone=`${sa}0000000000`}if(Pe==="passport"||Pe.includes("passport")){if((or=Q.passportNumber)!=null&&or.value&&(We.passportNumber=Q.passportNumber.value),(uo=Q.country)!=null&&uo.value&&(We.passportCountry=Q.country.value),(Si=Q.nationality)!=null&&Si.value&&(We.passportNationality=Q.nationality.value),(ho=Q.dateOfBirth)!=null&&ho.value&&(We.passportDateOfBirth=Q.dateOfBirth.value),(Er=Q.issueDate)!=null&&Er.value&&(We.passportIssueDate=Q.issueDate.value),(xn=Q.expiryDate)!=null&&xn.value&&(We.passportExpiryDate=Q.expiryDate.value),(mo=Q.placeOfBirth)!=null&&mo.value){We.passportPlaceOfBirth=Q.placeOfBirth.value;const sa=Q.placeOfBirth.value.split(",")[0].trim();sa&&(We.permanentCity=sa)}if((po=Q.issuingAuthority)!=null&&po.value&&(We.passportIssuingAuthority=Q.issuingAuthority.value),(Ar=Q.sex)!=null&&Ar.value){const sa=Q.sex.value.toUpperCase();sa==="M"||sa.includes("MALE")?We.sex="Male":(sa==="F"||sa.includes("FEMALE"))&&(We.sex="Female")}if((Tc=Q.nationality)!=null&&Tc.value||(jl=Q.country)!=null&&jl.value){const sa=((wu=Q.nationality)==null?void 0:wu.value)||((Nl=Q.country)==null?void 0:Nl.value)||"";We.arrivedFrom=sa}We.phone&&(We.contactNoPermanent=We.phone,We.mobileNoPermanent=We.phone),((Sl=Q.country)!=null&&Sl.value||(ju=Q.nationality)!=null&&ju.value)&&(We.country=((Ka=Q.country)==null?void 0:Ka.value)||((Hr=Q.nationality)==null?void 0:Hr.value)||Pt.country)}if(Pe==="visa_front"||Pe==="visa_back"||Pe.includes("visa")){if((Cl=Q.visaType)!=null&&Cl.value&&(We.visaType=Q.visaType.value),(fo=Q.visaCategory)!=null&&fo.value&&(We.visaCategory=Q.visaCategory.value),(bm=Q.visaNumber)!=null&&bm.value&&(We.visaNumber=Q.visaNumber.value),(kc=Q.country)!=null&&kc.value&&(We.visaCountry=Q.country.value),(Ec=Q.issueDate)!=null&&Ec.value||(go=Q.visaIssueDate)!=null&&go.value){const sa=((Tl=Q.issueDate)==null?void 0:Tl.value)||((Nu=Q.visaIssueDate)==null?void 0:Nu.value);We.visaIssueDate=sa,sa&&(We.dateOfArrivalInIndia=sa)}if(((wm=Q.expiryDate)!=null&&wm.value||(jm=Q.visaExpiryDate)!=null&&jm.value)&&(We.visaExpiryDate=((Nm=Q.expiryDate)==null?void 0:Nm.value)||((Ac=Q.visaExpiryDate)==null?void 0:Ac.value)),((Sm=Q.placeOfIssue)!=null&&Sm.value||(Cm=Q.visaPlaceOfIssue)!=null&&Cm.value)&&(We.visaPlaceOfIssue=((Tm=Q.placeOfIssue)==null?void 0:Tm.value)||((km=Q.visaPlaceOfIssue)==null?void 0:km.value)),(Em=Q.purposeOfVisit)!=null&&Em.value&&(We.visaPurposeOfVisit=Q.purposeOfVisit.value,We.purposeOfVisit=Q.purposeOfVisit.value),(Su=Q.durationOfStay)!=null&&Su.value){We.visaDurationOfStay=Q.durationOfStay.value;const sa=Q.durationOfStay.value.toLowerCase(),kl=sa.match(/(\d+)\s*days?/),xo=sa.match(/(\d+)\s*months?/);kl?We.intendedDuration=parseInt(kl[1]):xo&&(We.intendedDuration=parseInt(xo[1])*30)}(Am=Q.numberOfEntries)!=null&&Am.value&&(We.visaNumberOfEntries=Q.numberOfEntries.value),(Dm=Q.portOfEntry)!=null&&Dm.value&&(We.visaPortOfEntry=Q.portOfEntry.value),((Im=Q.issuingAuthority)!=null&&Im.value||(Pm=Q.visaIssuingAuthority)!=null&&Pm.value)&&(We.visaIssuingAuthority=((Dc=Q.issuingAuthority)==null?void 0:Dc.value)||((Rm=Q.visaIssuingAuthority)==null?void 0:Rm.value)),(Om=Q.visaStatus)!=null&&Om.value&&(We.visaStatus=Q.visaStatus.value),(Mm=Q.remarks)!=null&&Mm.value&&(We.visaRemarks=Q.remarks.value,We.remarks=Q.remarks.value)}const Mt=new Date().toISOString().split("T")[0];We.dateOfArrivalAtAccommodation=Mt;const Ls=new Date,Vn=`${String(Ls.getHours()).padStart(2,"0")}:${String(Ls.getMinutes()).padStart(2,"0")}`;return We.timeOfArrival=Vn,We});const ft=O.detectedDocumentType||Pe,It=Object.keys(Q).length,He=Pe==="passport"||Pe.includes("passport")?"Passport fields auto-filled (including Form C details)":Pe==="visa_front"||Pe.includes("visa")?"Visa fields auto-filled (including Form C details)":"Document fields auto-filled";S(`Document processed successfully! Detected: ${ft}. Extracted ${It} fields with ${O.overallConfidence}% confidence. ${He}.`),setTimeout(()=>S(""),5e3)}},vu=async O=>{var Q;cs(null);try{const Pe=await fetch(`${xt.BASE_URL}/guest-checkin/${O.id}/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(Pe.ok){const ft=await Pe.json();vt(ft.documents||[]),ae(O),as(!0),fetch(`${xt.BASE_URL}/guest-checkin/audit/view-documents`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({guestCheckInId:O.id,documentCount:((Q=ft.documents)==null?void 0:Q.length)||0})}).catch(It=>console.error("Failed to log audit:",It))}}catch(Pe){console.error("Failed to load documents:",Pe)}};x.useEffect(()=>{(async()=>{try{const Q=await fetch(`${xt.BASE_URL}/properties`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!Q.ok)throw new Error("Failed to fetch properties");const Pe=await Q.json();c(Pe.properties||[])}catch(Q){console.error("Error fetching properties:",Q)}})()},[]),x.useEffect(()=>{l.length>0&&!et.propertyId&&ua(O=>({...O,propertyId:l[0].id.toString()}))},[l,et.propertyId]),x.useEffect(()=>{if(l.length>0&&!Z.propertyId){const O=l[0].id.toString();console.log("Auto-selecting first property on load:",O),Ut(O)}},[l,Z.propertyId,Ut]),x.useEffect(()=>{const O=()=>cs(null);return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]);const Wa=x.useCallback(async()=>{console.log("=== FETCH CHECK-INS DEBUG ==="),v(!0),N(null);try{const O=`${xt.BASE_URL}/guest-checkin/list`,Q=localStorage.getItem("accessToken");console.log("API Base URL:",xt.BASE_URL),console.log("Full URL:",O),console.log("Auth Token:",Q?`${Q.substring(0,20)}...`:"NO TOKEN"),console.log("Fetching all guests (client-side filtering enabled)");const Pe=await fetch(O,{method:"GET",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"}});if(console.log("Response Status:",Pe.status),console.log("Response OK:",Pe.ok),!Pe.ok){const He=await Pe.text();throw console.log("Error Response:",He),new Error(`Failed to fetch check-ins: ${Pe.status} ${Pe.statusText}`)}const ft=await H(Pe);console.log("Response Data:",ft),console.log("Check-ins Count:",ft.checkins?ft.checkins.length:0),console.log("Total:",ft.total);const It=ft.checkins||[];m(It),console.log("Check-ins state updated:",It.length)}catch(O){console.log("Fetch Error:",O),N(O.message||"Failed to fetch check-ins")}finally{v(!1)}},[]),bi=x.useCallback(O=>({id:O.id,orgId:O.orgId,propertyId:O.propertyId,propertyName:O.propertyName,guestType:O.guestType,fullName:O.fullName,email:O.email,phone:O.phone,address:O.address,aadharNumber:O.aadharNumber??"",panNumber:O.panNumber??"",drivingLicenseNumber:O.drivingLicenseNumber??"",electionCardNumber:O.electionCardNumber??"",passportNumber:O.passportNumber??"",country:O.country??"",visaType:O.visaType??"",visaExpiryDate:O.visaExpiryDate??"",checkInDate:O.checkInDate,expectedCheckoutDate:O.expectedCheckoutDate??"",actualCheckoutDate:O.actualCheckoutDate??"",roomNumber:O.roomNumber??"",numberOfGuests:O.numberOfGuests??1,status:O.status??"checked_in",createdByUserId:O.createdByUserId,createdAt:O.createdAt,updatedAt:O.updatedAt}),[]),Ig=x.useCallback(async O=>{try{const Q=await fetch(`${xt.BASE_URL}/guest-checkin/${O}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`}});if(!Q.ok)return console.error("Failed to fetch guest by id:",O,Q.status),null;const Pe=await Q.json();return bi(Pe)}catch(Q){return console.error("Failed to fetch guest by id:",O,Q),null}},[bi]),gm=x.useCallback(async O=>{try{const Q=await fetch(`${xt.BASE_URL}/guest-checkin/${O}/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(Q.ok){const Pe=await Q.json();vt(Pe.documents||[])}}catch(Q){console.error("Failed to refresh documents after event:",Q)}},[]),bl=x.useRef(!1),xm=x.useRef(!1),[wi,wl]=x.useState({top:0,left:0}),[En,pn]=x.useState("bottom");x.useEffect(()=>{let O=u;if(R){const Q=R.toLowerCase();O=O.filter(Pe=>Pe.fullName.toLowerCase().includes(Q))}z&&(O=O.filter(Q=>new Date(Q.checkInDate).toISOString().split("T")[0]===z)),C!=="all"&&(O=O.filter(Q=>Q.guestType===C)),D&&D!=="all"&&(O=O.filter(Q=>Q.propertyId.toString()===D)),E!=="all"&&(O=O.filter(Q=>Q.status===E)),f(O)},[u,R,z,C,D,E]),qe.useEffect(()=>{try{window.__guestSelectedPropertyId=D||"all"}catch{}},[D]),wr("guest",async O=>{const Q=(typeof window<"u"?window.__guestDesktopTab:null)||$;if(!(O!=null&&O.length))return;const Pe=O.filter(Pt=>Pt.entityType==="guest_document");Pe.length&&(es!=null&&es.id)&&Pe.some(We=>We.entityId===es.id)&&await gm(es.id);const ft=O.filter(Pt=>Pt.entityType==="guest_checkin");if(!ft.length)return;const It=ft.filter(Pt=>Pt.eventType==="guest_deleted").map(Pt=>Pt.entityId);It.length&&m(Pt=>Pt.filter(We=>!It.includes(We.id)));const He=Array.from(new Set(ft.filter(Pt=>Pt.eventType!=="guest_deleted").map(Pt=>Pt.entityId)));if(He.length){const Pt=(await Promise.all(He.map(We=>Ig(Number(We))))).filter(We=>!!We);Pt.length?m(We=>{let Mt=[...We];return Pt.forEach(Ls=>{const Vn=Mt.findIndex(qa=>qa.id===Ls.id);Vn>=0?Mt[Vn]=Ls:Mt=[Ls,...Mt]}),Mt}):Wa()}if(Q==="audit-logs"){const Pt=window;clearTimeout(Pt.__guestAuditDebounce),Pt.__guestAuditDebounce=setTimeout(()=>{As.current(k,{replace:!0})},1e3)}},Os("GUEST_REALTIME_V1",!0)),x.useEffect(()=>{try{uu(null)}catch{}},[]),x.useEffect(()=>{a==="admin-dashboard"&&!bl.current&&(bl.current=!0,Wa())},[a]),x.useEffect(()=>{$==="guest-details"&&!bl.current&&(bl.current=!0,Wa())},[$]),x.useEffect(()=>{$==="audit-logs"&&!xm.current&&(xm.current=!0,As.current(k,{replace:!0}))},[$,k]),x.useEffect(()=>{const O=()=>cs(null);return window.addEventListener("scroll",O,!0),window.addEventListener("resize",O),()=>{window.removeEventListener("scroll",O,!0),window.removeEventListener("resize",O)}},[]);const ym=async O=>{if(O.preventDefault(),!Ge){N(" Please upload at least one Indian ID document (Aadhaar/PAN/DL/Election Card) before completing check-in."),v(!1),n({title:"Document Required",description:"Please upload your Indian ID document to continue.",variant:"destructive",duration:5e3});return}v(!0),N(null),S(null);const Q={propertyId:parseInt(et.propertyId),guestType:"indian",fullName:et.fullName||"",email:et.email||"",phone:et.phone||"",address:et.address||"",aadharNumber:et.aadharNumber||"",numberOfGuests:et.numberOfGuests||1};if(et.panNumber&&et.panNumber.trim()&&(Q.panNumber=et.panNumber.trim()),et.drivingLicenseNumber&&et.drivingLicenseNumber.trim()&&(Q.drivingLicenseNumber=et.drivingLicenseNumber.trim()),et.electionCardNumber&&et.electionCardNumber.trim()&&(Q.electionCardNumber=et.electionCardNumber.trim()),et.expectedCheckoutDate&&et.expectedCheckoutDate.trim()&&(Q.expectedCheckoutDate=et.expectedCheckoutDate.trim()),et.roomNumber&&et.roomNumber.trim()&&(Q.roomNumber=et.roomNumber.trim()),console.log("=== INDIAN CHECK-IN REQUEST DEBUG ==="),console.log("API Base URL:",xt.BASE_URL),console.log("Full URL:",`${xt.BASE_URL}/guest-checkin/create`),console.log("Request Data:",Q),console.log("Raw Form Data:",et),console.log("Property ID type:",typeof Q.propertyId),console.log("Property ID value:",Q.propertyId),!Q.fullName||!Q.email||!Q.phone||!Q.address){N("Please fill in all required fields (Name, Email, Phone, Address)"),v(!1),ce("Please fill in all required fields (Name, Email, Phone, Address)");return}if(!(Q.aadharNumber||Q.panNumber||Q.drivingLicenseNumber||Q.electionCardNumber)){N("Please provide at least one Indian ID (Aadhaar, PAN, Driving License, or Election Card)"),v(!1),ce("Please provide at least one Indian ID (Aadhaar, PAN, Driving License, or Election Card)");return}if(Q.aadharNumber&&!/^\d{12}$/.test(Q.aadharNumber)){N("Aadhaar number must be exactly 12 digits"),v(!1),ce("Aadhaar number must be exactly 12 digits");return}if(Q.panNumber&&!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(Q.panNumber.toUpperCase())){N("PAN number must be in format: ABCDE1234F"),v(!1),ce("PAN number must be in format: ABCDE1234F");return}if(isNaN(Q.propertyId)){N("Please select a valid property"),v(!1),ce("Please select a valid property");return}try{const ft=await fetch(`${xt.BASE_URL}/guest-checkin/create`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify(Q)});if(!ft.ok){const We=await ft.json();throw console.log("=== SERVER ERROR RESPONSE ==="),console.log("Status:",ft.status),console.log("Status Text:",ft.statusText),console.log("Error Data:",We),console.log("Request Data Sent:",Q),new Error(We.message||`Server error ${ft.status}: ${ft.statusText}`)}const It=await ft.json();console.log("=== SUCCESS RESPONSE ==="),console.log("Response Data:",It);const He=It.id;if(ze.length>0&&He)try{console.log("Uploading documents to cloud with checkInId:",{checkInId:He,documentCount:ze.length});for(const We of ze)try{const Mt=await fetch(`${xt.BASE_URL}/guest-checkin/documents/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({documentType:We.documentType,fileData:We.fileData,filename:We.filename,mimeType:We.mimeType,guestCheckInId:He,performExtraction:!1})});Mt.ok?console.log("Document uploaded successfully:",{documentType:We.documentType}):console.error("Failed to upload document:",await Mt.text())}catch(Mt){console.error("Error uploading document:",Mt)}console.log("All documents uploaded successfully")}catch(We){console.error("Error uploading documents:",We)}const Pt=It.message||"Check-in successful! Welcome to our property.";S(Pt),n({title:"Check-in Successful! ",description:Pt,variant:"success",duration:5e3}),console.log("=== CHECK-IN SUCCESS DEBUG ==="),console.log("Current viewMode:",a),console.log("Should refresh guest list:",a==="admin-dashboard"),console.log("Calling fetchCheckIns after successful check-in..."),Wa(),ua({propertyId:"",fullName:"",email:"",phone:"",address:"",aadharNumber:"",panNumber:"",drivingLicenseNumber:"",electionCardNumber:"",roomNumber:"",numberOfGuests:1,expectedCheckoutDate:""}),Ue([]),it(!1),lt(We=>We+1),setTimeout(()=>{S(null)},5e3)}catch(ft){const It=ft.message||"Failed to complete check-in";N(It),n({title:"Check-in Failed ",description:It,variant:"destructive",duration:5e3})}finally{v(!1)}},Pg=async O=>{if(O.preventDefault(),!Tt||!xs){const Q=[];Tt||Q.push("Passport"),xs||Q.push("Visa"),N(` Please upload ${Q.join(" and ")} document(s) before completing check-in.`),v(!1),n({title:"Documents Required",description:`Please upload your ${Q.join(" and ")} to continue.`,variant:"destructive",duration:5e3});return}v(!0),N(null),S(null);try{const Q=await fetch(`${xt.BASE_URL}/guest-checkin/create`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify((()=>{const He={propertyId:parseInt(Z.propertyId),guestType:"foreign",fullName:Z.fullName||"",email:Z.email||"",phone:Z.phone||"",address:Z.address||"",passportNumber:Z.passportNumber||"",country:Z.passportCountry||Z.country||"",numberOfGuests:Z.numberOfGuests||1};return Z.passportCountry&&(He.passportCountry=Z.passportCountry),Z.passportNationality&&(He.passportNationality=Z.passportNationality),Z.passportDateOfBirth&&(He.passportDateOfBirth=Z.passportDateOfBirth),Z.passportIssueDate&&(He.passportIssueDate=Z.passportIssueDate),Z.passportExpiryDate&&(He.passportExpiryDate=Z.passportExpiryDate),Z.passportPlaceOfBirth&&(He.passportPlaceOfBirth=Z.passportPlaceOfBirth),Z.passportIssuingAuthority&&(He.passportIssuingAuthority=Z.passportIssuingAuthority),Z.visaType&&(He.visaType=Z.visaType),Z.visaCategory&&(He.visaCategory=Z.visaCategory),Z.visaNumber&&(He.visaNumber=Z.visaNumber),Z.visaCountry&&(He.visaCountry=Z.visaCountry),Z.visaIssueDate&&(He.visaIssueDate=Z.visaIssueDate),Z.visaExpiryDate&&(He.visaExpiryDate=Z.visaExpiryDate),Z.visaPlaceOfIssue&&(He.visaPlaceOfIssue=Z.visaPlaceOfIssue),Z.visaPurposeOfVisit&&(He.visaPurposeOfVisit=Z.visaPurposeOfVisit),Z.visaDurationOfStay&&(He.visaDurationOfStay=Z.visaDurationOfStay),Z.visaNumberOfEntries&&(He.visaNumberOfEntries=Z.visaNumberOfEntries),Z.visaPortOfEntry&&(He.visaPortOfEntry=Z.visaPortOfEntry),Z.visaIssuingAuthority&&(He.visaIssuingAuthority=Z.visaIssuingAuthority),Z.visaStatus&&(He.visaStatus=Z.visaStatus),Z.visaRemarks&&(He.visaRemarks=Z.visaRemarks),Z.surname&&(He.surname=Z.surname),Z.sex&&(He.sex=Z.sex),Z.specialCategory&&(He.specialCategory=Z.specialCategory),Z.permanentCity&&(He.permanentCity=Z.permanentCity),Z.indianAddress&&(He.indianAddress=Z.indianAddress),Z.indianCityDistrict&&(He.indianCityDistrict=Z.indianCityDistrict),Z.indianState&&(He.indianState=Z.indianState),Z.indianPincode&&(He.indianPincode=Z.indianPincode),Z.arrivedFrom&&(He.arrivedFrom=Z.arrivedFrom),Z.dateOfArrivalInIndia&&(He.dateOfArrivalInIndia=Z.dateOfArrivalInIndia),Z.dateOfArrivalAtAccommodation&&(He.dateOfArrivalAtAccommodation=Z.dateOfArrivalAtAccommodation),Z.timeOfArrival&&(He.timeOfArrival=Z.timeOfArrival),Z.intendedDuration&&(He.intendedDuration=Z.intendedDuration),Z.employedInIndia&&(He.employedInIndia=Z.employedInIndia),Z.purposeOfVisit&&(He.purposeOfVisit=Z.purposeOfVisit),Z.nextPlace&&(He.nextPlace=Z.nextPlace),Z.destinationCityDistrict&&(He.destinationCityDistrict=Z.destinationCityDistrict),Z.destinationState&&(He.destinationState=Z.destinationState),Z.mobileNoIndia&&(He.mobileNoIndia=Z.mobileNoIndia),Z.contactNoPermanent&&(He.contactNoPermanent=Z.contactNoPermanent),Z.mobileNoPermanent&&(He.mobileNoPermanent=Z.mobileNoPermanent),Z.remarks&&(He.remarks=Z.remarks),Z.expectedCheckoutDate&&(He.expectedCheckoutDate=Z.expectedCheckoutDate),Z.roomNumber&&(He.roomNumber=Z.roomNumber),He})())});if(!Q.ok){const He=await Q.json();throw new Error(He.message||"Failed to complete check-in")}const Pe=await Q.json();console.log("=== SUCCESS RESPONSE ==="),console.log("Response Data:",Pe);const ft=Pe.id;if(ze.length>0&&ft)try{console.log("Uploading documents to cloud with checkInId:",{checkInId:ft,documentCount:ze.length});for(const He of ze)try{const Pt=await fetch(`${xt.BASE_URL}/guest-checkin/documents/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({documentType:He.documentType,fileData:He.fileData,filename:He.filename,mimeType:He.mimeType,guestCheckInId:ft,performExtraction:!1})});Pt.ok?console.log("Document uploaded successfully:",{documentType:He.documentType}):console.error("Failed to upload document:",await Pt.text())}catch(Pt){console.error("Error uploading document:",Pt)}console.log("All documents uploaded successfully")}catch(He){console.error("Error uploading documents:",He)}const It=Pe.message||"Check-in successful! Welcome to our property.";S(It),n({title:"Check-in Successful! ",description:It,variant:"success",duration:5e3}),console.log("Calling fetchCheckIns after successful foreign check-in..."),Wa(),pt({propertyId:"",fullName:"",email:"",phone:"",address:"",passportNumber:"",passportCountry:"",passportNationality:"",passportDateOfBirth:"",passportIssueDate:"",passportExpiryDate:"",passportPlaceOfBirth:"",passportIssuingAuthority:"",visaType:"",visaCategory:"",visaNumber:"",visaCountry:"",visaIssueDate:"",visaExpiryDate:"",visaPlaceOfIssue:"",visaPurposeOfVisit:"",visaDurationOfStay:"",visaNumberOfEntries:"",visaPortOfEntry:"",visaIssuingAuthority:"",visaStatus:"",visaRemarks:"",surname:"",sex:"Male",specialCategory:"Others",permanentCity:"",indianAddress:"",indianCityDistrict:"",indianState:"",indianPincode:"",arrivedFrom:"",dateOfArrivalInIndia:"",dateOfArrivalAtAccommodation:"",timeOfArrival:"12:00",intendedDuration:7,employedInIndia:"N",purposeOfVisit:"Tourism",nextPlace:"",destinationCityDistrict:"",destinationState:"",mobileNoIndia:"",contactNoPermanent:"",mobileNoPermanent:"",remarks:"",country:"",roomNumber:"",numberOfGuests:1,expectedCheckoutDate:""}),Ue([]),yt(!1),va(!1),lt(He=>He+1),setTimeout(()=>{S(null)},5e3)}catch(Q){const Pe=Q.message||"Failed to complete check-in";N(Pe),n({title:"Check-in Failed ",description:Pe,variant:"destructive",duration:5e3})}finally{v(!1)}},Sc=async(O,Q)=>{if(cs(null),!!window.confirm(` Delete Guest Entry?

Are you sure you want to delete the check-in entry for "${Q}"?

This action cannot be undone.`)){v(!0);try{const ft=await fetch(`${xt.BASE_URL}/guest-checkin/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!ft.ok){const It=await ft.json();throw new Error(It.message||"Failed to delete guest entry")}n({title:"Guest Deleted Successfully! ",description:`The check-in entry for ${Q} has been deleted.`,duration:4e3}),S("Guest entry deleted successfully"),Wa(),setTimeout(()=>S(null),3e3)}catch(ft){const It=ft.message||"Failed to delete guest entry";N(It),n({title:"Delete Failed ",description:It,variant:"destructive",duration:5e3})}finally{v(!1)}}},bu=async O=>{cs(null),rn(O),Ks(!0),fetch(`${xt.BASE_URL}/guest-checkin/audit/view-guest-details`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({guestCheckInId:O.id})}).catch(Q=>console.error("Failed to log audit:",Q))},nr=async(O,Q)=>{try{await navigator.clipboard.writeText(O),n({title:"Copied!",description:`${Q} copied to clipboard.`,duration:2e3})}catch{n({title:"Failed to copy",description:"Could not copy to clipboard.",variant:"destructive",duration:2e3})}},vm=async O=>{cs(null);try{n({title:"Generating C-Form",description:"Please wait while we generate the Form C PDF...",duration:3e3});const Q=await fetch(`${xt.BASE_URL}/guest-checkin/${O.id}/generate-c-form`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!Q.ok){const Ls=await Q.json().catch(()=>({error:"Failed to generate C-Form"}));throw new Error(Ls.error||"Failed to generate C-Form")}const Pe=await Q.json(),ft=window.atob(Pe.pdfData),It=new Uint8Array(ft.length);for(let Ls=0;Ls<ft.length;Ls++)It[Ls]=ft.charCodeAt(Ls);const He=new Blob([It],{type:"application/pdf"}),Pt=Pe.filename||`Form_C_${O.fullName.replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`,We=window.URL.createObjectURL(He),Mt=document.createElement("a");Mt.href=We,Mt.download=Pt,document.body.appendChild(Mt),Mt.click(),window.URL.revokeObjectURL(We),document.body.removeChild(Mt),n({title:"C-Form Downloaded! ",description:`Form C has been generated and downloaded for ${O.fullName}.`,duration:5e3})}catch(Q){console.error("Error generating C-Form:",Q),n({title:"Failed to Generate C-Form ",description:Q.message||"An error occurred while generating the C-Form",variant:"destructive",duration:5e3})}},fn=(O,Q)=>{const ft=Q.currentTarget.getBoundingClientRect(),It=window.innerWidth,He=window.innerHeight,Pt=224,We=8;let Mt=ft.right-Pt;Mt=Math.min(Mt,It-Pt-We),Mt=Math.max(We,Mt);const Ls=He-ft.bottom,Vn=ft.top;Ls<180&&Vn>Ls?(wl({top:ft.top-We,left:Mt}),pn("top")):(wl({top:ft.bottom+We,left:Mt}),pn("bottom")),cs(qa=>qa===O?null:O)};return a==="landing"?t.jsx("div",{className:"min-h-[100vh] md:min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col pt-safe",children:t.jsx("div",{className:"w-full min-h-[100vh] md:min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-3 xs:px-4 sm:px-6 pt-3 sm:pt-6 pb-20 sm:pb-8 lg:bg-[#F5F7FA]",children:t.jsxs(tj,{value:$,onValueChange:O=>me(O),children:[t.jsxs("div",{className:"sticky top-20 z-30 bg-white lg:bg-[#F5F7FA] dark:bg-gray-800 -mx-3 xs:-mx-4 sm:-mx-6 px-3 xs:px-4 sm:px-6 py-2 border-b border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between sm:hidden",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Pf,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{className:"text-sm font-medium truncate",children:(()=>{const O=$==="foreign-guest"?Z.propertyId:et.propertyId,Q=l.find(Pe=>Pe.id.toString()===String(O));return Q?Q.name:"Property"})()})]}),t.jsxs("button",{type:"button",onClick:()=>ue(O=>!O),className:"flex items-center gap-2 px-3 h-10 rounded-md bg-gray-100 dark:bg-gray-700 text-sm","aria-expanded":ge,children:[t.jsxs("span",{className:"truncate",children:[$==="indian-guest"?"Indian Guest Check-in":null,$==="foreign-guest"?"Foreign Guest Check-in":null,$==="guest-details"?"Guest Details":null,$==="audit-logs"?"Audit Logs":null]}),t.jsx("svg",{className:`h-4 w-4 transition-transform ${ge?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{d:"M5 7l5 5 5-5"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const O=u.filter(Q=>Q.status!=="checked_in").length;return O>0?t.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-700",children:`Queue  ${O}`}):null})(),t.jsx("button",{type:"button",onClick:()=>{const O=$==="foreign-guest"?"foreign-upload-section":"indian-upload-section",Q=document.getElementById(O);Q&&Q.scrollIntoView({behavior:"smooth",block:"start"})},className:"h-9 w-9 flex items-center justify-center rounded-md bg-gray-100 dark:bg-gray-700","aria-label":"Scan ID",children:t.jsx(FE,{className:"h-5 w-5"})})]})]}),t.jsx("div",{className:`${ge?"max-h-64 mt-2":"max-h-0"} sm:hidden overflow-hidden transition-[max-height] duration-200`,children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 divide-y divide-gray-200/60 dark:divide-gray-700/60",children:[t.jsxs("button",{className:`w-full h-12 flex items-center gap-2 px-3 text-left ${$==="indian-guest"?"bg-purple-600 text-white":""}`,onClick:()=>{me("indian-guest"),ue(!1)},children:[t.jsx(Ya,{className:"h-4 w-4"})," ",t.jsx("span",{children:"Indian Guest Check-in"})]}),t.jsxs("button",{className:`w-full h-12 flex items-center gap-2 px-3 text-left ${$==="foreign-guest"?"bg-purple-600 text-white":""}`,onClick:()=>{me("foreign-guest"),ue(!1)},children:[t.jsx(Kl,{className:"h-4 w-4"})," ",t.jsx("span",{children:"  Foreign Guest Check-in"})]}),t.jsxs("button",{className:`w-full h-12 flex items-center gap-2 px-3 text-left ${$==="guest-details"?"bg-purple-600 text-white":""}`,onClick:()=>{me("guest-details"),ue(!1)},children:[t.jsx(nn,{className:"h-4 w-4"})," ",t.jsx("span",{children:"  Guest Details"})]}),t.jsxs("button",{className:`w-full h-12 flex items-center gap-2 px-3 text-left ${$==="audit-logs"?"bg-purple-600 text-white":""}`,onClick:()=>{me("audit-logs"),ue(!1)},children:[t.jsx(Rs,{className:"h-4 w-4"})," ",t.jsx("span",{children:"  Audit Logs"})]})]})}),t.jsx("div",{className:"hidden sm:block",children:t.jsx("div",{className:"-mx-6 px-6 lg:bg-[#F5F7FA]",children:t.jsxs(ll,{className:"grid grid-cols-4 gap-2 bg-gray-100 dark:bg-slate-800 rounded-md p-1",theme:e,children:[t.jsxs(Vs,{value:"indian-guest",theme:e,className:"text-sm px-3 py-2 data-[state=active]:bg-white data-[state=active]:shadow-none",children:[t.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Indian Guest Check-in"]}),t.jsxs(Vs,{value:"foreign-guest",theme:e,className:"text-sm px-3 py-2 data-[state=active]:bg-white data-[state=active]:shadow-none",children:[t.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Foreign Guest Check-in"]}),t.jsxs(Vs,{value:"guest-details",theme:e,className:"text-sm px-3 py-2 data-[state=active]:bg-white data-[state=active]:shadow-none",children:[t.jsx(nn,{className:"h-4 w-4 mr-2"}),"Guest Details"]}),t.jsxs(Vs,{value:"audit-logs",theme:e,className:"text-sm px-3 py-2 data-[state=active]:bg-white data-[state=active]:shadow-none",children:[t.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Audit Logs"]})]})})})]}),t.jsxs("div",{className:"space-y-6 mt-4 pb-12",children:[t.jsx(ks,{value:"indian-guest",className:"space-y-4 mt-0 pb-12",children:t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-md",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Ya,{className:"h-6 w-6 text-green-600"}),"Indian Guest Check-in"]}),t.jsx(Dt,{children:"Complete check-in for Indian guests"})]}),t.jsxs(ke,{className:"space-y-6 pb-8",children:[w&&t.jsxs(rl,{className:"mb-4 border-red-200 bg-red-50",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),t.jsx(il,{className:"text-red-800",children:w})]}),j&&t.jsxs(rl,{className:"mb-4 border-green-200 bg-green-50",children:[t.jsx(Ca,{className:"h-4 w-4 text-green-600"}),t.jsx(il,{className:"text-green-800",children:j})]}),t.jsxs("div",{className:"mb-6",id:"indian-upload-section",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Upload Indian ID Document"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Auto-fill your details by uploading any Indian government ID. AI will detect the document type and extract information automatically. Supported: Aadhaar, PAN, Driving License, Election Card"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[t.jsx(rf,{documentType:"other",label:"Any Indian ID Document (Required)",onUploadComplete:wa,onExtractionComplete:O=>{},onUploadStatusChange:(O,Q)=>{O?it(!0):(it(!1),Ht(Q))},className:"min-h-[168px] sm:min-h-[220px]"},`indian-primary-${Fe}`),t.jsx(rf,{documentType:"other",label:"Additional Document (Optional)",onUploadComplete:wa,onUploadStatusChange:(O,Q)=>{O||Ht(Q)},className:"min-h-[168px] sm:min-h-[220px]"},`indian-optional-${Fe}`)]}),ze.length>0&&t.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-green-700 flex items-center gap-2",children:[t.jsx(Wn,{className:"h-4 w-4"}),t.jsxs("strong",{children:[ze.length," document(s) uploaded."]})," Form fields have been auto-filled. Please verify the information."]})})]}),t.jsx("form",{ref:Oe,onSubmit:ym,className:"space-y-6",children:t.jsxs(wc,{value:G,onValueChange:O=>M(O),theme:e,className:"space-y-4",children:[t.jsxs("div",{className:"sm:hidden space-y-2",children:[t.jsxs("button",{type:"button",onClick:()=>Ee(O=>!O),className:"w-full h-10 rounded-md bg-gray-100 dark:bg-gray-700 text-sm font-medium flex items-center justify-between px-3",children:[t.jsx("span",{className:"truncate",children:G==="personal"?"Personal Information":G==="id-documents"?"ID Documents":"Booking Details"}),t.jsx("svg",{className:`h-4 w-4 transition-transform ${be?"rotate(180deg)":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{d:"M5 7l5 5 5-5"})})]}),t.jsx("div",{className:`${be?"max-h-48 mt-2":"max-h-0"} overflow-hidden transition-[max-height] duration-300`,children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${G==="personal"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{Ee(!1),M("personal")},children:"Personal Information"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${G==="id-documents"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{Ee(!1),M("id-documents")},children:"ID Documents"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${G==="booking"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{Ee(!1),M("booking")},children:"Booking Details"})]})})]}),t.jsxs(ll,{className:"grid grid-cols-3",containerClassName:"hidden sm:block",theme:e,children:[t.jsx(Vs,{value:"personal",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Personal Information"}),t.jsx(Vs,{value:"id-documents",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"ID Documents"}),t.jsx(Vs,{value:"booking",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Booking Details"})]}),t.jsxs(ks,{value:"personal",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-name",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name *"}),t.jsxs("div",{className:"relative",children:[t.jsx(ye,{id:"indian-name",value:et.fullName,onChange:O=>ua({...et,fullName:O.target.value}),placeholder:"Enter your full name",required:!0,className:"h-11"}),L&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(an,{className:"h-5 w-5 text-green-600"})})]}),L&&t.jsxs("p",{className:"text-xs text-green-700 bg-green-100 p-1.5 rounded-md mt-1 flex items-center",children:[t.jsx(Wn,{className:"h-4 w-4 mr-1"}),"Auto-filled from Aadhaar"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email *"}),t.jsx(ye,{id:"indian-email",type:"email",inputMode:"email",autoComplete:"email",value:et.email,onChange:O=>ua({...et,email:O.target.value}),placeholder:"your.email@example.com",required:!0,className:"h-12 sm:h-11"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-phone",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number *"}),t.jsx(ye,{id:"indian-phone",type:"tel",inputMode:"tel",autoComplete:"tel",value:et.phone,onChange:O=>ua({...et,phone:O.target.value}),placeholder:"+91 98765 43210",required:!0,className:"h-12 sm:h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-address",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address *"}),t.jsxs("div",{className:"relative",children:[t.jsx(ye,{id:"indian-address",value:et.address,onChange:O=>ua({...et,address:O.target.value}),placeholder:"Enter your address",required:!0,className:"h-11"}),L&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(an,{className:"h-5 w-5 text-green-600"})})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>M("id-documents"),disabled:!Kt(),className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"id-documents",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-aadhar",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Aadhaar Number *"}),t.jsxs("div",{className:"relative",children:[t.jsx(ye,{id:"indian-aadhar",value:L?"**** **** 8432":et.aadharNumber,onChange:O=>ua({...et,aadharNumber:O.target.value}),placeholder:"1234 5678 9012",required:!0,className:"h-11"}),L&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(an,{className:"h-5 w-5 text-green-600"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-pan",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"PAN Card Number"}),t.jsx(ye,{id:"indian-pan",value:et.panNumber,onChange:O=>ua({...et,panNumber:O.target.value.toUpperCase()}),placeholder:"ABCDE1234F",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-dl",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Driving License Number"}),t.jsx(ye,{id:"indian-dl",value:et.drivingLicenseNumber,onChange:O=>ua({...et,drivingLicenseNumber:O.target.value.toUpperCase()}),placeholder:"DL-1420110012345",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-election",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Election Card Number"}),t.jsx(ye,{id:"indian-election",value:et.electionCardNumber,onChange:O=>ua({...et,electionCardNumber:O.target.value.toUpperCase()}),placeholder:"ABC1234567",className:"h-11"})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>M("booking"),disabled:!Bt(),className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"booking",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-property",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Property *"}),t.jsxs(st,{value:et.propertyId,onValueChange:O=>ua({...et,propertyId:O}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(he,{value:O.id.toString(),children:O.name},O.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-room",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Room Number (Optional)"}),t.jsx(ye,{id:"indian-room",value:et.roomNumber,onChange:O=>ua({...et,roomNumber:O.target.value}),placeholder:"101",className:"h-11"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-guests",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Number of Guests"}),t.jsx(ye,{id:"indian-guests",type:"number",inputMode:"numeric",min:"1",value:et.numberOfGuests,onChange:O=>ua({...et,numberOfGuests:parseInt(O.target.value)||1}),className:"h-12 sm:h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-checkout",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expected Checkout Date"}),t.jsx(ye,{id:"indian-checkout",type:"date",value:et.expectedCheckoutDate,onChange:O=>ua({...et,expectedCheckoutDate:O.target.value}),className:"h-11"})]})]}),t.jsx(se,{type:"submit",className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",disabled:g||!ps()||!Ge,children:g?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"h-5 w-5 mr-2 animate-spin"}),"Processing..."]}):Ge?ps()?t.jsxs(t.Fragment,{children:[t.jsx(Ca,{className:"h-5 w-5 mr-2"}),"Complete Check-in"]}):t.jsxs(t.Fragment,{children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),et.propertyId===""?"Please select a property":"Please fill required fields"]}):t.jsxs(t.Fragment,{children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),"Please upload Indian ID document"]})})]})]})}),$==="indian-guest"&&t.jsx("div",{className:"sm:hidden fixed bottom-0 inset-x-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-3 py-3 pb-safe z-40",children:t.jsxs("div",{className:"flex gap-8",children:[G!=="personal"?t.jsx(se,{type:"button",variant:"outline",className:"flex-1 h-12",onClick:()=>{G==="booking"?M("id-documents"):G==="id-documents"&&M("personal")},children:"Back"}):null,t.jsx(se,{type:"button",className:"flex-1 h-12 bg-green-600 hover:bg-green-700 text-white",disabled:G==="personal"&&!Kt()||G==="id-documents"&&!Bt()||G==="booking"&&(g||!ps()||!Ge),onClick:()=>{var O,Q;G==="personal"?Kt()&&M("id-documents"):G==="id-documents"?Bt()&&M("booking"):!g&&ps()&&Ge&&((Q=(O=Oe.current)==null?void 0:O.requestSubmit)==null||Q.call(O))},children:G==="booking"?g?"Processing":"Complete Check-in":"Continue"})]})})]})]})}),t.jsx(ks,{value:"foreign-guest",className:"space-y-4 mt-0 pb-12",children:t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-md",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Kl,{className:"h-6 w-6 text-green-600"}),"Foreign Guest Check-in"]}),t.jsx(Dt,{children:"Complete check-in for foreign guests"})]}),t.jsxs(ke,{className:"space-y-6 pb-8",children:[w&&t.jsxs(rl,{className:"mb-4 border-red-200 bg-red-50",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),t.jsx(il,{className:"text-red-800",children:w})]}),j&&t.jsxs(rl,{className:"mb-4 border-green-200 bg-green-50",children:[t.jsx(Ca,{className:"h-4 w-4 text-green-600"}),t.jsx(il,{className:"text-green-800",children:j})]}),t.jsxs("div",{className:"mb-6",id:"foreign-upload-section",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Upload Travel Documents"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Auto-fill your details by uploading your passport and visa. AI will extract information automatically."}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[t.jsx(rf,{documentType:"passport",label:"Passport (Required)",onUploadComplete:yu,onExtractionComplete:O=>{},onUploadStatusChange:(O,Q)=>{O?yt(!0):(yt(!1),Ht(Q))},className:"min-h-[168px] sm:min-h-[220px]"},`foreign-passport-${Fe}`),t.jsx(rf,{documentType:"visa_front",label:"Visa (Required)",onUploadComplete:yu,onUploadStatusChange:(O,Q)=>{O?va(!0):(va(!1),Ht(Q))},className:"min-h-[168px] sm:min-h-[220px]"},`foreign-visa-${Fe}`)]}),ze.length>0&&t.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-green-700 flex items-center gap-2",children:[t.jsx(Wn,{className:"h-4 w-4"}),t.jsxs("strong",{children:[ze.length," document(s) uploaded."]})," Form fields have been auto-filled. Please verify the information."]})})]}),t.jsx("form",{ref:_e,onSubmit:Pg,className:"space-y-6",children:t.jsxs(wc,{value:V,onValueChange:O=>W(O),theme:e,className:"space-y-4",children:[t.jsxs("div",{className:"sm:hidden space-y-2",children:[t.jsxs("button",{type:"button",onClick:()=>je(O=>!O),className:"w-full h-10 rounded-md bg-gray-100 dark:bg-gray-700 text-sm font-medium flex items-center justify-between px-3",children:[t.jsx("span",{className:"truncate",children:V==="personal"?"Personal Info":V==="travel-documents"?"  Travel Docs":V==="form-c"?"Form C Details":"Booking"}),t.jsx("svg",{className:`h-4 w-4 transition-transform ${fe?"rotate(180deg)":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{d:"M5 7l5 5 5-5"})})]}),t.jsx("div",{className:`${fe?"max-h-56 mt-2":"max-h-0"} overflow-hidden transition-[max-height] duration-300`,children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${V==="personal"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{je(!1),W("personal")},children:"Personal Info"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${V==="travel-documents"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{je(!1),W("travel-documents")},children:"Travel Docs"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${V==="form-c"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{je(!1),W("form-c")},children:"Form C Details"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${V==="booking"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{je(!1),W("booking")},children:"Booking"})]})})]}),t.jsxs(ll,{className:"grid grid-cols-4",containerClassName:"hidden sm:block",theme:e,children:[t.jsx(Vs,{value:"personal",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Personal Info"}),t.jsx(Vs,{value:"travel-documents",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Travel Docs"}),t.jsx(Vs,{value:"form-c",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Form C Details"}),t.jsx(Vs,{value:"booking",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Booking"})]}),t.jsxs(ks,{value:"personal",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-name",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name *"}),t.jsx(ye,{id:"foreign-name",value:Z.fullName,onChange:O=>pt({...Z,fullName:O.target.value}),placeholder:"Enter your full name",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email *"}),t.jsx(ye,{id:"foreign-email",type:"email",inputMode:"email",autoComplete:"email",value:Z.email,onChange:O=>pt({...Z,email:O.target.value}),placeholder:"your.email@example.com",required:!0,className:"h-12 sm:h-11"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-phone",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number *"}),t.jsx(ye,{id:"foreign-phone",type:"tel",inputMode:"tel",autoComplete:"tel",value:Z.phone,onChange:O=>pt({...Z,phone:O.target.value}),placeholder:"+1 234 567 8900",required:!0,className:"h-12 sm:h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-address",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address *"}),t.jsx(ye,{id:"foreign-address",value:Z.address,onChange:O=>pt({...Z,address:O.target.value}),placeholder:"Enter your address",required:!0,className:"h-11"})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>W("travel-documents"),disabled:!ta(),className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"travel-documents",className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Passport Details"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-number",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passport Number *"}),t.jsx(ye,{id:"passport-number",value:Z.passportNumber,onChange:O=>pt({...Z,passportNumber:O.target.value}),placeholder:"KF0250087",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-country",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Country *"}),t.jsx(ye,{id:"passport-country",value:Z.passportCountry,onChange:O=>pt({...Z,passportCountry:O.target.value,country:O.target.value}),placeholder:"Estonia",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-nationality",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nationality"}),t.jsx(ye,{id:"passport-nationality",value:Z.passportNationality,onChange:O=>pt({...Z,passportNationality:O.target.value}),placeholder:"Estonia",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-date-of-birth",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date of Birth"}),t.jsx(ye,{id:"passport-date-of-birth",type:"date",value:Z.passportDateOfBirth,onChange:O=>pt({...Z,passportDateOfBirth:O.target.value}),className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-issue-date",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issue Date"}),t.jsx(ye,{id:"passport-issue-date",type:"date",value:Z.passportIssueDate,onChange:O=>pt({...Z,passportIssueDate:O.target.value}),className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-expiry-date",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expiry Date *"}),t.jsx(ye,{id:"passport-expiry-date",type:"date",value:Z.passportExpiryDate,onChange:O=>pt({...Z,passportExpiryDate:O.target.value}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-place-of-birth",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Place of Birth"}),t.jsx(ye,{id:"passport-place-of-birth",value:Z.passportPlaceOfBirth,onChange:O=>pt({...Z,passportPlaceOfBirth:O.target.value}),placeholder:"Tallinn, Estonia",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-3",children:[t.jsx(ee,{htmlFor:"passport-issuing-authority",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issuing Authority"}),t.jsx(ye,{id:"passport-issuing-authority",value:Z.passportIssuingAuthority,onChange:O=>pt({...Z,passportIssuingAuthority:O.target.value}),placeholder:"Police and Border Guard Board, Tallinn, Estonia",className:"h-11"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Visa Details (FRRO C-Form Ready)"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-type",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Type"}),t.jsx(ye,{id:"visa-type",value:Z.visaType,onChange:O=>pt({...Z,visaType:O.target.value}),placeholder:"Tourist",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-category",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Category"}),t.jsx(ye,{id:"visa-category",value:Z.visaCategory,onChange:O=>pt({...Z,visaCategory:O.target.value}),placeholder:"e-Visa",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-number",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Number"}),t.jsx(ye,{id:"visa-number",value:Z.visaNumber,onChange:O=>pt({...Z,visaNumber:O.target.value}),placeholder:"900F3927P",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-country",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Country"}),t.jsx(ye,{id:"visa-country",value:Z.visaCountry,onChange:O=>pt({...Z,visaCountry:O.target.value}),placeholder:"India",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-issue-date",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issue Date"}),t.jsx(ye,{id:"visa-issue-date",type:"date",value:Z.visaIssueDate,onChange:O=>pt({...Z,visaIssueDate:O.target.value}),className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-expiry-date",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expiry Date"}),t.jsx(ye,{id:"visa-expiry-date",type:"date",value:Z.visaExpiryDate,onChange:O=>pt({...Z,visaExpiryDate:O.target.value}),className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-place-of-issue",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Place of Issue"}),t.jsx(ye,{id:"visa-place-of-issue",value:Z.visaPlaceOfIssue,onChange:O=>pt({...Z,visaPlaceOfIssue:O.target.value}),placeholder:"New Delhi",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-purpose",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Purpose of Visit"}),t.jsx(ye,{id:"visa-purpose",value:Z.visaPurposeOfVisit,onChange:O=>pt({...Z,visaPurposeOfVisit:O.target.value}),placeholder:"Tourism",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-duration",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Duration of Stay"}),t.jsx(ye,{id:"visa-duration",value:Z.visaDurationOfStay,onChange:O=>pt({...Z,visaDurationOfStay:O.target.value}),placeholder:"90 days",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-entries",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Number of Entries"}),t.jsx(ye,{id:"visa-entries",value:Z.visaNumberOfEntries,onChange:O=>pt({...Z,visaNumberOfEntries:O.target.value}),placeholder:"Multiple",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-port-of-entry",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Port of Entry"}),t.jsx(ye,{id:"visa-port-of-entry",value:Z.visaPortOfEntry,onChange:O=>pt({...Z,visaPortOfEntry:O.target.value}),placeholder:"IGI AIRPORT, NEW DELHI",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-status",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Status"}),t.jsx(ye,{id:"visa-status",value:Z.visaStatus,onChange:O=>pt({...Z,visaStatus:O.target.value}),placeholder:"Active",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-3",children:[t.jsx(ee,{htmlFor:"visa-issuing-authority",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issuing Authority"}),t.jsx(ye,{id:"visa-issuing-authority",value:Z.visaIssuingAuthority,onChange:O=>pt({...Z,visaIssuingAuthority:O.target.value}),placeholder:"BUREAU OF IMMIGRATION INDIA",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-3",children:[t.jsx(ee,{htmlFor:"visa-remarks",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Remarks/Conditions"}),t.jsx(ye,{id:"visa-remarks",value:Z.visaRemarks,onChange:O=>pt({...Z,visaRemarks:O.target.value}),placeholder:"Each stay not to exceed 90 days",className:"h-11"})]})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>W("form-c"),disabled:!js(),className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"form-c",className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:t.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[t.jsx("strong",{children:"Form C Information:"})," These additional details are required by the FRRO (Foreigners Regional Registration Office) for foreign national registration in India. Complete these fields to enable automatic Form C PDF generation."]})}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsx(Je,{className:"text-md font-medium text-gray-800 dark:text-gray-200",children:"Accommodation Property"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Select property to auto-fill Indian address and contact details"})]}),t.jsx(ke,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"form-c-property",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Select Property *"}),t.jsxs(st,{value:Z.propertyId,onValueChange:O=>{console.log("=== PROPERTY SELECTION (Form C Tab) ==="),Ut(O)},children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select accommodation property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(he,{value:O.id.toString(),children:O.name},O.id))})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"This will automatically populate the Indian address fields below"})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Additional Personal Details"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"surname",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Surname (if any)",Z.surname&&t.jsx(Wn,{className:"h-3 w-3 text-green-600"})]}),t.jsx(ye,{id:"surname",value:Z.surname,onChange:O=>pt({...Z,surname:O.target.value}),placeholder:"Last name / Family name",className:"h-11"}),Z.surname&&t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from passport"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"sex",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sex/Gender *"}),t.jsxs(st,{value:Z.sex,onValueChange:O=>pt({...Z,sex:O}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select gender"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"Male",children:"Male"}),t.jsx(he,{value:"Female",children:"Female"}),t.jsx(he,{value:"Other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"special-category",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Special Category"}),t.jsx(ye,{id:"special-category",value:Z.specialCategory,onChange:O=>pt({...Z,specialCategory:O.target.value}),placeholder:"e.g., Others, VIP, Diplomat",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"permanent-city",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Permanent City (Home Country)",Z.permanentCity&&t.jsx(Wn,{className:"h-3 w-3 text-green-600"})]}),t.jsx(ye,{id:"permanent-city",value:Z.permanentCity,onChange:O=>pt({...Z,permanentCity:O.target.value}),placeholder:"City in your home country",className:"h-11"}),Z.permanentCity&&t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from place of birth"]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Address/Reference in India"}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"indian-address",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Indian Address *",Z.indianAddress&&t.jsx(Wn,{className:"h-3 w-3 text-blue-600"})]}),t.jsx(ye,{id:"indian-address",value:Z.indianAddress,onChange:O=>pt({...Z,indianAddress:O.target.value}),placeholder:"Complete address in India",required:!0,className:"h-11"}),Z.indianAddress&&t.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from selected property"]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-city-district",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"City/District *"}),t.jsx(ye,{id:"indian-city-district",value:Z.indianCityDistrict,onChange:O=>pt({...Z,indianCityDistrict:O.target.value}),placeholder:"City or District",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-state",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"State *"}),t.jsx(ye,{id:"indian-state",value:Z.indianState,onChange:O=>pt({...Z,indianState:O.target.value}),placeholder:"State",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-pincode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pincode *"}),t.jsx(ye,{id:"indian-pincode",value:Z.indianPincode,onChange:O=>pt({...Z,indianPincode:O.target.value}),placeholder:"6-digit pincode",required:!0,className:"h-11"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Arrival Information"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"arrived-from",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Arrived From (Last Port) *",Z.arrivedFrom&&t.jsx(Wn,{className:"h-3 w-3 text-green-600"})]}),t.jsx(ye,{id:"arrived-from",value:Z.arrivedFrom,onChange:O=>pt({...Z,arrivedFrom:O.target.value}),placeholder:"City, Country (e.g., London, UK)",required:!0,className:"h-11"}),Z.arrivedFrom&&t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from passport nationality"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"date-arrival-india",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date of Arrival in India *"}),t.jsx(ye,{id:"date-arrival-india",type:"date",value:Z.dateOfArrivalInIndia,onChange:O=>pt({...Z,dateOfArrivalInIndia:O.target.value}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"date-arrival-accommodation",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date of Arrival at Accommodation *"}),t.jsx(ye,{id:"date-arrival-accommodation",type:"date",value:Z.dateOfArrivalAtAccommodation,onChange:O=>pt({...Z,dateOfArrivalAtAccommodation:O.target.value}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"time-arrival",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Time of Arrival *"}),t.jsx(ye,{id:"time-arrival",type:"time",value:Z.timeOfArrival,onChange:O=>pt({...Z,timeOfArrival:O.target.value}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"intended-duration",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Intended Duration (Days) *"}),t.jsx(ye,{id:"intended-duration",type:"number",min:"1",value:Z.intendedDuration,onChange:O=>pt({...Z,intendedDuration:parseInt(O.target.value)||7}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"employed-india",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Employed in India? *"}),t.jsxs(st,{value:Z.employedInIndia,onValueChange:O=>pt({...Z,employedInIndia:O}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"N",children:"No"}),t.jsx(he,{value:"Y",children:"Yes"})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Other Details"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"purpose-visit",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Purpose of Visit *"}),t.jsx(ye,{id:"purpose-visit",value:Z.purposeOfVisit,onChange:O=>pt({...Z,purposeOfVisit:O.target.value}),placeholder:"e.g., Tourism, Business",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"next-place",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Next Place of Visit"}),t.jsx(ye,{id:"next-place",value:Z.nextPlace,onChange:O=>pt({...Z,nextPlace:O.target.value}),placeholder:"Next destination",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"destination-city",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Next Destination City"}),t.jsx(ye,{id:"destination-city",value:Z.destinationCityDistrict,onChange:O=>pt({...Z,destinationCityDistrict:O.target.value}),placeholder:"City/District",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"destination-state",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Next Destination State"}),t.jsx(ye,{id:"destination-state",value:Z.destinationState,onChange:O=>pt({...Z,destinationState:O.target.value}),placeholder:"State",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"mobile-india",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Mobile No. in India",Z.mobileNoIndia&&t.jsx(Wn,{className:"h-3 w-3 text-blue-600"})]}),t.jsx(ye,{id:"mobile-india",type:"tel",value:Z.mobileNoIndia,onChange:O=>pt({...Z,mobileNoIndia:O.target.value}),placeholder:"+91 XXXXXXXXXX",className:"h-11"}),Z.mobileNoIndia&&t.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from property contact"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"contact-permanent",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Permanent Contact No."}),t.jsx(ye,{id:"contact-permanent",type:"tel",value:Z.contactNoPermanent,onChange:O=>pt({...Z,contactNoPermanent:O.target.value}),placeholder:"Contact in home country",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"mobile-permanent",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Permanent Mobile No."}),t.jsx(ye,{id:"mobile-permanent",type:"tel",value:Z.mobileNoPermanent,onChange:O=>pt({...Z,mobileNoPermanent:O.target.value}),placeholder:"Mobile in home country",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[t.jsx(ee,{htmlFor:"remarks",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Remarks (Optional)"}),t.jsx(ye,{id:"remarks",value:Z.remarks,onChange:O=>pt({...Z,remarks:O.target.value}),placeholder:"Any additional information",className:"h-11"})]})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>W("booking"),disabled:!Z.indianAddress||!Z.indianCityDistrict||!Z.indianState||!Z.indianPincode||!Z.arrivedFrom||!Z.dateOfArrivalInIndia||!Z.dateOfArrivalAtAccommodation||!Z.purposeOfVisit,className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"booking",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-property",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Property *"}),t.jsxs(st,{value:Z.propertyId,onValueChange:O=>{console.log("=== PROPERTY SELECTION (Booking Tab) ==="),Ut(O)},children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(he,{value:O.id.toString(),children:O.name},O.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-room",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Room Number (Optional)"}),t.jsx(ye,{id:"foreign-room",value:Z.roomNumber,onChange:O=>pt({...Z,roomNumber:O.target.value}),placeholder:"101",className:"h-11"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-guests",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Number of Guests"}),t.jsx(ye,{id:"foreign-guests",type:"number",inputMode:"numeric",min:"1",value:Z.numberOfGuests,onChange:O=>pt({...Z,numberOfGuests:parseInt(O.target.value)||1}),className:"h-12 sm:h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-checkout",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expected Checkout Date"}),t.jsx(ye,{id:"foreign-checkout",type:"date",value:Z.expectedCheckoutDate,onChange:O=>pt({...Z,expectedCheckoutDate:O.target.value}),className:"h-11"})]})]}),t.jsx(se,{type:"submit",className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",disabled:g||!co()||!Tt||!xs,children:g?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"h-5 w-5 mr-2 animate-spin"}),"Processing..."]}):!Tt||!xs?t.jsxs(t.Fragment,{children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),!Tt&&!xs?"Please upload passport and visa":Tt?"Please upload visa":"Please upload passport"]}):co()?t.jsxs(t.Fragment,{children:[t.jsx(Ca,{className:"h-5 w-5 mr-2"}),"Complete Check-in"]}):t.jsxs(t.Fragment,{children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),Z.propertyId===""?"Please select a property":"Please fill required fields"]})})]})]})}),$==="foreign-guest"&&t.jsx("div",{className:"sm:hidden fixed bottom-0 inset-x-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-3 py-3 pb-safe z-40",children:t.jsxs("div",{className:"flex gap-2",children:[V!=="personal"?t.jsx(se,{type:"button",variant:"outline",className:"flex-1 h-12",onClick:()=>{V==="booking"?W("form-c"):V==="form-c"?W("travel-documents"):V==="travel-documents"&&W("personal")},children:"Back"}):null,t.jsx(se,{type:"button",className:"flex-1 h-12 bg-green-600 hover:bg-green-700 text-white",disabled:V==="personal"&&!ta()||V==="travel-documents"&&!js()||V==="booking"&&(g||!co()||!xs||!Tt),onClick:()=>{var O,Q;V==="personal"?ta()&&W("travel-documents"):V==="travel-documents"?js()&&W("form-c"):V==="form-c"?W("booking"):!g&&co()&&Tt&&xs&&((Q=(O=_e.current)==null?void 0:O.requestSubmit)==null||Q.call(O))},children:V==="booking"?g?"Processing":"Complete Check-in":"Continue"})]})})]})]})}),t.jsxs(ks,{value:"guest-details",className:"space-y-6 mt-0 pb-12",children:[t.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm ${K?"flex":"hidden"} items-center justify-center z-50 p-4`,children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 sm:p-8 w-full max-w-3xl transform transition-all",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Add New Guest"}),t.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",onClick:()=>X(!1),children:t.jsx(is,{className:"h-6 w-6"})})]}),t.jsxs("form",{onSubmit:O=>O.preventDefault(),className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"guest-name",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Full Name"}),t.jsx(ye,{id:"guest-name",type:"text",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"dob",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Date of Birth"}),t.jsx(ye,{id:"dob",type:"date",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"nationality",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Nationality"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select nationality"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"indian",children:"Indian"}),t.jsx(he,{value:"foreign",children:"Foreign"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"id-proof",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"ID Proof"}),t.jsx(ye,{id:"id-proof",type:"file",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"payment-proof",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Payment Proof"}),t.jsx(ye,{id:"payment-proof",type:"file",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"days-stay",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"No. of Days"}),t.jsx(ye,{id:"days-stay",type:"number",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"property",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Property"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(he,{value:O.id.toString(),children:O.name},O.id))})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"room-type",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Room Type"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select room type"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"single",children:"Single Room"}),t.jsx(he,{value:"double",children:"Double Room"}),t.jsx(he,{value:"dorm-4",children:"Dormitory (4 beds)"}),t.jsx(he,{value:"dorm-8",children:"Dormitory (8 beds)"})]})]})]}),t.jsxs("div",{className:"md:col-span-2 flex justify-end gap-4 mt-4",children:[t.jsx(se,{variant:"outline",onClick:()=>X(!1),type:"button",children:"Cancel"}),t.jsx(se,{className:"bg-green-600 hover:bg-green-700",type:"button",onClick:()=>X(!1),children:"Add Guest"})]})]})]})}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-lg overflow-visible bg-white dark:bg-gray-800",children:[t.jsx(Qe,{className:"pb-6 border-b border-gray-100 dark:border-gray-700",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs(Je,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:t.jsx(nn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),"Guest List",t.jsxs("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-3 py-1 rounded-full font-medium",children:[p.length," ",p.length===1?"Guest":"Guests"]})]}),t.jsx(Dt,{className:"mt-2 text-gray-600 dark:text-gray-400",children:"View and manage all checked-in guests"})]}),t.jsx("div",{className:"flex-shrink-0 flex gap-3",children:t.jsxs(se,{variant:"outline",onClick:Wa,disabled:g,className:"flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-700",children:[t.jsx(mt,{className:`h-4 w-4 ${g?"animate-spin":""}`}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})})]})}),t.jsxs(ke,{className:"overflow-visible pt-6",children:[t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 sm:p-5 mb-6 border border-gray-200 dark:border-gray-700",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter Guests"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-guest-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Guest Name"}),t.jsx(ye,{id:"filter-guest-name",placeholder:"Search by name",type:"text",className:"h-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",value:R,onChange:O=>F(O.target.value)})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-checkin-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Check-in Date"}),t.jsx(ye,{id:"filter-checkin-date",type:"date",className:"h-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",value:z,onChange:O=>J(O.target.value)})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-property",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property"}),t.jsxs(st,{value:D,onValueChange:A,children:[t.jsx(nt,{className:"h-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:t.jsx(at,{placeholder:"All Properties"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Properties"}),l.map(O=>t.jsx(he,{value:O.id.toString(),children:O.name},O.id))]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nationality"}),t.jsxs("div",{className:"flex items-center w-full h-10 rounded-md border border-gray-300 dark:border-gray-600 overflow-hidden bg-white dark:bg-gray-800",children:[t.jsx(se,{type:"button",variant:"ghost",className:`flex-1 h-full rounded-none text-xs font-medium transition-colors ${C==="all"?"bg-blue-600 text-white hover:bg-blue-700 hover:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>P("all"),children:"All"}),t.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),t.jsx(se,{type:"button",variant:"ghost",className:`flex-1 h-full rounded-none text-xs font-medium transition-colors ${C==="indian"?"bg-blue-600 text-white hover:bg-blue-700 hover:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>P(O=>O==="indian"?"all":"indian"),children:"Indian"}),t.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),t.jsx(se,{type:"button",variant:"ghost",className:`flex-1 h-full rounded-none text-xs font-medium transition-colors ${C==="foreign"?"bg-blue-600 text-white hover:bg-blue-700 hover:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>P(O=>O==="foreign"?"all":"foreign"),children:"Foreign"})]})]})]})]}),g?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-green-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Loading guests..."})]})}):w?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(is,{className:"h-8 w-8 text-red-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-red-900 dark:text-red-100",children:w}),t.jsxs(se,{onClick:Wa,variant:"outline",className:"mt-4",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}):t.jsx("div",{className:"overflow-x-auto overflow-y-visible rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("table",{className:"min-w-[640px] w-full table-fixed text-xs sm:text-sm text-left",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Guest Name"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Property"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Nationality"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Room Type"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Check-in Date"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Days"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider text-right",children:"Actions"})]})}),t.jsxs("tbody",{className:"relative",children:[(console.log("=== GUEST LIST RENDER DEBUG ==="),console.log("checkIns state:",p),console.log("checkIns.length:",p.length),console.log("checkIns type:",typeof p),console.log("Is array:",Array.isArray(p)),null),p.length===0?t.jsx("tr",{children:t.jsxs("td",{colSpan:7,className:"p-8 text-center text-gray-500",children:['No guests found. Click "Add Guest" to get started.',t.jsx("br",{}),t.jsxs("small",{className:"text-xs text-gray-400 mt-2 block",children:["Debug: checkIns.length = ",p.length]})]})}):p.map(O=>t.jsxs("tr",{className:`border-b border-gray-100 dark:border-gray-700 transition-all duration-200 ${St===O.id?"bg-blue-50 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-300 dark:ring-blue-700 shadow-sm":"hover:bg-gray-50 dark:hover:bg-gray-800/50 bg-white dark:bg-gray-850"}`,children:[t.jsx("td",{className:"px-4 py-4 font-medium text-gray-900 dark:text-gray-100",children:O.fullName}),t.jsx("td",{className:"px-4 py-4 text-gray-600 dark:text-gray-400",children:O.propertyName}),t.jsx("td",{className:"px-4 py-4",children:t.jsx(Lt,{variant:O.guestType==="indian"?"default":"secondary",className:O.guestType==="indian"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 font-medium":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 font-medium",children:O.guestType==="indian"?"Indian":"Foreign"})}),t.jsx("td",{className:"px-4 py-4 text-gray-600 dark:text-gray-400",children:O.roomNumber||"Not assigned"}),t.jsx("td",{className:"px-4 py-4 text-gray-600 dark:text-gray-400",children:new Date(O.checkInDate).toLocaleDateString()}),t.jsx("td",{className:"px-4 py-4 text-gray-600 dark:text-gray-400",children:O.expectedCheckoutDate?Math.ceil((new Date(O.expectedCheckoutDate).getTime()-new Date(O.checkInDate).getTime())/(1e3*60*60*24)):"N/A"}),t.jsx("td",{className:"px-4 py-4 relative text-right",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{size:"sm",variant:"ghost",className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>vu(O),title:"View Documents",children:t.jsx(un,{className:"h-4 w-4"})}),t.jsxs("div",{className:"relative inline-block",children:[t.jsx(se,{size:"sm",variant:"ghost",className:`p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${St===O.id?"bg-gray-100 dark:bg-gray-700":""}`,title:"More actions",onClick:Q=>{Q.stopPropagation(),fn(O.id,Q)},children:t.jsx(J0,{className:"h-4 w-4"})}),St===O.id&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:Q=>{Q.stopPropagation(),cs(null)},"aria-hidden":"true"}),t.jsx("div",{className:"fixed w-56 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 shadow-2xl z-[70]",style:{top:`${wi.top}px`,left:`${wi.left}px`,transform:`translateY(${En==="top"?"-100%":"0"})`,transformOrigin:En==="top"?"bottom right":"top right",maxHeight:"300px"},onClick:Q=>Q.stopPropagation(),children:t.jsxs("div",{className:"py-1",children:[t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",onClick:Q=>{Q.stopPropagation(),bu(O)},children:[t.jsx(un,{className:"h-4 w-4"}),t.jsx("span",{children:"View guest details"})]}),O.guestType==="foreign"&&t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",onClick:Q=>{Q.stopPropagation(),vm(O)},children:[t.jsx(Rs,{className:"h-4 w-4"}),t.jsx("span",{children:"C-Form ready"})]}),t.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center gap-2",onClick:Q=>{Q.stopPropagation(),Sc(O.id,O.fullName)},children:[t.jsx(jn,{className:"h-4 w-4"}),t.jsx("span",{children:"Delete"})]})]})})]})]})]})})]},O.id))]})]})})]})]})]}),t.jsxs(ks,{value:"audit-logs",className:"space-y-4 mt-0 pb-12",children:[t.jsx(MJ,{filters:jt,onFiltersChange:O=>{Ft(O);const Q=on(O);Be(Q)},onClear:()=>{Ft({}),As.current({},{silent:!0,replace:!0})}}),t.jsx(PJ,{logs:te,isLoading:le,error:Se,pagination:dt,onRefresh:()=>As.current(ba.current,{replace:!0}),onExport:xe,onViewDetails:O=>{ea(O),Gt(!0)}})]})]}),ys&&bt&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-slate-900/60 dark:bg-black/70",onClick:()=>Ks(!1)}),t.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white dark:bg-[#18212a] shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 p-4 sm:p-6 border-b border-slate-200 dark:border-slate-700/60",children:[t.jsx("div",{className:"w-8 sm:w-10"}),t.jsx("div",{className:"flex-1 text-center",children:t.jsx("p",{className:"text-base sm:text-lg font-bold text-slate-800 dark:text-slate-200 tracking-tight",children:"Guest Details"})}),t.jsx("button",{className:"flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>Ks(!1),"aria-label":"Close modal",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"flex flex-col p-4 sm:p-6 space-y-4 sm:space-y-6 max-h-[calc(100vh-120px)] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[t.jsx("div",{className:"flex h-14 w-14 sm:h-16 sm:w-16 shrink-0 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800",children:t.jsx(Ya,{className:"h-7 w-7 sm:h-8 sm:w-8 text-slate-500 dark:text-slate-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xl sm:text-2xl font-black leading-tight tracking-tight text-slate-900 dark:text-white truncate",children:bt.fullName}),t.jsx(Lt,{variant:bt.guestType==="indian"?"default":"secondary",className:`mt-1 text-xs ${bt.guestType==="indian"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:bt.guestType==="indian"?"Indian Guest":"Foreign Guest"})]})]}),t.jsxs("div",{className:"flex flex-col divide-y divide-slate-200 dark:divide-slate-700/60",children:[t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(qE,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Mobile Number"}),t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.phone||"Not provided"})]}),bt.phone&&t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.phone,"Phone number"),"aria-label":"Copy phone number",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx($d,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Email Address"}),t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.email||"Not provided"})]}),bt.email&&t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.email,"Email"),"aria-label":"Copy email",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 py-3 sm:py-4",children:[t.jsx(BE,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Address"}),t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-slate-200 break-words",children:bt.address||"Not provided"})]}),bt.address&&t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.address,"Address"),"aria-label":"Copy address",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(Pf,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Allotted Room"}),t.jsx("p",{className:"text-sm sm:text-base font-mono font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.roomNumber?`Room ${bt.roomNumber}`:"Not assigned"})]}),bt.roomNumber&&t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.roomNumber||"","Room number"),"aria-label":"Copy room number",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),bt.guestType==="indian"&&bt.aadharNumber&&t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(nl,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Aadhaar Number"}),t.jsx("p",{className:"text-sm sm:text-base font-mono font-medium text-slate-800 dark:text-slate-200 truncate",children:(Cc=bt.aadharNumber)==null?void 0:Cc.replace(/(\d{4})(\d{4})(\d{4})/,"$1 $2 $3")})]}),t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.aadharNumber||"","Aadhaar number"),"aria-label":"Copy Aadhaar number",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),bt.guestType==="foreign"&&bt.passportNumber&&t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(Kl,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Passport Number"}),t.jsx("p",{className:"text-sm sm:text-base font-mono font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.passportNumber})]}),t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.passportNumber||"","Passport number"),"aria-label":"Copy passport number",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),bt.guestType==="foreign"&&bt.country&&t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(Kl,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Country"}),t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.country})]}),t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.country||"","Country"),"aria-label":"Copy country",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]})]})]})]})]}),Zt&&es&&t.jsx(IJ,{open:Zt,onClose:()=>as(!1),guestCheckInId:es.id,guestName:es.fullName,documents:Ye}),t.jsx(_J,{open:kt,onClose:()=>{Gt(!1),ea(null)},log:Wt})]})})})}):t.jsx("div",{className:"h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden",children:t.jsxs("div",{className:"h-full p-8 overflow-y-auto",children:[t.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 ${a==="add-guest"?"flex":"hidden"} items-center justify-center z-50`,children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-3xl transform transition-all",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Add New Guest"}),t.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",onClick:()=>r("admin-dashboard"),children:t.jsx(is,{className:"h-6 w-6"})})]}),t.jsxs("form",{onSubmit:O=>O.preventDefault(),className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"guest-name",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Full Name"}),t.jsx(ye,{id:"guest-name",type:"text",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"dob",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Date of Birth"}),t.jsx(ye,{id:"dob",type:"date",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"nationality",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Nationality"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select nationality"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"indian",children:"Indian"}),t.jsx(he,{value:"foreign",children:"Foreign"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"id-proof",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"ID Proof"}),t.jsx(ye,{id:"id-proof",type:"file",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"payment-proof",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Payment Proof"}),t.jsx(ye,{id:"payment-proof",type:"file",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"days-stay",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"No. of Days"}),t.jsx(ye,{id:"days-stay",type:"number",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"property",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Property"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(he,{value:O.id.toString(),children:O.name},O.id))})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"room-type",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Room Type"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select room type"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"single",children:"Single Room"}),t.jsx(he,{value:"double",children:"Double Room"}),t.jsx(he,{value:"dorm-4",children:"Dormitory (4 beds)"}),t.jsx(he,{value:"dorm-8",children:"Dormitory (8 beds)"})]})]})]}),t.jsxs("div",{className:"md:col-span-2 flex justify-end gap-4 mt-4",children:[t.jsx(se,{variant:"outline",onClick:()=>r("admin-dashboard"),type:"button",children:"Cancel"}),t.jsx(se,{className:"bg-green-600 hover:bg-green-700",type:"button",onClick:()=>r("admin-dashboard"),children:"Add Guest"})]})]})]})}),t.jsx(Te,{className:"shadow-sm overflow-visible",children:t.jsxs(ke,{className:"p-6 overflow-visible",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Guest List"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"View and manage all checked-in guests."})]}),t.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 w-full md:w-auto",children:t.jsxs(se,{className:"flex items-center gap-2 bg-green-600 hover:bg-green-700",onClick:()=>r("add-guest"),children:[t.jsx(Ya,{className:"h-4 w-4"}),"Add Guest"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-guest-name-mobile",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Guest Name"}),t.jsx(ye,{id:"filter-guest-name-mobile",placeholder:"Search by name",type:"text",className:"text-sm",value:R,onChange:O=>F(O.target.value)})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-checkin-date-mobile",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Check-in Date"}),t.jsx(ye,{id:"filter-checkin-date-mobile",type:"date",className:"text-sm",value:z,onChange:O=>J(O.target.value)})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-property-mobile",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Property"}),t.jsxs(st,{value:D,onValueChange:A,children:[t.jsx(nt,{className:"text-sm",children:t.jsx(at,{placeholder:"All Properties"})}),t.jsxs(rt,{children:[t.jsx(he,{value:"all",children:"All Properties"}),l.map(O=>t.jsx(he,{value:O.id.toString(),children:O.name},O.id))]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Nationality"}),t.jsxs("div",{className:"flex items-center w-full",children:[t.jsx(se,{variant:C==="all"?"default":"outline",className:"flex-1 rounded-r-none border-r-0 text-xs px-2 py-2",onClick:()=>P("all"),children:"All"}),t.jsx(se,{variant:C==="indian"?"default":"outline",className:"flex-1 rounded-none border-r-0 text-xs px-2 py-2",onClick:()=>P(O=>O==="indian"?"all":"indian"),children:"Indian"}),t.jsx(se,{variant:C==="foreign"?"default":"outline",className:"flex-1 rounded-l-none text-xs px-2 py-2",onClick:()=>P(O=>O==="foreign"?"all":"foreign"),children:"Foreign"})]})]})]}),g?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-green-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Loading guests..."})]})}):w?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(is,{className:"h-8 w-8 text-red-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-red-900 dark:text-red-100",children:w}),t.jsxs(se,{onClick:Wa,variant:"outline",className:"mt-4",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}):t.jsx("div",{className:"overflow-x-auto overflow-y-visible rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("table",{className:"min-w-[640px] w-full table-fixed text-xs sm:text-sm text-left",children:[t.jsx("thead",{className:"border-b border-gray-200 dark:border-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Guest Name"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Property"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Nationality"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Room Type"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Check-in Date"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Days"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Actions"})]})}),t.jsx("tbody",{className:"relative",children:p.map(O=>t.jsxs("tr",{className:`border-b border-gray-200 dark:border-gray-700 transition-colors ${St===O.id?"bg-blue-50 dark:bg-blue-900/20 ring-2 ring-blue-200 dark:ring-blue-700":"hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,children:[t.jsx("td",{className:"p-3 font-medium",children:O.fullName}),t.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-400",children:O.propertyName}),t.jsx("td",{className:"p-3",children:t.jsx(Lt,{variant:O.guestType==="indian"?"default":"secondary",className:O.guestType==="indian"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:O.guestType==="indian"?"Indian":"Foreign"})}),t.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-400",children:O.roomNumber||"Not assigned"}),t.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-400",children:new Date(O.checkInDate).toLocaleDateString()}),t.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-400",children:O.expectedCheckoutDate?Math.ceil((new Date(O.expectedCheckoutDate).getTime()-new Date(O.checkInDate).getTime())/(1e3*60*60*24)):"N/A"}),t.jsx("td",{className:"p-3 relative",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{size:"sm",variant:"ghost",className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>vu(O),title:"View Documents",children:t.jsx(un,{className:"h-4 w-4"})}),t.jsx(se,{size:"sm",variant:"ghost",className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Edit",children:t.jsx(jr,{className:"h-4 w-4"})}),t.jsxs("div",{className:"relative inline-block",children:[t.jsx(se,{size:"sm",variant:"ghost",className:`p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${St===O.id?"bg-gray-100 dark:bg-gray-700":""}`,title:"More actions",onClick:Q=>{Q.stopPropagation(),fn(O.id,Q)},children:t.jsx(J0,{className:"h-4 w-4"})}),St===O.id&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:Q=>{Q.stopPropagation(),cs(null)},"aria-hidden":"true"}),t.jsx("div",{className:"fixed w-56 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 shadow-2xl z-[70]",style:{top:`${wi.top}px`,left:`${wi.left}px`,transform:`translateY(${En==="top"?"-100%":"0"})`,transformOrigin:En==="top"?"bottom right":"top right",maxHeight:"300px"},onClick:Q=>Q.stopPropagation(),children:t.jsxs("div",{className:"py-1",children:[t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",onClick:Q=>{Q.stopPropagation(),bu(O)},children:[t.jsx(un,{className:"h-4 w-4"}),t.jsx("span",{children:"View guest details"})]}),O.guestType==="foreign"&&t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",onClick:Q=>{Q.stopPropagation(),vm(O)},children:[t.jsx(Rs,{className:"h-4 w-4"}),t.jsx("span",{children:"C-Form ready"})]}),t.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center gap-2",onClick:Q=>{Q.stopPropagation(),Sc(O.id,O.fullName)},children:[t.jsx(jn,{className:"h-4 w-4"}),t.jsx("span",{children:"Delete"})]})]})})]})]})]})})]},O.id))})]})})]})})]})})}function VJ({children:e}){const{user:s,isLoading:n}=$s(),a=kn();return n?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Tn,{className:"h-8 w-8 animate-spin"})}):s?t.jsx(t.Fragment,{children:e}):t.jsx($k,{to:"/login",state:{from:a},replace:!0})}const Go=[{id:"session",label:"Securing your session...",description:"Saving your work and preferences",icon:t.jsx(nn,{className:"h-4 w-4"}),duration:800},{id:"activity",label:"Recording logout activity...",description:"Updating your activity log",icon:t.jsx(xL,{className:"h-4 w-4"}),duration:700},{id:"cache",label:"Clearing cached data...",description:"Removing sensitive information",icon:t.jsx(Ub,{className:"h-4 w-4"}),duration:800},{id:"tokens",label:"Revoking access tokens...",description:"Invalidating authentication tokens",icon:t.jsx(Vb,{className:"h-4 w-4"}),duration:700},{id:"complete",label:"Logout successful!",description:"You have been securely logged out",icon:t.jsx(Ca,{className:"h-4 w-4 text-green-500"}),duration:600}];function BJ({isOpen:e,onComplete:s,onCancel:n}){var E,T;const[a,r]=x.useState(0),[l,c]=x.useState(new Set),[u,m]=x.useState(0),p=x.useRef(!1),f=x.useRef(!1),g=x.useRef(new Set),v=x.useRef(new Set),w=x.useCallback(()=>{g.current.forEach(C=>clearTimeout(C)),v.current.forEach(C=>clearInterval(C)),g.current.clear(),v.current.clear()},[]),N=x.useCallback(()=>{console.log(" Resetting logout progress state"),r(0),c(new Set),m(0),p.current=!1,f.current=!1},[]),j=x.useCallback(()=>{if(p.current||f.current){console.log(" Step progression already running or completed, skipping");return}p.current=!0,console.log(" Starting step progression"),f.current=!1;const C=Go.length,D=setTimeout(()=>{f.current||(console.warn(" Logout progress timeout, forcing completion"),f.current=!0,r(C-1),c(new Set(Go.map((R,F)=>F))),m(100),setTimeout(()=>{s==null||s(),p.current=!1},500))},6e3);g.current.add(D);const A=R=>{if(f.current||R>=C){f.current=!0,r(C-1),c(new Set(Go.map((K,X)=>X))),m(100),console.log(" All steps completed"),setTimeout(()=>{s==null||s(),p.current=!1},500);return}const F=Go[R];console.log(` Executing step ${R+1}: ${F.label}`),r(R);const z=R/C*100;console.log(` Setting progress to ${z}% for step ${R+1}`),m(z);const J=setTimeout(()=>{if(f.current)return;c(X=>new Set([...X,R])),console.log(` Completed step ${R+1}: ${F.label}`);const K=(R+1)/C*100;console.log(` Updating progress to ${K}% after completing step ${R+1}`),m(K),A(R+1)},F.duration);g.current.add(J)};console.log(" Starting first step execution"),A(0)},[s]);x.useEffect(()=>{if(!e){w(),N();return}return console.log(" Dialog opened, starting step progression"),j(),()=>{w()}},[e,j,w,N]);const S=(C,P)=>l.has(C)?t.jsx(Ca,{className:"h-4 w-4 text-green-500"}):C===a?t.jsx(Tn,{className:"h-4 w-4 animate-spin text-red-500"}):t.jsx(If,{className:"h-4 w-4 text-gray-300"});return t.jsx(bs,{open:e,onOpenChange:()=>{},children:t.jsxs(Es,{className:"sm:max-w-md",showCloseButton:!1,children:[t.jsx(Bs,{className:"sr-only",children:"Logout Progress"}),t.jsxs("div",{className:"flex flex-col items-center space-y-4 py-4",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx(Tn,{className:"h-8 w-8 text-red-500 animate-spin mx-auto"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Signing you out..."}),t.jsx("p",{className:"text-sm text-gray-500",children:"Please wait while we securely log you out"})]}),t.jsxs("div",{className:"w-full space-y-2",children:[t.jsx(Zb,{value:u,className:"w-full h-2"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsxs("span",{children:[Math.round(u),"%"]}),t.jsxs("span",{children:[a+1," of ",Go.length]})]})]}),t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:S(a,Go[a])}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-red-900",children:(E=Go[a])==null?void 0:E.label}),t.jsx("p",{className:"text-xs text-red-600",children:(T=Go[a])==null?void 0:T.description})]})]})})})]})]})})}function zJ({isOpen:e,onClose:s,userData:n,dashboardData:a,onboardingSteps:r,markStepCompleted:l}){const{user:c}=$s(),{theme:u}=_a(),m=Tr(),[p,f]=x.useState(new Date);x.useEffect(()=>{const j=setInterval(()=>{f(new Date)},1e3);return()=>clearInterval(j)},[]),x.useEffect(()=>{const j=S=>{S.key==="Escape"&&e&&s()};return e&&(document.addEventListener("keydown",j),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",j),document.body.style.overflow="unset"}},[e,s]);const g=()=>{const j=p.getHours();return j<12?"Good morning":j<18?"Good afternoon":"Good evening"},v=()=>{if(!a)return[];const j=[];return a.pendingApprovals>0&&j.push({id:"pending-approvals",title:"Pending Approvals",description:"Items requiring your attention",count:a.pendingApprovals,priority:"high",icon:t.jsx(is,{className:"h-4 w-4 text-red-500"}),action:{label:"Review Now",onClick:()=>{m("/finance"),s()}}}),a.urgentTasks>0&&j.push({id:"urgent-tasks",title:"Urgent Tasks",description:"High priority tasks due soon",count:a.urgentTasks,priority:"high",icon:t.jsx(Zn,{className:"h-4 w-4 text-orange-500"}),action:{label:"View Tasks",onClick:()=>{m("/tasks"),s()}}}),a.overdueTasks>0&&j.push({id:"overdue-tasks",title:"Overdue Tasks",description:"Tasks past their due date",count:a.overdueTasks,priority:"high",icon:t.jsx(is,{className:"h-4 w-4 text-red-500"}),action:{label:"View Tasks",onClick:()=>{m("/tasks"),s()}}}),a.financialPending>0&&j.push({id:"financial-pending",title:"Financial Pending",description:"Expenses and revenues awaiting approval",count:a.financialPending,priority:"medium",icon:t.jsx(Nn,{className:"h-4 w-4 text-blue-500"}),action:{label:"Review Finance",onClick:()=>{m("/finance"),s()}}}),j.length===0&&j.push({id:"active-tasks",title:"Active Tasks",description:"Tasks in progress",count:a.activeTasks,priority:"low",icon:t.jsx(Of,{className:"h-4 w-4 text-blue-500"}),action:{label:"View All",onClick:()=>{m("/tasks"),s()}}}),j.slice(0,3)},w=()=>{if(n!=null&&n.hasProperties)return null;const j=[{id:"create-property",title:"Add Your First Property",description:"Set up your hotel, hostel, resort, or apartment",icon:t.jsx(ca,{className:"h-6 w-6 text-blue-500"}),action:()=>{m("/properties"),s()}},{id:"create-task",title:"Create Your First Task",description:"Start managing operations and workflows",icon:t.jsx(ra,{className:"h-6 w-6 text-green-500"}),action:()=>{m("/tasks"),s()}}];return(n==null?void 0:n.role)==="ADMIN"&&j.splice(1,0,{id:"invite-team",title:"Invite Team Members",description:"Create manager accounts for your team",icon:t.jsx(Wi,{className:"h-6 w-6 text-purple-500"}),action:()=>{m("/users"),s()}}),j},N=v();return w(),t.jsx(Cw,{children:e&&t.jsx(Nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4",onClick:j=>{j.target===j.currentTarget&&s()},children:t.jsxs(Nr.div,{initial:{scale:.95,opacity:0,y:10},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},transition:{type:"spring",duration:.3,bounce:.1},className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl max-w-lg w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden ring-1 ring-black ring-opacity-5",onClick:j=>j.stopPropagation(),children:[t.jsx("div",{className:"relative p-4 sm:p-6 pb-3 sm:pb-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold",children:((n==null?void 0:n.name)||(c==null?void 0:c.displayName)||"U").charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[g(),", ",(n==null?void 0:n.name)||(c==null?void 0:c.displayName),"! "]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx(Zn,{className:"h-3 w-3"}),t.jsxs("span",{children:[p.toLocaleDateString(),"  ",p.toLocaleTimeString()]})]})]})]}),t.jsx(Lt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:(n==null?void 0:n.role)||(c==null?void 0:c.role)})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0 hover:bg-gray-100 rounded-full",children:t.jsx(Ws,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"px-4 sm:px-6 pb-4 overflow-y-auto max-h-[calc(95vh-180px)] sm:max-h-[calc(90vh-200px)]",children:[(n==null?void 0:n.isNewUser)&&t.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl",children:""}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Welcome to Your Hospitality Management Platform!"}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Let's get you set up in just a few steps. This will help you manage your properties, staff, and operations efficiently."}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600",children:[t.jsx(Zn,{className:"h-3 w-3"}),t.jsxs("span",{children:["Account created ",n.accountAge===0?"today":`${n.accountAge} day${n.accountAge===1?"":"s"} ago`]})]})]})]})}),(n==null?void 0:n.isNewUser)&&r&&r.length>0&&t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3 flex items-center gap-2",children:[t.jsx(Of,{className:"h-4 w-4",style:{color:u.primaryColor}}),"Getting Started Checklist"]}),t.jsx("div",{className:"space-y-2",children:r.map((j,S)=>t.jsxs("div",{className:`flex items-center gap-2 sm:gap-3 p-2 sm:p-3 rounded-xl border transition-all duration-200 cursor-pointer hover:shadow-md ${j.completed?"border-green-200 bg-green-50 hover:bg-green-100":j.required?"border-blue-200 bg-blue-50 hover:bg-blue-100":"border-gray-200 bg-gray-50 hover:bg-gray-100"}`,onClick:()=>{m(j.action.route),l&&!j.completed&&l(j.id),s()},children:[t.jsx("div",{className:"flex-shrink-0",children:j.completed?t.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(Ca,{className:"h-4 w-4 text-white"})}):t.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm ${j.required?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:S+1})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:j.icon}),t.jsx("h4",{className:`font-medium text-sm ${j.completed?"text-green-900":"text-gray-900"}`,children:j.title}),j.required&&!j.completed&&t.jsx(Lt,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200",children:"Required"})]}),t.jsx("p",{className:`text-xs ${j.completed?"text-green-700":"text-gray-600"}`,children:j.description})]}),t.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",style:{color:u.primaryColor},children:[j.action.label,t.jsx(Df,{className:"h-3 w-3"})]})]},j.id))}),t.jsxs("div",{className:"mt-3 sm:mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-2",children:[t.jsx("span",{children:"Setup Progress"}),t.jsxs("span",{children:[r.filter(j=>j.completed).length," of ",r.length," completed"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r.filter(j=>j.completed).length/r.length*100}%`}})})]})]}),!(n!=null&&n.isNewUser)&&N.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[t.jsx(Nn,{className:"h-4 w-4",style:{color:u.primaryColor}}),"Today's Priorities"]}),t.jsx("div",{className:"space-y-2",children:N.slice(0,2).map(j=>{var S;return t.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border cursor-pointer hover:shadow-md transition-all duration-200 ${j.priority==="high"?"border-red-200 bg-red-50 hover:bg-red-100":j.priority==="medium"?"border-orange-200 bg-orange-50 hover:bg-orange-100":"border-blue-200 bg-blue-50 hover:bg-blue-100"}`,onClick:(S=j.action)==null?void 0:S.onClick,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[j.icon,t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm text-gray-900",children:j.title}),t.jsx("p",{className:"text-xs text-gray-600",children:j.description})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"text-lg font-bold",style:{color:u.primaryColor},children:j.count})}),j.action&&t.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",style:{color:u.primaryColor},children:[j.action.label,t.jsx(Df,{className:"h-3 w-3"})]})]})]},j.id)})})]}),!(n!=null&&n.isNewUser)&&t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 hover:shadow-md transition-all duration-200",onClick:()=>{m("/tasks"),s()},children:[t.jsx("div",{className:"text-lg font-bold",style:{color:u.primaryColor},children:(a==null?void 0:a.activeTasks)||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Tasks"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 hover:shadow-md transition-all duration-200",onClick:()=>{m("/finance"),s()},children:[t.jsx("div",{className:"text-lg font-bold",style:{color:u.primaryColor},children:(a==null?void 0:a.pendingApprovals)||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Pending"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 hover:shadow-md transition-all duration-200",onClick:()=>{m("/tasks"),s()},children:[t.jsx("div",{className:"text-lg font-bold",style:{color:u.primaryColor},children:(a==null?void 0:a.urgentTasks)||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Urgent"})]})]})]}),t.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm text-gray-500",children:n!=null&&n.isNewUser?"Ready to get started with your hospitality management?":"Ready to manage your operations?"}),t.jsx(se,{onClick:()=>{if(n!=null&&n.isNewUser){const j=r==null?void 0:r.find(S=>S.required&&!S.completed);m(j?j.action.route:"/dashboard")}else a!=null&&a.pendingApprovals&&a.pendingApprovals>0?m("/finance"):a!=null&&a.urgentTasks&&a.urgentTasks>0?m("/tasks"):m("/dashboard");s()},className:"h-8 px-4 text-sm font-medium",style:{backgroundColor:u.primaryColor},children:n!=null&&n.isNewUser?"Start Setup":"Let's Go!"})]})})]})})})}function qJ({mode:e,onLogin:s,onReload:n,onRetry:a}){const r=e==="expired";return t.jsx("div",{className:"sticky top-0 z-[1000] w-full border-b shadow-sm",children:t.jsx("div",{className:`px-2 sm:px-6 py-2 sm:py-3 ${r?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center items-start justify-between gap-2 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center sm:items-center gap-2 sm:gap-3",children:[t.jsx("div",{className:`w-8 h-8 sm:w-9 sm:h-9 rounded-full flex items-center justify-center ${r?"bg-red-100":"bg-yellow-100"}`,children:r?t.jsx(is,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"}):t.jsx(jL,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:`text-[13px] sm:text-sm font-semibold ${r?"text-red-800":"text-yellow-800"}`,children:r?"Session expired":"You are offline"}),t.jsx("div",{className:"text-[11px] sm:text-xs text-gray-700",children:r?"Log in again to continue. Your current page stays visible so you can copy or save your work.":"Check your connection. We will resume automatically when you are back online."})]})]}),t.jsx("div",{className:"flex items-stretch sm:items-center gap-2 sm:gap-2 w-full sm:w-auto",children:r?t.jsxs(t.Fragment,{children:[t.jsxs(se,{size:"sm",onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto",children:[t.jsx(qi,{className:"h-4 w-4 mr-2"})," ",t.jsx("span",{className:"hidden xs:inline",children:"Log in"}),t.jsx("span",{className:"xs:hidden",children:"Login"})]}),t.jsxs(se,{size:"sm",variant:"outline",onClick:n,className:"w-full sm:w-auto",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"})," Reload"]})]}):t.jsxs(se,{size:"sm",variant:"outline",onClick:a,className:"w-full sm:w-auto",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"})," Try again"]})})]})})})}function $J(){var r;const{user:e,logout:s}=$s(),{theme:n}=_a(),{title:a}=kr();return t.jsx("div",{className:"sticky top-0 z-40 w-full h-14 bg-white/80 backdrop-blur-md border-b border-gray-200 lg:hidden safe-area-top",children:t.jsxs("div",{className:"flex h-14 items-center justify-between px-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[n.logoUrl?t.jsx("img",{src:n.logoUrl.startsWith("http")?n.logoUrl:`${xt.BASE_URL}${n.logoUrl}`,alt:n.brandName,className:"h-8 w-auto object-contain max-w-[120px]",onError:l=>{var c;l.currentTarget.style.display="none",(c=l.currentTarget.nextElementSibling)==null||c.classList.remove("hidden")}}):null,t.jsx("span",{className:`font-bold text-lg truncate ${n.logoUrl?"hidden":""}`,style:{color:n.primaryColor},children:n.brandName})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{variant:"ghost",size:"icon",onClick:s,className:"rounded-full h-8 w-8",children:t.jsx(Fh,{className:"h-4 w-4"})}),t.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200",children:t.jsx("span",{className:"text-xs font-medium text-gray-600",children:((r=e==null?void 0:e.displayName)==null?void 0:r.charAt(0).toUpperCase())||"U"})})]})]})})}const Qn={PING_TIMEOUT_MS:6e4,RECONNECT_DELAYS:[1e3,2e3,5e3,1e4,3e4,6e4,12e4],MAX_BACKOFF_MS:3e5,JITTER_MS:5e3,MAX_CACHE_ORGS:3,MAX_CACHE_IDS:1e3,DEDUP_TTL_MS:300*1e3,TAKEOVER_MS:3e3,HEARTBEAT_INTERVAL_MS:1e3};function GJ(){const{user:e}=$s(),s=kn(),n=typeof import.meta<"u"&&!0,r=!Os("REALTIME_EMERGENCY_DISABLE",!1)&&(n?!0:Os("REALTIME_STREAMING_V2",!0)),l=Os("FIN_LEADER_ENABLED",!1),c=TI("REALTIME_ROLLOUT_PERCENT",100),u=Os("REALTIME_INVALIDATE",!0),m=Os("REALTIME_CREDITS",!0),p=typeof window<"u"?localStorage.getItem("REALTIME_DECOMP_POLYFILL")==="true":!1,f=x.useRef(null),g=x.useRef(0),v=x.useRef(0),w=x.useRef(null),N=x.useRef(null),j=x.useRef(!1),S=x.useRef(!1),E=x.useRef(!1),T=x.useRef(null),C=x.useRef(""),P=x.useRef(new Map),D=x.useRef({connectionState:"disconnected",lastConnectedAt:0,lastDisconnectedAt:0,totalDisconnects:0,reconnectAttempts:0,eventsReceived:0,eventLatencyMs:[],duplicatesDetected:0,lastEventAt:0,connectionUptime:0,avgLatencyMs:0,p95LatencyMs:0,byServiceDelivered:{},byServiceSuppressed:{},byServiceP95LatencyMs:{},byServiceLastEventAt:{},byServiceReconnects:{}}),A=x.useRef(null),R=x.useRef(null),F=zq(),z=(e==null?void 0:e.orgId)??(e==null?void 0:e.organizationId)??null,J=x.useRef(""),[K,X]=x.useState(null);console.log("[REALTIME_DEBUG] Provider initialized",{timestamp:new Date().toISOString(),isProduction:n,masterEnabled:r,orgId:z||"none",userId:(e==null?void 0:e.userID)||"none"});const ce=x.useRef(0),q=async()=>{const fe=Date.now();if(!(fe-ce.current<300*1e3))try{await cn.forceRefresh()}catch{}finally{ce.current=fe}};x.useEffect(()=>{try{const fe=sessionStorage.getItem("realtime-tab-id");if(fe)J.current=fe;else{const je=Math.random().toString(36).slice(2);sessionStorage.setItem("realtime-tab-id",je),J.current=je}}catch{J.current=Math.random().toString(36).slice(2)}},[]);const ie={"/finance":["finance","properties","reports"],"/dashboard":["finance","properties","tasks","users","dashboard","analytics","reports"],"/staff":["staff","properties","users"],"/guest-checkin":["guest","properties"],"/tasks":["tasks","properties","users"],"/task-management":["tasks","staff","properties","users"],"/properties":["properties"],"/users":["users","properties"],"/analytics":["analytics","finance","properties","reports"],"/reports":["reports","finance","properties"],"/settings":["branding"]},L=["finance","guest","staff","tasks","properties","users","dashboard","branding","analytics","reports"],B=fe=>{if(!fe)return L;let je=null;for(const Oe in ie)(fe===Oe||fe.startsWith(Oe+"/"))&&(je==null||Oe.length>je.length)&&(je=Oe);return je&&ie[je]?ie[je]:L};x.useEffect(()=>{let fe=null;const je=Ie=>{try{S.current=!0;try{const ze=(Ie==null?void 0:Ie.detail)||{};fe=typeof(ze==null?void 0:ze.reason)=="string"?ze.reason:null}catch{}f.current&&(f.current.close(),f.current=null)}catch{}},Oe=()=>{S.current&&(S.current=!1,fe=null,v.current=0,H())};window.addEventListener("realtime:suspend",je),window.addEventListener("realtime:resume",Oe);const _e=setInterval(()=>{if(S.current&&document.visibilityState==="visible"&&!(fe==="upload"||fe==="payment"))try{window.dispatchEvent(new CustomEvent("realtime:resume"))}catch{}},6e4);return()=>{clearInterval(_e),window.removeEventListener("realtime:suspend",je),window.removeEventListener("realtime:resume",Oe)}},[]),x.useEffect(()=>{const fe=()=>{document.visibilityState==="visible"&&!S.current&&(v.current=0,(!f.current||f.current.readyState!==WebSocket.OPEN)&&H())};return document.addEventListener("visibilitychange",fe),()=>document.removeEventListener("visibilitychange",fe)},[z,r]),x.useEffect(()=>{const fe=je=>{var _e;const Oe=((_e=je==null?void 0:je.detail)==null?void 0:_e.propertyId)??null;Oe!==K&&(X(Oe),T.current&&clearTimeout(T.current),T.current=setTimeout(async()=>{try{const Ie=localStorage.getItem("accessToken")||"";if(!Ie)return;const ze=xt.BASE_URL.replace(/\/$/,""),Ue=JSON.parse(C.current||"[]");await fetch(`${ze}/v2/realtime/update-services`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`},body:JSON.stringify({services:Ue,propertyId:Oe}),keepalive:!0}).then(async Ge=>{if(!Ge.ok)throw new Error(`update-services ${Ge.status}`)}).catch(()=>{try{f.current&&(f.current.close(),f.current=null)}catch{}E.current=!1,v.current=0,H()})}catch{try{f.current&&(f.current.close(),f.current=null)}catch{}E.current=!1,v.current=0,H()}},500))};return window.addEventListener("realtime:set-property",fe),()=>window.removeEventListener("realtime:set-property",fe)},[K,r]);const Y=fe=>{if(fe==null)return!1;const je=Math.max(0,Math.min(100,c));return je>=100?!0:je<=0?!1:(fe*9301+49297)%233280/233280*100<je},de=()=>{const fe=P.current;if(fe.size>Qn.MAX_CACHE_ORGS){const Oe=Array.from(fe.entries()).sort((_e,Ie)=>_e[1].lastAccess-Ie[1].lastAccess).slice(0,fe.size-Qn.MAX_CACHE_ORGS);for(const[_e]of Oe)fe.delete(_e)}for(const[je,Oe]of fe.entries())for(;Oe.order.length>Qn.MAX_CACHE_IDS;){const _e=Oe.order.shift();_e&&Oe.entries.delete(_e)}},G=(fe,je)=>{const Oe=Date.now(),_e=P.current;let Ie=_e.get(fe);if(Ie||(Ie={entries:new Map,order:[],lastAccess:Oe,lastCleanup:Oe},_e.set(fe,Ie)),Ie.lastAccess=Oe,Oe-Ie.lastCleanup>6e4){const ze=Oe-Qn.DEDUP_TTL_MS;for(const[Ue,Ge]of Ie.entries.entries())if(Ge<ze){Ie.entries.delete(Ue);const it=Ie.order.indexOf(Ue);it!==-1&&Ie.order.splice(it,1)}Ie.lastCleanup=Oe}if(!je)return!1;if(Ie.entries.has(je))return D.current.duplicatesDetected++,!0;for(Ie.entries.set(je,Oe),Ie.order.push(je);Ie.order.length>Qn.MAX_CACHE_IDS;){const ze=Ie.order.shift();ze&&Ie.entries.delete(ze)}return de(),!1},M=(fe,je,Oe)=>{var Ue,Ge;if(!je||je.length===0)return;const _e=Os("REALTIME_DEDUP_DISABLED",!1);let Ie=0;const ze=je.filter(it=>{if(_e)return!0;let Tt="";const yt=it==null?void 0:it.eventId,xs=it==null?void 0:it.entityType;typeof yt=="string"&&yt.length>0?Tt=`${fe}:${xs??""}:${yt}`:typeof Oe=="number"&&Number.isFinite(Oe)&&(Tt=`${fe}:seq:${Oe}`);const va=G(z,Tt);return va&&Ie++,!va});if(ze.length!==0){try{const it=String(fe),Tt=D.current;Tt.byServiceSuppressed[it]=(((Ue=Tt.byServiceSuppressed)==null?void 0:Ue[it])||0)+Ie,Tt.byServiceDelivered[it]=(((Ge=Tt.byServiceDelivered)==null?void 0:Ge[it])||0)+ze.length}catch{}if(window.dispatchEvent(new CustomEvent(`${fe}-stream-events`,{detail:{events:ze}})),j.current&&R.current)try{R.current.postMessage({service:fe,events:ze,timestamp:Date.now()})}catch(it){console.error("[RealtimeV2Fixed][broadcast-error]",it)}window.dispatchEvent(new CustomEvent(`${fe}-stream-health`,{detail:{healthy:!0,lastEventAt:Date.now(),eventCount:ze.length}})),console.log("[RealtimeV2Fixed][dispatch]",{service:fe,total:je.length,afterDedup:ze.length,orgId:z})}},V=fe=>{if(fe.length===0)return 0;const je=[...fe].sort((_e,Ie)=>_e-Ie),Oe=Math.floor(je.length*.95);return je[Oe]||0},W=(fe,je)=>{try{const Oe=D.current,_e=String(fe),Ie=`__svc_lat_${_e}`;Oe[Ie]||(Oe[Ie]=[]);const ze=Oe[Ie];ze.push(je),ze.length>50&&ze.shift();const Ue=V(ze);Oe.byServiceP95LatencyMs[_e]=Ue}catch{}},$=fe=>{try{const je=atob(fe),Oe=new Uint8Array(je.length);for(let _e=0;_e<je.length;_e++)Oe[_e]=je.charCodeAt(_e);return Oe}catch{return new Uint8Array}},me=async fe=>{if(typeof DecompressionStream>"u")throw new Error("No DecompressionStream");const je=new DecompressionStream("gzip"),Oe=new ArrayBuffer(fe.byteLength);new Uint8Array(Oe).set(fe);const Ie=new Blob([Oe]).stream().pipeThrough(je),ze=await new Response(Ie).arrayBuffer();return new TextDecoder().decode(new Uint8Array(ze))},ge=async fe=>{try{return await me(fe)}catch{if(!p)throw new Error("No gzip support and polyfill disabled");try{if(document.querySelector('script[data-rt-fflate="1"]')||await new Promise((_e,Ie)=>{const ze=document.createElement("script");ze.src="https://unpkg.com/fflate@0.8.2/umd/index.js",ze.async=!0,ze.defer=!0,ze.setAttribute("data-rt-fflate","1"),ze.onload=()=>_e(),ze.onerror=()=>Ie(new Error("fflate load failed")),document.head.appendChild(ze)}),typeof fflate>"u"||typeof fflate.gunzipSync!="function")throw new Error("fflate not available");const Oe=fflate.gunzipSync(fe);return new TextDecoder().decode(Oe)}catch(je){throw je instanceof Error?je:new Error("polyfill failed")}}},ue=(fe,je={},Oe=.05)=>{try{if(so.isProduction()||Math.random()>=Oe)return;const _e=localStorage.getItem("accessToken")||"";if(!_e)return;const Ie=xt.BASE_URL.replace(/\/$/,"");fetch(`${Ie}/telemetry/client`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_e}`},body:JSON.stringify({events:[{type:fe,ts:new Date().toISOString(),...je}]}),keepalive:!0}).catch(()=>{})}catch{}};x.useEffect(()=>{try{ue("compression_support",{hasDecompressionStream:typeof DecompressionStream<"u",polyfillEnabled:p},.2)}catch{}},[p]);const be=async fe=>{var je,Oe,_e;try{const Ie=JSON.parse(fe);switch(Ie.seq&&(g.current=Ie.seq),Ie.type){case"event":{if(Ie.timestamp){const ze=new Date(Ie.timestamp).getTime(),Ge=Date.now()-ze;D.current.eventLatencyMs.push(Ge),D.current.eventLatencyMs.length>100&&D.current.eventLatencyMs.shift();const it=D.current.eventLatencyMs;D.current.avgLatencyMs=it.reduce((Tt,yt)=>Tt+yt,0)/it.length,D.current.p95LatencyMs=V(it),Ie.service&&W(Ie.service,Ge)}D.current.eventsReceived++,D.current.lastEventAt=Date.now(),Ie.service&&(D.current.byServiceLastEventAt[String(Ie.service)]=Date.now()),Ie.service&&Ie.events&&M(Ie.service,Ie.events,Ie.seq);break}case"invalidate":{if(!u)break;try{const ze=Ie.service,Ue=(je=Ie==null?void 0:Ie.invalidate)==null?void 0:je.keys;Array.isArray(Ue)&&Ue.length>0&&(window.dispatchEvent(new CustomEvent("realtime-invalidate",{detail:{service:ze,keys:Ue}})),ze&&window.dispatchEvent(new CustomEvent(`${ze}-stream-invalidate`,{detail:{keys:Ue}})))}catch{}break}case"batch":{const ze=Ie.messages;if(ze&&ze.length>0){for(const Ge of ze){if(Ge.timestamp){const it=new Date(Ge.timestamp).getTime(),yt=Date.now()-it;D.current.eventLatencyMs.push(yt),D.current.eventLatencyMs.length>100&&D.current.eventLatencyMs.shift(),Ge.service&&W(Ge.service,yt)}D.current.eventsReceived++,D.current.lastEventAt=Date.now(),Ge.service&&(D.current.byServiceLastEventAt[String(Ge.service)]=Date.now()),Ge.service&&Ge.events&&M(Ge.service,Ge.events,Ge.seq)}const Ue=D.current.eventLatencyMs;Ue.length>0&&(D.current.avgLatencyMs=Ue.reduce((Ge,it)=>Ge+it,0)/Ue.length,D.current.p95LatencyMs=V(Ue))}else if(Ie.compressed&&Ie.data)try{const Ue=Ie.data,Ge=await ge($(Ue)),it=JSON.parse(Ge);if(Array.isArray(it)&&it.length>0){try{D.current.__compressedDecodedBatches=(D.current.__compressedDecodedBatches||0)+1,D.current.__compressedBytes=(D.current.__compressedBytes||0)+((Ue==null?void 0:Ue.length)||0)}catch{}ue("compressed_decode_success",{bytes:(Ue==null?void 0:Ue.length)||0,usedPolyfill:typeof window.fflate<"u"},.1);for(const yt of it){if(yt.timestamp){const xs=new Date(yt.timestamp).getTime(),Fe=Date.now()-xs;D.current.eventLatencyMs.push(Fe),D.current.eventLatencyMs.length>100&&D.current.eventLatencyMs.shift(),yt.service&&W(yt.service,Fe)}D.current.eventsReceived++,D.current.lastEventAt=Date.now(),yt.service&&(D.current.byServiceLastEventAt[String(yt.service)]=Date.now()),yt.service&&yt.events&&M(yt.service,yt.events,yt.seq)}const Tt=D.current.eventLatencyMs;Tt.length>0&&(D.current.avgLatencyMs=Tt.reduce((yt,xs)=>yt+xs,0)/Tt.length,D.current.p95LatencyMs=V(Tt))}}catch{try{D.current.__compressedDecodeFailures=(D.current.__compressedDecodeFailures||0)+1}catch{}ue("compressed_decode_failure",{},.2)}else Ie.service&&Ie.events&&M(Ie.service,Ie.events,Ie.seq);break}case"ping":N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{console.warn("[RealtimeV2Fixed][ping-timeout]",{orgId:z}),f.current&&f.current.close()},Qn.PING_TIMEOUT_MS);break;case"ack":console.log("[RealtimeV2Fixed][ack]",{seq:Ie.seq,orgId:z});break;case"error":console.error("[RealtimeV2Fixed][server-error]",{service:(Oe=Ie.error)==null?void 0:Oe.service,message:(_e=Ie.error)==null?void 0:_e.message,orgId:z});break}}catch(Ie){console.error("[RealtimeV2Fixed][parse-error]",{error:Ie instanceof Error?Ie.message:String(Ie),data:fe.slice(0,200)})}},Ee=fe=>{const je=Qn.RECONNECT_DELAYS[Math.min(fe,Qn.RECONNECT_DELAYS.length-1)],Oe=Math.min(je,Qn.MAX_BACKOFF_MS),_e=Math.random()*Qn.JITTER_MS*2-Qn.JITTER_MS;return Math.max(1e3,Oe+_e)},H=()=>{if(!r||!z||!Y(z)||S.current||!j.current&&l)return;if(f.current){const _e=f.current.readyState;if(_e===WebSocket.OPEN||_e===WebSocket.CONNECTING)return;try{f.current.close()}catch{}f.current=null}if(E.current)return;const fe=typeof window<"u"?localStorage.getItem("accessToken"):null;if(!fe){console.warn("[RealtimeV2Fixed][no-token]");return}const je=xt.BASE_URL.replace(/\/$/,""),Oe=B((s==null?void 0:s.pathname)||(typeof window<"u"?window.location.pathname:""));try{C.current=JSON.stringify(Oe)}catch{}console.log("[RealtimeV2Fixed][connecting]",{orgId:z,lastSeq:g.current,services:Oe}),E.current=!0,(async()=>{try{await q();const Ie=await new ou(je,{auth:{access_token:fe,authorization:`Bearer ${fe}`}}).realtime.streamRealtimeEvents({services:Oe,version:1,lastSeq:g.current||void 0,propertyId:K,token:fe}),ze=Ie.socket;if(!ze||!ze.ws){console.error("[RealtimeV2Fixed][no-socket]",{orgId:z});return}f.current=ze.ws,ze.on("open",()=>{var Ue;console.log("[RealtimeV2Fixed][connected]",{orgId:z}),v.current=0,D.current.connectionState="connected",D.current.lastConnectedAt=Date.now(),D.current.reconnectAttempts=0,E.current=!1;try{const Ge=JSON.parse(C.current||"[]"),it=D.current;for(const Tt of Ge){const yt=String(Tt);it.byServiceReconnects[yt]=(((Ue=it.byServiceReconnects)==null?void 0:Ue[yt])||0)+1}}catch{}}),ze.on("error",Ue=>{console.error("[RealtimeV2Fixed][error]",{error:Ue,orgId:z}),E.current=!1}),ze.on("close",Ue=>{if(console.log("[RealtimeV2Fixed][closed]",{code:Ue.code,reason:Ue.reason,wasClean:Ue.wasClean,orgId:z}),f.current=null,E.current=!1,D.current.connectionState="disconnected",D.current.lastDisconnectedAt=Date.now(),D.current.totalDisconnects++,N.current&&(clearTimeout(N.current),N.current=null),r&&j.current){D.current.connectionState="reconnecting",D.current.reconnectAttempts++;const Ge=Ee(v.current);console.log("[RealtimeV2Fixed][reconnect-scheduled]",{delay:Ge,attempt:v.current+1,orgId:z}),w.current=setTimeout(()=>{v.current++,H()},Ge)}}),(async()=>{try{for await(const Ue of Ie)await be(JSON.stringify(Ue))}catch(Ue){console.error("[RealtimeV2Fixed][stream-error]",{error:Ue instanceof Error?Ue.message:String(Ue),orgId:z})}})()}catch(_e){if(console.error("[RealtimeV2Fixed][connect-error]",{error:_e instanceof Error?_e.message:String(_e),orgId:z}),E.current=!1,r&&j.current){D.current.connectionState="reconnecting",D.current.reconnectAttempts++;const Ie=Ee(v.current);console.log("[RealtimeV2Fixed][reconnect-scheduled]",{delay:Ie,attempt:v.current+1,orgId:z}),w.current=setTimeout(()=>{v.current++,H()},Ie)}}})()};return x.useEffect(()=>{if(!r||!z)return;const fe=B((s==null?void 0:s.pathname)||(typeof window<"u"?window.location.pathname:"")),je=JSON.stringify(fe);if(!C.current){C.current=je;return}je!==C.current&&(T.current&&clearTimeout(T.current),T.current=setTimeout(async()=>{try{const Oe=localStorage.getItem("accessToken")||"";if(!Oe)return;const _e=xt.BASE_URL.replace(/\/$/,"");await fetch(`${_e}/v2/realtime/update-services`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Oe}`},body:JSON.stringify({services:fe,propertyId:K}),keepalive:!0}).then(async Ie=>{if(!Ie.ok)throw new Error(`update-services ${Ie.status}`);C.current=je}).catch(()=>{try{f.current&&(f.current.close(),f.current=null)}catch{}E.current=!1,v.current=0,H()})}catch{try{f.current&&(f.current.close(),f.current=null)}catch{}E.current=!1,v.current=0,H()}},300))},[s.pathname,r,z,K]),x.useEffect(()=>{if(!l||!z||!r){j.current=!0;const Ue=new BroadcastChannel(`realtime-events-${z}`);return R.current=Ue,Ue.onmessage=Ge=>{var it;(it=Ge==null?void 0:Ge.data)!=null&&it.events&&(j.current||Date.now()-(Ge.data.timestamp||0)<5e3&&M(Ge.data.service,Ge.data.events))},H(),()=>{try{Ue.close()}catch{}R.current=null}}const fe=new BroadcastChannel(`realtime-leader-${z}`);A.current=fe;const je=new BroadcastChannel(`realtime-events-${z}`);R.current=je,je.onmessage=Ue=>{var Ge;(Ge=Ue==null?void 0:Ue.data)!=null&&Ge.events&&(j.current||Date.now()-(Ue.data.timestamp||0)<5e3&&M(Ue.data.service,Ue.data.events))};let Oe=null,_e=0;const Ie=async()=>{try{"locks"in navigator?await navigator.locks.request(`realtime-leader-${z}`,{mode:"exclusive",ifAvailable:!0},async Ue=>{if(!Ue){j.current=!1;return}return console.log("[RealtimeV2Fixed][leader-acquired]",{orgId:z,tabId:J.current}),j.current=!0,H(),Oe=setInterval(()=>{var Ge;try{fe.postMessage({type:"heartbeat",tabId:J.current,timestamp:Date.now(),seq:g.current})}catch(it){if(it&&typeof it=="object"&&(it.name==="InvalidStateError"||(Ge=it.message)!=null&&Ge.includes("Channel is closed"))){Oe&&clearInterval(Oe);return}console.warn("[RealtimeV2Fixed][heartbeat-failed]",it),Oe&&clearInterval(Oe)}},Qn.HEARTBEAT_INTERVAL_MS),new Promise(Ge=>{window.__realtimeV2Cleanup=()=>{Oe&&clearInterval(Oe),Ge()}})}):(j.current=!0,H())}catch(Ue){console.error("[RealtimeV2Fixed][leader-election-error]",{error:Ue instanceof Error?Ue.message:String(Ue),orgId:z})}};fe.onmessage=Ue=>{Ue.data.type==="heartbeat"&&(_e=Ue.data.timestamp,!j.current&&Ue.data.seq&&(g.current=Math.max(g.current,Ue.data.seq)))};const ze=setInterval(()=>{if(j.current)return;Date.now()-_e>Qn.TAKEOVER_MS&&(console.log("[RealtimeV2Fixed][takeover-attempt]",{orgId:z,tabId:J.current}),Ie())},1e3);return Ie(),()=>{if(Oe&&clearInterval(Oe),clearInterval(ze),fe.close(),R.current){try{R.current.close()}catch{}R.current=null}j.current&&f.current&&(f.current.close(),f.current=null),w.current&&(clearTimeout(w.current),w.current=null),N.current&&(clearTimeout(N.current),N.current=null),window.__realtimeV2Cleanup&&(window.__realtimeV2Cleanup(),delete window.__realtimeV2Cleanup)}},[z,F,r,l]),x.useEffect(()=>{const fe=setInterval(()=>{D.current.connectionState==="connected"&&D.current.lastConnectedAt>0&&(D.current.connectionUptime=Date.now()-D.current.lastConnectedAt)},1e3);return window.__realtimeMetrics=()=>{const je=D.current;return{...je,avgLatencyMs:je.avgLatencyMs.toFixed(2),p95LatencyMs:je.p95LatencyMs.toFixed(2),connectionUptimeSeconds:(je.connectionUptime/1e3).toFixed(0),eventRate:je.eventsReceived/((Date.now()-je.lastConnectedAt)/1e3||1)}},window.__realtimeState=()=>{const je=(()=>{try{return JSON.parse(C.current||"[]")}catch{return[]}})();return{connected:!!f.current&&f.current.readyState===WebSocket.OPEN,lastSeq:g.current,lastEventAt:D.current.lastEventAt,services:je,subscribedPropertyId:K,byServiceDelivered:D.current.byServiceDelivered||{},byServiceSuppressed:D.current.byServiceSuppressed||{}}},()=>{clearInterval(fe),delete window.__realtimeMetrics,delete window.__realtimeState}},[K]),x.useEffect(()=>{if(!m||!z)return;const fe=xt.BASE_URL.replace(/\/$/,"");let je=null,Oe=null;const _e=async()=>{if(!(l&&!j.current)&&!(typeof document<"u"&&document.visibilityState!=="visible")&&!(!f.current||f.current.readyState!==WebSocket.OPEN))try{const Ie=localStorage.getItem("accessToken")||"";if(!Ie)return;await fetch(`${fe}/v2/realtime/credits`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`},body:JSON.stringify({credits:2e3}),keepalive:!0}).catch(()=>{})}catch{}};return Oe=setTimeout(()=>{_e()},5e3),je=setInterval(()=>{_e()},3e4),()=>{Oe&&clearTimeout(Oe),je&&clearInterval(je)}},[m,z,l]),null}function HJ(){const e=za();return x.useEffect(()=>{try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0,metricsFetches:0,financeMetricsFetches:0,listRefetchesBurst:0},window.__realtimeDevReporter||(window.__realtimeDevReporter=setInterval(()=>{try{const l=window.__realtimeClientStats;l.metricsFetches=0,l.financeMetricsFetches=0,l.listRefetchesBurst=0}catch{}},6e4))}catch{}const s=new Set;let n=null;const a=()=>{if(s.size===0)return;const l=Array.from(s.values());s.clear();try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0},window.__realtimeClientStats.invalidationsFlushed++,window.__realtimeClientStats.keys+=l.length,window.__realtimeClientStats.listRefetchesBurst=(window.__realtimeClientStats.listRefetchesBurst||0)+l.length}catch{}for(const c of l)try{const u=c.startsWith("[")?JSON.parse(c):[c];e.invalidateQueries({queryKey:u})}catch{e.invalidateQueries({queryKey:[c]})}},r=l=>{var u;const c=(u=l==null?void 0:l.detail)==null?void 0:u.keys;if(!(!Array.isArray(c)||c.length===0)){for(const m of c){const p=Array.isArray(m)?JSON.stringify(m):String(m);s.add(p)}n&&clearTimeout(n),n=setTimeout(a,350)}};return window.addEventListener("realtime-invalidate",r),()=>{window.removeEventListener("realtime-invalidate",r),n&&clearTimeout(n)}},[e]),null}function YJ({onMenuClick:e}){const{theme:s}=_a(),n=kn(),a=Tr(),r=[{name:"Home",href:"/dashboard",icon:Pf},{name:"Properties",href:"/properties",icon:I6},{name:"Finance",href:"/finance",icon:_r},{name:"Tasks",href:"/tasks",icon:Lh}];return t.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-100 safe-area-bottom lg:hidden shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:t.jsxs("div",{className:"flex justify-around items-center h-16 px-2",children:[r.map(l=>{const c=n.pathname===l.href,u=l.icon;return t.jsxs("button",{onClick:()=>a(l.href),className:Xe("flex flex-col items-center justify-center w-full h-full space-y-1.5",c?"text-blue-600":"text-gray-500 hover:text-gray-900"),children:[t.jsx("div",{className:Xe("flex items-center justify-center w-6 h-6 rounded-full border-2",c?"bg-blue-600 border-blue-600 text-white":"border-current bg-transparent"),children:t.jsx(u,{className:"h-3.5 w-3.5"})}),t.jsx("span",{className:Xe("text-[11px] font-bold uppercase tracking-tight leading-none",c?"font-bold":"font-medium"),children:l.name})]},l.name)}),t.jsxs("button",{onClick:e,className:"flex flex-col items-center justify-center w-full h-full space-y-1.5 text-gray-500 hover:text-gray-900",children:[t.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full border-2 border-current bg-transparent",children:t.jsx(zE,{className:"h-3.5 w-3.5",strokeWidth:2})}),t.jsx("span",{className:"text-[11px] font-bold uppercase tracking-tight leading-none",children:"Menu"})]})]})})}const WJ=[{name:"Dashboard",href:"/dashboard",icon:j_,roles:["ADMIN","MANAGER"]},{name:"Properties",href:"/properties",icon:ca,roles:["ADMIN","MANAGER"]},{name:"Guest Check-in",href:"/guest-checkin",icon:Fb,roles:["ADMIN","MANAGER"]},{name:"Tasks",href:"/tasks",icon:Of,roles:["ADMIN","MANAGER"]},{name:"Task Board",href:"/task-management",icon:b_,roles:["ADMIN","MANAGER"]},{name:"Finance",href:"/finance",icon:Cn,roles:["ADMIN","MANAGER"]},{name:"Reports",href:"/reports",icon:Va,roles:["ADMIN","MANAGER"]},{name:"Staff",href:"/staff",icon:kh,roles:["ADMIN","MANAGER"]},{name:"Users",href:"/users",icon:Wi,roles:["ADMIN"]},{name:"Analytics",href:"/analytics",icon:Va,roles:["ADMIN"]},{name:"Settings",href:"/settings",icon:md,roles:["ADMIN"]}];function KJ({children:e}){const[s,n]=x.useState(!1),[a,r]=x.useState(!1),[l,c]=x.useState(new Date),[u,m]=x.useState(navigator.onLine),[p,f]=x.useState("good"),{user:g,logout:v,showLogoutProgress:w,setShowLogoutProgress:N,authError:j}=$s(),{theme:S}=_a(),{title:E,description:T}=kr(),{toast:C}=da(),P=kn(),D=Tr(),{showWelcomePopup:A,closeWelcomePopup:R,dashboardData:F,userData:z,onboardingSteps:J,markStepCompleted:K}=Lw(),X=u?j==="expired"?"expired":null:"offline";x.useEffect(()=>{},[w,a,g]),x.useEffect(()=>{},[w,a,g,P.pathname]),x.useEffect(()=>{const W=setInterval(()=>{c(new Date)},1e3);return()=>clearInterval(W)},[]),x.useEffect(()=>{const W=()=>{m(!0),f("good")},$=()=>{m(!1),f("offline")},me=()=>{if(!navigator.onLine){f("offline");return}const ue=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(ue){const{effectiveType:be,downlink:Ee}=ue;be==="4g"&&Ee>10?f("excellent"):f(be==="4g"||be==="3g"?"good":"poor")}else f("good")};me(),window.addEventListener("online",W),window.addEventListener("offline",$);const ge=setInterval(me,5e3);return()=>{window.removeEventListener("online",W),window.removeEventListener("offline",$),clearInterval(ge)}},[]);const ce=()=>j!=="expired"?null:t.jsxs("div",{className:"fixed top-0 inset-x-0 z-50 bg-red-600 text-white px-4 py-2 text-sm flex items-center justify-between shadow",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:"Session expired"}),t.jsx("span",{className:"opacity-90",children:"Please log in again to continue."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{size:"sm",variant:"outline",className:"bg-white text-red-700 border-red-200 hover:bg-red-50",onClick:()=>window.location.href="/login",children:"Log in"}),t.jsx(se,{size:"sm",variant:"secondary",onClick:()=>window.location.reload(),children:"Reload"})]})]});x.useEffect(()=>{const W=ue=>{console.log("Theme changed in Layout:",ue.detail),c(new Date)},$=ue=>{console.log("Theme updated in Layout:",ue.detail),c(new Date)},me=ue=>{console.log("Theme reloaded in Layout:",ue.detail),c(new Date)},ge=()=>{console.log("Logo load failed, forcing re-render"),c(new Date)};return window.addEventListener("themeChanged",W),window.addEventListener("themeUpdated",$),window.addEventListener("themeReloaded",me),window.addEventListener("logoLoadFailed",ge),()=>{window.removeEventListener("themeChanged",W),window.removeEventListener("themeUpdated",$),window.removeEventListener("themeReloaded",me),window.removeEventListener("logoLoadFailed",ge)}},[]);const q=async()=>{if(a||w){console.log(" Logout already in progress, ignoring click");return}console.log(" Starting logout process..."),r(!0);try{N(!0),await new Promise(W=>setTimeout(W,100)),console.log(" Calling logout function..."),await v(),console.log(" Logout function completed")}catch(W){console.error(" Logout error:",W),N(!1),r(!1),C({title:"Logout failed",description:"There was an error logging out. Please try again.",variant:"destructive"})}},B={isOpen:w,onComplete:()=>{console.log("Logout progress completed, closing dialog and redirecting..."),N(!1),r(!1),C({title:"Logged out successfully",description:"You have been signed out of your account."}),D("/login",{replace:!0})},onCancel:()=>{N(!1),r(!1),C({title:"Logout cancelled",description:"Logout process was cancelled."})}};x.useEffect(()=>{console.log(" LogoutProgress props validation:",{isOpen:B.isOpen,onComplete:typeof B.onComplete,onCancel:typeof B.onCancel,allPropsValid:typeof B.onComplete=="function"&&typeof B.onCancel=="function"&&typeof B.isOpen=="boolean"})},[B.isOpen]);const Y=WJ.filter(W=>W.roles.includes((g==null?void 0:g.role)||"")),de=W=>{switch(W){case"ADMIN":return"Admin";case"MANAGER":return"Manager";case"SUPER_ADMIN":return"Admin";default:return W.charAt(0)+W.slice(1).toLowerCase()}},G=W=>W==="ADMIN"||W==="SUPER_ADMIN"?nn:Ya,M=()=>{const W=new Date().getHours(),$={morning:["Good morning","Rise and shine","Morning vibes","Hello sunshine","Fresh start","Good day ahead","Morning energy","Bright and early"],afternoon:["Good afternoon","Afternoon vibes","Hello there","Midday energy","Afternoon flow","Good day","Hello sunshine","Afternoon boost"],evening:["Good evening","Evening vibes","Hello there","Evening flow","Good night ahead","Evening energy","Hello friend","Evening calm"],night:["Good evening","Night vibes","Hello night owl","Evening flow","Night energy","Hello there","Evening calm","Night mode"]};let me;W>=5&&W<12?me="morning":W>=12&&W<17?me="afternoon":W>=17&&W<22?me="evening":me="night";const ge=$[me],ue=Math.floor(Math.random()*ge.length);return ge[ue]},V=({mobile:W=!1})=>t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsx("div",{className:`flex items-center px-4 h-20 border-b border-gray-200/50 bg-white/80 backdrop-blur-xl supports-[backdrop-filter]:bg-white/60 ${W?"":"lg:border-r-0 lg:border-b-0"}`,children:t.jsxs(pi,{to:"/dashboard",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity duration-200",onClick:()=>W&&n(!1),title:`Go to Dashboard - ${S.brandName}`,children:[(()=>{try{const $=S.logoUrl&&document.querySelector(`img[data-load-failed="true"][src*="${S.logoUrl}"]`);return S.logoUrl&&S.logoUrl.trim()!==""&&!$?t.jsx("img",{src:S.logoUrl.startsWith("http")?S.logoUrl:`${xt.BASE_URL}${S.logoUrl}`,alt:S.brandName,className:"h-8 w-8 object-contain",onError:async me=>{try{if(!me.currentTarget){console.error("Logo error handler: currentTarget is null");return}if(me.currentTarget.getAttribute("data-load-failed")==="true"){console.log("Logo already failed to load, skipping retry");return}if(console.error("Logo failed to load:",S.logoUrl),S.logoUrl&&!S.logoUrl.startsWith("http")){console.log("Attempting to fetch logo via API:",S.logoUrl);let ge,ue;if(S.logoUrl.includes("/uploads/logos/")){const be=S.logoUrl.split("/uploads/logos/");if(be.length>1){const Ee=be[1].split("/");ge=Ee[0],ue=Ee[1]}}else if(S.logoUrl.startsWith("/uploads/logos/")){const be=S.logoUrl.split("/");ge=be[3],ue=be[4]}if(console.log("Parsed logo path:",{orgId:ge,filename:ue,originalUrl:S.logoUrl}),ge&&ue){const be=await fetch(`${xt.BASE_URL}/uploads/logos/${ge}/${ue}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(be.ok){const Ee=await be.json(),H=`data:${Ee.mimeType};base64,${Ee.fileData}`;if(me.currentTarget){me.currentTarget.src=H,console.log("Logo loaded successfully via API in Layout");return}}else console.error("Logo API response not ok:",be.status,be.statusText)}else console.error("Could not parse logo URL:",S.logoUrl)}}catch(ge){console.error("Failed to fetch logo via API:",ge)}if(me.currentTarget){me.currentTarget.setAttribute("data-load-failed","true");const ge=new CustomEvent("logoLoadFailed");window.dispatchEvent(ge)}},onLoad:()=>console.log("Logo loaded successfully in Layout")}):t.jsx(ca,{className:"h-8 w-8",style:{color:S.primaryColor}})}catch($){return console.error("Error rendering logo:",$),t.jsx(ca,{className:"h-8 w-8",style:{color:S.primaryColor}})}})(),t.jsx("span",{className:"text-xl font-bold",style:{color:S.textColor},children:S.brandName})]})}),t.jsx("nav",{className:`flex-1 px-4 py-6 space-y-2 ${W?"":"border-r border-gray-200/50"}`,children:Y.map($=>{const me=$.icon,ge=P.pathname===$.href;return t.jsxs(pi,{to:$.href,onClick:()=>W&&n(!1),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 group relative ${ge?"text-white shadow-md shadow-blue-500/20":"text-gray-600 hover:text-gray-900 hover:bg-black/5 hover:translate-x-1"}`,style:ge?{backgroundColor:S.primaryColor}:{},title:$.name,children:[t.jsx(me,{className:`mr-2 h-4 w-4 flex-shrink-0 transition-transform duration-200 ${!ge&&"group-hover:scale-110"}`}),t.jsx("span",{className:"truncate",children:$.name})]},$.name)})}),t.jsxs("div",{className:`px-4 py-4 border-t border-gray-200/50 bg-white/80 backdrop-blur-xl supports-[backdrop-filter]:bg-white/60 ${W?"":"border-r border-gray-200/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 mb-2",children:[qe.createElement(G((g==null?void 0:g.role)||""),{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:g==null?void 0:g.displayName,children:g==null?void 0:g.displayName}),t.jsx("p",{className:"text-xs text-gray-500 truncate",title:de((g==null?void 0:g.role)||""),children:de((g==null?void 0:g.role)||"")})]})]}),t.jsxs(se,{variant:"ghost",size:"sm",onClick:q,disabled:a||w,className:`w-full justify-start ${a||w?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-900"}`,title:a||w?"Signing out...":"Sign out",children:[t.jsx(Fh,{className:"mr-2 h-4 w-4 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:a||w?"Signing out...":"Sign out"})]})]})]});return t.jsxs("div",{className:"min-h-screen bg-gray-50 lg:bg-[#F5F7FA]",children:[t.jsx(GJ,{}),t.jsx(HJ,{}),t.jsx(ce,{}),t.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-60 lg:flex-col z-30",children:t.jsx("div",{className:"flex flex-col flex-grow bg-white/80 backdrop-blur-xl supports-[backdrop-filter]:bg-white/60 overflow-y-auto lg:shadow-[4px_0_24px_rgba(0,0,0,0.02)]",children:t.jsx(V,{})})}),t.jsx(Kw,{open:s,onOpenChange:n,children:t.jsxs(Qw,{side:"left",className:"p-0 w-60",style:{boxShadow:`2px 0 4px 0 ${S.primaryColor}20, 1px 0 2px 0 ${S.primaryColor}10`},children:[t.jsxs(Jw,{className:"sr-only",children:[t.jsx(Kf,{children:"Navigation"}),t.jsx(Xw,{children:"Main menu"})]}),t.jsx(V,{mobile:!0})]})}),t.jsxs("div",{className:"lg:pl-60 flex flex-col flex-1",children:[t.jsx($J,{}),t.jsxs("div",{className:"hidden lg:flex sticky top-0 z-40 flex-shrink-0 h-20 bg-white/80 backdrop-blur-xl border-b border-gray-200/50 supports-[backdrop-filter]:bg-white/60 lg:shadow-[0_4px_24px_rgba(0,0,0,0.02)]",children:[t.jsx("div",{className:"lg:hidden ml-4 flex items-center",children:t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>n(!0),children:t.jsx(zE,{className:"h-6 w-6"})})}),t.jsxs("div",{className:"flex-1 px-4 flex items-center justify-between relative h-20",children:[t.jsx("div",{className:"flex items-center gap-4 min-w-0 flex-shrink-0 z-10 h-full",children:t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm text-gray-600 h-full",children:[t.jsxs("span",{children:[M(),","]}),t.jsx("span",{className:"font-medium",style:{color:S.primaryColor},children:g==null?void 0:g.displayName})]})}),t.jsx("div",{className:"hidden lg:flex absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 flex-col items-center justify-center px-4 z-20",children:E&&t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl lg:text-3xl font-bold truncate mb-1 drop-shadow-sm",style:{color:S.primaryColor},children:E}),T&&t.jsx("p",{className:"text-xs lg:text-sm text-gray-600 truncate font-medium",children:T})]})}),E&&t.jsx("div",{className:"lg:hidden absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 px-4 z-20",children:t.jsx("h1",{className:"text-base sm:text-lg font-semibold truncate",style:{color:S.primaryColor},children:E})}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-shrink-0 z-10 h-full",children:[t.jsx("div",{className:"hidden lg:flex items-center gap-3 text-xs text-gray-500 h-full",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:new Intl.DateTimeFormat("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(l)}),t.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),t.jsx("span",{children:l.toLocaleTimeString()})]})}),t.jsxs("div",{className:"flex items-center space-x-3 h-full",children:[t.jsxs("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1 rounded-full bg-gray-100 h-8",children:[qe.createElement(G((g==null?void 0:g.role)||""),{className:"h-4 w-4",style:{color:S.primaryColor}}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:de((g==null?void 0:g.role)||"")})]}),t.jsxs(se,{variant:"ghost",size:"sm",onClick:q,disabled:a||w,className:"text-gray-600 hover:text-gray-900",style:{backgroundColor:a||w?S.primaryColor+"20":void 0,color:a||w?S.primaryColor:void 0},"aria-label":"Sign out",title:"Sign out",children:[t.jsx(Fh,{className:"h-5 w-5"}),t.jsx("span",{className:"hidden sm:inline ml-2",children:"Sign out"})]})]})]})]})]}),t.jsxs("main",{className:"flex-1",children:[X&&t.jsx(qJ,{mode:X,onLogin:()=>D("/login"),onReload:()=>window.location.reload(),onRetry:()=>window.location.reload()}),t.jsx("div",{className:"py-6 pb-20 lg:pb-6",children:t.jsx("div",{className:`w-full px-4 sm:px-6 lg:max-w-7xl lg:mx-auto lg:px-8 ${X?"pointer-events-none select-none opacity-95":""}`,children:e})})]})]}),t.jsx(BJ,{...B}),t.jsx(zJ,{isOpen:A,onClose:R,userData:z,dashboardData:F,onboardingSteps:J,markStepCompleted:K}),t.jsx(YJ,{onMenuClick:()=>n(!0)})]})}$b()&&(mi(()=>import("./test-env-BBDpY-jn.js"),[]),mi(()=>import("./test-uploads-BHllic1H.js"),[]));const QJ=new r3({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e4,gcTime:3e5,refetchOnMount:!1,refetchOnReconnect:!1},mutations:{retry:1,onError:e=>{console.error("Mutation error:",e)}}}});function JJ(){return t.jsx(P5,{children:t.jsxs(aC,{children:[t.jsx(en,{path:"/login",element:t.jsx(Aq,{})}),t.jsx(en,{path:"/signup",element:t.jsx(Iq,{})}),t.jsx(en,{path:"/forgot-password",element:t.jsx(Rq,{})}),t.jsx(en,{path:"/reset-password",element:t.jsx(Oq,{})}),t.jsx(en,{path:"/",element:t.jsx($k,{to:"/dashboard",replace:!0})}),t.jsx(en,{path:"/*",element:t.jsx(VJ,{children:t.jsx(KJ,{children:t.jsxs(aC,{children:[t.jsx(en,{path:"/dashboard",element:t.jsx(Wq,{})}),t.jsx(en,{path:"/properties",element:t.jsx(J$,{})}),t.jsx(en,{path:"/tasks",element:t.jsx(rG,{})}),t.jsx(en,{path:"/finance",element:t.jsx(QQ,{})}),t.jsx(en,{path:"/reports",element:t.jsx(cJ,{})}),t.jsx(en,{path:"/staff",element:t.jsx(dJ,{})}),t.jsx(en,{path:"/users",element:t.jsx(SJ,{})}),t.jsx(en,{path:"/analytics",element:t.jsx(CJ,{})}),t.jsx(en,{path:"/settings",element:t.jsx(kJ,{})}),t.jsx(en,{path:"/guest-checkin",element:t.jsx(UJ,{})})]})})})})]})})}function XJ(){return t.jsx(d3,{client:QJ,children:t.jsx(BF,{children:t.jsx(zF,{children:t.jsxs(qF,{children:[t.jsx(JJ,{}),t.jsx(cF,{})]})})})})}function ZJ(){console.log("[Auth System] Initializing..."),window.addEventListener("authenticationFailed",s=>{var a;console.error("[Auth System] Authentication failed:",(a=s.detail)==null?void 0:a.error),window.location.pathname!=="/login"&&(console.log("[Auth System] Redirecting to login..."),window.location.href="/login")}),window.addEventListener("tokenRefreshed",s=>{console.log("[Auth System] Token refreshed successfully")}),setInterval(()=>{if(cn.isAuthenticated()){const s=cn.getTokenExpiry();if(s){const n=s.getTime()-Date.now(),a=Math.floor(n/1e3/60);a<2&&a>0&&console.warn(`[Auth System] Token expires in ${a} minutes`)}}},6e4),eX(),console.log("[Auth System] Initialization complete")}function eX(){const e=localStorage.getItem("accessToken"),s=localStorage.getItem("refreshToken");let n=!1;if(e&&e!==e.trim().replace(/[\r\n\t\s]/g,"")&&(console.warn("[Auth System] Detected corrupted access token, cleaning up..."),n=!0),s&&s!==s.trim().replace(/[\r\n\t\s]/g,"")&&(console.warn("[Auth System] Detected corrupted refresh token, cleaning up..."),n=!0),n&&e&&s){const a=e.trim().replace(/[\r\n\t\s]/g,""),r=s.trim().replace(/[\r\n\t\s]/g,"");cn.setTokens(a,r)?console.log("[Auth System] Tokens cleaned and re-stored successfully"):(console.error("[Auth System] Failed to re-store cleaned tokens, clearing..."),cn.clearTokens())}}const A0=ar("App",{web:()=>mi(()=>import("./web-QkmOIWAt.js"),[]).then(e=>new e.AppWeb)});var pk;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(pk||(pk={}));var fk;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(fk||(fk={}));const gk=ar("Keyboard");var bb;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(bb||(bb={}));var xk;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(xk||(xk={}));const yk=ar("StatusBar"),tX=ar("SplashScreen",{web:()=>mi(()=>import("./web-Din-zt2i.js"),[]).then(e=>new e.SplashScreenWeb)}),sX=ar("Network",{web:()=>mi(()=>import("./web-jdon4x-Q.js"),[]).then(e=>new e.NetworkWeb)});var Sd;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(Sd||(Sd={}));var Rh;(function(e){e.Rear="REAR",e.Front="FRONT"})(Rh||(Rh={}));var vk;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(vk||(vk={}));class aX extends cg{async getPhoto(s){return new Promise(async(n,a)=>{if(s.webUseInput||s.source===Sd.Photos)this.fileInputExperience(s,n,a);else if(s.source===Sd.Prompt){let r=document.querySelector("pwa-action-sheet");r||(r=document.createElement("pwa-action-sheet"),document.body.appendChild(r)),r.header=s.promptLabelHeader||"Photo",r.cancelable=!1,r.options=[{title:s.promptLabelPhoto||"From Photos"},{title:s.promptLabelPicture||"Take Picture"}],r.addEventListener("onSelection",async l=>{l.detail===0?this.fileInputExperience(s,n,a):this.cameraExperience(s,n,a)})}else this.cameraExperience(s,n,a)})}async pickImages(s){return new Promise(async(n,a)=>{this.multipleFileInputExperience(n,a)})}async cameraExperience(s,n,a){if(customElements.get("pwa-camera-modal")){const r=document.createElement("pwa-camera-modal");r.facingMode=s.direction===Rh.Front?"user":"environment",document.body.appendChild(r);try{await r.componentOnReady(),r.addEventListener("onPhoto",async l=>{const c=l.detail;c===null?a(new Cd("User cancelled photos app")):c instanceof Error?a(c):n(await this._getCameraPhoto(c,s)),r.dismiss(),document.body.removeChild(r)}),r.present()}catch{this.fileInputExperience(s,n,a)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(s,n,a)}fileInputExperience(s,n,a){let r=document.querySelector("#_capacitor-camera-input");const l=()=>{var c;(c=r.parentNode)===null||c===void 0||c.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input",r.type="file",r.hidden=!0,document.body.appendChild(r),r.addEventListener("change",c=>{const u=r.files[0];let m="jpeg";if(u.type==="image/png"?m="png":u.type==="image/gif"&&(m="gif"),s.resultType==="dataUrl"||s.resultType==="base64"){const p=new FileReader;p.addEventListener("load",()=>{if(s.resultType==="dataUrl")n({dataUrl:p.result,format:m});else if(s.resultType==="base64"){const f=p.result.split(",")[1];n({base64String:f,format:m})}l()}),p.readAsDataURL(u)}else n({webPath:URL.createObjectURL(u),format:m}),l()}),r.addEventListener("cancel",c=>{a(new Cd("User cancelled photos app")),l()})),r.accept="image/*",r.capture=!0,s.source===Sd.Photos||s.source===Sd.Prompt?r.removeAttribute("capture"):s.direction===Rh.Front?r.capture="user":s.direction===Rh.Rear&&(r.capture="environment"),r.click()}multipleFileInputExperience(s,n){let a=document.querySelector("#_capacitor-camera-input-multiple");const r=()=>{var l;(l=a.parentNode)===null||l===void 0||l.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input-multiple",a.type="file",a.hidden=!0,a.multiple=!0,document.body.appendChild(a),a.addEventListener("change",l=>{const c=[];for(let u=0;u<a.files.length;u++){const m=a.files[u];let p="jpeg";m.type==="image/png"?p="png":m.type==="image/gif"&&(p="gif"),c.push({webPath:URL.createObjectURL(m),format:p})}s({photos:c}),r()}),a.addEventListener("cancel",l=>{n(new Cd("User cancelled photos app")),r()})),a.accept="image/*",a.click()}_getCameraPhoto(s,n){return new Promise((a,r)=>{const l=new FileReader,c=s.type.split("/")[1];n.resultType==="uri"?a({webPath:URL.createObjectURL(s),format:c,saved:!1}):(l.readAsDataURL(s),l.onloadend=()=>{const u=l.result;n.resultType==="dataUrl"?a({dataUrl:u,format:c,saved:!1}):a({base64String:u.split(",")[1],format:c,saved:!1})},l.onerror=u=>{r(u)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}ar("Camera",{web:()=>new aX});function nX(e){e.CapacitorUtils.Synapse=new Proxy({},{get(s,n){return new Proxy({},{get(a,r){return(l,c,u)=>{const m=e.Capacitor.Plugins[n];if(m===void 0){u(new Error(`Capacitor plugin ${n} not found`));return}if(typeof m[r]!="function"){u(new Error(`Method ${r} not found in Capacitor plugin ${n}`));return}(async()=>{try{const p=await m[r](l);c(p)}catch(p){u(p)}})()}}})}})}function rX(e){e.CapacitorUtils.Synapse=new Proxy({},{get(s,n){return e.cordova.plugins[n]}})}function iX(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?nX(window):window.cordova!==void 0&&rX(window))}ar("Geolocation",{web:()=>mi(()=>import("./web-C6pmqU92.js"),[]).then(e=>new e.GeolocationWeb)});iX();var bk;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(bk||(bk={}));var wk;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(wk||(wk={}));ar("Haptics",{web:()=>mi(()=>import("./web-Wz50jFpB.js"),[]).then(e=>new e.HapticsWeb)});ar("Browser",{web:()=>mi(()=>import("./web-Lbc9tew1.js"),[]).then(e=>new e.BrowserWeb)});ar("Preferences",{web:()=>mi(()=>import("./web-BgqfRd0y.js"),[]).then(e=>new e.PreferencesWeb)});const pj=Hd.isNativePlatform(),fj=Hd.getPlatform(),of=fj==="android",jk=fj==="ios";async function oX(){if(!pj){console.log("[Capacitor] Running in web mode");return}console.log(`[Capacitor] Initializing on ${fj}`);try{await tX.hide(),(jk||of)&&(await yk.setStyle({style:bb.Dark}),of&&await yk.setBackgroundColor({color:"#ffffff"})),of&&A0.addListener("backButton",({canGoBack:e})=>{e?window.history.back():A0.exitApp()}),A0.addListener("appStateChange",({isActive:e})=>{console.log("[Capacitor] App state changed:",e?"active":"background"),window.dispatchEvent(new CustomEvent("app-state-change",{detail:{isActive:e}}))}),(jk||of)&&(gk.addListener("keyboardWillShow",e=>{document.body.style.setProperty("--keyboard-height",`${e.keyboardHeight}px`),document.body.classList.add("keyboard-visible")}),gk.addListener("keyboardWillHide",()=>{document.body.style.setProperty("--keyboard-height","0px"),document.body.classList.remove("keyboard-visible")})),sX.addListener("networkStatusChange",e=>{console.log("[Capacitor] Network status:",e),window.dispatchEvent(new CustomEvent("network-status-change",{detail:e}))}),console.log("[Capacitor] Initialization complete")}catch(e){console.error("[Capacitor] Initialization failed:",e)}}ZJ();pj&&oX().catch(e=>{console.error("[Main] Failed to initialize Capacitor:",e)});if("serviceWorker"in navigator&&!pj)try{window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("[SW] Service Worker registered:",e.scope),e.addEventListener("updatefound",()=>{const s=e.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New content available, refresh to update"),window.dispatchEvent(new CustomEvent("sw-update-available")))})})}).catch(e=>{console.log("[SW] Service Worker registration failed:",e)})})}catch{}xM.createRoot(document.getElementById("root")).render(t.jsx(qe.StrictMode,{children:t.jsx(XJ,{})}));export{xt as A,bk as I,wk as N,cg as W,Iv as a,OC as b,mn as c,IF as g,$b as i};
