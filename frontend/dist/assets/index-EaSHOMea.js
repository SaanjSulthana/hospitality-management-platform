var pM=Object.defineProperty;var KS=e=>{throw TypeError(e)};var gM=(e,s,n)=>s in e?pM(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n;var Ve=(e,s,n)=>gM(e,typeof s!="symbol"?s+"":s,n),Iy=(e,s,n)=>s.has(e)||KS("Cannot "+n);var re=(e,s,n)=>(Iy(e,s,"read from private field"),n?n.call(e):s.get(e)),Ct=(e,s,n)=>s.has(e)?KS("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,n),tt=(e,s,n,a)=>(Iy(e,s,"write to private field"),a?a.call(e,n):s.set(e,n),n),$t=(e,s,n)=>(Iy(e,s,"access private method"),n);var Bf=(e,s,n,a)=>({set _(r){tt(e,s,r,n)},get _(){return re(e,s,a)}});function xM(e,s){for(var n=0;n<s.length;n++){const a=s[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in e)){const l=Object.getOwnPropertyDescriptor(a,r);l&&Object.defineProperty(e,r,l.get?l:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ry={exports:{}},ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function yM(){if(QS)return ch;QS=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function n(a,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var u in r)u!=="key"&&(l[u]=r[u])}else l=r;return r=l.ref,{$$typeof:e,type:a,key:c,ref:r!==void 0?r:null,props:l}}return ch.Fragment=s,ch.jsx=n,ch.jsxs=n,ch}var JS;function vM(){return JS||(JS=1,Ry.exports=yM()),Ry.exports}var t=vM(),Oy={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function bM(){if(XS)return _t;XS=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function E(M,V,G){this.props=M,this.context=V,this.refs=S,this.updater=G||N}E.prototype.isReactComponent={},E.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=E.prototype;function C(M,V,G){this.props=M,this.context=V,this.refs=S,this.updater=G||N}var I=C.prototype=new T;I.constructor=C,j(I,E.prototype),I.isPureReactComponent=!0;var D=Array.isArray;function A(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function z(M,V,G){var B=G.ref;return{$$typeof:e,type:M,key:V,ref:B!==void 0?B:null,props:G}}function Q(M,V){return z(M.type,V,M.props)}function K(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function J(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(G){return V[G]})}var de=/\/+/g;function H(M,V){return typeof M=="object"&&M!==null&&M.key!=null?J(""+M.key):V.toString(36)}function ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(A,A):(M.status="pending",M.then(function(V){M.status==="pending"&&(M.status="fulfilled",M.value=V)},function(V){M.status==="pending"&&(M.status="rejected",M.reason=V)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,V,G,B,ce){var pe=typeof M;(pe==="undefined"||pe==="boolean")&&(M=null);var le=!1;if(M===null)le=!0;else switch(pe){case"bigint":case"string":case"number":le=!0;break;case"object":switch(M.$$typeof){case e:case s:le=!0;break;case p:return le=M._init,F(le(M._payload),V,G,B,ce)}}if(le)return ce=ce(M),le=B===""?"."+H(M,0):B,D(ce)?(G="",le!=null&&(G=le.replace(de,"$&/")+"/"),F(ce,V,G,"",function(Y){return Y})):ce!=null&&(K(ce)&&(ce=Q(ce,G+(ce.key==null||M&&M.key===ce.key?"":(""+ce.key).replace(de,"$&/")+"/")+le)),V.push(ce)),1;le=0;var ye=B===""?".":B+":";if(D(M))for(var ke=0;ke<M.length;ke++)B=M[ke],pe=ye+H(B,ke),le+=F(B,V,G,pe,ce);else if(ke=w(M),typeof ke=="function")for(M=ke.call(M),ke=0;!(B=M.next()).done;)B=B.value,pe=ye+H(B,ke++),le+=F(B,V,G,pe,ce);else if(pe==="object"){if(typeof M.then=="function")return F(ie(M),V,G,B,ce);throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return le}function q(M,V,G){if(M==null)return M;var B=[],ce=0;return F(M,B,"","",function(pe){return V.call(G,pe,ce++)}),B}function W(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(G){(M._status===0||M._status===-1)&&(M._status=1,M._result=G)},function(G){(M._status===0||M._status===-1)&&(M._status=2,M._result=G)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var he=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},$={map:q,forEach:function(M,V,G){q(M,function(){V.apply(this,arguments)},G)},count:function(M){var V=0;return q(M,function(){V++}),V},toArray:function(M){return q(M,function(V){return V})||[]},only:function(M){if(!K(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return _t.Activity=g,_t.Children=$,_t.Component=E,_t.Fragment=n,_t.Profiler=r,_t.PureComponent=C,_t.StrictMode=a,_t.Suspense=m,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,_t.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},_t.cache=function(M){return function(){return M.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(M,V,G){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var B=j({},M.props),ce=M.key;if(V!=null)for(pe in V.key!==void 0&&(ce=""+V.key),V)!L.call(V,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&V.ref===void 0||(B[pe]=V[pe]);var pe=arguments.length-2;if(pe===1)B.children=G;else if(1<pe){for(var le=Array(pe),ye=0;ye<pe;ye++)le[ye]=arguments[ye+2];B.children=le}return z(M.type,ce,B)},_t.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},_t.createElement=function(M,V,G){var B,ce={},pe=null;if(V!=null)for(B in V.key!==void 0&&(pe=""+V.key),V)L.call(V,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(ce[B]=V[B]);var le=arguments.length-2;if(le===1)ce.children=G;else if(1<le){for(var ye=Array(le),ke=0;ke<le;ke++)ye[ke]=arguments[ke+2];ce.children=ye}if(M&&M.defaultProps)for(B in le=M.defaultProps,le)ce[B]===void 0&&(ce[B]=le[B]);return z(M,pe,ce)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(M){return{$$typeof:u,render:M}},_t.isValidElement=K,_t.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:W}},_t.memo=function(M,V){return{$$typeof:f,type:M,compare:V===void 0?null:V}},_t.startTransition=function(M){var V=R.T,G={};R.T=G;try{var B=M(),ce=R.S;ce!==null&&ce(G,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(A,he)}catch(pe){he(pe)}finally{V!==null&&G.types!==null&&(V.types=G.types),R.T=V}},_t.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},_t.use=function(M){return R.H.use(M)},_t.useActionState=function(M,V,G){return R.H.useActionState(M,V,G)},_t.useCallback=function(M,V){return R.H.useCallback(M,V)},_t.useContext=function(M){return R.H.useContext(M)},_t.useDebugValue=function(){},_t.useDeferredValue=function(M,V){return R.H.useDeferredValue(M,V)},_t.useEffect=function(M,V){return R.H.useEffect(M,V)},_t.useEffectEvent=function(M){return R.H.useEffectEvent(M)},_t.useId=function(){return R.H.useId()},_t.useImperativeHandle=function(M,V,G){return R.H.useImperativeHandle(M,V,G)},_t.useInsertionEffect=function(M,V){return R.H.useInsertionEffect(M,V)},_t.useLayoutEffect=function(M,V){return R.H.useLayoutEffect(M,V)},_t.useMemo=function(M,V){return R.H.useMemo(M,V)},_t.useOptimistic=function(M,V){return R.H.useOptimistic(M,V)},_t.useReducer=function(M,V,G){return R.H.useReducer(M,V,G)},_t.useRef=function(M){return R.H.useRef(M)},_t.useState=function(M){return R.H.useState(M)},_t.useSyncExternalStore=function(M,V,G){return R.H.useSyncExternalStore(M,V,G)},_t.useTransition=function(){return R.H.useTransition()},_t.version="19.2.0",_t}var ZS;function lg(){return ZS||(ZS=1,Oy.exports=bM()),Oy.exports}var x=lg();const qe=tm(x),zk=xM({__proto__:null,default:qe},[x]);var My={exports:{}},dh={},_y={exports:{}},Ly={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function wM(){return eC||(eC=1,(function(e){function s(F,q){var W=F.length;F.push(q);e:for(;0<W;){var he=W-1>>>1,$=F[he];if(0<r($,q))F[he]=q,F[W]=$,W=he;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var q=F[0],W=F.pop();if(W!==q){F[0]=W;e:for(var he=0,$=F.length,M=$>>>1;he<M;){var V=2*(he+1)-1,G=F[V],B=V+1,ce=F[B];if(0>r(G,W))B<$&&0>r(ce,G)?(F[he]=ce,F[B]=W,he=B):(F[he]=G,F[V]=W,he=V);else if(B<$&&0>r(ce,W))F[he]=ce,F[B]=W,he=B;else break e}}return q}function r(F,q){var W=F.sortIndex-q.sortIndex;return W!==0?W:F.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var m=[],f=[],p=1,g=null,v=3,w=!1,N=!1,j=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function I(F){for(var q=n(f);q!==null;){if(q.callback===null)a(f);else if(q.startTime<=F)a(f),q.sortIndex=q.expirationTime,s(m,q);else break;q=n(f)}}function D(F){if(j=!1,I(F),!N)if(n(m)!==null)N=!0,A||(A=!0,J());else{var q=n(f);q!==null&&ie(D,q.startTime-F)}}var A=!1,R=-1,L=5,z=-1;function Q(){return S?!0:!(e.unstable_now()-z<L)}function K(){if(S=!1,A){var F=e.unstable_now();z=F;var q=!0;try{e:{N=!1,j&&(j=!1,T(R),R=-1),w=!0;var W=v;try{t:{for(I(F),g=n(m);g!==null&&!(g.expirationTime>F&&Q());){var he=g.callback;if(typeof he=="function"){g.callback=null,v=g.priorityLevel;var $=he(g.expirationTime<=F);if(F=e.unstable_now(),typeof $=="function"){g.callback=$,I(F),q=!0;break t}g===n(m)&&a(m),I(F)}else a(m);g=n(m)}if(g!==null)q=!0;else{var M=n(f);M!==null&&ie(D,M.startTime-F),q=!1}}break e}finally{g=null,v=W,w=!1}q=void 0}}finally{q?J():A=!1}}}var J;if(typeof C=="function")J=function(){C(K)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,H=de.port2;de.port1.onmessage=K,J=function(){H.postMessage(null)}}else J=function(){E(K,0)};function ie(F,q){R=E(function(){F(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var W=v;v=q;try{return F()}finally{v=W}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=v;v=F;try{return q()}finally{v=W}},e.unstable_scheduleCallback=function(F,q,W){var he=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?he+W:he):W=he,F){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=W+$,F={id:p++,callback:q,priorityLevel:F,startTime:W,expirationTime:$,sortIndex:-1},W>he?(F.sortIndex=W,s(f,F),n(m)===null&&F===n(f)&&(j?(T(R),R=-1):j=!0,ie(D,W-he))):(F.sortIndex=$,s(m,F),N||w||(N=!0,A||(A=!0,J()))),F},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(F){var q=v;return function(){var W=v;v=q;try{return F.apply(this,arguments)}finally{v=W}}}})(Ly)),Ly}var tC;function jM(){return tC||(tC=1,_y.exports=wM()),_y.exports}var Fy={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function NM(){if(sC)return cn;sC=1;var e=lg();function s(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(s(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(m,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:m,containerInfo:f,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(m,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(s(299));return l(m,f,null,p)},cn.flushSync=function(m){var f=c.T,p=a.p;try{if(c.T=null,a.p=2,m)return m()}finally{c.T=f,a.p=p,a.d.f()}},cn.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(m,f))},cn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},cn.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?a.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:w}):p==="script"&&a.d.X(m,{crossOrigin:g,integrity:v,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},cn.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);a.d.M(m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(m)},cn.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);a.d.L(m,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},cn.preloadModule=function(m,f){if(typeof m=="string")if(f){var p=u(f.as,f.crossOrigin);a.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(m)},cn.requestFormReset=function(m){a.d.r(m)},cn.unstable_batchedUpdates=function(m,f){return m(f)},cn.useFormState=function(m,f,p){return c.H.useFormState(m,f,p)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var aC;function qk(){if(aC)return Fy.exports;aC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),Fy.exports=NM(),Fy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function SM(){if(nC)return dh;nC=1;var e=jM(),s=lg(),n=qk();function a(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(a(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(a(188));return o!==i?null:i}for(var d=i,h=o;;){var y=d.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){d=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===d)return m(y),i;if(b===h)return m(y),o;b=b.sibling}throw Error(a(188))}if(d.return!==h.return)d=y,h=b;else{for(var P=!1,U=y.child;U;){if(U===d){P=!0,d=y,h=b;break}if(U===h){P=!0,h=y,d=b;break}U=U.sibling}if(!P){for(U=b.child;U;){if(U===d){P=!0,d=b,h=y;break}if(U===h){P=!0,h=b,d=y;break}U=U.sibling}if(!P)throw Error(a(189))}}if(d.alternate!==h)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var de=Symbol.for("react.client.reference");function H(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===de?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case C:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case I:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return o=i.displayName||null,o!==null?o:H(i.type)||"Memo";case L:o=i._payload,i=i._init;try{return H(i(o))}catch{}}return null}var ie=Array.isArray,F=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},he=[],$=-1;function M(i){return{current:i}}function V(i){0>$||(i.current=he[$],he[$]=null,$--)}function G(i,o){$++,he[$]=i.current,i.current=o}var B=M(null),ce=M(null),pe=M(null),le=M(null);function ye(i,o){switch(G(pe,o),G(ce,i),G(B,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?yS(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=yS(o),i=vS(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}V(B),G(B,i)}function ke(){V(B),V(ce),V(pe)}function Y(i){i.memoizedState!==null&&G(le,i);var o=B.current,d=vS(o,i.type);o!==d&&(G(ce,i),G(B,d))}function ge(i){ce.current===i&&(V(B),V(ce)),le.current===i&&(V(le),rh._currentValue=W)}var je,Oe;function _e(i){if(je===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);je=o&&o[1]||"",Oe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+i+Oe}var Pe=!1;function ze(i,o){if(!i||Pe)return"";Pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Ce){var Ne=Ce}Reflect.construct(i,[],Me)}else{try{Me.call()}catch(Ce){Ne=Ce}i.call(Me.prototype)}}else{try{throw Error()}catch(Ce){Ne=Ce}(Me=i())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Ce){if(Ce&&Ne&&typeof Ce.stack=="string")return[Ce.stack,Ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),P=b[0],U=b[1];if(P&&U){var ne=P.split(`
`),we=U.split(`
`);for(y=h=0;h<ne.length&&!ne[h].includes("DetermineComponentFrameRoot");)h++;for(;y<we.length&&!we[y].includes("DetermineComponentFrameRoot");)y++;if(h===ne.length||y===we.length)for(h=ne.length-1,y=we.length-1;1<=h&&0<=y&&ne[h]!==we[y];)y--;for(;1<=h&&0<=y;h--,y--)if(ne[h]!==we[y]){if(h!==1||y!==1)do if(h--,y--,0>y||ne[h]!==we[y]){var Ae=`
`+ne[h].replace(" at new "," at ");return i.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",i.displayName)),Ae}while(1<=h&&0<=y);break}}}finally{Pe=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?_e(d):""}function Ue(i,o){switch(i.tag){case 26:case 27:case 5:return _e(i.type);case 16:return _e("Lazy");case 13:return i.child!==o&&o!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return ze(i.type,!1);case 11:return ze(i.type.render,!1);case 1:return ze(i.type,!0);case 31:return _e("Activity");default:return""}}function He(i){try{var o="",d=null;do o+=Ue(i,d),d=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var it=Object.prototype.hasOwnProperty,Tt=e.unstable_scheduleCallback,yt=e.unstable_cancelCallback,xs=e.unstable_shouldYield,va=e.unstable_requestPaint,Fe=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,Zt=e.unstable_ImmediatePriority,as=e.unstable_UserBlockingPriority,es=e.unstable_NormalPriority,ae=e.unstable_LowPriority,Ye=e.unstable_IdlePriority,vt=e.log,St=e.unstable_setDisableYieldValue,cs=null,ys=null;function Ks(i){if(typeof vt=="function"&&St(i),ys&&typeof ys.setStrictMode=="function")try{ys.setStrictMode(cs,i)}catch{}}var bt=Math.clz32?Math.clz32:ln,on=Math.log,La=Math.LN2;function ln(i){return i>>>=0,i===0?32:31-(on(i)/La|0)|0}var jt=256,Ft=262144,k=4194304;function te(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ue(i,o,d){var h=i.pendingLanes;if(h===0)return 0;var y=0,b=i.suspendedLanes,P=i.pingedLanes;i=i.warmLanes;var U=h&134217727;return U!==0?(h=U&~b,h!==0?y=te(h):(P&=U,P!==0?y=te(P):d||(d=U&~i,d!==0&&(y=te(d))))):(U=h&~b,U!==0?y=te(U):P!==0?y=te(P):d||(d=h&~i,d!==0&&(y=te(d)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,d=o&-o,b>=d||b===32&&(d&4194048)!==0)?o:y}function Se(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function dt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _(){var i=k;return k<<=1,(k&62914560)===0&&(k=4194304),i}function xe(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Be(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function kt(i,o,d,h,y,b){var P=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var U=i.entanglements,ne=i.expirationTimes,we=i.hiddenUpdates;for(d=P&~d;0<d;){var Ae=31-bt(d),Me=1<<Ae;U[Ae]=0,ne[Ae]=-1;var Ne=we[Ae];if(Ne!==null)for(we[Ae]=null,Ae=0;Ae<Ne.length;Ae++){var Ce=Ne[Ae];Ce!==null&&(Ce.lane&=-536870913)}d&=~Me}h!==0&&Ht(i,h,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(P&~o))}function Ht(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-bt(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|d&261930}function Wt(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var h=31-bt(d),y=1<<h;y&o|i[h]&o&&(i[h]|=o),d&=~y}}function ea(i,o){var d=o&-o;return d=(d&42)!==0?1:qt(d),(d&(i.suspendedLanes|o))!==0?0:d}function qt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Le(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Hs(){var i=q.p;return i!==0?i:(i=window.event,i===void 0?32:zS(i.type))}function ba(i,o){var d=q.p;try{return q.p=i,o()}finally{q.p=d}}var As=Math.random().toString(36).slice(2),zs="__reactFiber$"+As,Gt="__reactProps$"+As,Ut="__reactContainer$"+As,Kt="__reactEvents$"+As,Bt="__reactListeners$"+As,fs="__reactHandles$"+As,ta="__reactResources$"+As,js="__reactMarker$"+As;function co(i){delete i[zs],delete i[Gt],delete i[Kt],delete i[Bt],delete i[fs]}function et(i){var o=i[zs];if(o)return o;for(var d=i.parentNode;d;){if(o=d[Ut]||d[zs]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=TS(i);i!==null;){if(d=i[zs])return d;i=TS(i)}return o}i=d,d=i.parentNode}return null}function ua(i){if(i=i[zs]||i[Ut]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Z(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(a(33))}function ft(i){var o=i[ta];return o||(o=i[ta]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function wa(i){i[js]=!0}var vu=new Set,bu={};function Wa(i,o){bi(i,o),bi(i+"Capture",o)}function bi(i,o){for(bu[i]=o,i=0;i<o.length;i++)vu.add(o[i])}var _g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xm={},wl={};function ym(i){return it.call(wl,i)?!0:it.call(xm,i)?!1:_g.test(i)?wl[i]=!0:(xm[i]=!0,!1)}function wi(i,o,d){if(ym(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function jl(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function En(i,o,d,h){if(h===null)i.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+h)}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vm(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Lg(i,o,d){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){d=""+P,b.call(this,P)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Cc(i){if(!i._valueTracker){var o=vm(i)?"checked":"value";i._valueTracker=Lg(i,o,""+i[o])}}function wu(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),h="";return i&&(h=vm(i)?i.checked?"true":"false":i.value),i=h,i!==d?(o.setValue(i),!0):!1}function nr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bm=/[\n"\\]/g;function pn(i){return i.replace(bm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Tc(i,o,d,h,y,b,P,U){i.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.type=P:i.removeAttribute("type"),o!=null?P==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+fn(o)):i.value!==""+fn(o)&&(i.value=""+fn(o)):P!=="submit"&&P!=="reset"||i.removeAttribute("value"),o!=null?X(i,P,fn(o)):d!=null?X(i,P,fn(d)):h!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.name=""+fn(U):i.removeAttribute("name")}function O(i,o,d,h,y,b,P,U){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Cc(i);return}d=d!=null?""+fn(d):"",o=o!=null?""+fn(o):d,U||o===i.value||(i.value=o),i.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=U?i.checked:!!h,i.defaultChecked=!!h,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(i.name=P),Cc(i)}function X(i,o,d){o==="number"&&nr(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Ie(i,o,d,h){if(i=i.options,o){o={};for(var y=0;y<d.length;y++)o["$"+d[y]]=!0;for(d=0;d<i.length;d++)y=o.hasOwnProperty("$"+i[d].value),i[d].selected!==y&&(i[d].selected=y),y&&h&&(i[d].defaultSelected=!0)}else{for(d=""+fn(d),o=null,y=0;y<i.length;y++){if(i[y].value===d){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function pt(i,o,d){if(o!=null&&(o=""+fn(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+fn(d):""}function Pt(i,o,d,h){if(o==null){if(h!=null){if(d!=null)throw Error(a(92));if(ie(h)){if(1<h.length)throw Error(a(93));h=h[0]}d=h}d==null&&(d=""),o=d}d=fn(o),i.defaultValue=d,h=i.textContent,h===d&&h!==""&&h!==null&&(i.value=h),Cc(i)}function Ge(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var It=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function We(i,o,d){var h=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,d):typeof d!="number"||d===0||It.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function Mt(i,o,d){if(o!=null&&typeof o!="object")throw Error(a(62));if(i=i.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&d[y]!==h&&We(i,y,h)}else for(var b in o)o.hasOwnProperty(b)&&We(i,b,o[b])}function Ls(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(i){return qa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gn(){}var ji=null;function Ni(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ir=null,or=null;function uo(i){var o=ua(i);if(o&&(i=o.stateNode)){var d=i[Gt]||null;e:switch(i=o.stateNode,o.type){case"input":if(Tc(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+pn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var h=d[o];if(h!==i&&h.form===i.form){var y=h[Gt]||null;if(!y)throw Error(a(90));Tc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<d.length;o++)h=d[o],h.form===i.form&&wu(h)}break e;case"textarea":pt(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Ie(i,!!d.multiple,o,!1)}}}var Si=!1;function ho(i,o,d){if(Si)return i(o,d);Si=!0;try{var h=i(o);return h}finally{if(Si=!1,(ir!==null||or!==null)&&(vf(),ir&&(o=ir,i=or,or=ir=null,uo(o),i)))for(o=0;o<i.length;o++)uo(i[o])}}function Ar(i,o){var d=i.stateNode;if(d===null)return null;var h=d[Gt]||null;if(h===null)return null;d=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(a(231,o,typeof d));return d}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(xn)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){mo=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{mo=!1}var Dr=null,kc=null,Nl=null;function ju(){if(Nl)return Nl;var i,o=kc,d=o.length,h,y="value"in Dr?Dr.value:Dr.textContent,b=y.length;for(i=0;i<d&&o[i]===y[i];i++);var P=d-i;for(h=1;h<=P&&o[d-h]===y[b-h];h++);return Nl=y.slice(i,1<h?1-h:void 0)}function Sl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Cl(){return!0}function Nu(){return!1}function Ka(i){function o(d,h,y,b,P){this._reactName=d,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=P,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(d=i[U],this[U]=d?d(b):b[U]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Cl:Nu,this.isPropagationStopped=Nu,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),o}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=Ka(Yr),po=g({},Yr,{view:0,detail:0}),wm=Ka(po),Ec,Ac,go,kl=g({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==go&&(go&&i.type==="mousemove"?(Ec=i.screenX-go.screenX,Ac=i.screenY-go.screenY):Ac=Ec=0,go=i),Ec)},movementY:function(i){return"movementY"in i?i.movementY:Ac}}),Su=Ka(kl),jm=g({},kl,{dataTransfer:0}),Nm=Ka(jm),Sm=g({},po,{relatedTarget:0}),Dc=Ka(Sm),Cm=g({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tm=Ka(Cm),km=g({},Yr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Em=Ka(km),Am=g({},Yr,{data:0}),Cu=Ka(Am),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Im[i])?!!o[i]:!1}function Pc(){return Rm}var Om=g({},po,{key:function(i){if(i.key){var o=Dm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Sl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pc,charCode:function(i){return i.type==="keypress"?Sl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Sl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Mm=Ka(Om),_m=g({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sa=Ka(_m),El=g({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pc}),xo=Ka(El),PO=g({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),IO=Ka(PO),RO=g({},kl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),OO=Ka(RO),MO=g({},Yr,{newState:0,oldState:0}),_O=Ka(MO),LO=[9,13,27,32],Fg=xn&&"CompositionEvent"in window,Tu=null;xn&&"documentMode"in document&&(Tu=document.documentMode);var FO=xn&&"TextEvent"in window&&!Tu,Sj=xn&&(!Fg||Tu&&8<Tu&&11>=Tu),Cj=" ",Tj=!1;function kj(i,o){switch(i){case"keyup":return LO.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ej(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ic=!1;function UO(i,o){switch(i){case"compositionend":return Ej(o);case"keypress":return o.which!==32?null:(Tj=!0,Cj);case"textInput":return i=o.data,i===Cj&&Tj?null:i;default:return null}}function VO(i,o){if(Ic)return i==="compositionend"||!Fg&&kj(i,o)?(i=ju(),Nl=kc=Dr=null,Ic=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Sj&&o.locale!=="ko"?null:o.data;default:return null}}var BO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aj(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!BO[i.type]:o==="textarea"}function Dj(i,o,d,h){ir?or?or.push(h):or=[h]:ir=h,o=Tf(o,"onChange"),0<o.length&&(d=new Tl("onChange","change",null,d,h),i.push({event:d,listeners:o}))}var ku=null,Eu=null;function zO(i){hS(i,0)}function Lm(i){var o=Z(i);if(wu(o))return i}function Pj(i,o){if(i==="change")return o}var Ij=!1;if(xn){var Ug;if(xn){var Vg="oninput"in document;if(!Vg){var Rj=document.createElement("div");Rj.setAttribute("oninput","return;"),Vg=typeof Rj.oninput=="function"}Ug=Vg}else Ug=!1;Ij=Ug&&(!document.documentMode||9<document.documentMode)}function Oj(){ku&&(ku.detachEvent("onpropertychange",Mj),Eu=ku=null)}function Mj(i){if(i.propertyName==="value"&&Lm(Eu)){var o=[];Dj(o,Eu,i,Ni(i)),ho(zO,o)}}function qO(i,o,d){i==="focusin"?(Oj(),ku=o,Eu=d,ku.attachEvent("onpropertychange",Mj)):i==="focusout"&&Oj()}function $O(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lm(Eu)}function HO(i,o){if(i==="click")return Lm(o)}function GO(i,o){if(i==="input"||i==="change")return Lm(o)}function YO(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Bn=typeof Object.is=="function"?Object.is:YO;function Au(i,o){if(Bn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),h=Object.keys(o);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var y=d[h];if(!it.call(o,y)||!Bn(i[y],o[y]))return!1}return!0}function _j(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lj(i,o){var d=_j(i);i=0;for(var h;d;){if(d.nodeType===3){if(h=i+d.textContent.length,i<=o&&h>=o)return{node:d,offset:o-i};i=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=_j(d)}}function Fj(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Fj(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Uj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=nr(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=nr(i.document)}return o}function Bg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var WO=xn&&"documentMode"in document&&11>=document.documentMode,Rc=null,zg=null,Du=null,qg=!1;function Vj(i,o,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;qg||Rc==null||Rc!==nr(h)||(h=Rc,"selectionStart"in h&&Bg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Du&&Au(Du,h)||(Du=h,h=Tf(zg,"onSelect"),0<h.length&&(o=new Tl("onSelect","select",null,o,d),i.push({event:o,listeners:h}),o.target=Rc)))}function Al(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var Oc={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionrun:Al("Transition","TransitionRun"),transitionstart:Al("Transition","TransitionStart"),transitioncancel:Al("Transition","TransitionCancel"),transitionend:Al("Transition","TransitionEnd")},$g={},Bj={};xn&&(Bj=document.createElement("div").style,"AnimationEvent"in window||(delete Oc.animationend.animation,delete Oc.animationiteration.animation,delete Oc.animationstart.animation),"TransitionEvent"in window||delete Oc.transitionend.transition);function Dl(i){if($g[i])return $g[i];if(!Oc[i])return i;var o=Oc[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in Bj)return $g[i]=o[d];return i}var zj=Dl("animationend"),qj=Dl("animationiteration"),$j=Dl("animationstart"),KO=Dl("transitionrun"),QO=Dl("transitionstart"),JO=Dl("transitioncancel"),Hj=Dl("transitionend"),Gj=new Map,Hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hg.push("scrollEnd");function Pr(i,o){Gj.set(i,o),Wa(o,[i])}var Fm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},lr=[],Mc=0,Gg=0;function Um(){for(var i=Mc,o=Gg=Mc=0;o<i;){var d=lr[o];lr[o++]=null;var h=lr[o];lr[o++]=null;var y=lr[o];lr[o++]=null;var b=lr[o];if(lr[o++]=null,h!==null&&y!==null){var P=h.pending;P===null?y.next=y:(y.next=P.next,P.next=y),h.pending=y}b!==0&&Yj(d,y,b)}}function Vm(i,o,d,h){lr[Mc++]=i,lr[Mc++]=o,lr[Mc++]=d,lr[Mc++]=h,Gg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Yg(i,o,d,h){return Vm(i,o,d,h),Bm(i)}function Pl(i,o){return Vm(i,null,null,o),Bm(i)}function Yj(i,o,d){i.lanes|=d;var h=i.alternate;h!==null&&(h.lanes|=d);for(var y=!1,b=i.return;b!==null;)b.childLanes|=d,h=b.alternate,h!==null&&(h.childLanes|=d),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&o!==null&&(y=31-bt(d),i=b.hiddenUpdates,h=i[y],h===null?i[y]=[o]:h.push(o),o.lane=d|536870912),b):null}function Bm(i){if(50<Xu)throw Xu=0,sy=null,Error(a(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var _c={};function XO(i,o,d,h){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,o,d,h){return new XO(i,o,d,h)}function Wg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ci(i,o){var d=i.alternate;return d===null?(d=zn(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function Wj(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function zm(i,o,d,h,y,b){var P=0;if(h=i,typeof i=="function")Wg(i)&&(P=1);else if(typeof i=="string")P=aM(i,d,B.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=zn(31,d,o,y),i.elementType=z,i.lanes=b,i;case j:return Il(d.children,y,b,o);case S:P=8,y|=24;break;case E:return i=zn(12,d,o,y|2),i.elementType=E,i.lanes=b,i;case D:return i=zn(13,d,o,y),i.elementType=D,i.lanes=b,i;case A:return i=zn(19,d,o,y),i.elementType=A,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:P=10;break e;case T:P=9;break e;case I:P=11;break e;case R:P=14;break e;case L:P=16,h=null;break e}P=29,d=Error(a(130,i===null?"null":typeof i,"")),h=null}return o=zn(P,d,o,y),o.elementType=i,o.type=h,o.lanes=b,o}function Il(i,o,d,h){return i=zn(7,i,h,o),i.lanes=d,i}function Kg(i,o,d){return i=zn(6,i,null,o),i.lanes=d,i}function Kj(i){var o=zn(18,null,null,0);return o.stateNode=i,o}function Qg(i,o,d){return o=zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Qj=new WeakMap;function cr(i,o){if(typeof i=="object"&&i!==null){var d=Qj.get(i);return d!==void 0?d:(o={value:i,source:o,stack:He(o)},Qj.set(i,o),o)}return{value:i,source:o,stack:He(o)}}var Lc=[],Fc=0,qm=null,Pu=0,dr=[],ur=0,yo=null,Wr=1,Kr="";function Ti(i,o){Lc[Fc++]=Pu,Lc[Fc++]=qm,qm=i,Pu=o}function Jj(i,o,d){dr[ur++]=Wr,dr[ur++]=Kr,dr[ur++]=yo,yo=i;var h=Wr;i=Kr;var y=32-bt(h)-1;h&=~(1<<y),d+=1;var b=32-bt(o)+y;if(30<b){var P=y-y%5;b=(h&(1<<P)-1).toString(32),h>>=P,y-=P,Wr=1<<32-bt(o)+y|d<<y|h,Kr=b+i}else Wr=1<<b|d<<y|h,Kr=i}function Jg(i){i.return!==null&&(Ti(i,1),Jj(i,1,0))}function Xg(i){for(;i===qm;)qm=Lc[--Fc],Lc[Fc]=null,Pu=Lc[--Fc],Lc[Fc]=null;for(;i===yo;)yo=dr[--ur],dr[ur]=null,Kr=dr[--ur],dr[ur]=null,Wr=dr[--ur],dr[ur]=null}function Xj(i,o){dr[ur++]=Wr,dr[ur++]=Kr,dr[ur++]=yo,Wr=o.id,Kr=o.overflow,yo=i}var Qa=null,Gs=null,ns=!1,vo=null,hr=!1,Zg=Error(a(519));function bo(i){var o=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Iu(cr(o,i)),Zg}function Zj(i){var o=i.stateNode,d=i.type,h=i.memoizedProps;switch(o[zs]=i,o[Gt]=h,d){case"dialog":Jt("cancel",o),Jt("close",o);break;case"iframe":case"object":case"embed":Jt("load",o);break;case"video":case"audio":for(d=0;d<eh.length;d++)Jt(eh[d],o);break;case"source":Jt("error",o);break;case"img":case"image":case"link":Jt("error",o),Jt("load",o);break;case"details":Jt("toggle",o);break;case"input":Jt("invalid",o),O(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Jt("invalid",o);break;case"textarea":Jt("invalid",o),Pt(o,h.value,h.defaultValue,h.children)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||h.suppressHydrationWarning===!0||gS(o.textContent,d)?(h.popover!=null&&(Jt("beforetoggle",o),Jt("toggle",o)),h.onScroll!=null&&Jt("scroll",o),h.onScrollEnd!=null&&Jt("scrollend",o),h.onClick!=null&&(o.onclick=gn),o=!0):o=!1,o||bo(i,!0)}function e1(i){for(Qa=i.return;Qa;)switch(Qa.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:Qa=Qa.return}}function Uc(i){if(i!==Qa)return!1;if(!ns)return e1(i),ns=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||xy(i.type,i.memoizedProps)),d=!d),d&&Gs&&bo(i),e1(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Gs=CS(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));Gs=CS(i)}else o===27?(o=Gs,Oo(i.type)?(i=jy,jy=null,Gs=i):Gs=o):Gs=Qa?fr(i.stateNode.nextSibling):null;return!0}function Rl(){Gs=Qa=null,ns=!1}function ex(){var i=vo;return i!==null&&(In===null?In=i:In.push.apply(In,i),vo=null),i}function Iu(i){vo===null?vo=[i]:vo.push(i)}var tx=M(null),Ol=null,ki=null;function wo(i,o,d){G(tx,o._currentValue),o._currentValue=d}function Ei(i){i._currentValue=tx.current,V(tx)}function sx(i,o,d){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===d)break;i=i.return}}function ax(i,o,d,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var P=y.child;b=b.firstContext;e:for(;b!==null;){var U=b;b=y;for(var ne=0;ne<o.length;ne++)if(U.context===o[ne]){b.lanes|=d,U=b.alternate,U!==null&&(U.lanes|=d),sx(b.return,d,i),h||(P=null);break e}b=U.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(a(341));P.lanes|=d,b=P.alternate,b!==null&&(b.lanes|=d),sx(P,d,i),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===i){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function Vc(i,o,d,h){i=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(a(387));if(P=P.memoizedProps,P!==null){var U=y.type;Bn(y.pendingProps.value,P.value)||(i!==null?i.push(U):i=[U])}}else if(y===le.current){if(P=y.alternate,P===null)throw Error(a(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(rh):i=[rh])}y=y.return}i!==null&&ax(o,i,d,h),o.flags|=262144}function $m(i){for(i=i.firstContext;i!==null;){if(!Bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ml(i){Ol=i,ki=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ja(i){return t1(Ol,i)}function Hm(i,o){return Ol===null&&Ml(i),t1(i,o)}function t1(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},ki===null){if(i===null)throw Error(a(308));ki=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ki=ki.next=o;return d}var ZO=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},e4=e.unstable_scheduleCallback,t4=e.unstable_NormalPriority,Aa={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nx(){return{controller:new ZO,data:new Map,refCount:0}}function Ru(i){i.refCount--,i.refCount===0&&e4(t4,function(){i.controller.abort()})}var Ou=null,rx=0,Bc=0,zc=null;function s4(i,o){if(Ou===null){var d=Ou=[];rx=0,Bc=ly(),zc={status:"pending",value:void 0,then:function(h){d.push(h)}}}return rx++,o.then(s1,s1),o}function s1(){if(--rx===0&&Ou!==null){zc!==null&&(zc.status="fulfilled");var i=Ou;Ou=null,Bc=0,zc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function a4(i,o){var d=[],h={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<d.length;y++)(0,d[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),h}var a1=F.S;F.S=function(i,o){VN=Fe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&s4(i,o),a1!==null&&a1(i,o)};var _l=M(null);function ix(){var i=_l.current;return i!==null?i:Fs.pooledCache}function Gm(i,o){o===null?G(_l,_l.current):G(_l,o.pool)}function n1(){var i=ix();return i===null?null:{parent:Aa._currentValue,pool:i}}var qc=Error(a(460)),ox=Error(a(474)),Ym=Error(a(542)),Wm={then:function(){}};function r1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function i1(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(gn,gn),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,l1(i),i;default:if(typeof o.status=="string")o.then(gn,gn);else{if(i=Fs,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,l1(i),i}throw Fl=o,qc}}function Ll(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Fl=d,qc):d}}var Fl=null;function o1(){if(Fl===null)throw Error(a(459));var i=Fl;return Fl=null,i}function l1(i){if(i===qc||i===Ym)throw Error(a(483))}var $c=null,Mu=0;function Km(i){var o=Mu;return Mu+=1,$c===null&&($c=[]),i1($c,i,o)}function _u(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Qm(i,o){throw o.$$typeof===v?Error(a(525)):(i=Object.prototype.toString.call(o),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function c1(i){function o(fe,oe){if(i){var be=fe.deletions;be===null?(fe.deletions=[oe],fe.flags|=16):be.push(oe)}}function d(fe,oe){if(!i)return null;for(;oe!==null;)o(fe,oe),oe=oe.sibling;return null}function h(fe){for(var oe=new Map;fe!==null;)fe.key!==null?oe.set(fe.key,fe):oe.set(fe.index,fe),fe=fe.sibling;return oe}function y(fe,oe){return fe=Ci(fe,oe),fe.index=0,fe.sibling=null,fe}function b(fe,oe,be){return fe.index=be,i?(be=fe.alternate,be!==null?(be=be.index,be<oe?(fe.flags|=67108866,oe):be):(fe.flags|=67108866,oe)):(fe.flags|=1048576,oe)}function P(fe){return i&&fe.alternate===null&&(fe.flags|=67108866),fe}function U(fe,oe,be,Re){return oe===null||oe.tag!==6?(oe=Kg(be,fe.mode,Re),oe.return=fe,oe):(oe=y(oe,be),oe.return=fe,oe)}function ne(fe,oe,be,Re){var Nt=be.type;return Nt===j?Ae(fe,oe,be.props.children,Re,be.key):oe!==null&&(oe.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===L&&Ll(Nt)===oe.type)?(oe=y(oe,be.props),_u(oe,be),oe.return=fe,oe):(oe=zm(be.type,be.key,be.props,null,fe.mode,Re),_u(oe,be),oe.return=fe,oe)}function we(fe,oe,be,Re){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==be.containerInfo||oe.stateNode.implementation!==be.implementation?(oe=Qg(be,fe.mode,Re),oe.return=fe,oe):(oe=y(oe,be.children||[]),oe.return=fe,oe)}function Ae(fe,oe,be,Re,Nt){return oe===null||oe.tag!==7?(oe=Il(be,fe.mode,Re,Nt),oe.return=fe,oe):(oe=y(oe,be),oe.return=fe,oe)}function Me(fe,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=Kg(""+oe,fe.mode,be),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return be=zm(oe.type,oe.key,oe.props,null,fe.mode,be),_u(be,oe),be.return=fe,be;case N:return oe=Qg(oe,fe.mode,be),oe.return=fe,oe;case L:return oe=Ll(oe),Me(fe,oe,be)}if(ie(oe)||J(oe))return oe=Il(oe,fe.mode,be,null),oe.return=fe,oe;if(typeof oe.then=="function")return Me(fe,Km(oe),be);if(oe.$$typeof===C)return Me(fe,Hm(fe,oe),be);Qm(fe,oe)}return null}function Ne(fe,oe,be,Re){var Nt=oe!==null?oe.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return Nt!==null?null:U(fe,oe,""+be,Re);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return be.key===Nt?ne(fe,oe,be,Re):null;case N:return be.key===Nt?we(fe,oe,be,Re):null;case L:return be=Ll(be),Ne(fe,oe,be,Re)}if(ie(be)||J(be))return Nt!==null?null:Ae(fe,oe,be,Re,null);if(typeof be.then=="function")return Ne(fe,oe,Km(be),Re);if(be.$$typeof===C)return Ne(fe,oe,Hm(fe,be),Re);Qm(fe,be)}return null}function Ce(fe,oe,be,Re,Nt){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return fe=fe.get(be)||null,U(oe,fe,""+Re,Nt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case w:return fe=fe.get(Re.key===null?be:Re.key)||null,ne(oe,fe,Re,Nt);case N:return fe=fe.get(Re.key===null?be:Re.key)||null,we(oe,fe,Re,Nt);case L:return Re=Ll(Re),Ce(fe,oe,be,Re,Nt)}if(ie(Re)||J(Re))return fe=fe.get(be)||null,Ae(oe,fe,Re,Nt,null);if(typeof Re.then=="function")return Ce(fe,oe,be,Km(Re),Nt);if(Re.$$typeof===C)return Ce(fe,oe,be,Hm(oe,Re),Nt);Qm(oe,Re)}return null}function ct(fe,oe,be,Re){for(var Nt=null,hs=null,gt=oe,zt=oe=0,ss=null;gt!==null&&zt<be.length;zt++){gt.index>zt?(ss=gt,gt=null):ss=gt.sibling;var ms=Ne(fe,gt,be[zt],Re);if(ms===null){gt===null&&(gt=ss);break}i&&gt&&ms.alternate===null&&o(fe,gt),oe=b(ms,oe,zt),hs===null?Nt=ms:hs.sibling=ms,hs=ms,gt=ss}if(zt===be.length)return d(fe,gt),ns&&Ti(fe,zt),Nt;if(gt===null){for(;zt<be.length;zt++)gt=Me(fe,be[zt],Re),gt!==null&&(oe=b(gt,oe,zt),hs===null?Nt=gt:hs.sibling=gt,hs=gt);return ns&&Ti(fe,zt),Nt}for(gt=h(gt);zt<be.length;zt++)ss=Ce(gt,fe,zt,be[zt],Re),ss!==null&&(i&&ss.alternate!==null&&gt.delete(ss.key===null?zt:ss.key),oe=b(ss,oe,zt),hs===null?Nt=ss:hs.sibling=ss,hs=ss);return i&&gt.forEach(function(Uo){return o(fe,Uo)}),ns&&Ti(fe,zt),Nt}function Et(fe,oe,be,Re){if(be==null)throw Error(a(151));for(var Nt=null,hs=null,gt=oe,zt=oe=0,ss=null,ms=be.next();gt!==null&&!ms.done;zt++,ms=be.next()){gt.index>zt?(ss=gt,gt=null):ss=gt.sibling;var Uo=Ne(fe,gt,ms.value,Re);if(Uo===null){gt===null&&(gt=ss);break}i&&gt&&Uo.alternate===null&&o(fe,gt),oe=b(Uo,oe,zt),hs===null?Nt=Uo:hs.sibling=Uo,hs=Uo,gt=ss}if(ms.done)return d(fe,gt),ns&&Ti(fe,zt),Nt;if(gt===null){for(;!ms.done;zt++,ms=be.next())ms=Me(fe,ms.value,Re),ms!==null&&(oe=b(ms,oe,zt),hs===null?Nt=ms:hs.sibling=ms,hs=ms);return ns&&Ti(fe,zt),Nt}for(gt=h(gt);!ms.done;zt++,ms=be.next())ms=Ce(gt,fe,zt,ms.value,Re),ms!==null&&(i&&ms.alternate!==null&&gt.delete(ms.key===null?zt:ms.key),oe=b(ms,oe,zt),hs===null?Nt=ms:hs.sibling=ms,hs=ms);return i&&gt.forEach(function(fM){return o(fe,fM)}),ns&&Ti(fe,zt),Nt}function Is(fe,oe,be,Re){if(typeof be=="object"&&be!==null&&be.type===j&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case w:e:{for(var Nt=be.key;oe!==null;){if(oe.key===Nt){if(Nt=be.type,Nt===j){if(oe.tag===7){d(fe,oe.sibling),Re=y(oe,be.props.children),Re.return=fe,fe=Re;break e}}else if(oe.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===L&&Ll(Nt)===oe.type){d(fe,oe.sibling),Re=y(oe,be.props),_u(Re,be),Re.return=fe,fe=Re;break e}d(fe,oe);break}else o(fe,oe);oe=oe.sibling}be.type===j?(Re=Il(be.props.children,fe.mode,Re,be.key),Re.return=fe,fe=Re):(Re=zm(be.type,be.key,be.props,null,fe.mode,Re),_u(Re,be),Re.return=fe,fe=Re)}return P(fe);case N:e:{for(Nt=be.key;oe!==null;){if(oe.key===Nt)if(oe.tag===4&&oe.stateNode.containerInfo===be.containerInfo&&oe.stateNode.implementation===be.implementation){d(fe,oe.sibling),Re=y(oe,be.children||[]),Re.return=fe,fe=Re;break e}else{d(fe,oe);break}else o(fe,oe);oe=oe.sibling}Re=Qg(be,fe.mode,Re),Re.return=fe,fe=Re}return P(fe);case L:return be=Ll(be),Is(fe,oe,be,Re)}if(ie(be))return ct(fe,oe,be,Re);if(J(be)){if(Nt=J(be),typeof Nt!="function")throw Error(a(150));return be=Nt.call(be),Et(fe,oe,be,Re)}if(typeof be.then=="function")return Is(fe,oe,Km(be),Re);if(be.$$typeof===C)return Is(fe,oe,Hm(fe,be),Re);Qm(fe,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,oe!==null&&oe.tag===6?(d(fe,oe.sibling),Re=y(oe,be),Re.return=fe,fe=Re):(d(fe,oe),Re=Kg(be,fe.mode,Re),Re.return=fe,fe=Re),P(fe)):d(fe,oe)}return function(fe,oe,be,Re){try{Mu=0;var Nt=Is(fe,oe,be,Re);return $c=null,Nt}catch(gt){if(gt===qc||gt===Ym)throw gt;var hs=zn(29,gt,null,fe.mode);return hs.lanes=Re,hs.return=fe,hs}finally{}}}var Ul=c1(!0),d1=c1(!1),jo=!1;function lx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function No(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function So(i,o,d){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(ps&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Bm(i),Yj(i,null,d),o}return Vm(i,h,o,d),Bm(i)}function Lu(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,d|=h,o.lanes=d,Wt(i,d)}}function dx(i,o){var d=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var y=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?y=b=P:b=b.next=P,d=d.next}while(d!==null);b===null?y=b=o:b=b.next=o}else y=b=o;d={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var ux=!1;function Fu(){if(ux){var i=zc;if(i!==null)throw i}}function Uu(i,o,d,h){ux=!1;var y=i.updateQueue;jo=!1;var b=y.firstBaseUpdate,P=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var ne=U,we=ne.next;ne.next=null,P===null?b=we:P.next=we,P=ne;var Ae=i.alternate;Ae!==null&&(Ae=Ae.updateQueue,U=Ae.lastBaseUpdate,U!==P&&(U===null?Ae.firstBaseUpdate=we:U.next=we,Ae.lastBaseUpdate=ne))}if(b!==null){var Me=y.baseState;P=0,Ae=we=ne=null,U=b;do{var Ne=U.lane&-536870913,Ce=Ne!==U.lane;if(Ce?(ts&Ne)===Ne:(h&Ne)===Ne){Ne!==0&&Ne===Bc&&(ux=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var ct=i,Et=U;Ne=o;var Is=d;switch(Et.tag){case 1:if(ct=Et.payload,typeof ct=="function"){Me=ct.call(Is,Me,Ne);break e}Me=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Et.payload,Ne=typeof ct=="function"?ct.call(Is,Me,Ne):ct,Ne==null)break e;Me=g({},Me,Ne);break e;case 2:jo=!0}}Ne=U.callback,Ne!==null&&(i.flags|=64,Ce&&(i.flags|=8192),Ce=y.callbacks,Ce===null?y.callbacks=[Ne]:Ce.push(Ne))}else Ce={lane:Ne,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ae===null?(we=Ae=Ce,ne=Me):Ae=Ae.next=Ce,P|=Ne;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;Ce=U,U=Ce.next,Ce.next=null,y.lastBaseUpdate=Ce,y.shared.pending=null}}while(!0);Ae===null&&(ne=Me),y.baseState=ne,y.firstBaseUpdate=we,y.lastBaseUpdate=Ae,b===null&&(y.shared.lanes=0),Ao|=P,i.lanes=P,i.memoizedState=Me}}function u1(i,o){if(typeof i!="function")throw Error(a(191,i));i.call(o)}function h1(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)u1(d[i],o)}var Hc=M(null),Jm=M(0);function m1(i,o){i=Li,G(Jm,i),G(Hc,o),Li=i|o.baseLanes}function hx(){G(Jm,Li),G(Hc,Hc.current)}function mx(){Li=Jm.current,V(Hc),V(Jm)}var qn=M(null),mr=null;function Co(i){var o=i.alternate;G(ja,ja.current&1),G(qn,i),mr===null&&(o===null||Hc.current!==null||o.memoizedState!==null)&&(mr=i)}function fx(i){G(ja,ja.current),G(qn,i),mr===null&&(mr=i)}function f1(i){i.tag===22?(G(ja,ja.current),G(qn,i),mr===null&&(mr=i)):To()}function To(){G(ja,ja.current),G(qn,qn.current)}function $n(i){V(qn),mr===i&&(mr=null),V(ja)}var ja=M(0);function Xm(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||by(d)||wy(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ai=0,Vt=null,Ds=null,Da=null,Zm=!1,Gc=!1,Vl=!1,ef=0,Vu=0,Yc=null,n4=0;function ha(){throw Error(a(321))}function px(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Bn(i[d],o[d]))return!1;return!0}function gx(i,o,d,h,y,b){return Ai=b,Vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=i===null||i.memoizedState===null?J1:Px,Vl=!1,b=d(h,y),Vl=!1,Gc&&(b=g1(o,d,h,y)),p1(i),b}function p1(i){F.H=qu;var o=Ds!==null&&Ds.next!==null;if(Ai=0,Da=Ds=Vt=null,Zm=!1,Vu=0,Yc=null,o)throw Error(a(300));i===null||Pa||(i=i.dependencies,i!==null&&$m(i)&&(Pa=!0))}function g1(i,o,d,h){Vt=i;var y=0;do{if(Gc&&(Yc=null),Vu=0,Gc=!1,25<=y)throw Error(a(301));if(y+=1,Da=Ds=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=X1,b=o(d,h)}while(Gc);return b}function r4(){var i=F.H,o=i.useState()[0];return o=typeof o.then=="function"?Bu(o):o,i=i.useState()[0],(Ds!==null?Ds.memoizedState:null)!==i&&(Vt.flags|=1024),o}function xx(){var i=ef!==0;return ef=0,i}function yx(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function vx(i){if(Zm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Zm=!1}Ai=0,Da=Ds=Vt=null,Gc=!1,Vu=ef=0,Yc=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Da===null?Vt.memoizedState=Da=i:Da=Da.next=i,Da}function Na(){if(Ds===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=Ds.next;var o=Da===null?Vt.memoizedState:Da.next;if(o!==null)Da=o,Ds=i;else{if(i===null)throw Vt.alternate===null?Error(a(467)):Error(a(310));Ds=i,i={memoizedState:Ds.memoizedState,baseState:Ds.baseState,baseQueue:Ds.baseQueue,queue:Ds.queue,next:null},Da===null?Vt.memoizedState=Da=i:Da=Da.next=i}return Da}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(i){var o=Vu;return Vu+=1,Yc===null&&(Yc=[]),i=i1(Yc,i,o),o=Vt,(Da===null?o.memoizedState:Da.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?J1:Px),i}function sf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bu(i);if(i.$$typeof===C)return Ja(i)}throw Error(a(438,String(i)))}function bx(i){var o=null,d=Vt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var h=Vt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=tf(),Vt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),h=0;h<i;h++)d[h]=Q;return o.index++,d}function Di(i,o){return typeof o=="function"?o(i):o}function af(i){var o=Na();return wx(o,Ds,i)}function wx(i,o,d){var h=i.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=d;var y=i.baseQueue,b=h.pending;if(b!==null){if(y!==null){var P=y.next;y.next=b.next,b.next=P}o.baseQueue=y=b,h.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{o=y.next;var U=P=null,ne=null,we=o,Ae=!1;do{var Me=we.lane&-536870913;if(Me!==we.lane?(ts&Me)===Me:(Ai&Me)===Me){var Ne=we.revertLane;if(Ne===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Me===Bc&&(Ae=!0);else if((Ai&Ne)===Ne){we=we.next,Ne===Bc&&(Ae=!0);continue}else Me={lane:0,revertLane:we.revertLane,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ne===null?(U=ne=Me,P=b):ne=ne.next=Me,Vt.lanes|=Ne,Ao|=Ne;Me=we.action,Vl&&d(b,Me),b=we.hasEagerState?we.eagerState:d(b,Me)}else Ne={lane:Me,revertLane:we.revertLane,gesture:we.gesture,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ne===null?(U=ne=Ne,P=b):ne=ne.next=Ne,Vt.lanes|=Me,Ao|=Me;we=we.next}while(we!==null&&we!==o);if(ne===null?P=b:ne.next=U,!Bn(b,i.memoizedState)&&(Pa=!0,Ae&&(d=zc,d!==null)))throw d;i.memoizedState=b,i.baseState=P,i.baseQueue=ne,h.lastRenderedState=b}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function jx(i){var o=Na(),d=o.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=i;var h=d.dispatch,y=d.pending,b=o.memoizedState;if(y!==null){d.pending=null;var P=y=y.next;do b=i(b,P.action),P=P.next;while(P!==y);Bn(b,o.memoizedState)||(Pa=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),d.lastRenderedState=b}return[b,h]}function x1(i,o,d){var h=Vt,y=Na(),b=ns;if(b){if(d===void 0)throw Error(a(407));d=d()}else d=o();var P=!Bn((Ds||y).memoizedState,d);if(P&&(y.memoizedState=d,Pa=!0),y=y.queue,Cx(b1.bind(null,h,y,i),[i]),y.getSnapshot!==o||P||Da!==null&&Da.memoizedState.tag&1){if(h.flags|=2048,Wc(9,{destroy:void 0},v1.bind(null,h,y,d,o),null),Fs===null)throw Error(a(349));b||(Ai&127)!==0||y1(h,o,d)}return d}function y1(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Vt.updateQueue,o===null?(o=tf(),Vt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function v1(i,o,d,h){o.value=d,o.getSnapshot=h,w1(o)&&j1(i)}function b1(i,o,d){return d(function(){w1(o)&&j1(i)})}function w1(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Bn(i,d)}catch{return!0}}function j1(i){var o=Pl(i,2);o!==null&&Rn(o,i,2)}function Nx(i){var o=yn();if(typeof i=="function"){var d=i;if(i=d(),Vl){Ks(!0);try{d()}finally{Ks(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:i},o}function N1(i,o,d,h){return i.baseState=d,wx(i,Ds,typeof h=="function"?h:Di)}function i4(i,o,d,h,y){if(of(i))throw Error(a(485));if(i=o.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){b.listeners.push(P)}};F.T!==null?d(!0):b.isTransition=!1,h(b),d=o.pending,d===null?(b.next=o.pending=b,S1(o,b)):(b.next=d.next,o.pending=d.next=b)}}function S1(i,o){var d=o.action,h=o.payload,y=i.state;if(o.isTransition){var b=F.T,P={};F.T=P;try{var U=d(y,h),ne=F.S;ne!==null&&ne(P,U),C1(i,o,U)}catch(we){Sx(i,o,we)}finally{b!==null&&P.types!==null&&(b.types=P.types),F.T=b}}else try{b=d(y,h),C1(i,o,b)}catch(we){Sx(i,o,we)}}function C1(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){T1(i,o,h)},function(h){return Sx(i,o,h)}):T1(i,o,d)}function T1(i,o,d){o.status="fulfilled",o.value=d,k1(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,S1(i,d)))}function Sx(i,o,d){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=d,k1(o),o=o.next;while(o!==h)}i.action=null}function k1(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function E1(i,o){return o}function A1(i,o){if(ns){var d=Fs.formState;if(d!==null){e:{var h=Vt;if(ns){if(Gs){t:{for(var y=Gs,b=hr;y.nodeType!==8;){if(!b){y=null;break t}if(y=fr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Gs=fr(y.nextSibling),h=y.data==="F!";break e}}bo(h)}h=!1}h&&(o=d[0])}}return d=yn(),d.memoizedState=d.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E1,lastRenderedState:o},d.queue=h,d=W1.bind(null,Vt,h),h.dispatch=d,h=Nx(!1),b=Dx.bind(null,Vt,!1,h.queue),h=yn(),y={state:o,dispatch:null,action:i,pending:null},h.queue=y,d=i4.bind(null,Vt,y,b,d),y.dispatch=d,h.memoizedState=i,[o,d,!1]}function D1(i){var o=Na();return P1(o,Ds,i)}function P1(i,o,d){if(o=wx(i,o,E1)[0],i=af(Di)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Bu(o)}catch(P){throw P===qc?Ym:P}else h=o;o=Na();var y=o.queue,b=y.dispatch;return d!==o.memoizedState&&(Vt.flags|=2048,Wc(9,{destroy:void 0},o4.bind(null,y,d),null)),[h,b,i]}function o4(i,o){i.action=o}function I1(i){var o=Na(),d=Ds;if(d!==null)return P1(o,d,i);Na(),o=o.memoizedState,d=Na();var h=d.queue.dispatch;return d.memoizedState=i,[o,h,!1]}function Wc(i,o,d,h){return i={tag:i,create:d,deps:h,inst:o,next:null},o=Vt.updateQueue,o===null&&(o=tf(),Vt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(h=d.next,d.next=i,i.next=h,o.lastEffect=i),i}function R1(){return Na().memoizedState}function nf(i,o,d,h){var y=yn();Vt.flags|=i,y.memoizedState=Wc(1|o,{destroy:void 0},d,h===void 0?null:h)}function rf(i,o,d,h){var y=Na();h=h===void 0?null:h;var b=y.memoizedState.inst;Ds!==null&&h!==null&&px(h,Ds.memoizedState.deps)?y.memoizedState=Wc(o,b,d,h):(Vt.flags|=i,y.memoizedState=Wc(1|o,b,d,h))}function O1(i,o){nf(8390656,8,i,o)}function Cx(i,o){rf(2048,8,i,o)}function l4(i){Vt.flags|=4;var o=Vt.updateQueue;if(o===null)o=tf(),Vt.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function M1(i){var o=Na().memoizedState;return l4({ref:o,nextImpl:i}),function(){if((ps&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}function _1(i,o){return rf(4,2,i,o)}function L1(i,o){return rf(4,4,i,o)}function F1(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function U1(i,o,d){d=d!=null?d.concat([i]):null,rf(4,4,F1.bind(null,o,i),d)}function Tx(){}function V1(i,o){var d=Na();o=o===void 0?null:o;var h=d.memoizedState;return o!==null&&px(o,h[1])?h[0]:(d.memoizedState=[i,o],i)}function B1(i,o){var d=Na();o=o===void 0?null:o;var h=d.memoizedState;if(o!==null&&px(o,h[1]))return h[0];if(h=i(),Vl){Ks(!0);try{i()}finally{Ks(!1)}}return d.memoizedState=[h,o],h}function kx(i,o,d){return d===void 0||(Ai&1073741824)!==0&&(ts&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=zN(),Vt.lanes|=i,Ao|=i,d)}function z1(i,o,d,h){return Bn(d,o)?d:Hc.current!==null?(i=kx(i,d,h),Bn(i,o)||(Pa=!0),i):(Ai&42)===0||(Ai&1073741824)!==0&&(ts&261930)===0?(Pa=!0,i.memoizedState=d):(i=zN(),Vt.lanes|=i,Ao|=i,o)}function q1(i,o,d,h,y){var b=q.p;q.p=b!==0&&8>b?b:8;var P=F.T,U={};F.T=U,Dx(i,!1,o,d);try{var ne=y(),we=F.S;if(we!==null&&we(U,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ae=a4(ne,h);zu(i,o,Ae,Yn(i))}else zu(i,o,h,Yn(i))}catch(Me){zu(i,o,{then:function(){},status:"rejected",reason:Me},Yn())}finally{q.p=b,P!==null&&U.types!==null&&(P.types=U.types),F.T=P}}function c4(){}function Ex(i,o,d,h){if(i.tag!==5)throw Error(a(476));var y=$1(i).queue;q1(i,y,o,W,d===null?c4:function(){return H1(i),d(h)})}function $1(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:W},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function H1(i){var o=$1(i);o.next===null&&(o=i.alternate.memoizedState),zu(i,o.next.queue,{},Yn())}function Ax(){return Ja(rh)}function G1(){return Na().memoizedState}function Y1(){return Na().memoizedState}function d4(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=Yn();i=No(d);var h=So(o,i,d);h!==null&&(Rn(h,o,d),Lu(h,o,d)),o={cache:nx()},i.payload=o;return}o=o.return}}function u4(i,o,d){var h=Yn();d={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},of(i)?K1(o,d):(d=Yg(i,o,d,h),d!==null&&(Rn(d,i,h),Q1(d,o,h)))}function W1(i,o,d){var h=Yn();zu(i,o,d,h)}function zu(i,o,d,h){var y={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(of(i))K1(o,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var P=o.lastRenderedState,U=b(P,d);if(y.hasEagerState=!0,y.eagerState=U,Bn(U,P))return Vm(i,o,y,0),Fs===null&&Um(),!1}catch{}finally{}if(d=Yg(i,o,y,h),d!==null)return Rn(d,i,h),Q1(d,o,h),!0}return!1}function Dx(i,o,d,h){if(h={lane:2,revertLane:ly(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},of(i)){if(o)throw Error(a(479))}else o=Yg(i,d,h,2),o!==null&&Rn(o,i,2)}function of(i){var o=i.alternate;return i===Vt||o!==null&&o===Vt}function K1(i,o){Gc=Zm=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function Q1(i,o,d){if((d&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,d|=h,o.lanes=d,Wt(i,d)}}var qu={readContext:Ja,use:sf,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useLayoutEffect:ha,useInsertionEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useSyncExternalStore:ha,useId:ha,useHostTransitionStatus:ha,useFormState:ha,useActionState:ha,useOptimistic:ha,useMemoCache:ha,useCacheRefresh:ha};qu.useEffectEvent=ha;var J1={readContext:Ja,use:sf,useCallback:function(i,o){return yn().memoizedState=[i,o===void 0?null:o],i},useContext:Ja,useEffect:O1,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,nf(4194308,4,F1.bind(null,o,i),d)},useLayoutEffect:function(i,o){return nf(4194308,4,i,o)},useInsertionEffect:function(i,o){nf(4,2,i,o)},useMemo:function(i,o){var d=yn();o=o===void 0?null:o;var h=i();if(Vl){Ks(!0);try{i()}finally{Ks(!1)}}return d.memoizedState=[h,o],h},useReducer:function(i,o,d){var h=yn();if(d!==void 0){var y=d(o);if(Vl){Ks(!0);try{d(o)}finally{Ks(!1)}}}else y=o;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=u4.bind(null,Vt,i),[h.memoizedState,i]},useRef:function(i){var o=yn();return i={current:i},o.memoizedState=i},useState:function(i){i=Nx(i);var o=i.queue,d=W1.bind(null,Vt,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Tx,useDeferredValue:function(i,o){var d=yn();return kx(d,i,o)},useTransition:function(){var i=Nx(!1);return i=q1.bind(null,Vt,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var h=Vt,y=yn();if(ns){if(d===void 0)throw Error(a(407));d=d()}else{if(d=o(),Fs===null)throw Error(a(349));(ts&127)!==0||y1(h,o,d)}y.memoizedState=d;var b={value:d,getSnapshot:o};return y.queue=b,O1(b1.bind(null,h,b,i),[i]),h.flags|=2048,Wc(9,{destroy:void 0},v1.bind(null,h,b,d,o),null),d},useId:function(){var i=yn(),o=Fs.identifierPrefix;if(ns){var d=Kr,h=Wr;d=(h&~(1<<32-bt(h)-1)).toString(32)+d,o="_"+o+"R_"+d,d=ef++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=n4++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Ax,useFormState:A1,useActionState:A1,useOptimistic:function(i){var o=yn();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Dx.bind(null,Vt,!0,d),d.dispatch=o,[i,o]},useMemoCache:bx,useCacheRefresh:function(){return yn().memoizedState=d4.bind(null,Vt)},useEffectEvent:function(i){var o=yn(),d={impl:i};return o.memoizedState=d,function(){if((ps&2)!==0)throw Error(a(440));return d.impl.apply(void 0,arguments)}}},Px={readContext:Ja,use:sf,useCallback:V1,useContext:Ja,useEffect:Cx,useImperativeHandle:U1,useInsertionEffect:_1,useLayoutEffect:L1,useMemo:B1,useReducer:af,useRef:R1,useState:function(){return af(Di)},useDebugValue:Tx,useDeferredValue:function(i,o){var d=Na();return z1(d,Ds.memoizedState,i,o)},useTransition:function(){var i=af(Di)[0],o=Na().memoizedState;return[typeof i=="boolean"?i:Bu(i),o]},useSyncExternalStore:x1,useId:G1,useHostTransitionStatus:Ax,useFormState:D1,useActionState:D1,useOptimistic:function(i,o){var d=Na();return N1(d,Ds,i,o)},useMemoCache:bx,useCacheRefresh:Y1};Px.useEffectEvent=M1;var X1={readContext:Ja,use:sf,useCallback:V1,useContext:Ja,useEffect:Cx,useImperativeHandle:U1,useInsertionEffect:_1,useLayoutEffect:L1,useMemo:B1,useReducer:jx,useRef:R1,useState:function(){return jx(Di)},useDebugValue:Tx,useDeferredValue:function(i,o){var d=Na();return Ds===null?kx(d,i,o):z1(d,Ds.memoizedState,i,o)},useTransition:function(){var i=jx(Di)[0],o=Na().memoizedState;return[typeof i=="boolean"?i:Bu(i),o]},useSyncExternalStore:x1,useId:G1,useHostTransitionStatus:Ax,useFormState:I1,useActionState:I1,useOptimistic:function(i,o){var d=Na();return Ds!==null?N1(d,Ds,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:bx,useCacheRefresh:Y1};X1.useEffectEvent=M1;function Ix(i,o,d,h){o=i.memoizedState,d=d(h,o),d=d==null?o:g({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Rx={enqueueSetState:function(i,o,d){i=i._reactInternals;var h=Yn(),y=No(h);y.payload=o,d!=null&&(y.callback=d),o=So(i,y,h),o!==null&&(Rn(o,i,h),Lu(o,i,h))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var h=Yn(),y=No(h);y.tag=1,y.payload=o,d!=null&&(y.callback=d),o=So(i,y,h),o!==null&&(Rn(o,i,h),Lu(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=Yn(),h=No(d);h.tag=2,o!=null&&(h.callback=o),o=So(i,h,d),o!==null&&(Rn(o,i,d),Lu(o,i,d))}};function Z1(i,o,d,h,y,b,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,P):o.prototype&&o.prototype.isPureReactComponent?!Au(d,h)||!Au(y,b):!0}function eN(i,o,d,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,h),o.state!==i&&Rx.enqueueReplaceState(o,o.state,null)}function Bl(i,o){var d=o;if("ref"in o){d={};for(var h in o)h!=="ref"&&(d[h]=o[h])}if(i=i.defaultProps){d===o&&(d=g({},d));for(var y in i)d[y]===void 0&&(d[y]=i[y])}return d}function tN(i){Fm(i)}function sN(i){console.error(i)}function aN(i){Fm(i)}function lf(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function nN(i,o,d){try{var h=i.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ox(i,o,d){return d=No(d),d.tag=3,d.payload={element:null},d.callback=function(){lf(i,o)},d}function rN(i){return i=No(i),i.tag=3,i}function iN(i,o,d,h){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;i.payload=function(){return y(b)},i.callback=function(){nN(o,d,h)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(i.callback=function(){nN(o,d,h),typeof y!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function h4(i,o,d,h,y){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=d.alternate,o!==null&&Vc(o,d,y,!0),d=qn.current,d!==null){switch(d.tag){case 31:case 13:return mr===null?bf():d.alternate===null&&ma===0&&(ma=3),d.flags&=-257,d.flags|=65536,d.lanes=y,h===Wm?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([h]):o.add(h),ry(i,h,y)),!1;case 22:return d.flags|=65536,h===Wm?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([h]):d.add(h)),ry(i,h,y)),!1}throw Error(a(435,d.tag))}return ry(i,h,y),bf(),!1}if(ns)return o=qn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==Zg&&(i=Error(a(422),{cause:h}),Iu(cr(i,d)))):(h!==Zg&&(o=Error(a(423),{cause:h}),Iu(cr(o,d))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=cr(h,d),y=Ox(i.stateNode,h,y),dx(i,y),ma!==4&&(ma=2)),!1;var b=Error(a(520),{cause:h});if(b=cr(b,d),Ju===null?Ju=[b]:Ju.push(b),ma!==4&&(ma=2),o===null)return!0;h=cr(h,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=y&-y,d.lanes|=i,i=Ox(d.stateNode,h,i),dx(d,i),!1;case 1:if(o=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Do===null||!Do.has(b))))return d.flags|=65536,y&=-y,d.lanes|=y,y=rN(y),iN(y,i,d,h),dx(d,y),!1}d=d.return}while(d!==null);return!1}var Mx=Error(a(461)),Pa=!1;function Xa(i,o,d,h){o.child=i===null?d1(o,null,d,h):Ul(o,i.child,d,h)}function oN(i,o,d,h,y){d=d.render;var b=o.ref;if("ref"in h){var P={};for(var U in h)U!=="ref"&&(P[U]=h[U])}else P=h;return Ml(o),h=gx(i,o,d,P,b,y),U=xx(),i!==null&&!Pa?(yx(i,o,y),Pi(i,o,y)):(ns&&U&&Jg(o),o.flags|=1,Xa(i,o,h,y),o.child)}function lN(i,o,d,h,y){if(i===null){var b=d.type;return typeof b=="function"&&!Wg(b)&&b.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=b,cN(i,o,b,h,y)):(i=zm(d.type,null,h,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!qx(i,y)){var P=b.memoizedProps;if(d=d.compare,d=d!==null?d:Au,d(P,h)&&i.ref===o.ref)return Pi(i,o,y)}return o.flags|=1,i=Ci(b,h),i.ref=o.ref,i.return=o,o.child=i}function cN(i,o,d,h,y){if(i!==null){var b=i.memoizedProps;if(Au(b,h)&&i.ref===o.ref)if(Pa=!1,o.pendingProps=h=b,qx(i,y))(i.flags&131072)!==0&&(Pa=!0);else return o.lanes=i.lanes,Pi(i,o,y)}return _x(i,o,d,h,y)}function dN(i,o,d,h){var y=h.children,b=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|d:d,i!==null){for(h=o.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,o.child=null;return uN(i,o,b,d,h)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gm(o,b!==null?b.cachePool:null),b!==null?m1(o,b):hx(),f1(o);else return h=o.lanes=536870912,uN(i,o,b!==null?b.baseLanes|d:d,d,h)}else b!==null?(Gm(o,b.cachePool),m1(o,b),To(),o.memoizedState=null):(i!==null&&Gm(o,null),hx(),To());return Xa(i,o,y,d),o.child}function $u(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function uN(i,o,d,h,y){var b=ix();return b=b===null?null:{parent:Aa._currentValue,pool:b},o.memoizedState={baseLanes:d,cachePool:b},i!==null&&Gm(o,null),hx(),f1(o),i!==null&&Vc(i,o,h,!0),o.childLanes=y,null}function cf(i,o){return o=uf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function hN(i,o,d){return Ul(o,i.child,null,d),i=cf(o,o.pendingProps),i.flags|=2,$n(o),o.memoizedState=null,i}function m4(i,o,d){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ns){if(h.mode==="hidden")return i=cf(o,h),o.lanes=536870912,$u(null,i);if(fx(o),(i=Gs)?(i=SS(i,hr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:yo!==null?{id:Wr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},d=Kj(i),d.return=o,o.child=d,Qa=o,Gs=null)):i=null,i===null)throw bo(o);return o.lanes=536870912,null}return cf(o,h)}var b=i.memoizedState;if(b!==null){var P=b.dehydrated;if(fx(o),y)if(o.flags&256)o.flags&=-257,o=hN(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(a(558));else if(Pa||Vc(i,o,d,!1),y=(d&i.childLanes)!==0,Pa||y){if(h=Fs,h!==null&&(P=ea(h,d),P!==0&&P!==b.retryLane))throw b.retryLane=P,Pl(i,P),Rn(h,i,P),Mx;bf(),o=hN(i,o,d)}else i=b.treeContext,Gs=fr(P.nextSibling),Qa=o,ns=!0,vo=null,hr=!1,i!==null&&Xj(o,i),o=cf(o,h),o.flags|=4096;return o}return i=Ci(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function df(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function _x(i,o,d,h,y){return Ml(o),d=gx(i,o,d,h,void 0,y),h=xx(),i!==null&&!Pa?(yx(i,o,y),Pi(i,o,y)):(ns&&h&&Jg(o),o.flags|=1,Xa(i,o,d,y),o.child)}function mN(i,o,d,h,y,b){return Ml(o),o.updateQueue=null,d=g1(o,h,d,y),p1(i),h=xx(),i!==null&&!Pa?(yx(i,o,b),Pi(i,o,b)):(ns&&h&&Jg(o),o.flags|=1,Xa(i,o,d,b),o.child)}function fN(i,o,d,h,y){if(Ml(o),o.stateNode===null){var b=_c,P=d.contextType;typeof P=="object"&&P!==null&&(b=Ja(P)),b=new d(h,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Rx,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=h,b.state=o.memoizedState,b.refs={},lx(o),P=d.contextType,b.context=typeof P=="object"&&P!==null?Ja(P):_c,b.state=o.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(Ix(o,d,P,h),b.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(P=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),P!==b.state&&Rx.enqueueReplaceState(b,b.state,null),Uu(o,h,b,y),Fu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){b=o.stateNode;var U=o.memoizedProps,ne=Bl(d,U);b.props=ne;var we=b.context,Ae=d.contextType;P=_c,typeof Ae=="object"&&Ae!==null&&(P=Ja(Ae));var Me=d.getDerivedStateFromProps;Ae=typeof Me=="function"||typeof b.getSnapshotBeforeUpdate=="function",U=o.pendingProps!==U,Ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U||we!==P)&&eN(o,b,h,P),jo=!1;var Ne=o.memoizedState;b.state=Ne,Uu(o,h,b,y),Fu(),we=o.memoizedState,U||Ne!==we||jo?(typeof Me=="function"&&(Ix(o,d,Me,h),we=o.memoizedState),(ne=jo||Z1(o,d,ne,h,Ne,we,P))?(Ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=we),b.props=h,b.state=we,b.context=P,h=ne):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,cx(i,o),P=o.memoizedProps,Ae=Bl(d,P),b.props=Ae,Me=o.pendingProps,Ne=b.context,we=d.contextType,ne=_c,typeof we=="object"&&we!==null&&(ne=Ja(we)),U=d.getDerivedStateFromProps,(we=typeof U=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==Me||Ne!==ne)&&eN(o,b,h,ne),jo=!1,Ne=o.memoizedState,b.state=Ne,Uu(o,h,b,y),Fu();var Ce=o.memoizedState;P!==Me||Ne!==Ce||jo||i!==null&&i.dependencies!==null&&$m(i.dependencies)?(typeof U=="function"&&(Ix(o,d,U,h),Ce=o.memoizedState),(Ae=jo||Z1(o,d,Ae,h,Ne,Ce,ne)||i!==null&&i.dependencies!==null&&$m(i.dependencies))?(we||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,Ce,ne),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,Ce,ne)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||P===i.memoizedProps&&Ne===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ce),b.props=h,b.state=Ce,b.context=ne,h=Ae):(typeof b.componentDidUpdate!="function"||P===i.memoizedProps&&Ne===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Ne===i.memoizedState||(o.flags|=1024),h=!1)}return b=h,df(i,o),h=(o.flags&128)!==0,b||h?(b=o.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&h?(o.child=Ul(o,i.child,null,y),o.child=Ul(o,null,d,y)):Xa(i,o,d,y),o.memoizedState=b.state,i=o.child):i=Pi(i,o,y),i}function pN(i,o,d,h){return Rl(),o.flags|=256,Xa(i,o,d,h),o.child}var Lx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fx(i){return{baseLanes:i,cachePool:n1()}}function Ux(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=Gn),i}function gN(i,o,d){var h=o.pendingProps,y=!1,b=(o.flags&128)!==0,P;if((P=b)||(P=i!==null&&i.memoizedState===null?!1:(ja.current&2)!==0),P&&(y=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,i===null){if(ns){if(y?Co(o):To(),(i=Gs)?(i=SS(i,hr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:yo!==null?{id:Wr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},d=Kj(i),d.return=o,o.child=d,Qa=o,Gs=null)):i=null,i===null)throw bo(o);return wy(i)?o.lanes=32:o.lanes=536870912,null}var U=h.children;return h=h.fallback,y?(To(),y=o.mode,U=uf({mode:"hidden",children:U},y),h=Il(h,y,d,null),U.return=o,h.return=o,U.sibling=h,o.child=U,h=o.child,h.memoizedState=Fx(d),h.childLanes=Ux(i,P,d),o.memoizedState=Lx,$u(null,h)):(Co(o),Vx(o,U))}var ne=i.memoizedState;if(ne!==null&&(U=ne.dehydrated,U!==null)){if(b)o.flags&256?(Co(o),o.flags&=-257,o=Bx(i,o,d)):o.memoizedState!==null?(To(),o.child=i.child,o.flags|=128,o=null):(To(),U=h.fallback,y=o.mode,h=uf({mode:"visible",children:h.children},y),U=Il(U,y,d,null),U.flags|=2,h.return=o,U.return=o,h.sibling=U,o.child=h,Ul(o,i.child,null,d),h=o.child,h.memoizedState=Fx(d),h.childLanes=Ux(i,P,d),o.memoizedState=Lx,o=$u(null,h));else if(Co(o),wy(U)){if(P=U.nextSibling&&U.nextSibling.dataset,P)var we=P.dgst;P=we,h=Error(a(419)),h.stack="",h.digest=P,Iu({value:h,source:null,stack:null}),o=Bx(i,o,d)}else if(Pa||Vc(i,o,d,!1),P=(d&i.childLanes)!==0,Pa||P){if(P=Fs,P!==null&&(h=ea(P,d),h!==0&&h!==ne.retryLane))throw ne.retryLane=h,Pl(i,h),Rn(P,i,h),Mx;by(U)||bf(),o=Bx(i,o,d)}else by(U)?(o.flags|=192,o.child=i.child,o=null):(i=ne.treeContext,Gs=fr(U.nextSibling),Qa=o,ns=!0,vo=null,hr=!1,i!==null&&Xj(o,i),o=Vx(o,h.children),o.flags|=4096);return o}return y?(To(),U=h.fallback,y=o.mode,ne=i.child,we=ne.sibling,h=Ci(ne,{mode:"hidden",children:h.children}),h.subtreeFlags=ne.subtreeFlags&65011712,we!==null?U=Ci(we,U):(U=Il(U,y,d,null),U.flags|=2),U.return=o,h.return=o,h.sibling=U,o.child=h,$u(null,h),h=o.child,U=i.child.memoizedState,U===null?U=Fx(d):(y=U.cachePool,y!==null?(ne=Aa._currentValue,y=y.parent!==ne?{parent:ne,pool:ne}:y):y=n1(),U={baseLanes:U.baseLanes|d,cachePool:y}),h.memoizedState=U,h.childLanes=Ux(i,P,d),o.memoizedState=Lx,$u(i.child,h)):(Co(o),d=i.child,i=d.sibling,d=Ci(d,{mode:"visible",children:h.children}),d.return=o,d.sibling=null,i!==null&&(P=o.deletions,P===null?(o.deletions=[i],o.flags|=16):P.push(i)),o.child=d,o.memoizedState=null,d)}function Vx(i,o){return o=uf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function uf(i,o){return i=zn(22,i,null,o),i.lanes=0,i}function Bx(i,o,d){return Ul(o,i.child,null,d),i=Vx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function xN(i,o,d){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),sx(i.return,o,d)}function zx(i,o,d,h,y,b){var P=i.memoizedState;P===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:y,treeForkCount:b}:(P.isBackwards=o,P.rendering=null,P.renderingStartTime=0,P.last=h,P.tail=d,P.tailMode=y,P.treeForkCount=b)}function yN(i,o,d){var h=o.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var P=ja.current,U=(P&2)!==0;if(U?(P=P&1|2,o.flags|=128):P&=1,G(ja,P),Xa(i,o,h,d),h=ns?Pu:0,!U&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xN(i,d,o);else if(i.tag===19)xN(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(d=o.child,y=null;d!==null;)i=d.alternate,i!==null&&Xm(i)===null&&(y=d),d=d.sibling;d=y,d===null?(y=o.child,o.child=null):(y=d.sibling,d.sibling=null),zx(o,!1,y,d,b,h);break;case"backwards":case"unstable_legacy-backwards":for(d=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Xm(i)===null){o.child=y;break}i=y.sibling,y.sibling=d,d=y,y=i}zx(o,!0,d,null,b,h);break;case"together":zx(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Pi(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),Ao|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(Vc(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(a(153));if(o.child!==null){for(i=o.child,d=Ci(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=Ci(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function qx(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&$m(i)))}function f4(i,o,d){switch(o.tag){case 3:ye(o,o.stateNode.containerInfo),wo(o,Aa,i.memoizedState.cache),Rl();break;case 27:case 5:Y(o);break;case 4:ye(o,o.stateNode.containerInfo);break;case 10:wo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,fx(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Co(o),o.flags|=128,null):(d&o.child.childLanes)!==0?gN(i,o,d):(Co(o),i=Pi(i,o,d),i!==null?i.sibling:null);Co(o);break;case 19:var y=(i.flags&128)!==0;if(h=(d&o.childLanes)!==0,h||(Vc(i,o,d,!1),h=(d&o.childLanes)!==0),y){if(h)return yN(i,o,d);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),G(ja,ja.current),h)break;return null;case 22:return o.lanes=0,dN(i,o,d,o.pendingProps);case 24:wo(o,Aa,i.memoizedState.cache)}return Pi(i,o,d)}function vN(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)Pa=!0;else{if(!qx(i,d)&&(o.flags&128)===0)return Pa=!1,f4(i,o,d);Pa=(i.flags&131072)!==0}else Pa=!1,ns&&(o.flags&1048576)!==0&&Jj(o,Pu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=Ll(o.elementType),o.type=i,typeof i=="function")Wg(i)?(h=Bl(i,h),o.tag=1,o=fN(null,o,i,h,d)):(o.tag=0,o=_x(null,o,i,h,d));else{if(i!=null){var y=i.$$typeof;if(y===I){o.tag=11,o=oN(null,o,i,h,d);break e}else if(y===R){o.tag=14,o=lN(null,o,i,h,d);break e}}throw o=H(i)||i,Error(a(306,o,""))}}return o;case 0:return _x(i,o,o.type,o.pendingProps,d);case 1:return h=o.type,y=Bl(h,o.pendingProps),fN(i,o,h,y,d);case 3:e:{if(ye(o,o.stateNode.containerInfo),i===null)throw Error(a(387));h=o.pendingProps;var b=o.memoizedState;y=b.element,cx(i,o),Uu(o,h,null,d);var P=o.memoizedState;if(h=P.cache,wo(o,Aa,h),h!==b.cache&&ax(o,[Aa],d,!0),Fu(),h=P.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=pN(i,o,h,d);break e}else if(h!==y){y=cr(Error(a(424)),o),Iu(y),o=pN(i,o,h,d);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Gs=fr(i.firstChild),Qa=o,ns=!0,vo=null,hr=!0,d=d1(o,null,h,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Rl(),h===y){o=Pi(i,o,d);break e}Xa(i,o,h,d)}o=o.child}return o;case 26:return df(i,o),i===null?(d=DS(o.type,null,o.pendingProps,null))?o.memoizedState=d:ns||(d=o.type,i=o.pendingProps,h=kf(pe.current).createElement(d),h[zs]=o,h[Gt]=i,Za(h,d,i),wa(h),o.stateNode=h):o.memoizedState=DS(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Y(o),i===null&&ns&&(h=o.stateNode=kS(o.type,o.pendingProps,pe.current),Qa=o,hr=!0,y=Gs,Oo(o.type)?(jy=y,Gs=fr(h.firstChild)):Gs=y),Xa(i,o,o.pendingProps.children,d),df(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ns&&((y=h=Gs)&&(h=$4(h,o.type,o.pendingProps,hr),h!==null?(o.stateNode=h,Qa=o,Gs=fr(h.firstChild),hr=!1,y=!0):y=!1),y||bo(o)),Y(o),y=o.type,b=o.pendingProps,P=i!==null?i.memoizedProps:null,h=b.children,xy(y,b)?h=null:P!==null&&xy(y,P)&&(o.flags|=32),o.memoizedState!==null&&(y=gx(i,o,r4,null,null,d),rh._currentValue=y),df(i,o),Xa(i,o,h,d),o.child;case 6:return i===null&&ns&&((i=d=Gs)&&(d=H4(d,o.pendingProps,hr),d!==null?(o.stateNode=d,Qa=o,Gs=null,i=!0):i=!1),i||bo(o)),null;case 13:return gN(i,o,d);case 4:return ye(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Ul(o,null,h,d):Xa(i,o,h,d),o.child;case 11:return oN(i,o,o.type,o.pendingProps,d);case 7:return Xa(i,o,o.pendingProps,d),o.child;case 8:return Xa(i,o,o.pendingProps.children,d),o.child;case 12:return Xa(i,o,o.pendingProps.children,d),o.child;case 10:return h=o.pendingProps,wo(o,o.type,h.value),Xa(i,o,h.children,d),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Ml(o),y=Ja(y),h=h(y),o.flags|=1,Xa(i,o,h,d),o.child;case 14:return lN(i,o,o.type,o.pendingProps,d);case 15:return cN(i,o,o.type,o.pendingProps,d);case 19:return yN(i,o,d);case 31:return m4(i,o,d);case 22:return dN(i,o,d,o.pendingProps);case 24:return Ml(o),h=Ja(Aa),i===null?(y=ix(),y===null&&(y=Fs,b=nx(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=d),y=b),o.memoizedState={parent:h,cache:y},lx(o),wo(o,Aa,y)):((i.lanes&d)!==0&&(cx(i,o),Uu(o,null,null,d),Fu()),y=i.memoizedState,b=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),wo(o,Aa,h)):(h=b.cache,wo(o,Aa,h),h!==y.cache&&ax(o,[Aa],d,!0))),Xa(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function Ii(i){i.flags|=4}function $x(i,o,d,h,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(GN())i.flags|=8192;else throw Fl=Wm,ox}else i.flags&=-16777217}function bN(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!MS(o))if(GN())i.flags|=8192;else throw Fl=Wm,ox}function hf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?_():536870912,i.lanes|=o,Xc|=o)}function Hu(i,o){if(!ns)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ys(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,h=0;if(o)for(var y=i.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)d|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=d,o}function p4(i,o,d){var h=o.pendingProps;switch(Xg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(o),null;case 1:return Ys(o),null;case 3:return d=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ei(Aa),ke(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Uc(o)?Ii(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ex())),Ys(o),null;case 26:var y=o.type,b=o.memoizedState;return i===null?(Ii(o),b!==null?(Ys(o),bN(o,b)):(Ys(o),$x(o,y,null,h,d))):b?b!==i.memoizedState?(Ii(o),Ys(o),bN(o,b)):(Ys(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Ii(o),Ys(o),$x(o,y,i,h,d)),null;case 27:if(ge(o),d=pe.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Ii(o);else{if(!h){if(o.stateNode===null)throw Error(a(166));return Ys(o),null}i=B.current,Uc(o)?Zj(o):(i=kS(y,h,d),o.stateNode=i,Ii(o))}return Ys(o),null;case 5:if(ge(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Ii(o);else{if(!h){if(o.stateNode===null)throw Error(a(166));return Ys(o),null}if(b=B.current,Uc(o))Zj(o);else{var P=kf(pe.current);switch(b){case 1:b=P.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=P.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=P.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?P.createElement("select",{is:h.is}):P.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?P.createElement(y,{is:h.is}):P.createElement(y)}}b[zs]=o,b[Gt]=h;e:for(P=o.child;P!==null;){if(P.tag===5||P.tag===6)b.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===o)break e;for(;P.sibling===null;){if(P.return===null||P.return===o)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}o.stateNode=b;e:switch(Za(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Ii(o)}}return Ys(o),$x(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Ii(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(a(166));if(i=pe.current,Uc(o)){if(i=o.stateNode,d=o.memoizedProps,h=null,y=Qa,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[zs]=o,i=!!(i.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||gS(i.nodeValue,d)),i||bo(o,!0)}else i=kf(i).createTextNode(h),i[zs]=o,o.stateNode=i}return Ys(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(h=Uc(o),d!==null){if(i===null){if(!h)throw Error(a(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[zs]=o}else Rl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ys(o),i=!1}else d=ex(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?($n(o),o):($n(o),null);if((o.flags&128)!==0)throw Error(a(558))}return Ys(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Uc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(a(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[zs]=o}else Rl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ys(o),y=!1}else y=ex(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?($n(o),o):($n(o),null)}return $n(o),(o.flags&128)!==0?(o.lanes=d,o):(d=h!==null,i=i!==null&&i.memoizedState!==null,d&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),hf(o,o.updateQueue),Ys(o),null);case 4:return ke(),i===null&&hy(o.stateNode.containerInfo),Ys(o),null;case 10:return Ei(o.type),Ys(o),null;case 19:if(V(ja),h=o.memoizedState,h===null)return Ys(o),null;if(y=(o.flags&128)!==0,b=h.rendering,b===null)if(y)Hu(h,!1);else{if(ma!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=Xm(i),b!==null){for(o.flags|=128,Hu(h,!1),i=b.updateQueue,o.updateQueue=i,hf(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)Wj(d,i),d=d.sibling;return G(ja,ja.current&1|2),ns&&Ti(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&Fe()>xf&&(o.flags|=128,y=!0,Hu(h,!1),o.lanes=4194304)}else{if(!y)if(i=Xm(b),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,hf(o,i),Hu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!ns)return Ys(o),null}else 2*Fe()-h.renderingStartTime>xf&&d!==536870912&&(o.flags|=128,y=!0,Hu(h,!1),o.lanes=4194304);h.isBackwards?(b.sibling=o.child,o.child=b):(i=h.last,i!==null?i.sibling=b:o.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Fe(),i.sibling=null,d=ja.current,G(ja,y?d&1|2:d&1),ns&&Ti(o,h.treeForkCount),i):(Ys(o),null);case 22:case 23:return $n(o),mx(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(d&536870912)!==0&&(o.flags&128)===0&&(Ys(o),o.subtreeFlags&6&&(o.flags|=8192)):Ys(o),d=o.updateQueue,d!==null&&hf(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048),i!==null&&V(_l),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ei(Aa),Ys(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function g4(i,o){switch(Xg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ei(Aa),ke(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return ge(o),null;case 31:if(o.memoizedState!==null){if($n(o),o.alternate===null)throw Error(a(340));Rl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if($n(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(a(340));Rl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return V(ja),null;case 4:return ke(),null;case 10:return Ei(o.type),null;case 22:case 23:return $n(o),mx(),i!==null&&V(_l),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ei(Aa),null;case 25:return null;default:return null}}function wN(i,o){switch(Xg(o),o.tag){case 3:Ei(Aa),ke();break;case 26:case 27:case 5:ge(o);break;case 4:ke();break;case 31:o.memoizedState!==null&&$n(o);break;case 13:$n(o);break;case 19:V(ja);break;case 10:Ei(o.type);break;case 22:case 23:$n(o),mx(),i!==null&&V(_l);break;case 24:Ei(Aa)}}function Gu(i,o){try{var d=o.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var y=h.next;d=y;do{if((d.tag&i)===i){h=void 0;var b=d.create,P=d.inst;h=b(),P.destroy=h}d=d.next}while(d!==y)}}catch(U){Ss(o,o.return,U)}}function ko(i,o,d){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&i)===i){var P=h.inst,U=P.destroy;if(U!==void 0){P.destroy=void 0,y=o;var ne=d,we=U;try{we()}catch(Ae){Ss(y,ne,Ae)}}}h=h.next}while(h!==b)}}catch(Ae){Ss(o,o.return,Ae)}}function jN(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{h1(o,d)}catch(h){Ss(i,i.return,h)}}}function NN(i,o,d){d.props=Bl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(h){Ss(i,o,h)}}function Yu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof d=="function"?i.refCleanup=d(h):d.current=h}}catch(y){Ss(i,o,y)}}function Qr(i,o){var d=i.ref,h=i.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(y){Ss(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){Ss(i,o,y)}else d.current=null}function SN(i){var o=i.type,d=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(y){Ss(i,i.return,y)}}function Hx(i,o,d){try{var h=i.stateNode;F4(h,i.type,d,o),h[Gt]=o}catch(y){Ss(i,i.return,y)}}function CN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Oo(i.type)||i.tag===4}function Gx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||CN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Oo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yx(i,o,d){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=gn));else if(h!==4&&(h===27&&Oo(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(Yx(i,o,d),i=i.sibling;i!==null;)Yx(i,o,d),i=i.sibling}function mf(i,o,d){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(h!==4&&(h===27&&Oo(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(mf(i,o,d),i=i.sibling;i!==null;)mf(i,o,d),i=i.sibling}function TN(i){var o=i.stateNode,d=i.memoizedProps;try{for(var h=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Za(o,h,d),o[zs]=i,o[Gt]=d}catch(b){Ss(i,i.return,b)}}var Ri=!1,Ia=!1,Wx=!1,kN=typeof WeakSet=="function"?WeakSet:Set,$a=null;function x4(i,o){if(i=i.containerInfo,py=Of,i=Uj(i),Bg(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var P=0,U=-1,ne=-1,we=0,Ae=0,Me=i,Ne=null;t:for(;;){for(var Ce;Me!==d||y!==0&&Me.nodeType!==3||(U=P+y),Me!==b||h!==0&&Me.nodeType!==3||(ne=P+h),Me.nodeType===3&&(P+=Me.nodeValue.length),(Ce=Me.firstChild)!==null;)Ne=Me,Me=Ce;for(;;){if(Me===i)break t;if(Ne===d&&++we===y&&(U=P),Ne===b&&++Ae===h&&(ne=P),(Ce=Me.nextSibling)!==null)break;Me=Ne,Ne=Me.parentNode}Me=Ce}d=U===-1||ne===-1?null:{start:U,end:ne}}else d=null}d=d||{start:0,end:0}}else d=null;for(gy={focusedElem:i,selectionRange:d},Of=!1,$a=o;$a!==null;)if(o=$a,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,$a=i;else for(;$a!==null;){switch(o=$a,b=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)y=i[d],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,d=o,y=b.memoizedProps,b=b.memoizedState,h=d.stateNode;try{var ct=Bl(d.type,y);i=h.getSnapshotBeforeUpdate(ct,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Et){Ss(d,d.return,Et)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)vy(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=o.sibling,i!==null){i.return=o.return,$a=i;break}$a=o.return}}function EN(i,o,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:Mi(i,d),h&4&&Gu(5,d);break;case 1:if(Mi(i,d),h&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(P){Ss(d,d.return,P)}else{var y=Bl(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(P){Ss(d,d.return,P)}}h&64&&jN(d),h&512&&Yu(d,d.return);break;case 3:if(Mi(i,d),h&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{h1(i,o)}catch(P){Ss(d,d.return,P)}}break;case 27:o===null&&h&4&&TN(d);case 26:case 5:Mi(i,d),o===null&&h&4&&SN(d),h&512&&Yu(d,d.return);break;case 12:Mi(i,d);break;case 31:Mi(i,d),h&4&&PN(i,d);break;case 13:Mi(i,d),h&4&&IN(i,d),h&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=T4.bind(null,d),G4(i,d))));break;case 22:if(h=d.memoizedState!==null||Ri,!h){o=o!==null&&o.memoizedState!==null||Ia,y=Ri;var b=Ia;Ri=h,(Ia=o)&&!b?_i(i,d,(d.subtreeFlags&8772)!==0):Mi(i,d),Ri=y,Ia=b}break;case 30:break;default:Mi(i,d)}}function AN(i){var o=i.alternate;o!==null&&(i.alternate=null,AN(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&co(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Qs=null,An=!1;function Oi(i,o,d){for(d=d.child;d!==null;)DN(i,o,d),d=d.sibling}function DN(i,o,d){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(cs,d)}catch{}switch(d.tag){case 26:Ia||Qr(d,o),Oi(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Ia||Qr(d,o);var h=Qs,y=An;Oo(d.type)&&(Qs=d.stateNode,An=!1),Oi(i,o,d),sh(d.stateNode),Qs=h,An=y;break;case 5:Ia||Qr(d,o);case 6:if(h=Qs,y=An,Qs=null,Oi(i,o,d),Qs=h,An=y,Qs!==null)if(An)try{(Qs.nodeType===9?Qs.body:Qs.nodeName==="HTML"?Qs.ownerDocument.body:Qs).removeChild(d.stateNode)}catch(b){Ss(d,o,b)}else try{Qs.removeChild(d.stateNode)}catch(b){Ss(d,o,b)}break;case 18:Qs!==null&&(An?(i=Qs,jS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),id(i)):jS(Qs,d.stateNode));break;case 4:h=Qs,y=An,Qs=d.stateNode.containerInfo,An=!0,Oi(i,o,d),Qs=h,An=y;break;case 0:case 11:case 14:case 15:ko(2,d,o),Ia||ko(4,d,o),Oi(i,o,d);break;case 1:Ia||(Qr(d,o),h=d.stateNode,typeof h.componentWillUnmount=="function"&&NN(d,o,h)),Oi(i,o,d);break;case 21:Oi(i,o,d);break;case 22:Ia=(h=Ia)||d.memoizedState!==null,Oi(i,o,d),Ia=h;break;default:Oi(i,o,d)}}function PN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{id(i)}catch(d){Ss(o,o.return,d)}}}function IN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{id(i)}catch(d){Ss(o,o.return,d)}}function y4(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new kN),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new kN),o;default:throw Error(a(435,i.tag))}}function ff(i,o){var d=y4(i);o.forEach(function(h){if(!d.has(h)){d.add(h);var y=k4.bind(null,i,h);h.then(y,y)}})}function Dn(i,o){var d=o.deletions;if(d!==null)for(var h=0;h<d.length;h++){var y=d[h],b=i,P=o,U=P;e:for(;U!==null;){switch(U.tag){case 27:if(Oo(U.type)){Qs=U.stateNode,An=!1;break e}break;case 5:Qs=U.stateNode,An=!1;break e;case 3:case 4:Qs=U.stateNode.containerInfo,An=!0;break e}U=U.return}if(Qs===null)throw Error(a(160));DN(b,P,y),Qs=null,An=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)RN(o,i),o=o.sibling}var Ir=null;function RN(i,o){var d=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(o,i),Pn(i),h&4&&(ko(3,i,i.return),Gu(3,i),ko(5,i,i.return));break;case 1:Dn(o,i),Pn(i),h&512&&(Ia||d===null||Qr(d,d.return)),h&64&&Ri&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var y=Ir;if(Dn(o,i),Pn(i),h&512&&(Ia||d===null||Qr(d,d.return)),h&4){var b=d!==null?d.memoizedState:null;if(h=i.memoizedState,d===null)if(h===null)if(i.stateNode===null){e:{h=i.type,d=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[js]||b[zs]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),Za(b,h,d),b[zs]=i,wa(b),h=b;break e;case"link":var P=RS("link","href",y).get(h+(d.href||""));if(P){for(var U=0;U<P.length;U++)if(b=P[U],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(U,1);break t}}b=y.createElement(h),Za(b,h,d),y.head.appendChild(b);break;case"meta":if(P=RS("meta","content",y).get(h+(d.content||""))){for(U=0;U<P.length;U++)if(b=P[U],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(U,1);break t}}b=y.createElement(h),Za(b,h,d),y.head.appendChild(b);break;default:throw Error(a(468,h))}b[zs]=i,wa(b),h=b}i.stateNode=h}else OS(y,i.type,i.stateNode);else i.stateNode=IS(y,h,i.memoizedProps);else b!==h?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,h===null?OS(y,i.type,i.stateNode):IS(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Hx(i,i.memoizedProps,d.memoizedProps)}break;case 27:Dn(o,i),Pn(i),h&512&&(Ia||d===null||Qr(d,d.return)),d!==null&&h&4&&Hx(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Dn(o,i),Pn(i),h&512&&(Ia||d===null||Qr(d,d.return)),i.flags&32){y=i.stateNode;try{Ge(y,"")}catch(ct){Ss(i,i.return,ct)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,Hx(i,y,d!==null?d.memoizedProps:y)),h&1024&&(Wx=!0);break;case 6:if(Dn(o,i),Pn(i),h&4){if(i.stateNode===null)throw Error(a(162));h=i.memoizedProps,d=i.stateNode;try{d.nodeValue=h}catch(ct){Ss(i,i.return,ct)}}break;case 3:if(Df=null,y=Ir,Ir=Ef(o.containerInfo),Dn(o,i),Ir=y,Pn(i),h&4&&d!==null&&d.memoizedState.isDehydrated)try{id(o.containerInfo)}catch(ct){Ss(i,i.return,ct)}Wx&&(Wx=!1,ON(i));break;case 4:h=Ir,Ir=Ef(i.stateNode.containerInfo),Dn(o,i),Pn(i),Ir=h;break;case 12:Dn(o,i),Pn(i);break;case 31:Dn(o,i),Pn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ff(i,h)));break;case 13:Dn(o,i),Pn(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(gf=Fe()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ff(i,h)));break;case 22:y=i.memoizedState!==null;var ne=d!==null&&d.memoizedState!==null,we=Ri,Ae=Ia;if(Ri=we||y,Ia=Ae||ne,Dn(o,i),Ia=Ae,Ri=we,Pn(i),h&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(d===null||ne||Ri||Ia||zl(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){ne=d=o;try{if(b=ne.stateNode,y)P=b.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{U=ne.stateNode;var Me=ne.memoizedProps.style,Ne=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;U.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(ct){Ss(ne,ne.return,ct)}}}else if(o.tag===6){if(d===null){ne=o;try{ne.stateNode.nodeValue=y?"":ne.memoizedProps}catch(ct){Ss(ne,ne.return,ct)}}}else if(o.tag===18){if(d===null){ne=o;try{var Ce=ne.stateNode;y?NS(Ce,!0):NS(ne.stateNode,!1)}catch(ct){Ss(ne,ne.return,ct)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,ff(i,d))));break;case 19:Dn(o,i),Pn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ff(i,h)));break;case 30:break;case 21:break;default:Dn(o,i),Pn(i)}}function Pn(i){var o=i.flags;if(o&2){try{for(var d,h=i.return;h!==null;){if(CN(h)){d=h;break}h=h.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var y=d.stateNode,b=Gx(i);mf(i,b,y);break;case 5:var P=d.stateNode;d.flags&32&&(Ge(P,""),d.flags&=-33);var U=Gx(i);mf(i,U,P);break;case 3:case 4:var ne=d.stateNode.containerInfo,we=Gx(i);Yx(i,we,ne);break;default:throw Error(a(161))}}catch(Ae){Ss(i,i.return,Ae)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ON(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;ON(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Mi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)EN(i,o.alternate,o),o=o.sibling}function zl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ko(4,o,o.return),zl(o);break;case 1:Qr(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&NN(o,o.return,d),zl(o);break;case 27:sh(o.stateNode);case 26:case 5:Qr(o,o.return),zl(o);break;case 22:o.memoizedState===null&&zl(o);break;case 30:zl(o);break;default:zl(o)}i=i.sibling}}function _i(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=i,b=o,P=b.flags;switch(b.tag){case 0:case 11:case 15:_i(y,b,d),Gu(4,b);break;case 1:if(_i(y,b,d),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(we){Ss(h,h.return,we)}if(h=b,y=h.updateQueue,y!==null){var U=h.stateNode;try{var ne=y.shared.hiddenCallbacks;if(ne!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ne.length;y++)u1(ne[y],U)}catch(we){Ss(h,h.return,we)}}d&&P&64&&jN(b),Yu(b,b.return);break;case 27:TN(b);case 26:case 5:_i(y,b,d),d&&h===null&&P&4&&SN(b),Yu(b,b.return);break;case 12:_i(y,b,d);break;case 31:_i(y,b,d),d&&P&4&&PN(y,b);break;case 13:_i(y,b,d),d&&P&4&&IN(y,b);break;case 22:b.memoizedState===null&&_i(y,b,d),Yu(b,b.return);break;case 30:break;default:_i(y,b,d)}o=o.sibling}}function Kx(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Ru(d))}function Qx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ru(i))}function Rr(i,o,d,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)MN(i,o,d,h),o=o.sibling}function MN(i,o,d,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Rr(i,o,d,h),y&2048&&Gu(9,o);break;case 1:Rr(i,o,d,h);break;case 3:Rr(i,o,d,h),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ru(i)));break;case 12:if(y&2048){Rr(i,o,d,h),i=o.stateNode;try{var b=o.memoizedProps,P=b.id,U=b.onPostCommit;typeof U=="function"&&U(P,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ne){Ss(o,o.return,ne)}}else Rr(i,o,d,h);break;case 31:Rr(i,o,d,h);break;case 13:Rr(i,o,d,h);break;case 23:break;case 22:b=o.stateNode,P=o.alternate,o.memoizedState!==null?b._visibility&2?Rr(i,o,d,h):Wu(i,o):b._visibility&2?Rr(i,o,d,h):(b._visibility|=2,Kc(i,o,d,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Kx(P,o);break;case 24:Rr(i,o,d,h),y&2048&&Qx(o.alternate,o);break;default:Rr(i,o,d,h)}}function Kc(i,o,d,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=i,P=o,U=d,ne=h,we=P.flags;switch(P.tag){case 0:case 11:case 15:Kc(b,P,U,ne,y),Gu(8,P);break;case 23:break;case 22:var Ae=P.stateNode;P.memoizedState!==null?Ae._visibility&2?Kc(b,P,U,ne,y):Wu(b,P):(Ae._visibility|=2,Kc(b,P,U,ne,y)),y&&we&2048&&Kx(P.alternate,P);break;case 24:Kc(b,P,U,ne,y),y&&we&2048&&Qx(P.alternate,P);break;default:Kc(b,P,U,ne,y)}o=o.sibling}}function Wu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,h=o,y=h.flags;switch(h.tag){case 22:Wu(d,h),y&2048&&Kx(h.alternate,h);break;case 24:Wu(d,h),y&2048&&Qx(h.alternate,h);break;default:Wu(d,h)}o=o.sibling}}var Ku=8192;function Qc(i,o,d){if(i.subtreeFlags&Ku)for(i=i.child;i!==null;)_N(i,o,d),i=i.sibling}function _N(i,o,d){switch(i.tag){case 26:Qc(i,o,d),i.flags&Ku&&i.memoizedState!==null&&nM(d,Ir,i.memoizedState,i.memoizedProps);break;case 5:Qc(i,o,d);break;case 3:case 4:var h=Ir;Ir=Ef(i.stateNode.containerInfo),Qc(i,o,d),Ir=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Ku,Ku=16777216,Qc(i,o,d),Ku=h):Qc(i,o,d));break;default:Qc(i,o,d)}}function LN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Qu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];$a=h,UN(h,i)}LN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)FN(i),i=i.sibling}function FN(i){switch(i.tag){case 0:case 11:case 15:Qu(i),i.flags&2048&&ko(9,i,i.return);break;case 3:Qu(i);break;case 12:Qu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,pf(i)):Qu(i);break;default:Qu(i)}}function pf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];$a=h,UN(h,i)}LN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ko(8,o,o.return),pf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,pf(o));break;default:pf(o)}i=i.sibling}}function UN(i,o){for(;$a!==null;){var d=$a;switch(d.tag){case 0:case 11:case 15:ko(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ru(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,$a=h;else e:for(d=i;$a!==null;){h=$a;var y=h.sibling,b=h.return;if(AN(h),h===d){$a=null;break e}if(y!==null){y.return=b,$a=y;break e}$a=b}}}var v4={getCacheForType:function(i){var o=Ja(Aa),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Ja(Aa).controller.signal}},b4=typeof WeakMap=="function"?WeakMap:Map,ps=0,Fs=null,Qt=null,ts=0,Ns=0,Hn=null,Eo=!1,Jc=!1,Jx=!1,Li=0,ma=0,Ao=0,ql=0,Xx=0,Gn=0,Xc=0,Ju=null,In=null,Zx=!1,gf=0,VN=0,xf=1/0,yf=null,Do=null,Fa=0,Po=null,Zc=null,Fi=0,ey=0,ty=null,BN=null,Xu=0,sy=null;function Yn(){return(ps&2)!==0&&ts!==0?ts&-ts:F.T!==null?ly():Hs()}function zN(){if(Gn===0)if((ts&536870912)===0||ns){var i=Ft;Ft<<=1,(Ft&3932160)===0&&(Ft=262144),Gn=i}else Gn=536870912;return i=qn.current,i!==null&&(i.flags|=32),Gn}function Rn(i,o,d){(i===Fs&&(Ns===2||Ns===9)||i.cancelPendingCommit!==null)&&(ed(i,0),Io(i,ts,Gn,!1)),Be(i,d),((ps&2)===0||i!==Fs)&&(i===Fs&&((ps&2)===0&&(ql|=d),ma===4&&Io(i,ts,Gn,!1)),Jr(i))}function qN(i,o,d){if((ps&6)!==0)throw Error(a(327));var h=!d&&(o&127)===0&&(o&i.expiredLanes)===0||Se(i,o),y=h?N4(i,o):ny(i,o,!0),b=h;do{if(y===0){Jc&&!h&&Io(i,o,0,!1);break}else{if(d=i.current.alternate,b&&!w4(d)){y=ny(i,o,!1),b=!1;continue}if(y===2){if(b=o,i.errorRecoveryDisabledLanes&b)var P=0;else P=i.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var U=i;y=Ju;var ne=U.current.memoizedState.isDehydrated;if(ne&&(ed(U,P).flags|=256),P=ny(U,P,!1),P!==2){if(Jx&&!ne){U.errorRecoveryDisabledLanes|=b,ql|=b,y=4;break e}b=In,In=y,b!==null&&(In===null?In=b:In.push.apply(In,b))}y=P}if(b=!1,y!==2)continue}}if(y===1){ed(i,0),Io(i,o,0,!0);break}e:{switch(h=i,b=y,b){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:Io(h,o,Gn,!Eo);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(y=gf+300-Fe(),10<y)){if(Io(h,o,Gn,!Eo),ue(h,0,!0)!==0)break e;Fi=o,h.timeoutHandle=bS($N.bind(null,h,d,In,yf,Zx,o,Gn,ql,Xc,Eo,b,"Throttled",-0,0),y);break e}$N(h,d,In,yf,Zx,o,Gn,ql,Xc,Eo,b,null,-0,0)}}break}while(!0);Jr(i)}function $N(i,o,d,h,y,b,P,U,ne,we,Ae,Me,Ne,Ce){if(i.timeoutHandle=-1,Me=o.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},_N(o,b,Me);var ct=(b&62914560)===b?gf-Fe():(b&4194048)===b?VN-Fe():0;if(ct=rM(Me,ct),ct!==null){Fi=b,i.cancelPendingCommit=ct(XN.bind(null,i,o,b,d,h,y,P,U,ne,Ae,Me,null,Ne,Ce)),Io(i,b,P,!we);return}}XN(i,o,b,d,h,y,P,U,ne)}function w4(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var y=d[h],b=y.getSnapshot;y=y.value;try{if(!Bn(b(),y))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Io(i,o,d,h){o&=~Xx,o&=~ql,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var y=o;0<y;){var b=31-bt(y),P=1<<b;h[b]=-1,y&=~P}d!==0&&Ht(i,d,o)}function vf(){return(ps&6)===0?(Zu(0),!1):!0}function ay(){if(Qt!==null){if(Ns===0)var i=Qt.return;else i=Qt,ki=Ol=null,vx(i),$c=null,Mu=0,i=Qt;for(;i!==null;)wN(i.alternate,i),i=i.return;Qt=null}}function ed(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,B4(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Fi=0,ay(),Fs=i,Qt=d=Ci(i.current,null),ts=o,Ns=0,Hn=null,Eo=!1,Jc=Se(i,o),Jx=!1,Xc=Gn=Xx=ql=Ao=ma=0,In=Ju=null,Zx=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var y=31-bt(h),b=1<<y;o|=i[y],h&=~b}return Li=o,Um(),d}function HN(i,o){Vt=null,F.H=qu,o===qc||o===Ym?(o=o1(),Ns=3):o===ox?(o=o1(),Ns=4):Ns=o===Mx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Hn=o,Qt===null&&(ma=1,lf(i,cr(o,i.current)))}function GN(){var i=qn.current;return i===null?!0:(ts&4194048)===ts?mr===null:(ts&62914560)===ts||(ts&536870912)!==0?i===mr:!1}function YN(){var i=F.H;return F.H=qu,i===null?qu:i}function WN(){var i=F.A;return F.A=v4,i}function bf(){ma=4,Eo||(ts&4194048)!==ts&&qn.current!==null||(Jc=!0),(Ao&134217727)===0&&(ql&134217727)===0||Fs===null||Io(Fs,ts,Gn,!1)}function ny(i,o,d){var h=ps;ps|=2;var y=YN(),b=WN();(Fs!==i||ts!==o)&&(yf=null,ed(i,o)),o=!1;var P=ma;e:do try{if(Ns!==0&&Qt!==null){var U=Qt,ne=Hn;switch(Ns){case 8:ay(),P=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(o=!0);var we=Ns;if(Ns=0,Hn=null,td(i,U,ne,we),d&&Jc){P=0;break e}break;default:we=Ns,Ns=0,Hn=null,td(i,U,ne,we)}}j4(),P=ma;break}catch(Ae){HN(i,Ae)}while(!0);return o&&i.shellSuspendCounter++,ki=Ol=null,ps=h,F.H=y,F.A=b,Qt===null&&(Fs=null,ts=0,Um()),P}function j4(){for(;Qt!==null;)KN(Qt)}function N4(i,o){var d=ps;ps|=2;var h=YN(),y=WN();Fs!==i||ts!==o?(yf=null,xf=Fe()+500,ed(i,o)):Jc=Se(i,o);e:do try{if(Ns!==0&&Qt!==null){o=Qt;var b=Hn;t:switch(Ns){case 1:Ns=0,Hn=null,td(i,o,b,1);break;case 2:case 9:if(r1(b)){Ns=0,Hn=null,QN(o);break}o=function(){Ns!==2&&Ns!==9||Fs!==i||(Ns=7),Jr(i)},b.then(o,o);break e;case 3:Ns=7;break e;case 4:Ns=5;break e;case 7:r1(b)?(Ns=0,Hn=null,QN(o)):(Ns=0,Hn=null,td(i,o,b,7));break;case 5:var P=null;switch(Qt.tag){case 26:P=Qt.memoizedState;case 5:case 27:var U=Qt;if(P?MS(P):U.stateNode.complete){Ns=0,Hn=null;var ne=U.sibling;if(ne!==null)Qt=ne;else{var we=U.return;we!==null?(Qt=we,wf(we)):Qt=null}break t}}Ns=0,Hn=null,td(i,o,b,5);break;case 6:Ns=0,Hn=null,td(i,o,b,6);break;case 8:ay(),ma=6;break e;default:throw Error(a(462))}}S4();break}catch(Ae){HN(i,Ae)}while(!0);return ki=Ol=null,F.H=h,F.A=y,ps=d,Qt!==null?0:(Fs=null,ts=0,Um(),ma)}function S4(){for(;Qt!==null&&!xs();)KN(Qt)}function KN(i){var o=vN(i.alternate,i,Li);i.memoizedProps=i.pendingProps,o===null?wf(i):Qt=o}function QN(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=mN(d,o,o.pendingProps,o.type,void 0,ts);break;case 11:o=mN(d,o,o.pendingProps,o.type.render,o.ref,ts);break;case 5:vx(o);default:wN(d,o),o=Qt=Wj(o,Li),o=vN(d,o,Li)}i.memoizedProps=i.pendingProps,o===null?wf(i):Qt=o}function td(i,o,d,h){ki=Ol=null,vx(o),$c=null,Mu=0;var y=o.return;try{if(h4(i,y,o,d,ts)){ma=1,lf(i,cr(d,i.current)),Qt=null;return}}catch(b){if(y!==null)throw Qt=y,b;ma=1,lf(i,cr(d,i.current)),Qt=null;return}o.flags&32768?(ns||h===1?i=!0:Jc||(ts&536870912)!==0?i=!1:(Eo=i=!0,(h===2||h===9||h===3||h===6)&&(h=qn.current,h!==null&&h.tag===13&&(h.flags|=16384))),JN(o,i)):wf(o)}function wf(i){var o=i;do{if((o.flags&32768)!==0){JN(o,Eo);return}i=o.return;var d=p4(o.alternate,o,Li);if(d!==null){Qt=d;return}if(o=o.sibling,o!==null){Qt=o;return}Qt=o=i}while(o!==null);ma===0&&(ma=5)}function JN(i,o){do{var d=g4(i.alternate,i);if(d!==null){d.flags&=32767,Qt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){Qt=i;return}Qt=i=d}while(i!==null);ma=6,Qt=null}function XN(i,o,d,h,y,b,P,U,ne){i.cancelPendingCommit=null;do jf();while(Fa!==0);if((ps&6)!==0)throw Error(a(327));if(o!==null){if(o===i.current)throw Error(a(177));if(b=o.lanes|o.childLanes,b|=Gg,kt(i,d,b,P,U,ne),i===Fs&&(Qt=Fs=null,ts=0),Zc=o,Po=i,Fi=d,ey=b,ty=y,BN=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,E4(es,function(){return aS(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,y=q.p,q.p=2,P=ps,ps|=4;try{x4(i,o,d)}finally{ps=P,q.p=y,F.T=h}}Fa=1,ZN(),eS(),tS()}}function ZN(){if(Fa===1){Fa=0;var i=Po,o=Zc,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=F.T,F.T=null;var h=q.p;q.p=2;var y=ps;ps|=4;try{RN(o,i);var b=gy,P=Uj(i.containerInfo),U=b.focusedElem,ne=b.selectionRange;if(P!==U&&U&&U.ownerDocument&&Fj(U.ownerDocument.documentElement,U)){if(ne!==null&&Bg(U)){var we=ne.start,Ae=ne.end;if(Ae===void 0&&(Ae=we),"selectionStart"in U)U.selectionStart=we,U.selectionEnd=Math.min(Ae,U.value.length);else{var Me=U.ownerDocument||document,Ne=Me&&Me.defaultView||window;if(Ne.getSelection){var Ce=Ne.getSelection(),ct=U.textContent.length,Et=Math.min(ne.start,ct),Is=ne.end===void 0?Et:Math.min(ne.end,ct);!Ce.extend&&Et>Is&&(P=Is,Is=Et,Et=P);var fe=Lj(U,Et),oe=Lj(U,Is);if(fe&&oe&&(Ce.rangeCount!==1||Ce.anchorNode!==fe.node||Ce.anchorOffset!==fe.offset||Ce.focusNode!==oe.node||Ce.focusOffset!==oe.offset)){var be=Me.createRange();be.setStart(fe.node,fe.offset),Ce.removeAllRanges(),Et>Is?(Ce.addRange(be),Ce.extend(oe.node,oe.offset)):(be.setEnd(oe.node,oe.offset),Ce.addRange(be))}}}}for(Me=[],Ce=U;Ce=Ce.parentNode;)Ce.nodeType===1&&Me.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Me.length;U++){var Re=Me[U];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}Of=!!py,gy=py=null}finally{ps=y,q.p=h,F.T=d}}i.current=o,Fa=2}}function eS(){if(Fa===2){Fa=0;var i=Po,o=Zc,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=F.T,F.T=null;var h=q.p;q.p=2;var y=ps;ps|=4;try{EN(i,o.alternate,o)}finally{ps=y,q.p=h,F.T=d}}Fa=3}}function tS(){if(Fa===4||Fa===3){Fa=0,va();var i=Po,o=Zc,d=Fi,h=BN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fa=5:(Fa=0,Zc=Po=null,sS(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Do=null),Le(d),o=o.stateNode,ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(cs,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=F.T,y=q.p,q.p=2,F.T=null;try{for(var b=i.onRecoverableError,P=0;P<h.length;P++){var U=h[P];b(U.value,{componentStack:U.stack})}}finally{F.T=o,q.p=y}}(Fi&3)!==0&&jf(),Jr(i),y=i.pendingLanes,(d&261930)!==0&&(y&42)!==0?i===sy?Xu++:(Xu=0,sy=i):Xu=0,Zu(0)}}function sS(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Ru(o)))}function jf(){return ZN(),eS(),tS(),aS()}function aS(){if(Fa!==5)return!1;var i=Po,o=ey;ey=0;var d=Le(Fi),h=F.T,y=q.p;try{q.p=32>d?32:d,F.T=null,d=ty,ty=null;var b=Po,P=Fi;if(Fa=0,Zc=Po=null,Fi=0,(ps&6)!==0)throw Error(a(331));var U=ps;if(ps|=4,FN(b.current),MN(b,b.current,P,d),ps=U,Zu(0,!1),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(cs,b)}catch{}return!0}finally{q.p=y,F.T=h,sS(i,o)}}function nS(i,o,d){o=cr(d,o),o=Ox(i.stateNode,o,2),i=So(i,o,2),i!==null&&(Be(i,2),Jr(i))}function Ss(i,o,d){if(i.tag===3)nS(i,i,d);else for(;o!==null;){if(o.tag===3){nS(o,i,d);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Do===null||!Do.has(h))){i=cr(d,i),d=rN(2),h=So(o,d,2),h!==null&&(iN(d,h,o,i),Be(h,2),Jr(h));break}}o=o.return}}function ry(i,o,d){var h=i.pingCache;if(h===null){h=i.pingCache=new b4;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(d)||(Jx=!0,y.add(d),i=C4.bind(null,i,o,d),o.then(i,i))}function C4(i,o,d){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Fs===i&&(ts&d)===d&&(ma===4||ma===3&&(ts&62914560)===ts&&300>Fe()-gf?(ps&2)===0&&ed(i,0):Xx|=d,Xc===ts&&(Xc=0)),Jr(i)}function rS(i,o){o===0&&(o=_()),i=Pl(i,o),i!==null&&(Be(i,o),Jr(i))}function T4(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),rS(i,d)}function k4(i,o){var d=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(d=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(a(314))}h!==null&&h.delete(o),rS(i,d)}function E4(i,o){return Tt(i,o)}var Nf=null,sd=null,iy=!1,Sf=!1,oy=!1,Ro=0;function Jr(i){i!==sd&&i.next===null&&(sd===null?Nf=sd=i:sd=sd.next=i),Sf=!0,iy||(iy=!0,D4())}function Zu(i,o){if(!oy&&Sf){oy=!0;do for(var d=!1,h=Nf;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var P=h.suspendedLanes,U=h.pingedLanes;b=(1<<31-bt(42|i)+1)-1,b&=y&~(P&~U),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,cS(h,b))}else b=ts,b=ue(h,h===Fs?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Se(h,b)||(d=!0,cS(h,b));h=h.next}while(d);oy=!1}}function A4(){iS()}function iS(){Sf=iy=!1;var i=0;Ro!==0&&V4()&&(i=Ro);for(var o=Fe(),d=null,h=Nf;h!==null;){var y=h.next,b=oS(h,o);b===0?(h.next=null,d===null?Nf=y:d.next=y,y===null&&(sd=d)):(d=h,(i!==0||(b&3)!==0)&&(Sf=!0)),h=y}Fa!==0&&Fa!==5||Zu(i),Ro!==0&&(Ro=0)}function oS(i,o){for(var d=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var P=31-bt(b),U=1<<P,ne=y[P];ne===-1?((U&d)===0||(U&h)!==0)&&(y[P]=dt(U,o)):ne<=o&&(i.expiredLanes|=U),b&=~U}if(o=Fs,d=ts,d=ue(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,d===0||i===o&&(Ns===2||Ns===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&yt(h),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Se(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(h!==null&&yt(h),Le(d)){case 2:case 8:d=as;break;case 32:d=es;break;case 268435456:d=Ye;break;default:d=es}return h=lS.bind(null,i),d=Tt(d,h),i.callbackPriority=o,i.callbackNode=d,o}return h!==null&&h!==null&&yt(h),i.callbackPriority=2,i.callbackNode=null,2}function lS(i,o){if(Fa!==0&&Fa!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(jf()&&i.callbackNode!==d)return null;var h=ts;return h=ue(i,i===Fs?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(qN(i,h,o),oS(i,Fe()),i.callbackNode!=null&&i.callbackNode===d?lS.bind(null,i):null)}function cS(i,o){if(jf())return null;qN(i,o,!0)}function D4(){z4(function(){(ps&6)!==0?Tt(Zt,A4):iS()})}function ly(){if(Ro===0){var i=Bc;i===0&&(i=jt,jt<<=1,(jt&261888)===0&&(jt=256)),Ro=i}return Ro}function dS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rr(""+i)}function uS(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function P4(i,o,d,h,y){if(o==="submit"&&d&&d.stateNode===y){var b=dS((y[Gt]||null).action),P=h.submitter;P&&(o=(o=P[Gt]||null)?dS(o.formAction):P.getAttribute("formAction"),o!==null&&(b=o,P=null));var U=new Tl("action","action",null,h,y);i.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ro!==0){var ne=P?uS(y,P):new FormData(y);Ex(d,{pending:!0,data:ne,method:y.method,action:b},null,ne)}}else typeof b=="function"&&(U.preventDefault(),ne=P?uS(y,P):new FormData(y),Ex(d,{pending:!0,data:ne,method:y.method,action:b},b,ne))},currentTarget:y}]})}}for(var cy=0;cy<Hg.length;cy++){var dy=Hg[cy],I4=dy.toLowerCase(),R4=dy[0].toUpperCase()+dy.slice(1);Pr(I4,"on"+R4)}Pr(zj,"onAnimationEnd"),Pr(qj,"onAnimationIteration"),Pr($j,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(KO,"onTransitionRun"),Pr(QO,"onTransitionStart"),Pr(JO,"onTransitionCancel"),Pr(Hj,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function hS(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var h=i[d],y=h.event;h=h.listeners;e:{var b=void 0;if(o)for(var P=h.length-1;0<=P;P--){var U=h[P],ne=U.instance,we=U.currentTarget;if(U=U.listener,ne!==b&&y.isPropagationStopped())break e;b=U,y.currentTarget=we;try{b(y)}catch(Ae){Fm(Ae)}y.currentTarget=null,b=ne}else for(P=0;P<h.length;P++){if(U=h[P],ne=U.instance,we=U.currentTarget,U=U.listener,ne!==b&&y.isPropagationStopped())break e;b=U,y.currentTarget=we;try{b(y)}catch(Ae){Fm(Ae)}y.currentTarget=null,b=ne}}}}function Jt(i,o){var d=o[Kt];d===void 0&&(d=o[Kt]=new Set);var h=i+"__bubble";d.has(h)||(mS(o,i,2,!1),d.add(h))}function uy(i,o,d){var h=0;o&&(h|=4),mS(d,i,h,o)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function hy(i){if(!i[Cf]){i[Cf]=!0,vu.forEach(function(d){d!=="selectionchange"&&(O4.has(d)||uy(d,!1,i),uy(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Cf]||(o[Cf]=!0,uy("selectionchange",!1,o))}}function mS(i,o,d,h){switch(zS(o)){case 2:var y=lM;break;case 8:y=cM;break;default:y=ky}d=y.bind(null,o,d,i),y=void 0,!mo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(o,d,{capture:!0,passive:y}):i.addEventListener(o,d,!0):y!==void 0?i.addEventListener(o,d,{passive:y}):i.addEventListener(o,d,!1)}function my(i,o,d,h,y){var b=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var P=h.tag;if(P===3||P===4){var U=h.stateNode.containerInfo;if(U===y)break;if(P===4)for(P=h.return;P!==null;){var ne=P.tag;if((ne===3||ne===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;U!==null;){if(P=et(U),P===null)return;if(ne=P.tag,ne===5||ne===6||ne===26||ne===27){h=b=P;continue e}U=U.parentNode}}h=h.return}ho(function(){var we=b,Ae=Ni(d),Me=[];e:{var Ne=Gj.get(i);if(Ne!==void 0){var Ce=Tl,ct=i;switch(i){case"keypress":if(Sl(d)===0)break e;case"keydown":case"keyup":Ce=Mm;break;case"focusin":ct="focus",Ce=Dc;break;case"focusout":ct="blur",Ce=Dc;break;case"beforeblur":case"afterblur":Ce=Dc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=xo;break;case zj:case qj:case $j:Ce=Tm;break;case Hj:Ce=IO;break;case"scroll":case"scrollend":Ce=wm;break;case"wheel":Ce=OO;break;case"copy":case"cut":case"paste":Ce=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=sa;break;case"toggle":case"beforetoggle":Ce=_O}var Et=(o&4)!==0,Is=!Et&&(i==="scroll"||i==="scrollend"),fe=Et?Ne!==null?Ne+"Capture":null:Ne;Et=[];for(var oe=we,be;oe!==null;){var Re=oe;if(be=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||be===null||fe===null||(Re=Ar(oe,fe),Re!=null&&Et.push(th(oe,Re,be))),Is)break;oe=oe.return}0<Et.length&&(Ne=new Ce(Ne,ct,null,d,Ae),Me.push({event:Ne,listeners:Et}))}}if((o&7)===0){e:{if(Ne=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",Ne&&d!==ji&&(ct=d.relatedTarget||d.fromElement)&&(et(ct)||ct[Ut]))break e;if((Ce||Ne)&&(Ne=Ae.window===Ae?Ae:(Ne=Ae.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Ce?(ct=d.relatedTarget||d.toElement,Ce=we,ct=ct?et(ct):null,ct!==null&&(Is=l(ct),Et=ct.tag,ct!==Is||Et!==5&&Et!==27&&Et!==6)&&(ct=null)):(Ce=null,ct=we),Ce!==ct)){if(Et=Su,Re="onMouseLeave",fe="onMouseEnter",oe="mouse",(i==="pointerout"||i==="pointerover")&&(Et=sa,Re="onPointerLeave",fe="onPointerEnter",oe="pointer"),Is=Ce==null?Ne:Z(Ce),be=ct==null?Ne:Z(ct),Ne=new Et(Re,oe+"leave",Ce,d,Ae),Ne.target=Is,Ne.relatedTarget=be,Re=null,et(Ae)===we&&(Et=new Et(fe,oe+"enter",ct,d,Ae),Et.target=be,Et.relatedTarget=Is,Re=Et),Is=Re,Ce&&ct)t:{for(Et=M4,fe=Ce,oe=ct,be=0,Re=fe;Re;Re=Et(Re))be++;Re=0;for(var Nt=oe;Nt;Nt=Et(Nt))Re++;for(;0<be-Re;)fe=Et(fe),be--;for(;0<Re-be;)oe=Et(oe),Re--;for(;be--;){if(fe===oe||oe!==null&&fe===oe.alternate){Et=fe;break t}fe=Et(fe),oe=Et(oe)}Et=null}else Et=null;Ce!==null&&fS(Me,Ne,Ce,Et,!1),ct!==null&&Is!==null&&fS(Me,Is,ct,Et,!0)}}e:{if(Ne=we?Z(we):window,Ce=Ne.nodeName&&Ne.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Ne.type==="file")var hs=Pj;else if(Aj(Ne))if(Ij)hs=GO;else{hs=$O;var gt=qO}else Ce=Ne.nodeName,!Ce||Ce.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?we&&Ls(we.elementType)&&(hs=Pj):hs=HO;if(hs&&(hs=hs(i,we))){Dj(Me,hs,d,Ae);break e}gt&&gt(i,Ne,we),i==="focusout"&&we&&Ne.type==="number"&&we.memoizedProps.value!=null&&X(Ne,"number",Ne.value)}switch(gt=we?Z(we):window,i){case"focusin":(Aj(gt)||gt.contentEditable==="true")&&(Rc=gt,zg=we,Du=null);break;case"focusout":Du=zg=Rc=null;break;case"mousedown":qg=!0;break;case"contextmenu":case"mouseup":case"dragend":qg=!1,Vj(Me,d,Ae);break;case"selectionchange":if(WO)break;case"keydown":case"keyup":Vj(Me,d,Ae)}var zt;if(Fg)e:{switch(i){case"compositionstart":var ss="onCompositionStart";break e;case"compositionend":ss="onCompositionEnd";break e;case"compositionupdate":ss="onCompositionUpdate";break e}ss=void 0}else Ic?kj(i,d)&&(ss="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ss="onCompositionStart");ss&&(Sj&&d.locale!=="ko"&&(Ic||ss!=="onCompositionStart"?ss==="onCompositionEnd"&&Ic&&(zt=ju()):(Dr=Ae,kc="value"in Dr?Dr.value:Dr.textContent,Ic=!0)),gt=Tf(we,ss),0<gt.length&&(ss=new Cu(ss,i,null,d,Ae),Me.push({event:ss,listeners:gt}),zt?ss.data=zt:(zt=Ej(d),zt!==null&&(ss.data=zt)))),(zt=FO?UO(i,d):VO(i,d))&&(ss=Tf(we,"onBeforeInput"),0<ss.length&&(gt=new Cu("onBeforeInput","beforeinput",null,d,Ae),Me.push({event:gt,listeners:ss}),gt.data=zt)),P4(Me,i,we,d,Ae)}hS(Me,o)})}function th(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Tf(i,o){for(var d=o+"Capture",h=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Ar(i,d),y!=null&&h.unshift(th(i,y,b)),y=Ar(i,o),y!=null&&h.push(th(i,y,b))),i.tag===3)return h;i=i.return}return[]}function M4(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fS(i,o,d,h,y){for(var b=o._reactName,P=[];d!==null&&d!==h;){var U=d,ne=U.alternate,we=U.stateNode;if(U=U.tag,ne!==null&&ne===h)break;U!==5&&U!==26&&U!==27||we===null||(ne=we,y?(we=Ar(d,b),we!=null&&P.unshift(th(d,we,ne))):y||(we=Ar(d,b),we!=null&&P.push(th(d,we,ne)))),d=d.return}P.length!==0&&i.push({event:o,listeners:P})}var _4=/\r\n?/g,L4=/\u0000|\uFFFD/g;function pS(i){return(typeof i=="string"?i:""+i).replace(_4,`
`).replace(L4,"")}function gS(i,o){return o=pS(o),pS(i)===o}function Ps(i,o,d,h,y,b){switch(d){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Ge(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Ge(i,""+h);break;case"className":jl(i,"class",h);break;case"tabIndex":jl(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":jl(i,d,h);break;case"style":Mt(i,h,b);break;case"data":if(o!=="object"){jl(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(d);break}h=rr(""+h),i.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(o!=="input"&&Ps(i,o,"name",y.name,y,null),Ps(i,o,"formEncType",y.formEncType,y,null),Ps(i,o,"formMethod",y.formMethod,y,null),Ps(i,o,"formTarget",y.formTarget,y,null)):(Ps(i,o,"encType",y.encType,y,null),Ps(i,o,"method",y.method,y,null),Ps(i,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(d);break}h=rr(""+h),i.setAttribute(d,h);break;case"onClick":h!=null&&(i.onclick=gn);break;case"onScroll":h!=null&&Jt("scroll",i);break;case"onScrollEnd":h!=null&&Jt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=d}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}d=rr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(d,""+h):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":h===!0?i.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(d,h):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(d,h):i.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(d):i.setAttribute(d,h);break;case"popover":Jt("beforetoggle",i),Jt("toggle",i),wi(i,"popover",h);break;case"xlinkActuate":En(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":En(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":En(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":En(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":En(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":En(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":En(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":En(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":En(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":wi(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Vn.get(d)||d,wi(i,d,h))}}function fy(i,o,d,h,y,b){switch(d){case"style":Mt(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(a(61));if(d=h.__html,d!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=d}}break;case"children":typeof h=="string"?Ge(i,h):(typeof h=="number"||typeof h=="bigint")&&Ge(i,""+h);break;case"onScroll":h!=null&&Jt("scroll",i);break;case"onScrollEnd":h!=null&&Jt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bu.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),o=d.slice(2,y?d.length-7:void 0),b=i[Gt]||null,b=b!=null?b[d]:null,typeof b=="function"&&i.removeEventListener(o,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,h,y);break e}d in i?i[d]=h:h===!0?i.setAttribute(d,""):wi(i,d,h)}}}function Za(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",i),Jt("load",i);var h=!1,y=!1,b;for(b in d)if(d.hasOwnProperty(b)){var P=d[b];if(P!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Ps(i,o,b,P,d,null)}}y&&Ps(i,o,"srcSet",d.srcSet,d,null),h&&Ps(i,o,"src",d.src,d,null);return;case"input":Jt("invalid",i);var U=b=P=y=null,ne=null,we=null;for(h in d)if(d.hasOwnProperty(h)){var Ae=d[h];if(Ae!=null)switch(h){case"name":y=Ae;break;case"type":P=Ae;break;case"checked":ne=Ae;break;case"defaultChecked":we=Ae;break;case"value":b=Ae;break;case"defaultValue":U=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(a(137,o));break;default:Ps(i,o,h,Ae,d,null)}}O(i,b,U,ne,we,P,y,!1);return;case"select":Jt("invalid",i),h=P=b=null;for(y in d)if(d.hasOwnProperty(y)&&(U=d[y],U!=null))switch(y){case"value":b=U;break;case"defaultValue":P=U;break;case"multiple":h=U;default:Ps(i,o,y,U,d,null)}o=b,d=P,i.multiple=!!h,o!=null?Ie(i,!!h,o,!1):d!=null&&Ie(i,!!h,d,!0);return;case"textarea":Jt("invalid",i),b=y=h=null;for(P in d)if(d.hasOwnProperty(P)&&(U=d[P],U!=null))switch(P){case"value":h=U;break;case"defaultValue":y=U;break;case"children":b=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:Ps(i,o,P,U,d,null)}Pt(i,h,y,b);return;case"option":for(ne in d)if(d.hasOwnProperty(ne)&&(h=d[ne],h!=null))switch(ne){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ps(i,o,ne,h,d,null)}return;case"dialog":Jt("beforetoggle",i),Jt("toggle",i),Jt("cancel",i),Jt("close",i);break;case"iframe":case"object":Jt("load",i);break;case"video":case"audio":for(h=0;h<eh.length;h++)Jt(eh[h],i);break;case"image":Jt("error",i),Jt("load",i);break;case"details":Jt("toggle",i);break;case"embed":case"source":case"link":Jt("error",i),Jt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in d)if(d.hasOwnProperty(we)&&(h=d[we],h!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Ps(i,o,we,h,d,null)}return;default:if(Ls(o)){for(Ae in d)d.hasOwnProperty(Ae)&&(h=d[Ae],h!==void 0&&fy(i,o,Ae,h,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(h=d[U],h!=null&&Ps(i,o,U,h,d,null))}function F4(i,o,d,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,P=null,U=null,ne=null,we=null,Ae=null;for(Ce in d){var Me=d[Ce];if(d.hasOwnProperty(Ce)&&Me!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":ne=Me;default:h.hasOwnProperty(Ce)||Ps(i,o,Ce,null,h,Me)}}for(var Ne in h){var Ce=h[Ne];if(Me=d[Ne],h.hasOwnProperty(Ne)&&(Ce!=null||Me!=null))switch(Ne){case"type":b=Ce;break;case"name":y=Ce;break;case"checked":we=Ce;break;case"defaultChecked":Ae=Ce;break;case"value":P=Ce;break;case"defaultValue":U=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,o));break;default:Ce!==Me&&Ps(i,o,Ne,Ce,h,Me)}}Tc(i,P,U,ne,we,Ae,b,y);return;case"select":Ce=P=U=Ne=null;for(b in d)if(ne=d[b],d.hasOwnProperty(b)&&ne!=null)switch(b){case"value":break;case"multiple":Ce=ne;default:h.hasOwnProperty(b)||Ps(i,o,b,null,h,ne)}for(y in h)if(b=h[y],ne=d[y],h.hasOwnProperty(y)&&(b!=null||ne!=null))switch(y){case"value":Ne=b;break;case"defaultValue":U=b;break;case"multiple":P=b;default:b!==ne&&Ps(i,o,y,b,h,ne)}o=U,d=P,h=Ce,Ne!=null?Ie(i,!!d,Ne,!1):!!h!=!!d&&(o!=null?Ie(i,!!d,o,!0):Ie(i,!!d,d?[]:"",!1));return;case"textarea":Ce=Ne=null;for(U in d)if(y=d[U],d.hasOwnProperty(U)&&y!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Ps(i,o,U,null,h,y)}for(P in h)if(y=h[P],b=d[P],h.hasOwnProperty(P)&&(y!=null||b!=null))switch(P){case"value":Ne=y;break;case"defaultValue":Ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==b&&Ps(i,o,P,y,h,b)}pt(i,Ne,Ce);return;case"option":for(var ct in d)if(Ne=d[ct],d.hasOwnProperty(ct)&&Ne!=null&&!h.hasOwnProperty(ct))switch(ct){case"selected":i.selected=!1;break;default:Ps(i,o,ct,null,h,Ne)}for(ne in h)if(Ne=h[ne],Ce=d[ne],h.hasOwnProperty(ne)&&Ne!==Ce&&(Ne!=null||Ce!=null))switch(ne){case"selected":i.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol";break;default:Ps(i,o,ne,Ne,h,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in d)Ne=d[Et],d.hasOwnProperty(Et)&&Ne!=null&&!h.hasOwnProperty(Et)&&Ps(i,o,Et,null,h,Ne);for(we in h)if(Ne=h[we],Ce=d[we],h.hasOwnProperty(we)&&Ne!==Ce&&(Ne!=null||Ce!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(a(137,o));break;default:Ps(i,o,we,Ne,h,Ce)}return;default:if(Ls(o)){for(var Is in d)Ne=d[Is],d.hasOwnProperty(Is)&&Ne!==void 0&&!h.hasOwnProperty(Is)&&fy(i,o,Is,void 0,h,Ne);for(Ae in h)Ne=h[Ae],Ce=d[Ae],!h.hasOwnProperty(Ae)||Ne===Ce||Ne===void 0&&Ce===void 0||fy(i,o,Ae,Ne,h,Ce);return}}for(var fe in d)Ne=d[fe],d.hasOwnProperty(fe)&&Ne!=null&&!h.hasOwnProperty(fe)&&Ps(i,o,fe,null,h,Ne);for(Me in h)Ne=h[Me],Ce=d[Me],!h.hasOwnProperty(Me)||Ne===Ce||Ne==null&&Ce==null||Ps(i,o,Me,Ne,h,Ce)}function xS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U4(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),h=0;h<d.length;h++){var y=d[h],b=y.transferSize,P=y.initiatorType,U=y.duration;if(b&&U&&xS(P)){for(P=0,U=y.responseEnd,h+=1;h<d.length;h++){var ne=d[h],we=ne.startTime;if(we>U)break;var Ae=ne.transferSize,Me=ne.initiatorType;Ae&&xS(Me)&&(ne=ne.responseEnd,P+=Ae*(ne<U?1:(U-we)/(ne-we)))}if(--h,o+=8*(b+P)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var py=null,gy=null;function kf(i){return i.nodeType===9?i:i.ownerDocument}function yS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vS(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function xy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yy=null;function V4(){var i=window.event;return i&&i.type==="popstate"?i===yy?!1:(yy=i,!0):(yy=null,!1)}var bS=typeof setTimeout=="function"?setTimeout:void 0,B4=typeof clearTimeout=="function"?clearTimeout:void 0,wS=typeof Promise=="function"?Promise:void 0,z4=typeof queueMicrotask=="function"?queueMicrotask:typeof wS<"u"?function(i){return wS.resolve(null).then(i).catch(q4)}:bS;function q4(i){setTimeout(function(){throw i})}function Oo(i){return i==="head"}function jS(i,o){var d=o,h=0;do{var y=d.nextSibling;if(i.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"||d==="/&"){if(h===0){i.removeChild(y),id(o);return}h--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")h++;else if(d==="html")sh(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,sh(d);for(var b=d.firstChild;b;){var P=b.nextSibling,U=b.nodeName;b[js]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||d.removeChild(b),b=P}}else d==="body"&&sh(i.ownerDocument.body);d=y}while(d);id(o)}function NS(i,o){var d=i;i=0;do{var h=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),h&&h.nodeType===8)if(d=h.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=h}while(d)}function vy(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":vy(d),co(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function $4(i,o,d,h){for(;i.nodeType===1;){var y=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[js])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=fr(i.nextSibling),i===null)break}return null}function H4(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=fr(i.nextSibling),i===null))return null;return i}function SS(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=fr(i.nextSibling),i===null))return null;return i}function by(i){return i.data==="$?"||i.data==="$~"}function wy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function G4(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var h=function(){o(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function fr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var jy=null;function CS(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return fr(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function TS(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function kS(i,o,d){switch(o=kf(d),i){case"html":if(i=o.documentElement,!i)throw Error(a(452));return i;case"head":if(i=o.head,!i)throw Error(a(453));return i;case"body":if(i=o.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function sh(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);co(i)}var pr=new Map,ES=new Set;function Ef(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ui=q.d;q.d={f:Y4,r:W4,D:K4,C:Q4,L:J4,m:X4,X:eM,S:Z4,M:tM};function Y4(){var i=Ui.f(),o=vf();return i||o}function W4(i){var o=ua(i);o!==null&&o.tag===5&&o.type==="form"?H1(o):Ui.r(i)}var ad=typeof document>"u"?null:document;function AS(i,o,d){var h=ad;if(h&&typeof o=="string"&&o){var y=pn(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),ES.has(y)||(ES.add(y),i={rel:i,crossOrigin:d,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Za(o,"link",i),wa(o),h.head.appendChild(o)))}}function K4(i){Ui.D(i),AS("dns-prefetch",i,null)}function Q4(i,o){Ui.C(i,o),AS("preconnect",i,o)}function J4(i,o,d){Ui.L(i,o,d);var h=ad;if(h&&i&&o){var y='link[rel="preload"][as="'+pn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+pn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+pn(d.imageSizes)+'"]')):y+='[href="'+pn(i)+'"]';var b=y;switch(o){case"style":b=nd(i);break;case"script":b=rd(i)}pr.has(b)||(i=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),pr.set(b,i),h.querySelector(y)!==null||o==="style"&&h.querySelector(ah(b))||o==="script"&&h.querySelector(nh(b))||(o=h.createElement("link"),Za(o,"link",i),wa(o),h.head.appendChild(o)))}}function X4(i,o){Ui.m(i,o);var d=ad;if(d&&i){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+pn(h)+'"][href="'+pn(i)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=rd(i)}if(!pr.has(b)&&(i=g({rel:"modulepreload",href:i},o),pr.set(b,i),d.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(nh(b)))return}h=d.createElement("link"),Za(h,"link",i),wa(h),d.head.appendChild(h)}}}function Z4(i,o,d){Ui.S(i,o,d);var h=ad;if(h&&i){var y=ft(h).hoistableStyles,b=nd(i);o=o||"default";var P=y.get(b);if(!P){var U={loading:0,preload:null};if(P=h.querySelector(ah(b)))U.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},d),(d=pr.get(b))&&Ny(i,d);var ne=P=h.createElement("link");wa(ne),Za(ne,"link",i),ne._p=new Promise(function(we,Ae){ne.onload=we,ne.onerror=Ae}),ne.addEventListener("load",function(){U.loading|=1}),ne.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Af(P,o,h)}P={type:"stylesheet",instance:P,count:1,state:U},y.set(b,P)}}}function eM(i,o){Ui.X(i,o);var d=ad;if(d&&i){var h=ft(d).hoistableScripts,y=rd(i),b=h.get(y);b||(b=d.querySelector(nh(y)),b||(i=g({src:i,async:!0},o),(o=pr.get(y))&&Sy(i,o),b=d.createElement("script"),wa(b),Za(b,"link",i),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function tM(i,o){Ui.M(i,o);var d=ad;if(d&&i){var h=ft(d).hoistableScripts,y=rd(i),b=h.get(y);b||(b=d.querySelector(nh(y)),b||(i=g({src:i,async:!0,type:"module"},o),(o=pr.get(y))&&Sy(i,o),b=d.createElement("script"),wa(b),Za(b,"link",i),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function DS(i,o,d,h){var y=(y=pe.current)?Ef(y):null;if(!y)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=nd(d.href),d=ft(y).hoistableStyles,h=d.get(o),h||(h={type:"style",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=nd(d.href);var b=ft(y).hoistableStyles,P=b.get(i);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,P),(b=y.querySelector(ah(i)))&&!b._p&&(P.instance=b,P.state.loading=5),pr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},pr.set(i,d),b||sM(y,i,d,P.state))),o&&h===null)throw Error(a(528,""));return P}if(o&&h!==null)throw Error(a(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=rd(d),d=ft(y).hoistableScripts,h=d.get(o),h||(h={type:"script",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function nd(i){return'href="'+pn(i)+'"'}function ah(i){return'link[rel="stylesheet"]['+i+"]"}function PS(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function sM(i,o,d,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Za(o,"link",d),wa(o),i.head.appendChild(o))}function rd(i){return'[src="'+pn(i)+'"]'}function nh(i){return"script[async]"+i}function IS(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+pn(d.href)+'"]');if(h)return o.instance=h,wa(h),h;var y=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),wa(h),Za(h,"style",y),Af(h,d.precedence,i),o.instance=h;case"stylesheet":y=nd(d.href);var b=i.querySelector(ah(y));if(b)return o.state.loading|=4,o.instance=b,wa(b),b;h=PS(d),(y=pr.get(y))&&Ny(h,y),b=(i.ownerDocument||i).createElement("link"),wa(b);var P=b;return P._p=new Promise(function(U,ne){P.onload=U,P.onerror=ne}),Za(b,"link",h),o.state.loading|=4,Af(b,d.precedence,i),o.instance=b;case"script":return b=rd(d.src),(y=i.querySelector(nh(b)))?(o.instance=y,wa(y),y):(h=d,(y=pr.get(b))&&(h=g({},d),Sy(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),wa(y),Za(y,"link",h),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Af(h,d.precedence,i));return o.instance}function Af(i,o,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,P=0;P<h.length;P++){var U=h[P];if(U.dataset.precedence===o)b=U;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function Ny(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Sy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Df=null;function RS(i,o,d){if(Df===null){var h=new Map,y=Df=new Map;y.set(d,h)}else y=Df,h=y.get(d),h||(h=new Map,y.set(d,h));if(h.has(i))return h;for(h.set(i,null),d=d.getElementsByTagName(i),y=0;y<d.length;y++){var b=d[y];if(!(b[js]||b[zs]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var P=b.getAttribute(o)||"";P=i+P;var U=h.get(P);U?U.push(b):h.set(P,[b])}}return h}function OS(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function aM(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function MS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function nM(i,o,d,h){if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var y=nd(h.href),b=o.querySelector(ah(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Pf.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=b,wa(b);return}b=o.ownerDocument||o,h=PS(h),(y=pr.get(y))&&Ny(h,y),b=b.createElement("link"),wa(b);var P=b;P._p=new Promise(function(U,ne){P.onload=U,P.onerror=ne}),Za(b,"link",h),d.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=Pf.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var Cy=0;function rM(i,o){return i.stylesheets&&i.count===0&&Rf(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var h=setTimeout(function(){if(i.stylesheets&&Rf(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+o);0<i.imgBytes&&Cy===0&&(Cy=62500*U4());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Rf(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Cy?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var If=null;function Rf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,If=new Map,o.forEach(iM,i),If=null,Pf.call(i))}function iM(i,o){if(!(o.state.loading&4)){var d=If.get(i);if(d)var h=d.get(null);else{d=new Map,If.set(i,d);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var P=y[b];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),h=P)}h&&d.set(null,h)}y=o.instance,P=y.getAttribute("data-precedence"),b=d.get(P)||h,b===h&&d.set(null,y),d.set(P,y),this.count++,h=Pf.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var rh={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function oM(i,o,d,h,y,b,P,U,ne){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function _S(i,o,d,h,y,b,P,U,ne,we,Ae,Me){return i=new oM(i,o,d,P,ne,we,Ae,Me,U),o=1,b===!0&&(o|=24),b=zn(3,null,null,o),i.current=b,b.stateNode=i,o=nx(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:h,isDehydrated:d,cache:o},lx(b),i}function LS(i){return i?(i=_c,i):_c}function FS(i,o,d,h,y,b){y=LS(y),h.context===null?h.context=y:h.pendingContext=y,h=No(o),h.payload={element:d},b=b===void 0?null:b,b!==null&&(h.callback=b),d=So(i,h,o),d!==null&&(Rn(d,i,o),Lu(d,i,o))}function US(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function Ty(i,o){US(i,o),(i=i.alternate)&&US(i,o)}function VS(i){if(i.tag===13||i.tag===31){var o=Pl(i,67108864);o!==null&&Rn(o,i,67108864),Ty(i,67108864)}}function BS(i){if(i.tag===13||i.tag===31){var o=Yn();o=qt(o);var d=Pl(i,o);d!==null&&Rn(d,i,o),Ty(i,o)}}var Of=!0;function lM(i,o,d,h){var y=F.T;F.T=null;var b=q.p;try{q.p=2,ky(i,o,d,h)}finally{q.p=b,F.T=y}}function cM(i,o,d,h){var y=F.T;F.T=null;var b=q.p;try{q.p=8,ky(i,o,d,h)}finally{q.p=b,F.T=y}}function ky(i,o,d,h){if(Of){var y=Ey(h);if(y===null)my(i,o,h,Mf,d),qS(i,h);else if(uM(y,i,o,d,h))h.stopPropagation();else if(qS(i,h),o&4&&-1<dM.indexOf(i)){for(;y!==null;){var b=ua(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var P=te(b.pendingLanes);if(P!==0){var U=b;for(U.pendingLanes|=2,U.entangledLanes|=2;P;){var ne=1<<31-bt(P);U.entanglements[1]|=ne,P&=~ne}Jr(b),(ps&6)===0&&(xf=Fe()+500,Zu(0))}}break;case 31:case 13:U=Pl(b,2),U!==null&&Rn(U,b,2),vf(),Ty(b,2)}if(b=Ey(h),b===null&&my(i,o,h,Mf,d),b===y)break;y=b}y!==null&&h.stopPropagation()}else my(i,o,h,null,d)}}function Ey(i){return i=Ni(i),Ay(i)}var Mf=null;function Ay(i){if(Mf=null,i=et(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mf=i,null}function zS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Zt:return 2;case as:return 8;case es:case ae:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Dy=!1,Mo=null,_o=null,Lo=null,ih=new Map,oh=new Map,Fo=[],dM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qS(i,o){switch(i){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":ih.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(o.pointerId)}}function lh(i,o,d,h,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:d,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},o!==null&&(o=ua(o),o!==null&&VS(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function uM(i,o,d,h,y){switch(o){case"focusin":return Mo=lh(Mo,i,o,d,h,y),!0;case"dragenter":return _o=lh(_o,i,o,d,h,y),!0;case"mouseover":return Lo=lh(Lo,i,o,d,h,y),!0;case"pointerover":var b=y.pointerId;return ih.set(b,lh(ih.get(b)||null,i,o,d,h,y)),!0;case"gotpointercapture":return b=y.pointerId,oh.set(b,lh(oh.get(b)||null,i,o,d,h,y)),!0}return!1}function $S(i){var o=et(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,ba(i.priority,function(){BS(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,ba(i.priority,function(){BS(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _f(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=Ey(i.nativeEvent);if(d===null){d=i.nativeEvent;var h=new d.constructor(d.type,d);ji=h,d.target.dispatchEvent(h),ji=null}else return o=ua(d),o!==null&&VS(o),i.blockedOn=d,!1;o.shift()}return!0}function HS(i,o,d){_f(i)&&d.delete(o)}function hM(){Dy=!1,Mo!==null&&_f(Mo)&&(Mo=null),_o!==null&&_f(_o)&&(_o=null),Lo!==null&&_f(Lo)&&(Lo=null),ih.forEach(HS),oh.forEach(HS)}function Lf(i,o){i.blockedOn===o&&(i.blockedOn=null,Dy||(Dy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hM)))}var Ff=null;function GS(i){Ff!==i&&(Ff=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ff===i&&(Ff=null);for(var o=0;o<i.length;o+=3){var d=i[o],h=i[o+1],y=i[o+2];if(typeof h!="function"){if(Ay(h||d)===null)continue;break}var b=ua(d);b!==null&&(i.splice(o,3),o-=3,Ex(b,{pending:!0,data:y,method:d.method,action:h},h,y))}}))}function id(i){function o(ne){return Lf(ne,i)}Mo!==null&&Lf(Mo,i),_o!==null&&Lf(_o,i),Lo!==null&&Lf(Lo,i),ih.forEach(o),oh.forEach(o);for(var d=0;d<Fo.length;d++){var h=Fo[d];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Fo.length&&(d=Fo[0],d.blockedOn===null);)$S(d),d.blockedOn===null&&Fo.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var y=d[h],b=d[h+1],P=y[Gt]||null;if(typeof b=="function")P||GS(d);else if(P){var U=null;if(b&&b.hasAttribute("formAction")){if(y=b,P=b[Gt]||null)U=P.formAction;else if(Ay(y)!==null)continue}else U=P.action;typeof U=="function"?d[h+1]=U:(d.splice(h,3),h-=3),GS(d)}}}function YS(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(P){return y=P})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(d,20)}function d(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Py(i){this._internalRoot=i}Uf.prototype.render=Py.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(a(409));var d=o.current,h=Yn();FS(d,h,i,o,null,null)},Uf.prototype.unmount=Py.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;FS(i.current,2,null,i,null,null),vf(),o[Ut]=null}};function Uf(i){this._internalRoot=i}Uf.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hs();i={blockedOn:null,target:i,priority:o};for(var d=0;d<Fo.length&&o!==0&&o<Fo[d].priority;d++);Fo.splice(d,0,i),d===0&&$S(i)}};var WS=s.version;if(WS!=="19.2.0")throw Error(a(527,WS,"19.2.0"));q.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=f(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var mM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{cs=Vf.inject(mM),ys=Vf}catch{}}return dh.createRoot=function(i,o){if(!r(i))throw Error(a(299));var d=!1,h="",y=tN,b=sN,P=aN;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError)),o=_S(i,1,!1,null,null,d,h,null,y,b,P,YS),i[Ut]=o.current,hy(i),new Py(o)},dh.hydrateRoot=function(i,o,d){if(!r(i))throw Error(a(299));var h=!1,y="",b=tN,P=sN,U=aN,ne=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.formState!==void 0&&(ne=d.formState)),o=_S(i,1,!0,o,d??null,h,y,ne,b,P,U,YS),o.context=LS(null),d=o.current,h=Yn(),h=qt(h),y=No(h),y.callback=null,So(d,y,h),d=h,o.current.lanes=d,Be(o,d),Jr(o),i[Ut]=o.current,hy(i),new Uf(o)},dh.version="19.2.0",dh}var rC;function CM(){if(rC)return My.exports;rC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),My.exports=SM(),My.exports}var TM=CM();const kM=tm(TM),EM="modulepreload",AM=function(e){return"/"+e},iC={},Cr=function(s,n,a){let r=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=c(n.map(f=>{if(f=AM(f),f in iC)return;iC[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":EM,p||(v.as="script"),v.crossOrigin="",v.href=f,m&&v.setAttribute("nonce",m),document.head.appendChild(v),p)return new Promise((w,N)=>{v.addEventListener("load",w),v.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return r.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return s().catch(l)})};/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oC="popstate";function DM(e={}){function s(a,r){let{pathname:l,search:c,hash:u}=a.location;return _0("",{pathname:l,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:Mh(r)}return IM(s,n,null,e)}function Xs(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function Tr(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function PM(){return Math.random().toString(36).substring(2,10)}function lC(e,s){return{usr:e.state,key:e.key,idx:s}}function _0(e,s,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof s=="string"?tu(s):s,state:n,key:s&&s.key||a||PM()}}function Mh({pathname:e="/",search:s="",hash:n=""}){return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function tu(e){let s={};if(e){let n=e.indexOf("#");n>=0&&(s.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(s.search=e.substring(a),e=e.substring(0,a)),e&&(s.pathname=e)}return s}function IM(e,s,n,a={}){let{window:r=document.defaultView,v5Compat:l=!1}=a,c=r.history,u="POP",m=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let S=p(),E=S==null?null:S-f;f=S,m&&m({action:u,location:j.location,delta:E})}function v(S,E){u="PUSH";let T=_0(j.location,S,E);f=p()+1;let C=lC(T,f),I=j.createHref(T);try{c.pushState(C,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(I)}l&&m&&m({action:u,location:j.location,delta:1})}function w(S,E){u="REPLACE";let T=_0(j.location,S,E);f=p();let C=lC(T,f),I=j.createHref(T);c.replaceState(C,"",I),l&&m&&m({action:u,location:j.location,delta:0})}function N(S){return RM(S)}let j={get action(){return u},get location(){return e(r,c)},listen(S){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(oC,g),m=S,()=>{r.removeEventListener(oC,g),m=null}},createHref(S){return s(r,S)},createURL:N,encodeLocation(S){let E=N(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:w,go(S){return c.go(S)}};return j}function RM(e,s=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xs(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Mh(e);return a=a.replace(/ $/,"%20"),!s&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function $k(e,s,n="/"){return OM(e,s,n,!1)}function OM(e,s,n,a){let r=typeof s=="string"?tu(s):s,l=to(r.pathname||"/",n);if(l==null)return null;let c=Hk(e);MM(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let f=GM(l);u=$M(c[m],f,a)}return u}function Hk(e,s=[],n=[],a="",r=!1){let l=(c,u,m=r,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(a)&&m)return;Xs(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length)}let g=Xi([a,p.relativePath]),v=n.concat(p);c.children&&c.children.length>0&&(Xs(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Hk(c.children,s,v,g,m)),!(c.path==null&&!c.index)&&s.push({path:g,score:zM(g,c.index),routesMeta:v})};return e.forEach((c,u)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,u);else for(let f of Gk(c.path))l(c,u,!0,f)}),s}function Gk(e){let s=e.split("/");if(s.length===0)return[];let[n,...a]=s,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return r?[l,""]:[l];let c=Gk(a.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),r&&u.push(...c),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function MM(e){e.sort((s,n)=>s.score!==n.score?n.score-s.score:qM(s.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var _M=/^:[\w-]+$/,LM=3,FM=2,UM=1,VM=10,BM=-2,cC=e=>e==="*";function zM(e,s){let n=e.split("/"),a=n.length;return n.some(cC)&&(a+=BM),s&&(a+=FM),n.filter(r=>!cC(r)).reduce((r,l)=>r+(_M.test(l)?LM:l===""?UM:VM),a)}function qM(e,s){return e.length===s.length&&e.slice(0,-1).every((a,r)=>a===s[r])?e[e.length-1]-s[s.length-1]:0}function $M(e,s,n=!1){let{routesMeta:a}=e,r={},l="/",c=[];for(let u=0;u<a.length;++u){let m=a[u],f=u===a.length-1,p=l==="/"?s:s.slice(l.length)||"/",g=Ep({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},p),v=m.route;if(!g&&f&&n&&!a[a.length-1].route.index&&(g=Ep({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!g)return null;Object.assign(r,g.params),c.push({params:r,pathname:Xi([l,g.pathname]),pathnameBase:QM(Xi([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=Xi([l,g.pathnameBase]))}return c}function Ep(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=HM(e.path,e.caseSensitive,e.end),r=s.match(n);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:a.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let N=u[v]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const w=u[v];return g&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:e}}function HM(e,s=!1,n=!0){Tr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(a.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,s?void 0:"i"),a]}function GM(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Tr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),e}}function to(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function YM(e,s="/"){let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?tu(e):e;return{pathname:n?n.startsWith("/")?n:WM(n,s):s,search:JM(a),hash:XM(r)}}function WM(e,s){let n=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Uy(e,s,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${s}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KM(e){return e.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Ab(e){let s=KM(e);return s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase)}function Db(e,s,n,a=!1){let r;typeof e=="string"?r=tu(e):(r={...e},Xs(!r.pathname||!r.pathname.includes("?"),Uy("?","pathname","search",r)),Xs(!r.pathname||!r.pathname.includes("#"),Uy("#","pathname","hash",r)),Xs(!r.search||!r.search.includes("#"),Uy("#","search","hash",r)));let l=e===""||r.pathname==="",c=l?"/":r.pathname,u;if(c==null)u=n;else{let g=s.length-1;if(!a&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}u=g>=0?s[g]:"/"}let m=YM(r,u),f=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(f||p)&&(m.pathname+="/"),m}var Xi=e=>e.join("/").replace(/\/\/+/g,"/"),QM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Yk=["POST","PUT","PATCH","DELETE"];new Set(Yk);var e5=["GET",...Yk];new Set(e5);var su=x.createContext(null);su.displayName="DataRouter";var cg=x.createContext(null);cg.displayName="DataRouterState";x.createContext(!1);var Wk=x.createContext({isTransitioning:!1});Wk.displayName="ViewTransition";var t5=x.createContext(new Map);t5.displayName="Fetchers";var s5=x.createContext(null);s5.displayName="Await";var Hr=x.createContext(null);Hr.displayName="Navigation";var sm=x.createContext(null);sm.displayName="Location";var gi=x.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Pb=x.createContext(null);Pb.displayName="RouteError";function a5(e,{relative:s}={}){Xs(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=x.useContext(Hr),{hash:r,pathname:l,search:c}=am(e,{relative:s}),u=l;return n!=="/"&&(u=l==="/"?n:Xi([n,l])),a.createHref({pathname:u,search:c,hash:r})}function au(){return x.useContext(sm)!=null}function kn(){return Xs(au(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(sm).location}var Kk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qk(e){x.useContext(Hr).static||x.useLayoutEffect(e)}function kr(){let{isDataRoute:e}=x.useContext(gi);return e?g5():n5()}function n5(){Xs(au(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(su),{basename:s,navigator:n}=x.useContext(Hr),{matches:a}=x.useContext(gi),{pathname:r}=kn(),l=JSON.stringify(Ab(a)),c=x.useRef(!1);return Qk(()=>{c.current=!0}),x.useCallback((m,f={})=>{if(Tr(c.current,Kk),!c.current)return;if(typeof m=="number"){n.go(m);return}let p=Db(m,JSON.parse(l),r,f.relative==="path");e==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:Xi([s,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[s,n,l,r,e])}x.createContext(null);function am(e,{relative:s}={}){let{matches:n}=x.useContext(gi),{pathname:a}=kn(),r=JSON.stringify(Ab(n));return x.useMemo(()=>Db(e,JSON.parse(r),a,s==="path"),[e,r,a,s])}function r5(e,s){return Jk(e,s)}function Jk(e,s,n,a,r){var T;Xs(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(Hr),{matches:c}=x.useContext(gi),u=c[c.length-1],m=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let C=g&&g.path||"";Xk(f,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=kn(),w;if(s){let C=typeof s=="string"?tu(s):s;Xs(p==="/"||((T=C.pathname)==null?void 0:T.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=v;let N=w.pathname||"/",j=N;if(p!=="/"){let C=p.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=$k(e,{pathname:j});Tr(g||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Tr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=d5(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:Xi([p,l.encodeLocation?l.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Xi([p,l.encodeLocation?l.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),c,n,a,r);return s&&E?x.createElement(sm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function i5(){let e=p5(),s=ZM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},s),n?x.createElement("pre",{style:r},n):null,c)}var o5=x.createElement(i5,null),l5=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){this.props.unstable_onError?this.props.unstable_onError(e,s):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(gi.Provider,{value:this.props.routeContext},x.createElement(Pb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c5({routeContext:e,match:s,children:n}){let a=x.useContext(su);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),x.createElement(gi.Provider,{value:e},n)}function d5(e,s=[],n=null,a=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(s.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n==null?void 0:n.errors;if(c!=null){let f=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);Xs(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,f+1))}let u=!1,m=-1;if(n)for(let f=0;f<l.length;f++){let p=l[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=f),p.route.id){let{loaderData:g,errors:v}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){u=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((f,p,g)=>{let v,w=!1,N=null,j=null;n&&(v=c&&p.route.id?c[p.route.id]:void 0,N=p.route.errorElement||o5,u&&(m<0&&g===0?(Xk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):m===g&&(w=!0,j=p.route.hydrateFallbackElement||null)));let S=s.concat(l.slice(0,g+1)),E=()=>{let T;return v?T=N:w?T=j:p.route.Component?T=x.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=f,x.createElement(c5,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?x.createElement(l5,{location:n.location,revalidation:n.revalidation,component:N,error:v,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:a}):E()},null)}function Ib(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u5(e){let s=x.useContext(su);return Xs(s,Ib(e)),s}function h5(e){let s=x.useContext(cg);return Xs(s,Ib(e)),s}function m5(e){let s=x.useContext(gi);return Xs(s,Ib(e)),s}function Rb(e){let s=m5(e),n=s.matches[s.matches.length-1];return Xs(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function f5(){return Rb("useRouteId")}function p5(){var a;let e=x.useContext(Pb),s=h5("useRouteError"),n=Rb("useRouteError");return e!==void 0?e:(a=s.errors)==null?void 0:a[n]}function g5(){let{router:e}=u5("useNavigate"),s=Rb("useNavigate"),n=x.useRef(!1);return Qk(()=>{n.current=!0}),x.useCallback(async(r,l={})=>{Tr(n.current,Kk),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:s,...l}))},[e,s])}var dC={};function Xk(e,s,n){!s&&!dC[e]&&(dC[e]=!0,Tr(!1,n))}x.memo(x5);function x5({routes:e,future:s,state:n,unstable_onError:a}){return Jk(e,void 0,n,a,s)}function Zk({to:e,replace:s,state:n,relative:a}){Xs(au(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=x.useContext(Hr);Tr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(gi),{pathname:c}=kn(),u=kr(),m=Db(e,Ab(l),c,a==="path"),f=JSON.stringify(m);return x.useEffect(()=>{u(JSON.parse(f),{replace:s,state:n,relative:a})},[u,f,a,s,n]),null}function en(e){Xs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y5({basename:e="/",children:s=null,location:n,navigationType:a="POP",navigator:r,static:l=!1}){Xs(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof n=="string"&&(n=tu(n));let{pathname:m="/",search:f="",hash:p="",state:g=null,key:v="default"}=n,w=x.useMemo(()=>{let N=to(m,c);return N==null?null:{location:{pathname:N,search:f,hash:p,state:g,key:v},navigationType:a}},[c,m,f,p,g,v,a]);return Tr(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(Hr.Provider,{value:u},x.createElement(sm.Provider,{children:s,value:w}))}function uC({children:e,location:s}){return r5(L0(e),s)}function L0(e,s=[]){let n=[];return x.Children.forEach(e,(a,r)=>{if(!x.isValidElement(a))return;let l=[...s,r];if(a.type===x.Fragment){n.push.apply(n,L0(a.props.children,l));return}Xs(a.type===en,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xs(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=L0(a.props.children,l)),n.push(c)}),n}var dp="get",up="application/x-www-form-urlencoded";function dg(e){return e!=null&&typeof e.tagName=="string"}function v5(e){return dg(e)&&e.tagName.toLowerCase()==="button"}function b5(e){return dg(e)&&e.tagName.toLowerCase()==="form"}function w5(e){return dg(e)&&e.tagName.toLowerCase()==="input"}function j5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function N5(e,s){return e.button===0&&(!s||s==="_self")&&!j5(e)}function F0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,n)=>{let a=e[n];return s.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function S5(e,s){let n=F0(e);return s&&s.forEach((a,r)=>{n.has(r)||s.getAll(r).forEach(l=>{n.append(r,l)})}),n}var zf=null;function C5(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var T5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vy(e){return e!=null&&!T5.has(e)?(Tr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${up}"`),null):e}function k5(e,s){let n,a,r,l,c;if(b5(e)){let u=e.getAttribute("action");a=u?to(u,s):null,n=e.getAttribute("method")||dp,r=Vy(e.getAttribute("enctype"))||up,l=new FormData(e)}else if(v5(e)||w5(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(a=m?to(m,s):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||dp,r=Vy(e.getAttribute("formenctype"))||Vy(u.getAttribute("enctype"))||up,l=new FormData(u,e),!C5()){let{name:f,type:p,value:g}=e;if(p==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,g)}}else{if(dg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dp,a=null,r=up,c=e}return l&&r==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ob(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function E5(e,s,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:s&&to(a.pathname,s)==="/"?a.pathname=`${s.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function A5(e,s){if(e.id in s)return s[e.id];try{let n=await import(e.module);return s[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function P5(e,s,n){let a=await Promise.all(e.map(async r=>{let l=s.routes[r.route.id];if(l){let c=await A5(l,n);return c.links?c.links():[]}return[]}));return M5(a.flat(1).filter(D5).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function hC(e,s,n,a,r,l){let c=(m,f)=>n[f]?m.route.id!==n[f].route.id:!0,u=(m,f)=>{var p;return n[f].pathname!==m.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==m.params["*"]};return l==="assets"?s.filter((m,f)=>c(m,f)||u(m,f)):l==="data"?s.filter((m,f)=>{var g;let p=a.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(c(m,f)||u(m,f))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function I5(e,s,{includeHydrateFallback:n}={}){return R5(e.map(a=>{let r=s.routes[a.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function R5(e){return[...new Set(e)]}function O5(e){let s={},n=Object.keys(e).sort();for(let a of n)s[a]=e[a];return s}function M5(e,s){let n=new Set;return new Set(s),e.reduce((a,r)=>{let l=JSON.stringify(O5(r));return n.has(l)||(n.add(l),a.push({key:l,link:r})),a},[])}function eE(){let e=x.useContext(su);return Ob(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _5(){let e=x.useContext(cg);return Ob(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mb=x.createContext(void 0);Mb.displayName="FrameworkContext";function tE(){let e=x.useContext(Mb);return Ob(e,"You must render this element inside a <HydratedRouter> element"),e}function L5(e,s){let n=x.useContext(Mb),[a,r]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=s,v=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=E=>{E.forEach(T=>{c(T.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(a){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[a]);let w=()=>{r(!0)},N=()=>{r(!1),c(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:uh(u,w),onBlur:uh(m,N),onMouseEnter:uh(f,w),onMouseLeave:uh(p,N),onTouchStart:uh(g,w)}]:[!1,v,{}]}function uh(e,s){return n=>{e&&e(n),n.defaultPrevented||s(n)}}function F5({page:e,...s}){let{router:n}=eE(),a=x.useMemo(()=>$k(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?x.createElement(V5,{page:e,matches:a,...s}):null}function U5(e){let{manifest:s,routeModules:n}=tE(),[a,r]=x.useState([]);return x.useEffect(()=>{let l=!1;return P5(e,s,n).then(c=>{l||r(c)}),()=>{l=!0}},[e,s,n]),a}function V5({page:e,matches:s,...n}){let a=kn(),{manifest:r,routeModules:l}=tE(),{basename:c}=eE(),{loaderData:u,matches:m}=_5(),f=x.useMemo(()=>hC(e,s,m,r,a,"data"),[e,s,m,r,a]),p=x.useMemo(()=>hC(e,s,m,r,a,"assets"),[e,s,m,r,a]),g=x.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let N=new Set,j=!1;if(s.forEach(E=>{var C;let T=r.routes[E.route.id];!T||!T.hasLoader||(!f.some(I=>I.route.id===E.route.id)&&E.route.id in u&&((C=l[E.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?j=!0:N.add(E.route.id))}),N.size===0)return[];let S=E5(e,c,"data");return j&&N.size>0&&S.searchParams.set("_routes",s.filter(E=>N.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[c,u,a,r,f,s,e,l]),v=x.useMemo(()=>I5(p,r),[p,r]),w=U5(p);return x.createElement(x.Fragment,null,g.map(N=>x.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),v.map(N=>x.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),w.map(({key:N,link:j})=>x.createElement("link",{key:N,nonce:n.nonce,...j})))}function B5(...e){return s=>{e.forEach(n=>{typeof n=="function"?n(s):n!=null&&(n.current=s)})}}var sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sE&&(window.__reactRouterVersion="7.8.2")}catch{}function z5({basename:e,children:s,window:n}){let a=x.useRef();a.current==null&&(a.current=DM({window:n,v5Compat:!0}));let r=a.current,[l,c]=x.useState({action:r.action,location:r.location}),u=x.useCallback(m=>{x.startTransition(()=>c(m))},[c]);return x.useLayoutEffect(()=>r.listen(u),[r,u]),x.createElement(y5,{basename:e,children:s,location:l.location,navigationType:l.action,navigator:r})}var aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=x.forwardRef(function({onClick:s,discover:n="render",prefetch:a="none",relative:r,reloadDocument:l,replace:c,state:u,target:m,to:f,preventScrollReset:p,viewTransition:g,...v},w){let{basename:N}=x.useContext(Hr),j=typeof f=="string"&&aE.test(f),S,E=!1;if(typeof f=="string"&&j&&(S=f,sE))try{let z=new URL(window.location.href),Q=f.startsWith("//")?new URL(z.protocol+f):new URL(f),K=to(Q.pathname,N);Q.origin===z.origin&&K!=null?f=K+Q.search+Q.hash:E=!0}catch{Tr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=a5(f,{relative:r}),[C,I,D]=L5(a,v),A=G5(f,{replace:c,state:u,target:m,preventScrollReset:p,relative:r,viewTransition:g});function R(z){s&&s(z),z.defaultPrevented||A(z)}let L=x.createElement("a",{...v,...D,href:S||T,onClick:E||l?s:R,ref:B5(w,I),target:m,"data-discover":!j&&n==="render"?"true":void 0});return C&&!j?x.createElement(x.Fragment,null,L,x.createElement(F5,{page:T})):L});fi.displayName="Link";var q5=x.forwardRef(function({"aria-current":s="page",caseSensitive:n=!1,className:a="",end:r=!1,style:l,to:c,viewTransition:u,children:m,...f},p){let g=am(c,{relative:f.relative}),v=kn(),w=x.useContext(cg),{navigator:N,basename:j}=x.useContext(Hr),S=w!=null&&X5(g)&&u===!0,E=N.encodeLocation?N.encodeLocation(g).pathname:g.pathname,T=v.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(T=T.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&j&&(C=to(C,j)||C);const I=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=T===E||!r&&T.startsWith(E)&&T.charAt(I)==="/",A=C!=null&&(C===E||!r&&C.startsWith(E)&&C.charAt(E.length)==="/"),R={isActive:D,isPending:A,isTransitioning:S},L=D?s:void 0,z;typeof a=="function"?z=a(R):z=[a,D?"active":null,A?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Q=typeof l=="function"?l(R):l;return x.createElement(fi,{...f,"aria-current":L,className:z,ref:p,style:Q,to:c,viewTransition:u},typeof m=="function"?m(R):m)});q5.displayName="NavLink";var $5=x.forwardRef(({discover:e="render",fetcherKey:s,navigate:n,reloadDocument:a,replace:r,state:l,method:c=dp,action:u,onSubmit:m,relative:f,preventScrollReset:p,viewTransition:g,...v},w)=>{let N=Q5(),j=J5(u,{relative:f}),S=c.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&aE.test(u),T=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let I=C.nativeEvent.submitter,D=(I==null?void 0:I.getAttribute("formmethod"))||c;N(I||C.currentTarget,{fetcherKey:s,method:D,navigate:n,replace:r,state:l,relative:f,preventScrollReset:p,viewTransition:g})};return x.createElement("form",{ref:w,method:S,action:j,onSubmit:a?m:T,...v,"data-discover":!E&&e==="render"?"true":void 0})});$5.displayName="Form";function H5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nE(e){let s=x.useContext(su);return Xs(s,H5(e)),s}function G5(e,{target:s,replace:n,state:a,preventScrollReset:r,relative:l,viewTransition:c}={}){let u=kr(),m=kn(),f=am(e,{relative:l});return x.useCallback(p=>{if(N5(p,s)){p.preventDefault();let g=n!==void 0?n:Mh(m)===Mh(f);u(e,{replace:g,state:a,preventScrollReset:r,relative:l,viewTransition:c})}},[m,u,f,n,a,s,e,r,l,c])}function Y5(e){Tr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=x.useRef(F0(e)),n=x.useRef(!1),a=kn(),r=x.useMemo(()=>S5(a.search,n.current?null:s.current),[a.search]),l=kr(),c=x.useCallback((u,m)=>{const f=F0(typeof u=="function"?u(new URLSearchParams(r)):u);n.current=!0,l("?"+f,m)},[l,r]);return[r,c]}var W5=0,K5=()=>`__${String(++W5)}__`;function Q5(){let{router:e}=nE("useSubmit"),{basename:s}=x.useContext(Hr),n=f5();return x.useCallback(async(a,r={})=>{let{action:l,method:c,encType:u,formData:m,body:f}=k5(a,s);if(r.navigate===!1){let p=r.fetcherKey||K5();await e.fetch(p,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:m,body:f,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await e.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:m,body:f,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,s,n])}function J5(e,{relative:s}={}){let{basename:n}=x.useContext(Hr),a=x.useContext(gi);Xs(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),l={...am(e||".",{relative:s})},c=kn();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),m=u.getAll("index");if(m.some(p=>p==="")){u.delete("index"),m.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Xi([n,l.pathname])),Mh(l)}function X5(e,{relative:s}={}){let n=x.useContext(Wk);Xs(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=nE("useViewTransitionState"),r=am(e,{relative:s});if(!n.isTransitioning)return!1;let l=to(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=to(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Ep(r.pathname,c)!=null||Ep(r.pathname,l)!=null}var nu=qk();const Z5=tm(nu);var ru=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pc=typeof window>"u"||"Deno"in globalThis;function wn(){}function e3(e,s){return typeof e=="function"?e(s):e}function U0(e){return typeof e=="number"&&e>=0&&e!==1/0}function rE(e,s){return Math.max(e+(s||0)-Date.now(),0)}function ol(e,s){return typeof e=="function"?e(s):e}function br(e,s){return typeof e=="function"?e(s):e}function mC(e,s){const{type:n="all",exact:a,fetchStatus:r,predicate:l,queryKey:c,stale:u}=e;if(c){if(a){if(s.queryHash!==_b(c,s.options))return!1}else if(!_h(s.queryKey,c))return!1}if(n!=="all"){const m=s.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof u=="boolean"&&s.isStale()!==u||r&&r!==s.state.fetchStatus||l&&!l(s))}function fC(e,s){const{exact:n,status:a,predicate:r,mutationKey:l}=e;if(l){if(!s.options.mutationKey)return!1;if(n){if(gc(s.options.mutationKey)!==gc(l))return!1}else if(!_h(s.options.mutationKey,l))return!1}return!(a&&s.state.status!==a||r&&!r(s))}function _b(e,s){return((s==null?void 0:s.queryKeyHashFn)||gc)(e)}function gc(e){return JSON.stringify(e,(s,n)=>V0(n)?Object.keys(n).sort().reduce((a,r)=>(a[r]=n[r],a),{}):n)}function _h(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(n=>_h(e[n],s[n])):!1}function iE(e,s){if(e===s)return e;const n=pC(e)&&pC(s);if(n||V0(e)&&V0(s)){const a=n?e:Object.keys(e),r=a.length,l=n?s:Object.keys(s),c=l.length,u=n?[]:{},m=new Set(a);let f=0;for(let p=0;p<c;p++){const g=n?p:l[p];(!n&&m.has(g)||n)&&e[g]===void 0&&s[g]===void 0?(u[g]=void 0,f++):(u[g]=iE(e[g],s[g]),u[g]===e[g]&&e[g]!==void 0&&f++)}return r===c&&f===r?e:u}return s}function Ap(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}function pC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function V0(e){if(!gC(e))return!1;const s=e.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!gC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gC(e){return Object.prototype.toString.call(e)==="[object Object]"}function t3(e){return new Promise(s=>{setTimeout(s,e)})}function B0(e,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,s):n.structuralSharing!==!1?iE(e,s):s}function s3(e,s,n=0){const a=[...e,s];return n&&a.length>n?a.slice(1):a}function a3(e,s,n=0){const a=[s,...e];return n&&a.length>n?a.slice(0,-1):a}var Lb=Symbol();function oE(e,s){return!e.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!e.queryFn||e.queryFn===Lb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function lE(e,s){return typeof e=="function"?e(...s):!!e}var rc,Ko,Id,Ik,n3=(Ik=class extends ru{constructor(){super();Ct(this,rc);Ct(this,Ko);Ct(this,Id);tt(this,Id,s=>{if(!pc&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){re(this,Ko)||this.setEventListener(re(this,Id))}onUnsubscribe(){var s;this.hasListeners()||((s=re(this,Ko))==null||s.call(this),tt(this,Ko,void 0))}setEventListener(s){var n;tt(this,Id,s),(n=re(this,Ko))==null||n.call(this),tt(this,Ko,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){re(this,rc)!==s&&(tt(this,rc,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){var s;return typeof re(this,rc)=="boolean"?re(this,rc):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},rc=new WeakMap,Ko=new WeakMap,Id=new WeakMap,Ik),Fb=new n3,Rd,Qo,Od,Rk,r3=(Rk=class extends ru{constructor(){super();Ct(this,Rd,!0);Ct(this,Qo);Ct(this,Od);tt(this,Od,s=>{if(!pc&&window.addEventListener){const n=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){re(this,Qo)||this.setEventListener(re(this,Od))}onUnsubscribe(){var s;this.hasListeners()||((s=re(this,Qo))==null||s.call(this),tt(this,Qo,void 0))}setEventListener(s){var n;tt(this,Od,s),(n=re(this,Qo))==null||n.call(this),tt(this,Qo,s(this.setOnline.bind(this)))}setOnline(s){re(this,Rd)!==s&&(tt(this,Rd,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return re(this,Rd)}},Rd=new WeakMap,Qo=new WeakMap,Od=new WeakMap,Rk),Dp=new r3;function z0(){let e,s;const n=new Promise((r,l)=>{e=r,s=l});n.status="pending",n.catch(()=>{});function a(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{a({status:"fulfilled",value:r}),e(r)},n.reject=r=>{a({status:"rejected",reason:r}),s(r)},n}function i3(e){return Math.min(1e3*2**e,3e4)}function cE(e){return(e??"online")==="online"?Dp.isOnline():!0}var q0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dE(e){let s=!1,n=0,a;const r=z0(),l=()=>r.status!=="pending",c=j=>{var S;if(!l()){const E=new q0(j);v(E),(S=e.onCancel)==null||S.call(e,E)}},u=()=>{s=!0},m=()=>{s=!1},f=()=>Fb.isFocused()&&(e.networkMode==="always"||Dp.isOnline())&&e.canRun(),p=()=>cE(e.networkMode)&&e.canRun(),g=j=>{l()||(a==null||a(),r.resolve(j))},v=j=>{l()||(a==null||a(),r.reject(j))},w=()=>new Promise(j=>{var S;a=E=>{(l()||f())&&j(E)},(S=e.onPause)==null||S.call(e)}).then(()=>{var j;a=void 0,l()||(j=e.onContinue)==null||j.call(e)}),N=()=>{if(l())return;let j;const S=n===0?e.initialPromise:void 0;try{j=S??e.fn()}catch(E){j=Promise.reject(E)}Promise.resolve(j).then(g).catch(E=>{var A;if(l())return;const T=e.retry??(pc?0:3),C=e.retryDelay??i3,I=typeof C=="function"?C(n,E):C,D=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,E);if(s||!D){v(E);return}n++,(A=e.onFail)==null||A.call(e,n,E),t3(I).then(()=>f()?void 0:w()).then(()=>{s?v(E):N()})})};return{promise:r,status:()=>r.status,cancel:c,continue:()=>(a==null||a(),r),cancelRetry:u,continueRetry:m,canStart:p,start:()=>(p()?N():w().then(N),r)}}var o3=e=>setTimeout(e,0);function l3(){let e=[],s=0,n=u=>{u()},a=u=>{u()},r=o3;const l=u=>{s?e.push(u):r(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&r(()=>{a(()=>{u.forEach(m=>{n(m)})})})};return{batch:u=>{let m;s++;try{m=u()}finally{s--,s||c()}return m},batchCalls:u=>(...m)=>{l(()=>{u(...m)})},schedule:l,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{r=u}}}var Ba=l3(),ic,Ok,uE=(Ok=class{constructor(){Ct(this,ic)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U0(this.gcTime)&&tt(this,ic,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pc?1/0:300*1e3))}clearGcTimeout(){re(this,ic)&&(clearTimeout(re(this,ic)),tt(this,ic,void 0))}},ic=new WeakMap,Ok),Md,_d,vr,oc,Ga,Jh,lc,Ur,zi,Mk,c3=(Mk=class extends uE{constructor(s){super();Ct(this,Ur);Ct(this,Md);Ct(this,_d);Ct(this,vr);Ct(this,oc);Ct(this,Ga);Ct(this,Jh);Ct(this,lc);tt(this,lc,!1),tt(this,Jh,s.defaultOptions),this.setOptions(s.options),this.observers=[],tt(this,oc,s.client),tt(this,vr,re(this,oc).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,tt(this,Md,d3(this.options)),this.state=s.state??re(this,Md),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=re(this,Ga))==null?void 0:s.promise}setOptions(s){this.options={...re(this,Jh),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,vr).remove(this)}setData(s,n){const a=B0(this.state.data,s,this.options);return $t(this,Ur,zi).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(s,n){$t(this,Ur,zi).call(this,{type:"setState",state:s,setStateOptions:n})}cancel(s){var a,r;const n=(a=re(this,Ga))==null?void 0:a.promise;return(r=re(this,Ga))==null||r.cancel(s),n?n.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,Md))}isActive(){return this.observers.some(s=>br(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>ol(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!rE(this.state.dataUpdatedAt,s)}onFocus(){var n;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(n=re(this,Ga))==null||n.continue()}onOnline(){var n;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(n=re(this,Ga))==null||n.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),re(this,vr).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(re(this,Ga)&&(re(this,lc)?re(this,Ga).cancel({revert:!0}):re(this,Ga).cancelRetry()),this.scheduleGc()),re(this,vr).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,Ur,zi).call(this,{type:"invalidate"})}async fetch(s,n){var m,f,p,g,v,w,N,j,S,E,T,C;if(this.state.fetchStatus!=="idle"&&((m=re(this,Ga))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(re(this,Ga))return re(this,Ga).continueRetry(),re(this,Ga).promise}if(s&&this.setOptions(s),!this.options.queryFn){const I=this.observers.find(D=>D.options.queryFn);I&&this.setOptions(I.options)}const a=new AbortController,r=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(tt(this,lc,!0),a.signal)})},l=()=>{const I=oE(this.options,n),A=(()=>{const R={client:re(this,oc),queryKey:this.queryKey,meta:this.meta};return r(R),R})();return tt(this,lc,!1),this.options.persister?this.options.persister(I,A,this):I(A)},u=(()=>{const I={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:re(this,oc),state:this.state,fetchFn:l};return r(I),I})();(f=this.options.behavior)==null||f.onFetch(u,this),tt(this,_d,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&$t(this,Ur,zi).call(this,{type:"fetch",meta:(g=u.fetchOptions)==null?void 0:g.meta}),tt(this,Ga,dE({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:I=>{I instanceof q0&&I.revert&&this.setState({...re(this,_d),fetchStatus:"idle"}),a.abort()},onFail:(I,D)=>{$t(this,Ur,zi).call(this,{type:"failed",failureCount:I,error:D})},onPause:()=>{$t(this,Ur,zi).call(this,{type:"pause"})},onContinue:()=>{$t(this,Ur,zi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const I=await re(this,Ga).start();if(I===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(I),(w=(v=re(this,vr).config).onSuccess)==null||w.call(v,I,this),(j=(N=re(this,vr).config).onSettled)==null||j.call(N,I,this.state.error,this),I}catch(I){if(I instanceof q0){if(I.silent)return re(this,Ga).promise;if(I.revert){if(this.state.data===void 0)throw I;return this.state.data}}throw $t(this,Ur,zi).call(this,{type:"error",error:I}),(E=(S=re(this,vr).config).onError)==null||E.call(S,I,this),(C=(T=re(this,vr).config).onSettled)==null||C.call(T,this.state.data,I,this),I}finally{this.scheduleGc()}}},Md=new WeakMap,_d=new WeakMap,vr=new WeakMap,oc=new WeakMap,Ga=new WeakMap,Jh=new WeakMap,lc=new WeakMap,Ur=new WeakSet,zi=function(s){const n=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...hE(a.data,this.options),fetchMeta:s.meta??null};case"success":const r={...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return tt(this,_d,s.manual?r:void 0),r;case"error":const l=s.error;return{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=n(this.state),Ba.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),re(this,vr).notify({query:this,type:"updated",action:s})})},Mk);function hE(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cE(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function d3(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,n=s!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ti,_k,u3=(_k=class extends ru{constructor(s={}){super();Ct(this,ti);this.config=s,tt(this,ti,new Map)}build(s,n,a){const r=n.queryKey,l=n.queryHash??_b(r,n);let c=this.get(l);return c||(c=new c3({client:s,queryKey:r,queryHash:l,options:s.defaultQueryOptions(n),state:a,defaultOptions:s.getQueryDefaults(r)}),this.add(c)),c}add(s){re(this,ti).has(s.queryHash)||(re(this,ti).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=re(this,ti).get(s.queryHash);n&&(s.destroy(),n===s&&re(this,ti).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Ba.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return re(this,ti).get(s)}getAll(){return[...re(this,ti).values()]}find(s){const n={exact:!0,...s};return this.getAll().find(a=>mC(n,a))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(a=>mC(s,a)):n}notify(s){Ba.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){Ba.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Ba.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},ti=new WeakMap,_k),si,vn,cc,ai,Go,Lk,h3=(Lk=class extends uE{constructor(s){super();Ct(this,ai);Ct(this,si);Ct(this,vn);Ct(this,cc);this.mutationId=s.mutationId,tt(this,vn,s.mutationCache),tt(this,si,[]),this.state=s.state||mE(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){re(this,si).includes(s)||(re(this,si).push(s),this.clearGcTimeout(),re(this,vn).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){tt(this,si,re(this,si).filter(n=>n!==s)),this.scheduleGc(),re(this,vn).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){re(this,si).length||(this.state.status==="pending"?this.scheduleGc():re(this,vn).remove(this))}continue(){var s;return((s=re(this,cc))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,c,u,m,f,p,g,v,w,N,j,S,E,T,C,I,D,A,R,L;const n=()=>{$t(this,ai,Go).call(this,{type:"continue"})};tt(this,cc,dE({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(z,Q)=>{$t(this,ai,Go).call(this,{type:"failed",failureCount:z,error:Q})},onPause:()=>{$t(this,ai,Go).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,vn).canRun(this)}));const a=this.state.status==="pending",r=!re(this,cc).canStart();try{if(a)n();else{$t(this,ai,Go).call(this,{type:"pending",variables:s,isPaused:r}),await((c=(l=re(this,vn).config).onMutate)==null?void 0:c.call(l,s,this));const Q=await((m=(u=this.options).onMutate)==null?void 0:m.call(u,s));Q!==this.state.context&&$t(this,ai,Go).call(this,{type:"pending",context:Q,variables:s,isPaused:r})}const z=await re(this,cc).start();return await((p=(f=re(this,vn).config).onSuccess)==null?void 0:p.call(f,z,s,this.state.context,this)),await((v=(g=this.options).onSuccess)==null?void 0:v.call(g,z,s,this.state.context)),await((N=(w=re(this,vn).config).onSettled)==null?void 0:N.call(w,z,null,this.state.variables,this.state.context,this)),await((S=(j=this.options).onSettled)==null?void 0:S.call(j,z,null,s,this.state.context)),$t(this,ai,Go).call(this,{type:"success",data:z}),z}catch(z){try{throw await((T=(E=re(this,vn).config).onError)==null?void 0:T.call(E,z,s,this.state.context,this)),await((I=(C=this.options).onError)==null?void 0:I.call(C,z,s,this.state.context)),await((A=(D=re(this,vn).config).onSettled)==null?void 0:A.call(D,void 0,z,this.state.variables,this.state.context,this)),await((L=(R=this.options).onSettled)==null?void 0:L.call(R,void 0,z,s,this.state.context)),z}finally{$t(this,ai,Go).call(this,{type:"error",error:z})}}finally{re(this,vn).runNext(this)}}},si=new WeakMap,vn=new WeakMap,cc=new WeakMap,ai=new WeakSet,Go=function(s){const n=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ba.batch(()=>{re(this,si).forEach(a=>{a.onMutationUpdate(s)}),re(this,vn).notify({mutation:this,type:"updated",action:s})})},Lk);function mE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $i,Vr,Xh,Fk,m3=(Fk=class extends ru{constructor(s={}){super();Ct(this,$i);Ct(this,Vr);Ct(this,Xh);this.config=s,tt(this,$i,new Set),tt(this,Vr,new Map),tt(this,Xh,0)}build(s,n,a){const r=new h3({mutationCache:this,mutationId:++Bf(this,Xh)._,options:s.defaultMutationOptions(n),state:a});return this.add(r),r}add(s){re(this,$i).add(s);const n=qf(s);if(typeof n=="string"){const a=re(this,Vr).get(n);a?a.push(s):re(this,Vr).set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(re(this,$i).delete(s)){const n=qf(s);if(typeof n=="string"){const a=re(this,Vr).get(n);if(a)if(a.length>1){const r=a.indexOf(s);r!==-1&&a.splice(r,1)}else a[0]===s&&re(this,Vr).delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=qf(s);if(typeof n=="string"){const a=re(this,Vr).get(n),r=a==null?void 0:a.find(l=>l.state.status==="pending");return!r||r===s}else return!0}runNext(s){var a;const n=qf(s);if(typeof n=="string"){const r=(a=re(this,Vr).get(n))==null?void 0:a.find(l=>l!==s&&l.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ba.batch(()=>{re(this,$i).forEach(s=>{this.notify({type:"removed",mutation:s})}),re(this,$i).clear(),re(this,Vr).clear()})}getAll(){return Array.from(re(this,$i))}find(s){const n={exact:!0,...s};return this.getAll().find(a=>fC(n,a))}findAll(s={}){return this.getAll().filter(n=>fC(s,n))}notify(s){Ba.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return Ba.batch(()=>Promise.all(s.map(n=>n.continue().catch(wn))))}},$i=new WeakMap,Vr=new WeakMap,Xh=new WeakMap,Fk);function qf(e){var s;return(s=e.options.scope)==null?void 0:s.id}function xC(e){return{onFetch:(s,n)=>{var p,g,v,w,N;const a=s.options,r=(v=(g=(p=s.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:v.direction,l=((w=s.state.data)==null?void 0:w.pages)||[],c=((N=s.state.data)==null?void 0:N.pageParams)||[];let u={pages:[],pageParams:[]},m=0;const f=async()=>{let j=!1;const S=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(s.signal.aborted?j=!0:s.signal.addEventListener("abort",()=>{j=!0}),s.signal)})},E=oE(s.options,s.fetchOptions),T=async(C,I,D)=>{if(j)return Promise.reject();if(I==null&&C.pages.length)return Promise.resolve(C);const R=(()=>{const K={client:s.client,queryKey:s.queryKey,pageParam:I,direction:D?"backward":"forward",meta:s.options.meta};return S(K),K})(),L=await E(R),{maxPages:z}=s.options,Q=D?a3:s3;return{pages:Q(C.pages,L,z),pageParams:Q(C.pageParams,I,z)}};if(r&&l.length){const C=r==="backward",I=C?f3:yC,D={pages:l,pageParams:c},A=I(a,D);u=await T(D,A,C)}else{const C=e??l.length;do{const I=m===0?c[0]??a.initialPageParam:yC(a,u);if(m>0&&I==null)break;u=await T(u,I),m++}while(m<C)}return u};s.options.persister?s.fetchFn=()=>{var j,S;return(S=(j=s.options).persister)==null?void 0:S.call(j,f,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n)}:s.fetchFn=f}}}function yC(e,{pages:s,pageParams:n}){const a=s.length-1;return s.length>0?e.getNextPageParam(s[a],s,n[a],n):void 0}function f3(e,{pages:s,pageParams:n}){var a;return s.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,s[0],s,n[0],n):void 0}var fa,Jo,Xo,Ld,Fd,Zo,Ud,Vd,Uk,p3=(Uk=class{constructor(e={}){Ct(this,fa);Ct(this,Jo);Ct(this,Xo);Ct(this,Ld);Ct(this,Fd);Ct(this,Zo);Ct(this,Ud);Ct(this,Vd);tt(this,fa,e.queryCache||new u3),tt(this,Jo,e.mutationCache||new m3),tt(this,Xo,e.defaultOptions||{}),tt(this,Ld,new Map),tt(this,Fd,new Map),tt(this,Zo,0)}mount(){Bf(this,Zo)._++,re(this,Zo)===1&&(tt(this,Ud,Fb.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,fa).onFocus())})),tt(this,Vd,Dp.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,fa).onOnline())})))}unmount(){var e,s;Bf(this,Zo)._--,re(this,Zo)===0&&((e=re(this,Ud))==null||e.call(this),tt(this,Ud,void 0),(s=re(this,Vd))==null||s.call(this),tt(this,Vd,void 0))}isFetching(e){return re(this,fa).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,Jo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const s=this.defaultQueryOptions({queryKey:e});return(n=re(this,fa).get(s.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),n=re(this,fa).build(this,s),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ol(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(e){return re(this,fa).findAll(e).map(({queryKey:s,state:n})=>{const a=n.data;return[s,a]})}setQueryData(e,s,n){const a=this.defaultQueryOptions({queryKey:e}),r=re(this,fa).get(a.queryHash),l=r==null?void 0:r.state.data,c=e3(s,l);if(c!==void 0)return re(this,fa).build(this,a).setData(c,{...n,manual:!0})}setQueriesData(e,s,n){return Ba.batch(()=>re(this,fa).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,s,n)]))}getQueryState(e){var n;const s=this.defaultQueryOptions({queryKey:e});return(n=re(this,fa).get(s.queryHash))==null?void 0:n.state}removeQueries(e){const s=re(this,fa);Ba.batch(()=>{s.findAll(e).forEach(n=>{s.remove(n)})})}resetQueries(e,s){const n=re(this,fa);return Ba.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const n={revert:!0,...s},a=Ba.batch(()=>re(this,fa).findAll(e).map(r=>r.cancel(n)));return Promise.all(a).then(wn).catch(wn)}invalidateQueries(e,s={}){return Ba.batch(()=>(re(this,fa).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},a=Ba.batch(()=>re(this,fa).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let l=r.fetch(void 0,n);return n.throwOnError||(l=l.catch(wn)),r.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(wn)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const n=re(this,fa).build(this,s);return n.isStaleByTime(ol(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wn).catch(wn)}fetchInfiniteQuery(e){return e.behavior=xC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wn).catch(wn)}ensureInfiniteQueryData(e){return e.behavior=xC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dp.isOnline()?re(this,Jo).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,fa)}getMutationCache(){return re(this,Jo)}getDefaultOptions(){return re(this,Xo)}setDefaultOptions(e){tt(this,Xo,e)}setQueryDefaults(e,s){re(this,Ld).set(gc(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...re(this,Ld).values()],n={};return s.forEach(a=>{_h(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,s){re(this,Fd).set(gc(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...re(this,Fd).values()],n={};return s.forEach(a=>{_h(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const s={...re(this,Xo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=_b(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Lb&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,Xo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,fa).clear(),re(this,Jo).clear()}},fa=new WeakMap,Jo=new WeakMap,Xo=new WeakMap,Ld=new WeakMap,Fd=new WeakMap,Zo=new WeakMap,Ud=new WeakMap,Vd=new WeakMap,Uk),On,rs,Zh,bn,dc,Bd,Hi,el,em,zd,qd,uc,hc,tl,$d,ws,bh,$0,H0,G0,Y0,W0,K0,Q0,fE,Vk,g3=(Vk=class extends ru{constructor(s,n){super();Ct(this,ws);Ct(this,On);Ct(this,rs);Ct(this,Zh);Ct(this,bn);Ct(this,dc);Ct(this,Bd);Ct(this,Hi);Ct(this,el);Ct(this,em);Ct(this,zd);Ct(this,qd);Ct(this,uc);Ct(this,hc);Ct(this,tl);Ct(this,$d,new Set);this.options=n,tt(this,On,s),tt(this,el,null),tt(this,Hi,z0()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(re(this,rs).addObserver(this),vC(re(this,rs),this.options)?$t(this,ws,bh).call(this):this.updateResult(),$t(this,ws,Y0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return J0(re(this,rs),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return J0(re(this,rs),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$t(this,ws,W0).call(this),$t(this,ws,K0).call(this),re(this,rs).removeObserver(this)}setOptions(s){const n=this.options,a=re(this,rs);if(this.options=re(this,On).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof br(this.options.enabled,re(this,rs))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$t(this,ws,Q0).call(this),re(this,rs).setOptions(this.options),n._defaulted&&!Ap(this.options,n)&&re(this,On).getQueryCache().notify({type:"observerOptionsUpdated",query:re(this,rs),observer:this});const r=this.hasListeners();r&&bC(re(this,rs),a,this.options,n)&&$t(this,ws,bh).call(this),this.updateResult(),r&&(re(this,rs)!==a||br(this.options.enabled,re(this,rs))!==br(n.enabled,re(this,rs))||ol(this.options.staleTime,re(this,rs))!==ol(n.staleTime,re(this,rs)))&&$t(this,ws,$0).call(this);const l=$t(this,ws,H0).call(this);r&&(re(this,rs)!==a||br(this.options.enabled,re(this,rs))!==br(n.enabled,re(this,rs))||l!==re(this,tl))&&$t(this,ws,G0).call(this,l)}getOptimisticResult(s){const n=re(this,On).getQueryCache().build(re(this,On),s),a=this.createResult(n,s);return y3(this,a)&&(tt(this,bn,a),tt(this,Bd,this.options),tt(this,dc,re(this,rs).state)),a}getCurrentResult(){return re(this,bn)}trackResult(s,n){return new Proxy(s,{get:(a,r)=>(this.trackProp(r),n==null||n(r),r==="promise"&&!this.options.experimental_prefetchInRender&&re(this,Hi).status==="pending"&&re(this,Hi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(a,r))})}trackProp(s){re(this,$d).add(s)}getCurrentQuery(){return re(this,rs)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const n=re(this,On).defaultQueryOptions(s),a=re(this,On).getQueryCache().build(re(this,On),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(s){return $t(this,ws,bh).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),re(this,bn)))}createResult(s,n){var z;const a=re(this,rs),r=this.options,l=re(this,bn),c=re(this,dc),u=re(this,Bd),f=s!==a?s.state:re(this,Zh),{state:p}=s;let g={...p},v=!1,w;if(n._optimisticResults){const Q=this.hasListeners(),K=!Q&&vC(s,n),J=Q&&bC(s,a,n,r);(K||J)&&(g={...g,...hE(p.data,s.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:N,errorUpdatedAt:j,status:S}=g;w=g.data;let E=!1;if(n.placeholderData!==void 0&&w===void 0&&S==="pending"){let Q;l!=null&&l.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(Q=l.data,E=!0):Q=typeof n.placeholderData=="function"?n.placeholderData((z=re(this,qd))==null?void 0:z.state.data,re(this,qd)):n.placeholderData,Q!==void 0&&(S="success",w=B0(l==null?void 0:l.data,Q,n),v=!0)}if(n.select&&w!==void 0&&!E)if(l&&w===(c==null?void 0:c.data)&&n.select===re(this,em))w=re(this,zd);else try{tt(this,em,n.select),w=n.select(w),w=B0(l==null?void 0:l.data,w,n),tt(this,zd,w),tt(this,el,null)}catch(Q){tt(this,el,Q)}re(this,el)&&(N=re(this,el),w=re(this,zd),j=Date.now(),S="error");const T=g.fetchStatus==="fetching",C=S==="pending",I=S==="error",D=C&&T,A=w!==void 0,L={status:S,fetchStatus:g.fetchStatus,isPending:C,isSuccess:S==="success",isError:I,isInitialLoading:D,isLoading:D,data:w,dataUpdatedAt:g.dataUpdatedAt,error:N,errorUpdatedAt:j,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:T,isRefetching:T&&!C,isLoadingError:I&&!A,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:I&&A,isStale:Ub(s,n),refetch:this.refetch,promise:re(this,Hi),isEnabled:br(n.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const Q=de=>{L.status==="error"?de.reject(L.error):L.data!==void 0&&de.resolve(L.data)},K=()=>{const de=tt(this,Hi,L.promise=z0());Q(de)},J=re(this,Hi);switch(J.status){case"pending":s.queryHash===a.queryHash&&Q(J);break;case"fulfilled":(L.status==="error"||L.data!==J.value)&&K();break;case"rejected":(L.status!=="error"||L.error!==J.reason)&&K();break}}return L}updateResult(){const s=re(this,bn),n=this.createResult(re(this,rs),this.options);if(tt(this,dc,re(this,rs).state),tt(this,Bd,this.options),re(this,dc).data!==void 0&&tt(this,qd,re(this,rs)),Ap(n,s))return;tt(this,bn,n);const a=()=>{if(!s)return!0;const{notifyOnChangeProps:r}=this.options,l=typeof r=="function"?r():r;if(l==="all"||!l&&!re(this,$d).size)return!0;const c=new Set(l??re(this,$d));return this.options.throwOnError&&c.add("error"),Object.keys(re(this,bn)).some(u=>{const m=u;return re(this,bn)[m]!==s[m]&&c.has(m)})};$t(this,ws,fE).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$t(this,ws,Y0).call(this)}},On=new WeakMap,rs=new WeakMap,Zh=new WeakMap,bn=new WeakMap,dc=new WeakMap,Bd=new WeakMap,Hi=new WeakMap,el=new WeakMap,em=new WeakMap,zd=new WeakMap,qd=new WeakMap,uc=new WeakMap,hc=new WeakMap,tl=new WeakMap,$d=new WeakMap,ws=new WeakSet,bh=function(s){$t(this,ws,Q0).call(this);let n=re(this,rs).fetch(this.options,s);return s!=null&&s.throwOnError||(n=n.catch(wn)),n},$0=function(){$t(this,ws,W0).call(this);const s=ol(this.options.staleTime,re(this,rs));if(pc||re(this,bn).isStale||!U0(s))return;const a=rE(re(this,bn).dataUpdatedAt,s)+1;tt(this,uc,setTimeout(()=>{re(this,bn).isStale||this.updateResult()},a))},H0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(re(this,rs)):this.options.refetchInterval)??!1},G0=function(s){$t(this,ws,K0).call(this),tt(this,tl,s),!(pc||br(this.options.enabled,re(this,rs))===!1||!U0(re(this,tl))||re(this,tl)===0)&&tt(this,hc,setInterval(()=>{(this.options.refetchIntervalInBackground||Fb.isFocused())&&$t(this,ws,bh).call(this)},re(this,tl)))},Y0=function(){$t(this,ws,$0).call(this),$t(this,ws,G0).call(this,$t(this,ws,H0).call(this))},W0=function(){re(this,uc)&&(clearTimeout(re(this,uc)),tt(this,uc,void 0))},K0=function(){re(this,hc)&&(clearInterval(re(this,hc)),tt(this,hc,void 0))},Q0=function(){const s=re(this,On).getQueryCache().build(re(this,On),this.options);if(s===re(this,rs))return;const n=re(this,rs);tt(this,rs,s),tt(this,Zh,s.state),this.hasListeners()&&(n==null||n.removeObserver(this),s.addObserver(this))},fE=function(s){Ba.batch(()=>{s.listeners&&this.listeners.forEach(n=>{n(re(this,bn))}),re(this,On).getQueryCache().notify({query:re(this,rs),type:"observerResultsUpdated"})})},Vk);function x3(e,s){return br(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function vC(e,s){return x3(e,s)||e.state.data!==void 0&&J0(e,s,s.refetchOnMount)}function J0(e,s,n){if(br(s.enabled,e)!==!1&&ol(s.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&Ub(e,s)}return!1}function bC(e,s,n,a){return(e!==s||br(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ub(e,n)}function Ub(e,s){return br(s.enabled,e)!==!1&&e.isStaleByTime(ol(s.staleTime,e))}function y3(e,s){return!Ap(e.getCurrentResult(),s)}var sl,al,Mn,Gi,eo,hp,X0,Bk,v3=(Bk=class extends ru{constructor(n,a){super();Ct(this,eo);Ct(this,sl);Ct(this,al);Ct(this,Mn);Ct(this,Gi);tt(this,sl,n),this.setOptions(a),this.bindMethods(),$t(this,eo,hp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const a=this.options;this.options=re(this,sl).defaultMutationOptions(n),Ap(this.options,a)||re(this,sl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:re(this,Mn),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&gc(a.mutationKey)!==gc(this.options.mutationKey)?this.reset():((r=re(this,Mn))==null?void 0:r.state.status)==="pending"&&re(this,Mn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=re(this,Mn))==null||n.removeObserver(this)}onMutationUpdate(n){$t(this,eo,hp).call(this),$t(this,eo,X0).call(this,n)}getCurrentResult(){return re(this,al)}reset(){var n;(n=re(this,Mn))==null||n.removeObserver(this),tt(this,Mn,void 0),$t(this,eo,hp).call(this),$t(this,eo,X0).call(this)}mutate(n,a){var r;return tt(this,Gi,a),(r=re(this,Mn))==null||r.removeObserver(this),tt(this,Mn,re(this,sl).getMutationCache().build(re(this,sl),this.options)),re(this,Mn).addObserver(this),re(this,Mn).execute(n)}},sl=new WeakMap,al=new WeakMap,Mn=new WeakMap,Gi=new WeakMap,eo=new WeakSet,hp=function(){var a;const n=((a=re(this,Mn))==null?void 0:a.state)??mE();tt(this,al,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},X0=function(n){Ba.batch(()=>{var a,r,l,c,u,m,f,p;if(re(this,Gi)&&this.hasListeners()){const g=re(this,al).variables,v=re(this,al).context;(n==null?void 0:n.type)==="success"?((r=(a=re(this,Gi)).onSuccess)==null||r.call(a,n.data,g,v),(c=(l=re(this,Gi)).onSettled)==null||c.call(l,n.data,null,g,v)):(n==null?void 0:n.type)==="error"&&((m=(u=re(this,Gi)).onError)==null||m.call(u,n.error,g,v),(p=(f=re(this,Gi)).onSettled)==null||p.call(f,void 0,n.error,g,v))}this.listeners.forEach(g=>{g(re(this,al))})})},Bk),pE=x.createContext(void 0),za=e=>{const s=x.useContext(pE);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},b3=({client:e,children:s})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(pE.Provider,{value:e,children:s})),gE=x.createContext(!1),w3=()=>x.useContext(gE);gE.Provider;function j3(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var N3=x.createContext(j3()),S3=()=>x.useContext(N3),C3=(e,s)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(s.isReset()||(e.retryOnMount=!1))},T3=e=>{x.useEffect(()=>{e.clearReset()},[e])},k3=({result:e,errorResetBoundary:s,throwOnError:n,query:a,suspense:r})=>e.isError&&!s.isReset()&&!e.isFetching&&a&&(r&&e.data===void 0||lE(n,[e.error,a])),E3=e=>{if(e.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>s(n(...a)):s(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},A3=(e,s)=>e.isLoading&&e.isFetching&&!s,D3=(e,s)=>(e==null?void 0:e.suspense)&&s.isPending,wC=(e,s,n)=>s.fetchOptimistic(e).catch(()=>{n.clearReset()});function P3(e,s,n){var g,v,w,N,j;const a=w3(),r=S3(),l=za(),c=l.defaultQueryOptions(e);(v=(g=l.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||v.call(g,c),c._optimisticResults=a?"isRestoring":"optimistic",E3(c),C3(c,r),T3(r);const u=!l.getQueryCache().get(c.queryHash),[m]=x.useState(()=>new s(l,c)),f=m.getOptimisticResult(c),p=!a&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(S=>{const E=p?m.subscribe(Ba.batchCalls(S)):wn;return m.updateResult(),E},[m,p]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),x.useEffect(()=>{m.setOptions(c)},[c,m]),D3(c,f))throw wC(c,m,r);if(k3({result:f,errorResetBoundary:r,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw f.error;if((N=(w=l.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||N.call(w,c,f),c.experimental_prefetchInRender&&!pc&&A3(f,a)){const S=u?wC(c,m,r):(j=l.getQueryCache().get(c.queryHash))==null?void 0:j.promise;S==null||S.catch(wn).finally(()=>{m.updateResult()})}return c.notifyOnChangeProps?f:m.trackResult(f)}function Xt(e,s){return P3(e,g3)}function vs(e,s){const n=za(),[a]=x.useState(()=>new v3(n,e));x.useEffect(()=>{a.setOptions(e)},[a,e]);const r=x.useSyncExternalStore(x.useCallback(c=>a.subscribe(Ba.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=x.useCallback((c,u)=>{a.mutate(c,u).catch(wn)},[a]);if(r.error&&lE(a.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:l,mutateAsync:r.mutate}}const I3=1,R3=1e6;let By=0;function O3(){return By=(By+1)%Number.MAX_SAFE_INTEGER,By.toString()}const zy=new Map,jC=e=>{if(zy.has(e))return;const s=setTimeout(()=>{zy.delete(e),kh({type:"REMOVE_TOAST",toastId:e})},R3);zy.set(e,s)},M3=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,I3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?jC(n):e.toasts.forEach(a=>{jC(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==s.toastId)}}},mp=[];let fp={toasts:[]};function kh(e){fp=M3(fp,e),mp.forEach(s=>{s(fp)})}function xE({...e}){const s=O3(),n=r=>kh({type:"UPDATE_TOAST",toast:{...r,id:s}}),a=()=>kh({type:"DISMISS_TOAST",toastId:s});return kh({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:r=>{r||a()}}}),{id:s,dismiss:a,update:n}}function da(){const[e,s]=x.useState(fp);return x.useEffect(()=>(mp.push(s),()=>{const n=mp.indexOf(s);n>-1&&mp.splice(n,1)}),[e]),{...e,toast:xE,dismiss:n=>kh({type:"DISMISS_TOAST",toastId:n})}}function At(e,s,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return s==null?void 0:s(r)}}function NC(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function yE(...e){return s=>{let n=!1;const a=e.map(r=>{const l=NC(r,s);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let r=0;r<a.length;r++){const l=a[r];typeof l=="function"?l():NC(e[r],null)}}}}function Ms(...e){return x.useCallback(yE(...e),e)}function _3(e,s){const n=x.createContext(s),a=l=>{const{children:c,...u}=l,m=x.useMemo(()=>u,Object.values(u));return t.jsx(n.Provider,{value:m,children:c})};a.displayName=e+"Provider";function r(l){const c=x.useContext(n);if(c)return c;if(s!==void 0)return s;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[a,r]}function xi(e,s=[]){let n=[];function a(l,c){const u=x.createContext(c),m=n.length;n=[...n,c];const f=g=>{var E;const{scope:v,children:w,...N}=g,j=((E=v==null?void 0:v[e])==null?void 0:E[m])||u,S=x.useMemo(()=>N,Object.values(N));return t.jsx(j.Provider,{value:S,children:w})};f.displayName=l+"Provider";function p(g,v){var j;const w=((j=v==null?void 0:v[e])==null?void 0:j[m])||u,N=x.useContext(w);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[f,p]}const r=()=>{const l=n.map(c=>x.createContext(c));return function(u){const m=(u==null?void 0:u[e])||l;return x.useMemo(()=>({[`__scope${e}`]:{...u,[e]:m}}),[u,m])}};return r.scopeName=e,[a,L3(r,...s)]}function L3(...e){const s=e[0];if(e.length===1)return s;const n=()=>{const a=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const c=a.reduce((u,{useScope:m,scopeName:f})=>{const g=m(l)[`__scope${f}`];return{...u,...g}},{});return x.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return n.scopeName=s.scopeName,n}function xc(e){const s=F3(e),n=x.forwardRef((a,r)=>{const{children:l,...c}=a,u=x.Children.toArray(l),m=u.find(V3);if(m){const f=m.props.children,p=u.map(g=>g===m?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:g);return t.jsx(s,{...c,ref:r,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return t.jsx(s,{...c,ref:r,children:l})});return n.displayName=`${e}.Slot`,n}var vE=xc("Slot");function F3(e){const s=x.forwardRef((n,a)=>{const{children:r,...l}=n;if(x.isValidElement(r)){const c=z3(r),u=B3(l,r.props);return r.type!==x.Fragment&&(u.ref=a?yE(a,c):c),x.cloneElement(r,u)}return x.Children.count(r)>1?x.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var U3=Symbol("radix.slottable");function V3(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===U3}function B3(e,s){const n={...s};for(const a in s){const r=e[a],l=s[a];/^on[A-Z]/.test(a)?r&&l?n[a]=(...u)=>{const m=l(...u);return r(...u),m}:r&&(n[a]=r):a==="style"?n[a]={...r,...l}:a==="className"&&(n[a]=[r,l].filter(Boolean).join(" "))}return{...e,...n}}function z3(e){var a,r;let s=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Vb(e){const s=e+"CollectionProvider",[n,a]=xi(s),[r,l]=n(s,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:S,children:E}=j,T=qe.useRef(null),C=qe.useRef(new Map).current;return t.jsx(r,{scope:S,itemMap:C,collectionRef:T,children:E})};c.displayName=s;const u=e+"CollectionSlot",m=xc(u),f=qe.forwardRef((j,S)=>{const{scope:E,children:T}=j,C=l(u,E),I=Ms(S,C.collectionRef);return t.jsx(m,{ref:I,children:T})});f.displayName=u;const p=e+"CollectionItemSlot",g="data-radix-collection-item",v=xc(p),w=qe.forwardRef((j,S)=>{const{scope:E,children:T,...C}=j,I=qe.useRef(null),D=Ms(S,I),A=l(p,E);return qe.useEffect(()=>(A.itemMap.set(I,{ref:I,...C}),()=>void A.itemMap.delete(I))),t.jsx(v,{[g]:"",ref:D,children:T})});w.displayName=p;function N(j){const S=l(e+"CollectionConsumer",j);return qe.useCallback(()=>{const T=S.collectionRef.current;if(!T)return[];const C=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((A,R)=>C.indexOf(A.ref.current)-C.indexOf(R.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:f,ItemSlot:w},N,a]}var q3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=q3.reduce((e,s)=>{const n=xc(`Primitive.${s}`),a=x.forwardRef((r,l)=>{const{asChild:c,...u}=r,m=c?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...u,ref:l})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{});function bE(e,s){e&&nu.flushSync(()=>e.dispatchEvent(s))}function tr(e){const s=x.useRef(e);return x.useEffect(()=>{s.current=e}),x.useMemo(()=>(...n)=>{var a;return(a=s.current)==null?void 0:a.call(s,...n)},[])}function $3(e,s=globalThis==null?void 0:globalThis.document){const n=tr(e);x.useEffect(()=>{const a=r=>{r.key==="Escape"&&n(r)};return s.addEventListener("keydown",a,{capture:!0}),()=>s.removeEventListener("keydown",a,{capture:!0})},[n,s])}var H3="DismissableLayer",Z0="dismissableLayer.update",G3="dismissableLayer.pointerDownOutside",Y3="dismissableLayer.focusOutside",SC,wE=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nm=x.forwardRef((e,s)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...m}=e,f=x.useContext(wE),[p,g]=x.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),N=Ms(s,R=>g(R)),j=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=j.indexOf(S),T=p?j.indexOf(p):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,I=T>=E,D=K3(R=>{const L=R.target,z=[...f.branches].some(Q=>Q.contains(L));!I||z||(r==null||r(R),c==null||c(R),R.defaultPrevented||u==null||u())},v),A=Q3(R=>{const L=R.target;[...f.branches].some(Q=>Q.contains(L))||(l==null||l(R),c==null||c(R),R.defaultPrevented||u==null||u())},v);return $3(R=>{T===f.layers.size-1&&(a==null||a(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},v),x.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(SC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),CC(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=SC)}},[p,v,n,f]),x.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),CC())},[p,f]),x.useEffect(()=>{const R=()=>w({});return document.addEventListener(Z0,R),()=>document.removeEventListener(Z0,R)},[]),t.jsx(Ot.div,{...m,ref:N,style:{pointerEvents:C?I?"auto":"none":void 0,...e.style},onFocusCapture:At(e.onFocusCapture,A.onFocusCapture),onBlurCapture:At(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:At(e.onPointerDownCapture,D.onPointerDownCapture)})});nm.displayName=H3;var W3="DismissableLayerBranch",jE=x.forwardRef((e,s)=>{const n=x.useContext(wE),a=x.useRef(null),r=Ms(s,a);return x.useEffect(()=>{const l=a.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),t.jsx(Ot.div,{...e,ref:r})});jE.displayName=W3;function K3(e,s=globalThis==null?void 0:globalThis.document){const n=tr(e),a=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const l=u=>{if(u.target&&!a.current){let m=function(){NE(G3,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(s.removeEventListener("click",r.current),r.current=m,s.addEventListener("click",r.current,{once:!0})):m()}else s.removeEventListener("click",r.current);a.current=!1},c=window.setTimeout(()=>{s.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),s.removeEventListener("pointerdown",l),s.removeEventListener("click",r.current)}},[s,n]),{onPointerDownCapture:()=>a.current=!0}}function Q3(e,s=globalThis==null?void 0:globalThis.document){const n=tr(e),a=x.useRef(!1);return x.useEffect(()=>{const r=l=>{l.target&&!a.current&&NE(Y3,n,{originalEvent:l},{discrete:!1})};return s.addEventListener("focusin",r),()=>s.removeEventListener("focusin",r)},[s,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function CC(){const e=new CustomEvent(Z0);document.dispatchEvent(e)}function NE(e,s,n,{discrete:a}){const r=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});s&&r.addEventListener(e,s,{once:!0}),a?bE(r,l):r.dispatchEvent(l)}var J3=nm,X3=jE,Oa=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Z3="Portal",rm=x.forwardRef((e,s)=>{var u;const{container:n,...a}=e,[r,l]=x.useState(!1);Oa(()=>l(!0),[]);const c=n||r&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Z5.createPortal(t.jsx(Ot.div,{...a,ref:s}),c):null});rm.displayName=Z3;function e6(e,s){return x.useReducer((n,a)=>s[n][a]??n,e)}var lo=e=>{const{present:s,children:n}=e,a=t6(s),r=typeof n=="function"?n({present:a.isPresent}):x.Children.only(n),l=Ms(a.ref,s6(r));return typeof n=="function"||a.isPresent?x.cloneElement(r,{ref:l}):null};lo.displayName="Presence";function t6(e){const[s,n]=x.useState(),a=x.useRef(null),r=x.useRef(e),l=x.useRef("none"),c=e?"mounted":"unmounted",[u,m]=e6(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=$f(a.current);l.current=u==="mounted"?f:"none"},[u]),Oa(()=>{const f=a.current,p=r.current;if(p!==e){const v=l.current,w=$f(f);e?m("MOUNT"):w==="none"||(f==null?void 0:f.display)==="none"?m("UNMOUNT"):m(p&&v!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,m]),Oa(()=>{if(s){let f;const p=s.ownerDocument.defaultView??window,g=w=>{const j=$f(a.current).includes(CSS.escape(w.animationName));if(w.target===s&&j&&(m("ANIMATION_END"),!r.current)){const S=s.style.animationFillMode;s.style.animationFillMode="forwards",f=p.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=S)})}},v=w=>{w.target===s&&(l.current=$f(a.current))};return s.addEventListener("animationstart",v),s.addEventListener("animationcancel",g),s.addEventListener("animationend",g),()=>{p.clearTimeout(f),s.removeEventListener("animationstart",v),s.removeEventListener("animationcancel",g),s.removeEventListener("animationend",g)}}else m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(f=>{a.current=f?getComputedStyle(f):null,n(f)},[])}}function $f(e){return(e==null?void 0:e.animationName)||"none"}function s6(e){var a,r;let s=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var a6=zk[" useInsertionEffect ".trim().toString()]||Oa;function dl({prop:e,defaultProp:s,onChange:n=()=>{},caller:a}){const[r,l,c]=n6({defaultProp:s,onChange:n}),u=e!==void 0,m=u?e:r;{const p=x.useRef(e!==void 0);x.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,a])}const f=x.useCallback(p=>{var g;if(u){const v=r6(p)?p(e):p;v!==e&&((g=c.current)==null||g.call(c,v))}else l(p)},[u,e,l,c]);return[m,f]}function n6({defaultProp:e,onChange:s}){const[n,a]=x.useState(e),r=x.useRef(n),l=x.useRef(s);return a6(()=>{l.current=s},[s]),x.useEffect(()=>{var c;r.current!==n&&((c=l.current)==null||c.call(l,n),r.current=n)},[n,r]),[n,a,l]}function r6(e){return typeof e=="function"}var SE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),i6="VisuallyHidden",Bb=x.forwardRef((e,s)=>t.jsx(Ot.span,{...e,ref:s,style:{...SE,...e.style}}));Bb.displayName=i6;var zb="ToastProvider",[qb,o6,l6]=Vb("Toast"),[CE,TX]=xi("Toast",[l6]),[c6,ug]=CE(zb),TE=e=>{const{__scopeToast:s,label:n="Notification",duration:a=5e3,swipeDirection:r="right",swipeThreshold:l=50,children:c}=e,[u,m]=x.useState(null),[f,p]=x.useState(0),g=x.useRef(!1),v=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zb}\`. Expected non-empty \`string\`.`),t.jsx(qb.Provider,{scope:s,children:t.jsx(c6,{scope:s,label:n,duration:a,swipeDirection:r,swipeThreshold:l,toastCount:f,viewport:u,onViewportChange:m,onToastAdd:x.useCallback(()=>p(w=>w+1),[]),onToastRemove:x.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:c})})};TE.displayName=zb;var kE="ToastViewport",d6=["F8"],ev="toast.viewportPause",tv="toast.viewportResume",EE=x.forwardRef((e,s)=>{const{__scopeToast:n,hotkey:a=d6,label:r="Notifications ({hotkey})",...l}=e,c=ug(kE,n),u=o6(n),m=x.useRef(null),f=x.useRef(null),p=x.useRef(null),g=x.useRef(null),v=Ms(s,g,c.onViewportChange),w=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=c.toastCount>0;x.useEffect(()=>{const S=E=>{var C;a.length!==0&&a.every(I=>E[I]||E.code===I)&&((C=g.current)==null||C.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[a]),x.useEffect(()=>{const S=m.current,E=g.current;if(N&&S&&E){const T=()=>{if(!c.isClosePausedRef.current){const A=new CustomEvent(ev);E.dispatchEvent(A),c.isClosePausedRef.current=!0}},C=()=>{if(c.isClosePausedRef.current){const A=new CustomEvent(tv);E.dispatchEvent(A),c.isClosePausedRef.current=!1}},I=A=>{!S.contains(A.relatedTarget)&&C()},D=()=>{S.contains(document.activeElement)||C()};return S.addEventListener("focusin",T),S.addEventListener("focusout",I),S.addEventListener("pointermove",T),S.addEventListener("pointerleave",D),window.addEventListener("blur",T),window.addEventListener("focus",C),()=>{S.removeEventListener("focusin",T),S.removeEventListener("focusout",I),S.removeEventListener("pointermove",T),S.removeEventListener("pointerleave",D),window.removeEventListener("blur",T),window.removeEventListener("focus",C)}}},[N,c.isClosePausedRef]);const j=x.useCallback(({tabbingDirection:S})=>{const T=u().map(C=>{const I=C.ref.current,D=[I,...N6(I)];return S==="forwards"?D:D.reverse()});return(S==="forwards"?T.reverse():T).flat()},[u]);return x.useEffect(()=>{const S=g.current;if(S){const E=T=>{var D,A,R;const C=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!C){const L=document.activeElement,z=T.shiftKey;if(T.target===S&&z){(D=f.current)==null||D.focus();return}const J=j({tabbingDirection:z?"backwards":"forwards"}),de=J.findIndex(H=>H===L);qy(J.slice(de+1))?T.preventDefault():z?(A=f.current)==null||A.focus():(R=p.current)==null||R.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[u,j]),t.jsxs(X3,{ref:m,role:"region","aria-label":r.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&t.jsx(sv,{ref:f,onFocusFromOutsideViewport:()=>{const S=j({tabbingDirection:"forwards"});qy(S)}}),t.jsx(qb.Slot,{scope:n,children:t.jsx(Ot.ol,{tabIndex:-1,...l,ref:v})}),N&&t.jsx(sv,{ref:p,onFocusFromOutsideViewport:()=>{const S=j({tabbingDirection:"backwards"});qy(S)}})]})});EE.displayName=kE;var AE="ToastFocusProxy",sv=x.forwardRef((e,s)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...r}=e,l=ug(AE,n);return t.jsx(Bb,{tabIndex:0,...r,ref:s,style:{position:"fixed"},onFocus:c=>{var f;const u=c.relatedTarget;!((f=l.viewport)!=null&&f.contains(u))&&a()}})});sv.displayName=AE;var im="Toast",u6="toast.swipeStart",h6="toast.swipeMove",m6="toast.swipeCancel",f6="toast.swipeEnd",DE=x.forwardRef((e,s)=>{const{forceMount:n,open:a,defaultOpen:r,onOpenChange:l,...c}=e,[u,m]=dl({prop:a,defaultProp:r??!0,onChange:l,caller:im});return t.jsx(lo,{present:n||u,children:t.jsx(x6,{open:u,...c,ref:s,onClose:()=>m(!1),onPause:tr(e.onPause),onResume:tr(e.onResume),onSwipeStart:At(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:At(e.onSwipeMove,f=>{const{x:p,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:At(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:At(e.onSwipeEnd,f=>{const{x:p,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),m(!1)})})})});DE.displayName=im;var[p6,g6]=CE(im,{onClose(){}}),x6=x.forwardRef((e,s)=>{const{__scopeToast:n,type:a="foreground",duration:r,open:l,onClose:c,onEscapeKeyDown:u,onPause:m,onResume:f,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:w,...N}=e,j=ug(im,n),[S,E]=x.useState(null),T=Ms(s,H=>E(H)),C=x.useRef(null),I=x.useRef(null),D=r||j.duration,A=x.useRef(0),R=x.useRef(D),L=x.useRef(0),{onToastAdd:z,onToastRemove:Q}=j,K=tr(()=>{var ie;(S==null?void 0:S.contains(document.activeElement))&&((ie=j.viewport)==null||ie.focus()),c()}),J=x.useCallback(H=>{!H||H===1/0||(window.clearTimeout(L.current),A.current=new Date().getTime(),L.current=window.setTimeout(K,H))},[K]);x.useEffect(()=>{const H=j.viewport;if(H){const ie=()=>{J(R.current),f==null||f()},F=()=>{const q=new Date().getTime()-A.current;R.current=R.current-q,window.clearTimeout(L.current),m==null||m()};return H.addEventListener(ev,F),H.addEventListener(tv,ie),()=>{H.removeEventListener(ev,F),H.removeEventListener(tv,ie)}}},[j.viewport,D,m,f,J]),x.useEffect(()=>{l&&!j.isClosePausedRef.current&&J(D)},[l,D,j.isClosePausedRef,J]),x.useEffect(()=>(z(),()=>Q()),[z,Q]);const de=x.useMemo(()=>S?LE(S):null,[S]);return j.viewport?t.jsxs(t.Fragment,{children:[de&&t.jsx(y6,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite",children:de}),t.jsx(p6,{scope:n,onClose:K,children:nu.createPortal(t.jsx(qb.ItemSlot,{scope:n,children:t.jsx(J3,{asChild:!0,onEscapeKeyDown:At(u,()=>{j.isFocusedToastEscapeKeyDownRef.current||K(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(Ot.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":j.swipeDirection,...N,ref:T,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:At(e.onKeyDown,H=>{H.key==="Escape"&&(u==null||u(H.nativeEvent),H.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:At(e.onPointerDown,H=>{H.button===0&&(C.current={x:H.clientX,y:H.clientY})}),onPointerMove:At(e.onPointerMove,H=>{if(!C.current)return;const ie=H.clientX-C.current.x,F=H.clientY-C.current.y,q=!!I.current,W=["left","right"].includes(j.swipeDirection),he=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,$=W?he(0,ie):0,M=W?0:he(0,F),V=H.pointerType==="touch"?10:2,G={x:$,y:M},B={originalEvent:H,delta:G};q?(I.current=G,Hf(h6,g,B,{discrete:!1})):TC(G,j.swipeDirection,V)?(I.current=G,Hf(u6,p,B,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ie)>V||Math.abs(F)>V)&&(C.current=null)}),onPointerUp:At(e.onPointerUp,H=>{const ie=I.current,F=H.target;if(F.hasPointerCapture(H.pointerId)&&F.releasePointerCapture(H.pointerId),I.current=null,C.current=null,ie){const q=H.currentTarget,W={originalEvent:H,delta:ie};TC(ie,j.swipeDirection,j.swipeThreshold)?Hf(f6,w,W,{discrete:!0}):Hf(m6,v,W,{discrete:!0}),q.addEventListener("click",he=>he.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),y6=e=>{const{__scopeToast:s,children:n,...a}=e,r=ug(im,s),[l,c]=x.useState(!1),[u,m]=x.useState(!1);return w6(()=>c(!0)),x.useEffect(()=>{const f=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:t.jsx(rm,{asChild:!0,children:t.jsx(Bb,{...a,children:l&&t.jsxs(t.Fragment,{children:[r.label," ",n]})})})},v6="ToastTitle",PE=x.forwardRef((e,s)=>{const{__scopeToast:n,...a}=e;return t.jsx(Ot.div,{...a,ref:s})});PE.displayName=v6;var b6="ToastDescription",IE=x.forwardRef((e,s)=>{const{__scopeToast:n,...a}=e;return t.jsx(Ot.div,{...a,ref:s})});IE.displayName=b6;var RE="ToastAction",OE=x.forwardRef((e,s)=>{const{altText:n,...a}=e;return n.trim()?t.jsx(_E,{altText:n,asChild:!0,children:t.jsx($b,{...a,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${RE}\`. Expected non-empty \`string\`.`),null)});OE.displayName=RE;var ME="ToastClose",$b=x.forwardRef((e,s)=>{const{__scopeToast:n,...a}=e,r=g6(ME,n);return t.jsx(_E,{asChild:!0,children:t.jsx(Ot.button,{type:"button",...a,ref:s,onClick:At(e.onClick,r.onClose)})})});$b.displayName=ME;var _E=x.forwardRef((e,s)=>{const{__scopeToast:n,altText:a,...r}=e;return t.jsx(Ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...r,ref:s})});function LE(e){const s=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&s.push(a.textContent),j6(a)){const r=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!r)if(l){const c=a.dataset.radixToastAnnounceAlt;c&&s.push(c)}else s.push(...LE(a))}}),s}function Hf(e,s,n,{discrete:a}){const r=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});s&&r.addEventListener(e,s,{once:!0}),a?bE(r,l):r.dispatchEvent(l)}var TC=(e,s,n=0)=>{const a=Math.abs(e.x),r=Math.abs(e.y),l=a>r;return s==="left"||s==="right"?l&&a>n:!l&&r>n};function w6(e=()=>{}){const s=tr(e);Oa(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[s])}function j6(e){return e.nodeType===e.ELEMENT_NODE}function N6(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function qy(e){const s=document.activeElement;return e.some(n=>n===s?!0:(n.focus(),document.activeElement!==s))}var S6=TE,FE=EE,UE=DE,VE=PE,BE=IE,zE=OE,qE=$b;function $E(e){var s,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(s=0;s<r;s++)e[s]&&(n=$E(e[s]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function HE(){for(var e,s,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(s=$E(e))&&(a&&(a+=" "),a+=s);return a}const kC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,EC=HE,hg=(e,s)=>n=>{var a;if((s==null?void 0:s.variants)==null)return EC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:l}=s,c=Object.keys(r).map(f=>{const p=n==null?void 0:n[f],g=l==null?void 0:l[f];if(p===null)return null;const v=kC(p)||kC(g);return r[f][v]}),u=n&&Object.entries(n).reduce((f,p)=>{let[g,v]=p;return v===void 0||(f[g]=v),f},{}),m=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((f,p)=>{let{class:g,className:v,...w}=p;return Object.entries(w).every(N=>{let[j,S]=N;return Array.isArray(S)?S.includes({...l,...u}[j]):{...l,...u}[j]===S})?[...f,g,v]:f},[]);return EC(e,c,m,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,a)=>a?a.toUpperCase():n.toLowerCase()),AC=e=>{const s=T6(e);return s.charAt(0).toUpperCase()+s.slice(1)},GE=(...e)=>e.filter((s,n,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=x.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:l,iconNode:c,...u},m)=>x.createElement("svg",{ref:m,...k6,width:s,height:s,stroke:e,strokeWidth:a?Number(n)*24/Number(s):n,className:GE("lucide",r),...u},[...c.map(([f,p])=>x.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,s)=>{const n=x.forwardRef(({className:a,...r},l)=>x.createElement(E6,{ref:l,iconNode:s,className:GE(`lucide-${C6(AC(e))}`,`lucide-${e}`,a),...r}));return n.displayName=AC(e),n};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$y=$e("activity",A6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]],P6=$e("alarm-clock",D6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pp=$e("arrow-left",I6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ip=$e("arrow-right",R6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],_n=$e("banknote",O6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],_6=$e("bed-double",M6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],F6=$e("bed",L6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ca=$e("building-2",U6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],B6=$e("building",V6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],q6=$e("calendar-check",z6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],H6=$e("calendar-clock",$6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],hh=$e("calendar-days",G6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qs=$e("calendar",Y6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],YE=$e("camera",W6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Va=$e("chart-column",K6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],DC=$e("chart-pie",Q6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nn=$e("check",J6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lh=$e("chevron-down",X6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hb=$e("chevron-up",Z6);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],is=$e("circle-alert",e_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fh=$e("circle-check",t_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ca=$e("circle-check-big",s_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],PC=$e("circle-play",a_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],r_=$e("circle-plus",n_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mg=$e("circle-x",i_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rp=$e("circle",o_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Gb=$e("clipboard-check",l_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],d_=$e("clipboard-list",c_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],h_=$e("clock-4",u_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Zn=$e("clock",m_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nl=$e("credit-card",f_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Yb=$e("database",p_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ln=$e("download",g_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],av=$e("ellipsis-vertical",x_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],un=$e("eye",y_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rs=$e("file-text",v_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],w_=$e("funnel",b_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ql=$e("globe",j_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],WE=$e("hotel",N_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Op=$e("house",S_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nv=$e("image",C_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Lr=$e("indian-rupee",T_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],E_=$e("info",k_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]],D_=$e("kanban",A_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],I_=$e("layout-dashboard",P_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],KE=$e("layout-grid",R_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],wh=$e("list-todo",O_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],__=$e("list",M_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tn=$e("loader-circle",L_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wb=$e("lock",F_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],qi=$e("log-in",U_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Uh=$e("log-out",V_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Hd=$e("mail",B_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],QE=$e("map-pin",z_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],$_=$e("maximize-2",q_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],JE=$e("menu",H_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Y_=$e("minimize-2",G_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],IC=$e("palette",W_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pp=$e("pencil",K_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],XE=$e("phone",Q_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ra=$e("plus",J_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Cn=$e("receipt",X_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mt=$e("refresh-cw",Z_);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],tL=$e("rotate-cw",eL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ZE=$e("save",sL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Mp=$e("search",aL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fd=$e("settings",nL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rn=$e("shield",rL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],oL=$e("siren",iL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],gp=$e("sliders-horizontal",lL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Wn=$e("sparkles",cL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_p=$e("square-check-big",dL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jr=$e("square-pen",uL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],eA=$e("star",hL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],fL=$e("target",mL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],jn=$e("trash-2",pL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],ec=$e("trending-down",gL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kb=$e("triangle-alert",xL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Nn=$e("trending-up",yL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ul=$e("upload",vL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Eh=$e("user-check",bL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],jL=$e("user-cog",wL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],SL=$e("user-minus",NL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Lp=$e("user-plus",CL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],kL=$e("user-x",TL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ya=$e("user",EL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Wi=$e("users",AL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],RC=$e("wallet",DL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],IL=$e("wifi-off",PL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ws=$e("x",RL);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ML=$e("zap",OL),Qb="-",_L=e=>{const s=FL(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{const u=c.split(Qb);return u[0]===""&&u.length!==1&&u.shift(),tA(u,s)||LL(c)},getConflictingClassGroupIds:(c,u)=>{const m=n[c]||[];return u&&a[c]?[...m,...a[c]]:m}}},tA=(e,s)=>{var c;if(e.length===0)return s.classGroupId;const n=e[0],a=s.nextPart.get(n),r=a?tA(e.slice(1),a):void 0;if(r)return r;if(s.validators.length===0)return;const l=e.join(Qb);return(c=s.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},OC=/^\[(.+)\]$/,LL=e=>{if(OC.test(e)){const s=OC.exec(e)[1],n=s==null?void 0:s.substring(0,s.indexOf(":"));if(n)return"arbitrary.."+n}},FL=e=>{const{theme:s,classGroups:n}=e,a={nextPart:new Map,validators:[]};for(const r in n)rv(n[r],a,r,s);return a},rv=(e,s,n,a)=>{e.forEach(r=>{if(typeof r=="string"){const l=r===""?s:MC(s,r);l.classGroupId=n;return}if(typeof r=="function"){if(UL(r)){rv(r(a),s,n,a);return}s.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([l,c])=>{rv(c,MC(s,l),n,a)})})},MC=(e,s)=>{let n=e;return s.split(Qb).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},UL=e=>e.isThemeGetter,VL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,n=new Map,a=new Map;const r=(l,c)=>{n.set(l,c),s++,s>e&&(s=0,a=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=a.get(l))!==void 0)return r(l,c),c},set(l,c){n.has(l)?n.set(l,c):r(l,c)}}},iv="!",ov=":",BL=ov.length,zL=e=>{const{prefix:s,experimentalParseClassName:n}=e;let a=r=>{const l=[];let c=0,u=0,m=0,f;for(let N=0;N<r.length;N++){let j=r[N];if(c===0&&u===0){if(j===ov){l.push(r.slice(m,N)),m=N+BL;continue}if(j==="/"){f=N;continue}}j==="["?c++:j==="]"?c--:j==="("?u++:j===")"&&u--}const p=l.length===0?r:r.substring(m),g=qL(p),v=g!==p,w=f&&f>m?f-m:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:w}};if(s){const r=s+ov,l=a;a=c=>c.startsWith(r)?l(c.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const r=a;a=l=>n({className:l,parseClassName:r})}return a},qL=e=>e.endsWith(iv)?e.substring(0,e.length-1):e.startsWith(iv)?e.substring(1):e,$L=e=>{const s=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const r=[];let l=[];return a.forEach(c=>{c[0]==="["||s[c]?(r.push(...l.sort(),c),l=[]):l.push(c)}),r.push(...l.sort()),r}},HL=e=>({cache:VL(e.cacheSize),parseClassName:zL(e),sortModifiers:$L(e),..._L(e)}),GL=/\s+/,YL=(e,s)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:r,sortModifiers:l}=s,c=[],u=e.trim().split(GL);let m="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:g,modifiers:v,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:j}=n(p);if(g){m=p+(m.length>0?" "+m:m);continue}let S=!!j,E=a(S?N.substring(0,j):N);if(!E){if(!S){m=p+(m.length>0?" "+m:m);continue}if(E=a(N),!E){m=p+(m.length>0?" "+m:m);continue}S=!1}const T=l(v).join(":"),C=w?T+iv:T,I=C+E;if(c.includes(I))continue;c.push(I);const D=r(E,S);for(let A=0;A<D.length;++A){const R=D[A];c.push(C+R)}m=p+(m.length>0?" "+m:m)}return m};function WL(){let e=0,s,n,a="";for(;e<arguments.length;)(s=arguments[e++])&&(n=sA(s))&&(a&&(a+=" "),a+=n);return a}const sA=e=>{if(typeof e=="string")return e;let s,n="";for(let a=0;a<e.length;a++)e[a]&&(s=sA(e[a]))&&(n&&(n+=" "),n+=s);return n};function KL(e,...s){let n,a,r,l=c;function c(m){const f=s.reduce((p,g)=>g(p),e());return n=HL(f),a=n.cache.get,r=n.cache.set,l=u,u(m)}function u(m){const f=a(m);if(f)return f;const p=YL(m,n);return r(m,p),p}return function(){return l(WL.apply(null,arguments))}}const Ua=e=>{const s=n=>n[e]||[];return s.isThemeGetter=!0,s},aA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,QL=/^\d+\/\d+$/,JL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,od=e=>QL.test(e),Yt=e=>!!e&&!Number.isNaN(Number(e)),Vo=e=>!!e&&Number.isInteger(Number(e)),Hy=e=>e.endsWith("%")&&Yt(e.slice(0,-1)),Vi=e=>JL.test(e),sF=()=>!0,aF=e=>XL.test(e)&&!ZL.test(e),rA=()=>!1,nF=e=>eF.test(e),rF=e=>tF.test(e),iF=e=>!ut(e)&&!ht(e),oF=e=>iu(e,lA,rA),ut=e=>aA.test(e),$l=e=>iu(e,cA,aF),Gy=e=>iu(e,hF,Yt),_C=e=>iu(e,iA,rA),lF=e=>iu(e,oA,rF),Gf=e=>iu(e,dA,nF),ht=e=>nA.test(e),mh=e=>ou(e,cA),cF=e=>ou(e,mF),LC=e=>ou(e,iA),dF=e=>ou(e,lA),uF=e=>ou(e,oA),Yf=e=>ou(e,dA,!0),iu=(e,s,n)=>{const a=aA.exec(e);return a?a[1]?s(a[1]):n(a[2]):!1},ou=(e,s,n=!1)=>{const a=nA.exec(e);return a?a[1]?s(a[1]):n:!1},iA=e=>e==="position"||e==="percentage",oA=e=>e==="image"||e==="url",lA=e=>e==="length"||e==="size"||e==="bg-size",cA=e=>e==="length",hF=e=>e==="number",mF=e=>e==="family-name",dA=e=>e==="shadow",fF=()=>{const e=Ua("color"),s=Ua("font"),n=Ua("text"),a=Ua("font-weight"),r=Ua("tracking"),l=Ua("leading"),c=Ua("breakpoint"),u=Ua("container"),m=Ua("spacing"),f=Ua("radius"),p=Ua("shadow"),g=Ua("inset-shadow"),v=Ua("text-shadow"),w=Ua("drop-shadow"),N=Ua("blur"),j=Ua("perspective"),S=Ua("aspect"),E=Ua("ease"),T=Ua("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...I(),ht,ut],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],L=()=>[ht,ut,m],z=()=>[od,"full","auto",...L()],Q=()=>[Vo,"none","subgrid",ht,ut],K=()=>["auto",{span:["full",Vo,ht,ut]},Vo,ht,ut],J=()=>[Vo,"auto",ht,ut],de=()=>["auto","min","max","fr",ht,ut],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...L()],q=()=>[od,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],W=()=>[e,ht,ut],he=()=>[...I(),LC,_C,{position:[ht,ut]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",dF,oF,{size:[ht,ut]}],V=()=>[Hy,mh,$l],G=()=>["","none","full",f,ht,ut],B=()=>["",Yt,mh,$l],ce=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[Yt,Hy,LC,_C],ye=()=>["","none",N,ht,ut],ke=()=>["none",Yt,ht,ut],Y=()=>["none",Yt,ht,ut],ge=()=>[Yt,ht,ut],je=()=>[od,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vi],breakpoint:[Vi],color:[sF],container:[Vi],"drop-shadow":[Vi],ease:["in","out","in-out"],font:[iF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vi],shadow:[Vi],spacing:["px",Yt],text:[Vi],"text-shadow":[Vi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",od,ut,ht,S]}],container:["container"],columns:[{columns:[Yt,ut,ht,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Vo,"auto",ht,ut]}],basis:[{basis:[od,"full","auto",u,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Yt,od,"auto","initial","none",ut]}],grow:[{grow:["",Yt,ht,ut]}],shrink:[{shrink:["",Yt,ht,ut]}],order:[{order:[Vo,"first","last","none",ht,ut]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":de()}],"auto-rows":[{"auto-rows":de()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[u,"screen",...q()]}],"min-w":[{"min-w":[u,"screen","none",...q()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,mh,$l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ht,Gy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hy,ut]}],"font-family":[{font:[cF,ut,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ht,ut]}],"line-clamp":[{"line-clamp":[Yt,"none",ht,Gy]}],leading:[{leading:[l,...L()]}],"list-image":[{"list-image":["none",ht,ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ht,ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Yt,"from-font","auto",ht,$l]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Yt,"auto",ht,ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht,ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht,ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vo,ht,ut],radial:["",ht,ut],conic:[Vo,ht,ut]},uF,lF]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Yt,ht,ut]}],"outline-w":[{outline:["",Yt,mh,$l]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",p,Yf,Gf]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",g,Yf,Gf]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Yt,$l]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",v,Yf,Gf]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Yt,ht,ut]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[ht,ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ht,ut]}],filter:[{filter:["","none",ht,ut]}],blur:[{blur:ye()}],brightness:[{brightness:[Yt,ht,ut]}],contrast:[{contrast:[Yt,ht,ut]}],"drop-shadow":[{"drop-shadow":["","none",w,Yf,Gf]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Yt,ht,ut]}],"hue-rotate":[{"hue-rotate":[Yt,ht,ut]}],invert:[{invert:["",Yt,ht,ut]}],saturate:[{saturate:[Yt,ht,ut]}],sepia:[{sepia:["",Yt,ht,ut]}],"backdrop-filter":[{"backdrop-filter":["","none",ht,ut]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[Yt,ht,ut]}],"backdrop-contrast":[{"backdrop-contrast":[Yt,ht,ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Yt,ht,ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Yt,ht,ut]}],"backdrop-invert":[{"backdrop-invert":["",Yt,ht,ut]}],"backdrop-opacity":[{"backdrop-opacity":[Yt,ht,ut]}],"backdrop-saturate":[{"backdrop-saturate":[Yt,ht,ut]}],"backdrop-sepia":[{"backdrop-sepia":["",Yt,ht,ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ht,ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Yt,"initial",ht,ut]}],ease:[{ease:["linear","initial",E,ht,ut]}],delay:[{delay:[Yt,ht,ut]}],animate:[{animate:["none",T,ht,ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ht,ut]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:Y()}],"scale-x":[{"scale-x":Y()}],"scale-y":[{"scale-y":Y()}],"scale-z":[{"scale-z":Y()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[ht,ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht,ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht,ut]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Yt,mh,$l,Gy]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pF=KL(fF);function Xe(...e){return pF(HE(e))}const gF=S6,uA=x.forwardRef(({className:e,...s},n)=>t.jsx(FE,{ref:n,className:Xe("fixed z-[100] flex flex-col p-4 pointer-events-none gap-2 w-full","top-0 left-0 right-0 items-center md:items-end md:top-auto md:bottom-0 md:right-0 md:left-auto",e),...s}));uA.displayName=FE.displayName;const xF=hg("group pointer-events-auto relative flex w-[calc(100vw-2rem)] sm:w-full sm:max-w-[400px] items-start gap-3 overflow-hidden rounded-lg border bg-background/95 backdrop-blur-sm p-4 shadow-lg transition-all data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:slide-in-from-top-full data-[state=closed]:slide-out-to-top-full md:data-[state=open]:slide-in-from-bottom-full md:data-[state=closed]:slide-out-to-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"group border-red-300 bg-background text-red-900 dark:text-red-200 border-l-4 border-l-red-500",success:"group border-green-300 bg-background text-green-900 dark:text-green-200 border-l-4 border-l-green-500"}},defaultVariants:{variant:"default"}}),hA=x.forwardRef(({className:e,variant:s,...n},a)=>t.jsx(UE,{ref:a,className:Xe(xF({variant:s}),e),...n}));hA.displayName=UE.displayName;const yF=x.forwardRef(({className:e,...s},n)=>t.jsx(zE,{ref:n,className:Xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...s}));yF.displayName=zE.displayName;const mA=x.forwardRef(({className:e,...s},n)=>t.jsx(qE,{ref:n,className:Xe("absolute right-1 top-1 rounded-md p-2 text-foreground/50 opacity-70 transition-opacity hover:text-foreground hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-1 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...s,children:t.jsx(Ws,{className:"h-4 w-4"})}));mA.displayName=qE.displayName;const fA=x.forwardRef(({className:e,...s},n)=>t.jsx(VE,{ref:n,className:Xe("text-sm font-semibold [&+div]:text-xs",e),...s}));fA.displayName=VE.displayName;const pA=x.forwardRef(({className:e,...s},n)=>t.jsx(BE,{ref:n,className:Xe("text-sm opacity-90",e),...s}));pA.displayName=BE.displayName;function vF(){const{toasts:e}=da();return t.jsxs(gF,{children:[e.map(function({id:s,title:n,description:a,action:r,...l}){const c=l==null?void 0:l.variant,u=c==="success"?Ca:c==="destructive"?is:E_,m=c==="success"?"text-green-600":c==="destructive"?"text-red-600":"text-blue-600";return t.jsxs(hA,{...l,children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 shrink-0",children:t.jsx(u,{className:`h-5 w-5 ${m}`})}),t.jsxs("div",{className:"grid gap-1",children:[n&&t.jsx(fA,{className:"text-base font-semibold",children:n}),a&&t.jsx(pA,{className:"text-sm opacity-90",children:a})]})]}),r,t.jsx(mA,{})]},s)}),t.jsx(uA,{})]})}const gA="http://localhost:4000";function bF(e){return`https://${e}-hospitality-management-platform-cr8i.encr.app`}const wF=typeof globalThis=="object"&&"window"in globalThis;class lu{constructor(s,n){Ve(this,"analytics");Ve(this,"auth");Ve(this,"branding");Ve(this,"cache");Ve(this,"communication");Ve(this,"config");Ve(this,"cron");Ve(this,"dashboard");Ve(this,"database");Ve(this,"documents");Ve(this,"finance");Ve(this,"guest_checkin");Ve(this,"monitoring");Ve(this,"orgs");Ve(this,"properties");Ve(this,"realtime");Ve(this,"reports");Ve(this,"seed");Ve(this,"cache_service");Ve(this,"events_service");Ve(this,"finance_service");Ve(this,"reports_service");Ve(this,"staff");Ve(this,"tasks");Ve(this,"telemetry");Ve(this,"uploads");Ve(this,"users");Ve(this,"validation");Ve(this,"options");Ve(this,"target");this.target=s,this.options=n??{};const a=new kF(this.target,this.options);this.analytics=new lv.ServiceClient(a),this.auth=new cv.ServiceClient(a),this.branding=new dv.ServiceClient(a),this.cache=new uv.ServiceClient(a),this.communication=new hv.ServiceClient(a),this.config=new mv.ServiceClient(a),this.cron=new fv.ServiceClient(a),this.dashboard=new pv.ServiceClient(a),this.database=new gv.ServiceClient(a),this.documents=new xv.ServiceClient(a),this.finance=new yv.ServiceClient(a),this.guest_checkin=new vv.ServiceClient(a),this.monitoring=new bv.ServiceClient(a),this.orgs=new wv.ServiceClient(a),this.properties=new jv.ServiceClient(a),this.realtime=new Nv.ServiceClient(a),this.reports=new Sv.ServiceClient(a),this.seed=new Cv.ServiceClient(a),this.cache_service=new Tv.ServiceClient(a),this.events_service=new kv.ServiceClient(a),this.finance_service=new Ev.ServiceClient(a),this.reports_service=new Av.ServiceClient(a),this.staff=new Dv.ServiceClient(a),this.tasks=new Pv.ServiceClient(a),this.telemetry=new Iv.ServiceClient(a),this.uploads=new Rv.ServiceClient(a),this.users=new Ov.ServiceClient(a),this.validation=new Mv.ServiceClient(a)}with(s){return new lu(this.target,{...this.options,...s})}}var lv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.overview=this.overview.bind(this),this.overviewV1=this.overviewV1.bind(this),this.subscribeAnalyticsRealtime=this.subscribeAnalyticsRealtime.bind(this),this.subscribeAnalyticsRealtimeV1=this.subscribeAnalyticsRealtimeV1.bind(this)}async overview(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),regionId:a.regionId===void 0?void 0:String(a.regionId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/analytics/overview",void 0,{query:r})).json()}async overviewV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),regionId:a.regionId===void 0?void 0:String(a.regionId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/analytics/overview",void 0,{query:r})).json()}async subscribeAnalyticsRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/analytics/realtime/subscribe",void 0,{query:r})).json()}async subscribeAnalyticsRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/analytics/realtime/subscribe",void 0,{query:r})).json()}}e.ServiceClient=s})(lv||(lv={}));var cv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.forgotPassword=this.forgotPassword.bind(this),this.forgotPasswordV1=this.forgotPasswordV1.bind(this),this.login=this.login.bind(this),this.loginV1=this.loginV1.bind(this),this.logout=this.logout.bind(this),this.logoutV1=this.logoutV1.bind(this),this.me=this.me.bind(this),this.meV1=this.meV1.bind(this),this.refresh=this.refresh.bind(this),this.refreshV1=this.refreshV1.bind(this),this.resetPassword=this.resetPassword.bind(this),this.resetPasswordV1=this.resetPasswordV1.bind(this),this.signup=this.signup.bind(this),this.signupV1=this.signupV1.bind(this)}async forgotPassword(a){return await(await this.baseClient.callTypedAPI("POST","/auth/forgot-password",JSON.stringify(a))).json()}async forgotPasswordV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/forgot-password",JSON.stringify(a))).json()}async login(a){return await(await this.baseClient.callTypedAPI("POST","/auth/login",JSON.stringify(a))).json()}async loginV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/login",JSON.stringify(a))).json()}async logout(a){await this.baseClient.callTypedAPI("POST","/auth/logout",JSON.stringify(a))}async logoutV1(a){await this.baseClient.callTypedAPI("POST","/v1/auth/logout",JSON.stringify(a))}async me(){return await(await this.baseClient.callTypedAPI("GET","/auth/me")).json()}async meV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/auth/me")).json()}async refresh(a){return await(await this.baseClient.callTypedAPI("POST","/auth/refresh",JSON.stringify(a))).json()}async refreshV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/refresh",JSON.stringify(a))).json()}async resetPassword(a){return await(await this.baseClient.callTypedAPI("POST","/auth/reset-password",JSON.stringify(a))).json()}async resetPasswordV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/reset-password",JSON.stringify(a))).json()}async signup(a){return await(await this.baseClient.callTypedAPI("POST","/auth/signup",JSON.stringify(a))).json()}async signupV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/auth/signup",JSON.stringify(a))).json()}}e.ServiceClient=s})(cv||(cv={}));var dv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.cleanupCorruptedTheme=this.cleanupCorruptedTheme.bind(this),this.cleanupCorruptedThemeV1=this.cleanupCorruptedThemeV1.bind(this),this.getTheme=this.getTheme.bind(this),this.getThemeV1=this.getThemeV1.bind(this),this.serveLogo=this.serveLogo.bind(this),this.serveLogoV1=this.serveLogoV1.bind(this),this.subscribeBrandingRealtime=this.subscribeBrandingRealtime.bind(this),this.subscribeBrandingRealtimeV1=this.subscribeBrandingRealtimeV1.bind(this),this.updateTheme=this.updateTheme.bind(this),this.updateThemeV1=this.updateThemeV1.bind(this),this.uploadLogo=this.uploadLogo.bind(this),this.uploadLogoV1=this.uploadLogoV1.bind(this)}async cleanupCorruptedTheme(){return await(await this.baseClient.callTypedAPI("POST","/branding/cleanup-theme")).json()}async cleanupCorruptedThemeV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/branding/cleanup-theme")).json()}async getTheme(){return await(await this.baseClient.callTypedAPI("GET","/branding/theme")).json()}async getThemeV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/branding/theme")).json()}async serveLogo(a,r){return await(await this.baseClient.callTypedAPI("GET",`/branding/logo/${encodeURIComponent(a)}/${encodeURIComponent(r)}`)).json()}async serveLogoV1(a,r){return await(await this.baseClient.callTypedAPI("GET",`/v1/branding/logo/${encodeURIComponent(a)}/${encodeURIComponent(r)}`)).json()}async subscribeBrandingRealtime(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/branding/realtime/subscribe",void 0,{query:r})).json()}async subscribeBrandingRealtimeV1(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/branding/realtime/subscribe",void 0,{query:r})).json()}async updateTheme(a){return await(await this.baseClient.callTypedAPI("PATCH","/branding/theme",JSON.stringify(a))).json()}async updateThemeV1(a){return await(await this.baseClient.callTypedAPI("PATCH","/v1/branding/theme",JSON.stringify(a))).json()}async uploadLogo(a){return await(await this.baseClient.callTypedAPI("POST","/branding/logo",JSON.stringify(a))).json()}async uploadLogoV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/branding/logo",JSON.stringify(a))).json()}}e.ServiceClient=s})(dv||(dv={}));var uv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.collectCacheWarmingStats=this.collectCacheWarmingStats.bind(this),this.collectCacheWarmingStatsV1=this.collectCacheWarmingStatsV1.bind(this),this.getCacheMetrics=this.getCacheMetrics.bind(this),this.getCacheMetricsV1=this.getCacheMetricsV1.bind(this),this.getCacheStatus=this.getCacheStatus.bind(this),this.getCacheStatusV1=this.getCacheStatusV1.bind(this),this.warmHighTrafficCache=this.warmHighTrafficCache.bind(this),this.warmHighTrafficCacheV1=this.warmHighTrafficCacheV1.bind(this),this.warmSpecificOrganizationCache=this.warmSpecificOrganizationCache.bind(this),this.warmSpecificOrganizationCacheV1=this.warmSpecificOrganizationCacheV1.bind(this)}async collectCacheWarmingStats(){await this.baseClient.callTypedAPI("POST","/cache/collect-stats")}async collectCacheWarmingStatsV1(){await this.baseClient.callTypedAPI("POST","/v1/system/cache/collect-stats")}async getCacheMetrics(){return await(await this.baseClient.callTypedAPI("GET","/cache/metrics")).json()}async getCacheMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/cache/metrics")).json()}async getCacheStatus(){await this.baseClient.callTypedAPI("GET","/cache/status")}async getCacheStatusV1(){await this.baseClient.callTypedAPI("GET","/v1/system/cache/status")}async warmHighTrafficCache(){await this.baseClient.callTypedAPI("POST","/cache/warm-high-traffic")}async warmHighTrafficCacheV1(){await this.baseClient.callTypedAPI("POST","/v1/system/cache/warm-high-traffic")}async warmSpecificOrganizationCache(){await this.baseClient.callTypedAPI("POST","/cache/warm-specific-org")}async warmSpecificOrganizationCacheV1(){await this.baseClient.callTypedAPI("POST","/v1/system/cache/warm-specific-org")}}e.ServiceClient=s})(uv||(uv={}));var hv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.getAllServicesHealth=this.getAllServicesHealth.bind(this),this.getAllServicesHealthV1=this.getAllServicesHealthV1.bind(this),this.getGatewayHealth=this.getGatewayHealth.bind(this),this.getGatewayHealthV1=this.getGatewayHealthV1.bind(this),this.getServiceHealth=this.getServiceHealth.bind(this),this.getServiceHealthV1=this.getServiceHealthV1.bind(this),this.resetCircuitBreaker=this.resetCircuitBreaker.bind(this),this.resetCircuitBreakerV1=this.resetCircuitBreakerV1.bind(this),this.routeRequest=this.routeRequest.bind(this),this.routeRequestV1=this.routeRequestV1.bind(this)}async getAllServicesHealth(){return await(await this.baseClient.callTypedAPI("GET","/gateway/health")).json()}async getAllServicesHealthV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/gateway/health")).json()}async getGatewayHealth(){return await(await this.baseClient.callTypedAPI("GET","/gateway/status")).json()}async getGatewayHealthV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/gateway/status")).json()}async getServiceHealth(a){return await(await this.baseClient.callTypedAPI("GET",`/gateway/health/${encodeURIComponent(a)}`)).json()}async getServiceHealthV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/system/gateway/health/${encodeURIComponent(a)}`)).json()}async resetCircuitBreaker(a){return await(await this.baseClient.callTypedAPI("POST","/gateway/reset-circuit-breaker",JSON.stringify(a))).json()}async resetCircuitBreakerV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/gateway/reset-circuit-breaker",JSON.stringify(a))).json()}async routeRequest(a){return await(await this.baseClient.callTypedAPI("POST","/gateway/route",JSON.stringify(a))).json()}async routeRequestV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/gateway/route",JSON.stringify(a))).json()}}e.ServiceClient=s})(hv||(hv={}));var mv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.healthCheck=this.healthCheck.bind(this),this.healthCheckV1=this.healthCheckV1.bind(this)}async healthCheck(){await this.baseClient.callTypedAPI("GET","/config/health")}async healthCheckV1(){await this.baseClient.callTypedAPI("GET","/v1/system/config/health")}}e.ServiceClient=s})(mv||(mv={}));var fv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.cleanupOrphanedDocuments=this.cleanupOrphanedDocuments.bind(this),this.cleanupOrphanedDocumentsV1=this.cleanupOrphanedDocumentsV1.bind(this),this.getCleanupStats=this.getCleanupStats.bind(this),this.getCleanupStatsV1=this.getCleanupStatsV1.bind(this)}async cleanupOrphanedDocuments(){return await(await this.baseClient.callTypedAPI("POST","/cron/cleanup-orphaned-documents")).json()}async cleanupOrphanedDocumentsV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/system/cron/cleanup-orphaned-documents")).json()}async getCleanupStats(){return await(await this.baseClient.callTypedAPI("GET","/cron/cleanup-stats")).json()}async getCleanupStatsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/cron/cleanup-stats")).json()}}e.ServiceClient=s})(fv||(fv={}));var pv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.subscribeDashboardRealtime=this.subscribeDashboardRealtime.bind(this),this.subscribeDashboardRealtimeV1=this.subscribeDashboardRealtimeV1.bind(this)}async subscribeDashboardRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/dashboard/realtime/subscribe",void 0,{query:r})).json()}async subscribeDashboardRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/dashboard/realtime/subscribe",void 0,{query:r})).json()}}e.ServiceClient=s})(pv||(pv={}));var gv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.getConnectionPoolStats=this.getConnectionPoolStats.bind(this),this.getConnectionPoolStatsV1=this.getConnectionPoolStatsV1.bind(this),this.getReplicaLag=this.getReplicaLag.bind(this),this.getReplicaLagV1=this.getReplicaLagV1.bind(this),this.getReplicaStatus=this.getReplicaStatus.bind(this),this.getReplicaStatusV1=this.getReplicaStatusV1.bind(this),this.replicaHealthCheck=this.replicaHealthCheck.bind(this),this.replicaHealthCheckV1=this.replicaHealthCheckV1.bind(this)}async getConnectionPoolStats(){await this.baseClient.callTypedAPI("GET","/database/connection-pool/stats")}async getConnectionPoolStatsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/database/connection-pool/stats")}async getReplicaLag(){await this.baseClient.callTypedAPI("GET","/database/replicas/lag")}async getReplicaLagV1(){await this.baseClient.callTypedAPI("GET","/v1/system/database/replicas/lag")}async getReplicaStatus(){await this.baseClient.callTypedAPI("GET","/database/replicas/status")}async getReplicaStatusV1(){await this.baseClient.callTypedAPI("GET","/v1/system/database/replicas/status")}async replicaHealthCheck(){await this.baseClient.callTypedAPI("GET","/database/replicas/health")}async replicaHealthCheckV1(){await this.baseClient.callTypedAPI("GET","/v1/system/database/replicas/health")}}e.ServiceClient=s})(gv||(gv={}));var xv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.createExport=this.createExport.bind(this),this.createExportV1=this.createExportV1.bind(this),this.deleteExport=this.deleteExport.bind(this),this.deleteExportV1=this.deleteExportV1.bind(this),this.downloadExport=this.downloadExport.bind(this),this.downloadExportV1=this.downloadExportV1.bind(this),this.getExportStatus=this.getExportStatus.bind(this),this.getExportStatusV1=this.getExportStatusV1.bind(this),this.listExports=this.listExports.bind(this),this.listExportsV1=this.listExportsV1.bind(this),this.retryExport=this.retryExport.bind(this),this.retryExportV1=this.retryExportV1.bind(this)}async createExport(a){return await(await this.baseClient.callTypedAPI("POST","/documents/exports/create",JSON.stringify(a))).json()}async createExportV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/documents/exports/create",JSON.stringify(a))).json()}async deleteExport(a){return await(await this.baseClient.callTypedAPI("DELETE",`/documents/exports/${encodeURIComponent(a)}`)).json()}async deleteExportV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/documents/exports/${encodeURIComponent(a)}`)).json()}async downloadExport(a){return await(await this.baseClient.callTypedAPI("GET",`/documents/exports/${encodeURIComponent(a)}/download`)).json()}async downloadExportV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/documents/exports/${encodeURIComponent(a)}/download`)).json()}async getExportStatus(a){return await(await this.baseClient.callTypedAPI("GET",`/documents/exports/${encodeURIComponent(a)}/status`)).json()}async getExportStatusV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/documents/exports/${encodeURIComponent(a)}/status`)).json()}async listExports(a){const r=De({exportType:a.exportType===void 0?void 0:String(a.exportType),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/documents/exports",void 0,{query:r})).json()}async listExportsV1(a){const r=De({exportType:a.exportType===void 0?void 0:String(a.exportType),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/documents/exports",void 0,{query:r})).json()}async retryExport(a){return await(await this.baseClient.callTypedAPI("POST",`/documents/exports/${encodeURIComponent(a)}/retry`)).json()}async retryExportV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/documents/exports/${encodeURIComponent(a)}/retry`)).json()}}e.ServiceClient=s})(xv||(xv={}));var yv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.addExpense=this.addExpense.bind(this),this.addExpenseV1=this.addExpenseV1.bind(this),this.addMissingColumns=this.addMissingColumns.bind(this),this.addPerformanceIndexes=this.addPerformanceIndexes.bind(this),this.addReceiptFileIdColumns=this.addReceiptFileIdColumns.bind(this),this.addRevenue=this.addRevenue.bind(this),this.addRevenueMinimal=this.addRevenueMinimal.bind(this),this.addRevenueV1=this.addRevenueV1.bind(this),this.applyAllMigrationsEndpoint=this.applyAllMigrationsEndpoint.bind(this),this.applyMigrationEndpoint=this.applyMigrationEndpoint.bind(this),this.approveExpense=this.approveExpense.bind(this),this.approveExpenseById=this.approveExpenseById.bind(this),this.approveExpenseByIdV1=this.approveExpenseByIdV1.bind(this),this.approveExpenseV1=this.approveExpenseV1.bind(this),this.approveRevenue=this.approveRevenue.bind(this),this.approveRevenueById=this.approveRevenueById.bind(this),this.approveRevenueByIdV1=this.approveRevenueByIdV1.bind(this),this.approveRevenueV1=this.approveRevenueV1.bind(this),this.bulkApproveTransactions=this.bulkApproveTransactions.bind(this),this.bulkApproveTransactionsV1=this.bulkApproveTransactionsV1.bind(this),this.checkDailyApproval=this.checkDailyApproval.bind(this),this.checkDailyApprovalV1=this.checkDailyApprovalV1.bind(this),this.checkDailyApprovalsSchema=this.checkDailyApprovalsSchema.bind(this),this.checkDbSchemaDirect=this.checkDbSchemaDirect.bind(this),this.checkDbStatus=this.checkDbStatus.bind(this),this.checkExpenseSchema=this.checkExpenseSchema.bind(this),this.checkNotifications=this.checkNotifications.bind(this),this.checkNotificationsV1=this.checkNotificationsV1.bind(this),this.checkPaymentColumns=this.checkPaymentColumns.bind(this),this.checkSchema=this.checkSchema.bind(this),this.checkSchemaComprehensive=this.checkSchemaComprehensive.bind(this),this.clearResolvedAlertsEndpoint=this.clearResolvedAlertsEndpoint.bind(this),this.dbHealthCheck=this.dbHealthCheck.bind(this),this.debugDailyApproval=this.debugDailyApproval.bind(this),this.debugTransactionStatus=this.debugTransactionStatus.bind(this),this.deleteExpense=this.deleteExpense.bind(this),this.deleteExpenseV1=this.deleteExpenseV1.bind(this),this.deleteRevenue=this.deleteRevenue.bind(this),this.deleteRevenueV1=this.deleteRevenueV1.bind(this),this.ensureDailyApprovalsTable=this.ensureDailyApprovalsTable.bind(this),this.ensureNotificationsTable=this.ensureNotificationsTable.bind(this),this.ensureSchema=this.ensureSchema.bind(this),this.fixDailyApprovalsTable=this.fixDailyApprovalsTable.bind(this),this.fixMigrationIssues=this.fixMigrationIssues.bind(this),this.fixSchema=this.fixSchema.bind(this),this.forceInitDb=this.forceInitDb.bind(this),this.getAlertsEndpoint=this.getAlertsEndpoint.bind(this),this.getBankAccounts=this.getBankAccounts.bind(this),this.getBankAccountsV1=this.getBankAccountsV1.bind(this),this.getDailyApprovalStats=this.getDailyApprovalStats.bind(this),this.getDailyApprovalStatsV1=this.getDailyApprovalStatsV1.bind(this),this.getDailyApprovalSummary=this.getDailyApprovalSummary.bind(this),this.getDailyApprovalSummaryV1=this.getDailyApprovalSummaryV1.bind(this),this.getEventHistory=this.getEventHistory.bind(this),this.getEventHistoryV1=this.getEventHistoryV1.bind(this),this.getEventMetrics=this.getEventMetrics.bind(this),this.getEventMetricsV1=this.getEventMetricsV1.bind(this),this.getEventMonitoring=this.getEventMonitoring.bind(this),this.getEventMonitoringV1=this.getEventMonitoringV1.bind(this),this.getEventValidationHealth=this.getEventValidationHealth.bind(this),this.getEventValidationHealthV1=this.getEventValidationHealthV1.bind(this),this.getExpenseById=this.getExpenseById.bind(this),this.getExpenseByIdV1=this.getExpenseByIdV1.bind(this),this.getFinanceRealtimeMetrics=this.getFinanceRealtimeMetrics.bind(this),this.getFinanceRealtimeMetricsV1=this.getFinanceRealtimeMetricsV1.bind(this),this.getFinancialSummary=this.getFinancialSummary.bind(this),this.getFinancialSummaryV1=this.getFinancialSummaryV1.bind(this),this.getMigrationStatusEndpoint=this.getMigrationStatusEndpoint.bind(this),this.getPendingApprovals=this.getPendingApprovals.bind(this),this.getPendingApprovalsV1=this.getPendingApprovalsV1.bind(this),this.getRevenueById=this.getRevenueById.bind(this),this.getRevenueByIdV1=this.getRevenueByIdV1.bind(this),this.getSchemaStatus=this.getSchemaStatus.bind(this),this.getTodayPendingTransactions=this.getTodayPendingTransactions.bind(this),this.getTodayPendingTransactionsV1=this.getTodayPendingTransactionsV1.bind(this),this.getValidEventTypes=this.getValidEventTypes.bind(this),this.getValidEventTypesV1=this.getValidEventTypesV1.bind(this),this.grantDailyApproval=this.grantDailyApproval.bind(this),this.grantDailyApprovalV1=this.grantDailyApprovalV1.bind(this),this.healthCheckEndpoint=this.healthCheckEndpoint.bind(this),this.initDb=this.initDb.bind(this),this.listExpenses=this.listExpenses.bind(this),this.listExpensesV1=this.listExpensesV1.bind(this),this.listRevenues=this.listRevenues.bind(this),this.listRevenuesV1=this.listRevenuesV1.bind(this),this.markNotificationsRead=this.markNotificationsRead.bind(this),this.markNotificationsReadV1=this.markNotificationsReadV1.bind(this),this.performanceReportEndpoint=this.performanceReportEndpoint.bind(this),this.performanceTest=this.performanceTest.bind(this),this.queryPerformanceTest=this.queryPerformanceTest.bind(this),this.quickHealthCheckEndpoint=this.quickHealthCheckEndpoint.bind(this),this.quickSetup=this.quickSetup.bind(this),this.reconcileTransaction=this.reconcileTransaction.bind(this),this.reconcileTransactionV1=this.reconcileTransactionV1.bind(this),this.resetApprovalStatus=this.resetApprovalStatus.bind(this),this.resetApprovalStatusV1=this.resetApprovalStatusV1.bind(this),this.resolveAlertEndpoint=this.resolveAlertEndpoint.bind(this),this.rollbackMigrationEndpoint=this.rollbackMigrationEndpoint.bind(this),this.runMigration=this.runMigration.bind(this),this.runMigration13=this.runMigration13.bind(this),this.runMigrationApi=this.runMigrationApi.bind(this),this.runMigrationNoAuth=this.runMigrationNoAuth.bind(this),this.runPaymentMigration=this.runPaymentMigration.bind(this),this.setupDatabase=this.setupDatabase.bind(this),this.simpleTest=this.simpleTest.bind(this),this.subscribeFinanceEvents=this.subscribeFinanceEvents.bind(this),this.subscribeFinanceEventsV1=this.subscribeFinanceEventsV1.bind(this),this.subscribeFinanceRealtime=this.subscribeFinanceRealtime.bind(this),this.subscribeFinanceRealtimeV1=this.subscribeFinanceRealtimeV1.bind(this),this.syncBankTransactions=this.syncBankTransactions.bind(this),this.syncBankTransactionsV1=this.syncBankTransactionsV1.bind(this),this.testAddExpense=this.testAddExpense.bind(this),this.testAddRevenue=this.testAddRevenue.bind(this),this.testDatabase=this.testDatabase.bind(this),this.testDbSchema=this.testDbSchema.bind(this),this.testDbTables=this.testDbTables.bind(this),this.testMinimalAdd=this.testMinimalAdd.bind(this),this.testPaymentMode=this.testPaymentMode.bind(this),this.testSimple=this.testSimple.bind(this),this.testSimpleRevenue=this.testSimpleRevenue.bind(this),this.updateExpense=this.updateExpense.bind(this),this.updateExpenseV1=this.updateExpenseV1.bind(this),this.updateRevenue=this.updateRevenue.bind(this),this.updateRevenueV1=this.updateRevenueV1.bind(this),this.validateMigrationsEndpoint=this.validateMigrationsEndpoint.bind(this),this.verySimpleTest=this.verySimpleTest.bind(this)}async addExpense(a){return await(await this.baseClient.callTypedAPI("POST","/finance/expenses",JSON.stringify(a))).json()}async addExpenseV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/expenses",JSON.stringify(a))).json()}async addMissingColumns(){return await(await this.baseClient.callTypedAPI("POST","/finance/add-missing-columns")).json()}async addPerformanceIndexes(){return await(await this.baseClient.callTypedAPI("POST","/finance/add-performance-indexes")).json()}async addReceiptFileIdColumns(){return await(await this.baseClient.callTypedAPI("POST","/finance/add-receipt-file-id-columns")).json()}async addRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/revenues",JSON.stringify(a))).json()}async addRevenueMinimal(a){return await(await this.baseClient.callTypedAPI("POST","/finance/revenues-minimal",JSON.stringify(a))).json()}async addRevenueV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/revenues",JSON.stringify(a))).json()}async applyAllMigrationsEndpoint(){return await(await this.baseClient.callTypedAPI("POST","/finance/apply-migrations")).json()}async applyMigrationEndpoint(a){return await(await this.baseClient.callTypedAPI("POST",`/finance/apply-migration/${encodeURIComponent(a)}`)).json()}async approveExpense(a){return await(await this.baseClient.callTypedAPI("POST","/finance/expenses/approve",JSON.stringify(a))).json()}async approveExpenseById(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/finance/expenses/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveExpenseByIdV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/finance/expenses/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveExpenseV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/expenses/approve",JSON.stringify(a))).json()}async approveRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/revenues/approve",JSON.stringify(a))).json()}async approveRevenueById(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/finance/revenues/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveRevenueByIdV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/finance/revenues/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveRevenueV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/revenues/approve",JSON.stringify(a))).json()}async bulkApproveTransactions(a){return await(await this.baseClient.callTypedAPI("POST","/finance/bulk-approve",JSON.stringify(a))).json()}async bulkApproveTransactionsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/bulk-approve",JSON.stringify(a))).json()}async checkDailyApproval(){return await(await this.baseClient.callTypedAPI("POST","/finance/check-daily-approval")).json()}async checkDailyApprovalV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/check-daily-approval")).json()}async checkDailyApprovalsSchema(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-daily-approvals-schema")).json()}async checkDbSchemaDirect(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-db-schema-direct")).json()}async checkDbStatus(){await this.baseClient.callTypedAPI("GET","/finance/check-db-status")}async checkExpenseSchema(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-expense-schema")).json()}async checkNotifications(a){var c;const r=De({lastChecked:a.lastChecked===void 0?void 0:String(a.lastChecked),limit:a.limit===void 0?void 0:String(a.limit),types:(c=a.types)==null?void 0:c.map(u=>u)});return await(await this.baseClient.callTypedAPI("GET","/finance/notifications",void 0,{query:r})).json()}async checkNotificationsV1(a){var c;const r=De({lastChecked:a.lastChecked===void 0?void 0:String(a.lastChecked),limit:a.limit===void 0?void 0:String(a.limit),types:(c=a.types)==null?void 0:c.map(u=>u)});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/notifications",void 0,{query:r})).json()}async checkPaymentColumns(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-payment-columns")).json()}async checkSchema(){await this.baseClient.callTypedAPI("GET","/finance/check-schema")}async checkSchemaComprehensive(){return await(await this.baseClient.callTypedAPI("GET","/finance/check-schema-comprehensive")).json()}async clearResolvedAlertsEndpoint(){return await(await this.baseClient.callTypedAPI("POST","/finance/alerts/clear-resolved")).json()}async dbHealthCheck(){return await(await this.baseClient.callTypedAPI("GET","/finance/db-health-check")).json()}async debugDailyApproval(){return await(await this.baseClient.callTypedAPI("POST","/finance/debug-daily-approval")).json()}async debugTransactionStatus(){return await(await this.baseClient.callTypedAPI("POST","/finance/debug-transaction-status")).json()}async deleteExpense(a){return await(await this.baseClient.callTypedAPI("DELETE",`/finance/expenses/${encodeURIComponent(a)}`)).json()}async deleteExpenseV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/finance/expenses/${encodeURIComponent(a)}`)).json()}async deleteRevenue(a){return await(await this.baseClient.callTypedAPI("DELETE",`/finance/revenues/${encodeURIComponent(a)}`)).json()}async deleteRevenueV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/finance/revenues/${encodeURIComponent(a)}`)).json()}async ensureDailyApprovalsTable(){await this.baseClient.callTypedAPI("POST","/finance/ensure-daily-approvals-table")}async ensureNotificationsTable(){await this.baseClient.callTypedAPI("POST","/finance/ensure-notifications-table")}async ensureSchema(){await this.baseClient.callTypedAPI("POST","/finance/ensure-schema")}async fixDailyApprovalsTable(){return await(await this.baseClient.callTypedAPI("POST","/finance/fix-daily-approvals-table")).json()}async fixMigrationIssues(a){return await(await this.baseClient.callTypedAPI("POST","/finance/fix-migration-issues",JSON.stringify(a))).json()}async fixSchema(){return await(await this.baseClient.callTypedAPI("POST","/finance/fix-schema")).json()}async forceInitDb(){await this.baseClient.callTypedAPI("POST","/finance/force-init-db")}async getAlertsEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/alerts")).json()}async getBankAccounts(){return await(await this.baseClient.callTypedAPI("GET","/finance/bank-accounts")).json()}async getBankAccountsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/finance/bank-accounts")).json()}async getDailyApprovalStats(a){const r=De({date:a.date});return await(await this.baseClient.callTypedAPI("GET","/finance/daily-approval-stats",void 0,{query:r})).json()}async getDailyApprovalStatsV1(a){const r=De({date:a.date});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/daily-approval-stats",void 0,{query:r})).json()}async getDailyApprovalSummary(a){const r=De({endDate:a.endDate,startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/finance/daily-approval-summary",void 0,{query:r})).json()}async getDailyApprovalSummaryV1(a){const r=De({endDate:a.endDate,startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/daily-approval-summary",void 0,{query:r})).json()}async getEventHistory(a){const r=De({entityId:a.entityId===void 0?void 0:String(a.entityId),entityType:a.entityType,fromDate:a.fromDate,limit:a.limit===void 0?void 0:String(a.limit),toDate:a.toDate});return await(await this.baseClient.callTypedAPI("GET","/finance/events/history",void 0,{query:r})).json()}async getEventHistoryV1(a){const r=De({entityId:a.entityId===void 0?void 0:String(a.entityId),entityType:a.entityType,fromDate:a.fromDate,limit:a.limit===void 0?void 0:String(a.limit),toDate:a.toDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/events/history",void 0,{query:r})).json()}async getEventMetrics(){await this.baseClient.callTypedAPI("GET","/finance/events/metrics")}async getEventMetricsV1(){await this.baseClient.callTypedAPI("GET","/v1/finance/events/metrics")}async getEventMonitoring(){return await(await this.baseClient.callTypedAPI("GET","/finance/events/monitoring")).json()}async getEventMonitoringV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/finance/events/monitoring")).json()}async getEventValidationHealth(){return await(await this.baseClient.callTypedAPI("GET","/finance/events/health")).json()}async getEventValidationHealthV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/finance/events/health")).json()}async getExpenseById(a){return await(await this.baseClient.callTypedAPI("GET",`/finance/expenses/${encodeURIComponent(a)}`)).json()}async getExpenseByIdV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/finance/expenses/${encodeURIComponent(a)}`)).json()}async getFinanceRealtimeMetrics(){return await(await this.baseClient.callTypedAPI("GET","/finance/realtime/metrics")).json()}async getFinanceRealtimeMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/finance/realtime/metrics")).json()}async getFinancialSummary(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/finance/summary",void 0,{query:r})).json()}async getFinancialSummaryV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/summary",void 0,{query:r})).json()}async getMigrationStatusEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/migration-status")).json()}async getPendingApprovals(){return await(await this.baseClient.callTypedAPI("GET","/finance/pending-approvals")).json()}async getPendingApprovalsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/finance/pending-approvals")).json()}async getRevenueById(a){return await(await this.baseClient.callTypedAPI("GET",`/finance/revenues/${encodeURIComponent(a)}`)).json()}async getRevenueByIdV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/finance/revenues/${encodeURIComponent(a)}`)).json()}async getSchemaStatus(){return await(await this.baseClient.callTypedAPI("GET","/finance/schema-status")).json()}async getTodayPendingTransactions(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/finance/today-pending-transactions",void 0,{query:r})).json()}async getTodayPendingTransactionsV1(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/today-pending-transactions",void 0,{query:r})).json()}async getValidEventTypes(){return await(await this.baseClient.callTypedAPI("GET","/finance/events/types")).json()}async getValidEventTypesV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/finance/events/types")).json()}async grantDailyApproval(a){return await(await this.baseClient.callTypedAPI("POST","/finance/grant-daily-approval",JSON.stringify(a))).json()}async grantDailyApprovalV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/grant-daily-approval",JSON.stringify(a))).json()}async healthCheckEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/health-check")).json()}async initDb(){await this.baseClient.callTypedAPI("POST","/finance/init-db")}async listExpenses(a){const r=De({category:a.category,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate,status:a.status});return await(await this.baseClient.callTypedAPI("GET","/finance/expenses",void 0,{query:r})).json()}async listExpensesV1(a){const r=De({category:a.category,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate,status:a.status});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/expenses",void 0,{query:r})).json()}async listRevenues(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),source:a.source,startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/finance/revenues",void 0,{query:r})).json()}async listRevenuesV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),source:a.source,startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/revenues",void 0,{query:r})).json()}async markNotificationsRead(a){return await(await this.baseClient.callTypedAPI("POST","/finance/notifications/mark-read",JSON.stringify(a))).json()}async markNotificationsReadV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/notifications/mark-read",JSON.stringify(a))).json()}async performanceReportEndpoint(a){const r=De({hours:a.hours===void 0?void 0:String(a.hours)});return await(await this.baseClient.callTypedAPI("GET","/finance/performance-report",void 0,{query:r})).json()}async performanceTest(){return await(await this.baseClient.callTypedAPI("GET","/finance/performance-test")).json()}async queryPerformanceTest(){return await(await this.baseClient.callTypedAPI("GET","/finance/query-performance-test")).json()}async quickHealthCheckEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/health-check/quick")).json()}async quickSetup(){await this.baseClient.callTypedAPI("POST","/finance/quick-setup")}async reconcileTransaction(a){return await(await this.baseClient.callTypedAPI("POST","/finance/reconcile-transaction",JSON.stringify(a))).json()}async reconcileTransactionV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/reconcile",JSON.stringify(a))).json()}async resetApprovalStatus(){return await(await this.baseClient.callTypedAPI("POST","/finance/reset-approval-status")).json()}async resetApprovalStatusV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/reset-approval-status")).json()}async resolveAlertEndpoint(a){return await(await this.baseClient.callTypedAPI("POST","/finance/alerts/resolve",JSON.stringify(a))).json()}async rollbackMigrationEndpoint(a){return await(await this.baseClient.callTypedAPI("POST",`/finance/rollback-migration/${encodeURIComponent(a)}`)).json()}async runMigration(){await this.baseClient.callTypedAPI("POST","/finance/run-migration")}async runMigration13(){await this.baseClient.callTypedAPI("POST","/finance/run-migration-13")}async runMigrationApi(){return await(await this.baseClient.callTypedAPI("POST","/finance/run-migration-auth")).json()}async runMigrationNoAuth(){return await(await this.baseClient.callTypedAPI("POST","/finance/run-migration-no-auth")).json()}async runPaymentMigration(){return await(await this.baseClient.callTypedAPI("POST","/finance/run-payment-migration")).json()}async setupDatabase(){await this.baseClient.callTypedAPI("POST","/finance/setup-database")}async simpleTest(){await this.baseClient.callTypedAPI("GET","/finance/simple-test")}async subscribeFinanceEvents(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/finance/events/subscribe",void 0,{query:r})).json()}async subscribeFinanceEventsV1(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/events/subscribe",void 0,{query:r})).json()}async subscribeFinanceRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/finance/realtime/subscribe",void 0,{query:r})).json()}async subscribeFinanceRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/finance/realtime/subscribe",void 0,{query:r})).json()}async syncBankTransactions(a){return await(await this.baseClient.callTypedAPI("POST","/finance/sync-bank-transactions",JSON.stringify(a))).json()}async syncBankTransactionsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/finance/bank-sync",JSON.stringify(a))).json()}async testAddExpense(a){return await(await this.baseClient.callTypedAPI("POST","/finance/test-add-expense",JSON.stringify(a))).json()}async testAddRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/test-add-revenue",JSON.stringify(a))).json()}async testDatabase(){await this.baseClient.callTypedAPI("GET","/finance/test-database")}async testDbSchema(){return await(await this.baseClient.callTypedAPI("GET","/finance/test-db-schema")).json()}async testDbTables(){return await(await this.baseClient.callTypedAPI("GET","/finance/test-db-tables")).json()}async testMinimalAdd(a){return await(await this.baseClient.callTypedAPI("POST","/finance/test-minimal-add",JSON.stringify(a))).json()}async testPaymentMode(){return await(await this.baseClient.callTypedAPI("GET","/finance/test-payment-mode")).json()}async testSimple(){await this.baseClient.callTypedAPI("GET","/finance/test-simple")}async testSimpleRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/test-simple-revenue",JSON.stringify(a))).json()}async updateExpense(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/finance/expenses/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateExpenseV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/finance/expenses/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateRevenue(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/finance/revenues/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateRevenueV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/finance/revenues/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async validateMigrationsEndpoint(){return await(await this.baseClient.callTypedAPI("GET","/finance/validate-migrations")).json()}async verySimpleTest(){await this.baseClient.callTypedAPI("GET","/finance/very-simple-test")}}e.ServiceClient=s})(yv||(yv={}));var vv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.checkOutGuest=this.checkOutGuest.bind(this),this.checkOutGuestV1=this.checkOutGuestV1.bind(this),this.createCheckIn=this.createCheckIn.bind(this),this.createCheckInV1=this.createCheckInV1.bind(this),this.createCheckInWithDocuments=this.createCheckInWithDocuments.bind(this),this.createCheckInWithDocumentsV1=this.createCheckInWithDocumentsV1.bind(this),this.debugDocuments=this.debugDocuments.bind(this),this.deleteCheckIn=this.deleteCheckIn.bind(this),this.deleteCheckInV1=this.deleteCheckInV1.bind(this),this.deleteDocument=this.deleteDocument.bind(this),this.deleteDocumentV1=this.deleteDocumentV1.bind(this),this.downloadDocument=this.downloadDocument.bind(this),this.downloadDocumentV1=this.downloadDocumentV1.bind(this),this.exportAuditLogs=this.exportAuditLogs.bind(this),this.exportAuditLogsV1=this.exportAuditLogsV1.bind(this),this.extractDocumentDataOnly=this.extractDocumentDataOnly.bind(this),this.extractDocumentDataOnlyV1=this.extractDocumentDataOnlyV1.bind(this),this.generateCForm=this.generateCForm.bind(this),this.generateCFormV1=this.generateCFormV1.bind(this),this.getAuditLogDetail=this.getAuditLogDetail.bind(this),this.getAuditLogDetailV1=this.getAuditLogDetailV1.bind(this),this.getAuditSummary=this.getAuditSummary.bind(this),this.getAuditSummaryV1=this.getAuditSummaryV1.bind(this),this.getCheckIn=this.getCheckIn.bind(this),this.getCheckInStats=this.getCheckInStats.bind(this),this.getCheckInStatsV1=this.getCheckInStatsV1.bind(this),this.getCheckInV1=this.getCheckInV1.bind(this),this.getDocumentStats=this.getDocumentStats.bind(this),this.getDocumentStatsV1=this.getDocumentStatsV1.bind(this),this.getDocumentThumbnail=this.getDocumentThumbnail.bind(this),this.getDocumentThumbnailV1=this.getDocumentThumbnailV1.bind(this),this.getGuestCheckinRealtimeMetrics=this.getGuestCheckinRealtimeMetrics.bind(this),this.getGuestEventMetrics=this.getGuestEventMetrics.bind(this),this.getGuestEventMetricsV1=this.getGuestEventMetricsV1.bind(this),this.listAuditLogs=this.listAuditLogs.bind(this),this.listAuditLogsV1=this.listAuditLogsV1.bind(this),this.listCheckIns=this.listCheckIns.bind(this),this.listCheckInsV1=this.listCheckInsV1.bind(this),this.listDocuments=this.listDocuments.bind(this),this.listDocumentsV1=this.listDocumentsV1.bind(this),this.logViewDocuments=this.logViewDocuments.bind(this),this.logViewDocumentsV1=this.logViewDocumentsV1.bind(this),this.logViewGuestDetails=this.logViewGuestDetails.bind(this),this.logViewGuestDetailsV1=this.logViewGuestDetailsV1.bind(this),this.retryDocumentExtraction=this.retryDocumentExtraction.bind(this),this.retryDocumentExtractionV1=this.retryDocumentExtractionV1.bind(this),this.subscribeAuditEvents=this.subscribeAuditEvents.bind(this),this.subscribeAuditEventsV1=this.subscribeAuditEventsV1.bind(this),this.subscribeAuditEventsV2=this.subscribeAuditEventsV2.bind(this),this.subscribeGuestCheckinEvents=this.subscribeGuestCheckinEvents.bind(this),this.subscribeGuestCheckinRealtime=this.subscribeGuestCheckinRealtime.bind(this),this.subscribeGuestEventsV2=this.subscribeGuestEventsV2.bind(this),this.updateCheckIn=this.updateCheckIn.bind(this),this.updateCheckInV1=this.updateCheckInV1.bind(this),this.uploadDocument=this.uploadDocument.bind(this),this.uploadDocumentV1=this.uploadDocumentV1.bind(this),this.verifyDocument=this.verifyDocument.bind(this),this.verifyDocumentV1=this.verifyDocumentV1.bind(this),this.verifySchema=this.verifySchema.bind(this),this.viewDocument=this.viewDocument.bind(this),this.viewDocumentV1=this.viewDocumentV1.bind(this)}async checkOutGuest(a,r){return await(await this.baseClient.callTypedAPI("POST",`/guest-checkin/${encodeURIComponent(a)}/checkout`,JSON.stringify(r))).json()}async checkOutGuestV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/guest-checkin/${encodeURIComponent(a)}/checkout`,JSON.stringify(r))).json()}async createCheckIn(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/create",JSON.stringify(a))).json()}async createCheckInV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/create",JSON.stringify(a))).json()}async createCheckInWithDocuments(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/create-with-documents",JSON.stringify(a))).json()}async createCheckInWithDocumentsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/create-with-documents",JSON.stringify(a))).json()}async debugDocuments(){return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/debug/db-test")).json()}async deleteCheckIn(a){return await(await this.baseClient.callTypedAPI("DELETE",`/guest-checkin/${encodeURIComponent(a)}`)).json()}async deleteCheckInV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/guest-checkin/${encodeURIComponent(a)}`)).json()}async deleteDocument(a,r){const l=De({hardDelete:r.hardDelete===void 0?void 0:String(r.hardDelete),reason:r.reason});return await(await this.baseClient.callTypedAPI("DELETE",`/guest-checkin/documents/${encodeURIComponent(a)}`,void 0,{query:l})).json()}async deleteDocumentV1(a,r){const l=De({hardDelete:r.hardDelete===void 0?void 0:String(r.hardDelete),reason:r.reason});return await(await this.baseClient.callTypedAPI("DELETE",`/v1/guest-checkin/documents/${encodeURIComponent(a)}`,void 0,{query:l})).json()}async downloadDocument(a){return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/documents/${encodeURIComponent(a)}/download`)).json()}async downloadDocumentV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/download`)).json()}async exportAuditLogs(a){const r=De({actionType:a.actionType,endDate:a.endDate,guestCheckInId:a.guestCheckInId===void 0?void 0:String(a.guestCheckInId),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),resourceType:a.resourceType,startDate:a.startDate,success:a.success===void 0?void 0:String(a.success),userId:a.userId===void 0?void 0:String(a.userId)});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/audit-logs/export",void 0,{query:r})).json()}async exportAuditLogsV1(a){const r=De({actionType:a.actionType,endDate:a.endDate,guestCheckInId:a.guestCheckInId===void 0?void 0:String(a.guestCheckInId),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),resourceType:a.resourceType,startDate:a.startDate,success:a.success===void 0?void 0:String(a.success),userId:a.userId===void 0?void 0:String(a.userId)});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-logs/export",void 0,{query:r})).json()}async extractDocumentDataOnly(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/documents/extract-only",JSON.stringify(a))).json()}async extractDocumentDataOnlyV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/documents/extract-only",JSON.stringify(a))).json()}async generateCForm(a){return await(await this.baseClient.callTypedAPI("POST",`/guest-checkin/${encodeURIComponent(a)}/generate-c-form`)).json()}async generateCFormV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/guest-checkin/${encodeURIComponent(a)}/generate-c-form`)).json()}async getAuditLogDetail(a){return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/audit-logs/${encodeURIComponent(a)}`)).json()}async getAuditLogDetailV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/audit-logs/${encodeURIComponent(a)}`)).json()}async getAuditSummary(){return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/audit-logs/summary")).json()}async getAuditSummaryV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-logs/summary")).json()}async getCheckIn(a){return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/${encodeURIComponent(a)}`)).json()}async getCheckInStats(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/stats",void 0,{query:r})).json()}async getCheckInStatsV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/stats",void 0,{query:r})).json()}async getCheckInV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/${encodeURIComponent(a)}`)).json()}async getDocumentStats(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/documents/stats",void 0,{query:r})).json()}async getDocumentStatsV1(a){const r=De({endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/documents/stats",void 0,{query:r})).json()}async getDocumentThumbnail(a,r){const l=De({token:r.token});return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/documents/${encodeURIComponent(a)}/thumbnail`,void 0,{query:l})).json()}async getDocumentThumbnailV1(a,r){const l=De({token:r.token});return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/thumbnail`,void 0,{query:l})).json()}async getGuestCheckinRealtimeMetrics(){return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/realtime/metrics")).json()}async getGuestEventMetrics(){return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/events/metrics")).json()}async getGuestEventMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/events/metrics")).json()}async listAuditLogs(a){const r=De({actionType:a.actionType,endDate:a.endDate,guestCheckInId:a.guestCheckInId===void 0?void 0:String(a.guestCheckInId),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),resourceType:a.resourceType,startDate:a.startDate,success:a.success===void 0?void 0:String(a.success),userId:a.userId===void 0?void 0:String(a.userId)});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/audit-logs",void 0,{query:r})).json()}async listAuditLogsV1(a){const r=De({actionType:a.actionType,endDate:a.endDate,guestCheckInId:a.guestCheckInId===void 0?void 0:String(a.guestCheckInId),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),resourceType:a.resourceType,startDate:a.startDate,success:a.success===void 0?void 0:String(a.success),userId:a.userId===void 0?void 0:String(a.userId)});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-logs",void 0,{query:r})).json()}async listCheckIns(a){const r=De({endDate:a.endDate,guestType:a.guestType===void 0?void 0:String(a.guestType),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,startDate:a.startDate,status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/list",void 0,{query:r})).json()}async listCheckInsV1(a){const r=De({endDate:a.endDate,guestType:a.guestType===void 0?void 0:String(a.guestType),limit:a.limit===void 0?void 0:String(a.limit),offset:a.offset===void 0?void 0:String(a.offset),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,startDate:a.startDate,status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/list",void 0,{query:r})).json()}async listDocuments(a,r){const l=De({documentType:r.documentType,includeDeleted:r.includeDeleted===void 0?void 0:String(r.includeDeleted)});return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/${encodeURIComponent(a)}/documents`,void 0,{query:l})).json()}async listDocumentsV1(a,r){const l=De({documentType:r.documentType,includeDeleted:r.includeDeleted===void 0?void 0:String(r.includeDeleted)});return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/${encodeURIComponent(a)}/documents`,void 0,{query:l})).json()}async logViewDocuments(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/audit/view-documents",JSON.stringify(a))).json()}async logViewDocumentsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/audit/view-documents",JSON.stringify(a))).json()}async logViewGuestDetails(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/audit/view-guest-details",JSON.stringify(a))).json()}async logViewGuestDetailsV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/audit/view-guest-details",JSON.stringify(a))).json()}async retryDocumentExtraction(a){return await(await this.baseClient.callTypedAPI("POST",`/guest-checkin/documents/${encodeURIComponent(a)}/retry-extraction`)).json()}async retryDocumentExtractionV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/retry-extraction`)).json()}async subscribeAuditEvents(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/audit-events/subscribe",void 0,{query:r})).json()}async subscribeAuditEventsV1(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-events/subscribe-simple",void 0,{query:r})).json()}async subscribeAuditEventsV2(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/audit-events/subscribe",void 0,{query:r})).json()}async subscribeGuestCheckinEvents(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/events/subscribe",void 0,{query:r})).json()}async subscribeGuestCheckinRealtime(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/realtime/subscribe-v3",void 0,{query:r})).json()}async subscribeGuestEventsV2(a){const r=De({lastEventId:a.lastEventId});return await(await this.baseClient.callTypedAPI("GET","/v1/guest-checkin/realtime/subscribe",void 0,{query:r})).json()}async updateCheckIn(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/guest-checkin/${encodeURIComponent(a)}/update`,JSON.stringify(r))).json()}async updateCheckInV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/guest-checkin/${encodeURIComponent(a)}/update`,JSON.stringify(r))).json()}async uploadDocument(a){return await(await this.baseClient.callTypedAPI("POST","/guest-checkin/documents/upload",JSON.stringify(a))).json()}async uploadDocumentV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/guest-checkin/documents/upload",JSON.stringify(a))).json()}async verifyDocument(a,r){return await(await this.baseClient.callTypedAPI("POST",`/guest-checkin/documents/${encodeURIComponent(a)}/verify`,JSON.stringify(r))).json()}async verifyDocumentV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/verify`,JSON.stringify(r))).json()}async verifySchema(){return await(await this.baseClient.callTypedAPI("GET","/guest-checkin/verify-schema")).json()}async viewDocument(a,r){const l=De({token:r.token});return await(await this.baseClient.callTypedAPI("GET",`/guest-checkin/documents/${encodeURIComponent(a)}/view`,void 0,{query:l})).json()}async viewDocumentV1(a,r){const l=De({token:r.token});return await(await this.baseClient.callTypedAPI("GET",`/v1/guest-checkin/documents/${encodeURIComponent(a)}/view`,void 0,{query:l})).json()}}e.ServiceClient=s})(vv||(vv={}));var bv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.acknowledgeAlert=this.acknowledgeAlert.bind(this),this.acknowledgeAlertV1=this.acknowledgeAlertV1.bind(this),this.clearAlert=this.clearAlert.bind(this),this.clearAlertV1=this.clearAlertV1.bind(this),this.getActiveAlerts=this.getActiveAlerts.bind(this),this.getActiveAlertsV1=this.getActiveAlertsV1.bind(this),this.getAggregatedMetrics=this.getAggregatedMetrics.bind(this),this.getAggregatedMetricsV1=this.getAggregatedMetricsV1.bind(this),this.getAlertHistory=this.getAlertHistory.bind(this),this.getAlertHistoryV1=this.getAlertHistoryV1.bind(this),this.getAlertStats=this.getAlertStats.bind(this),this.getAlertStatsV1=this.getAlertStatsV1.bind(this),this.getAllMetrics=this.getAllMetrics.bind(this),this.getAllMetricsV1=this.getAllMetricsV1.bind(this),this.getCacheInvalidationMetrics=this.getCacheInvalidationMetrics.bind(this),this.getCacheInvalidationMetricsV1=this.getCacheInvalidationMetricsV1.bind(this),this.getCacheKeyStats=this.getCacheKeyStats.bind(this),this.getCacheKeyStatsV1=this.getCacheKeyStatsV1.bind(this),this.getMetricHistory=this.getMetricHistory.bind(this),this.getMetricHistoryV1=this.getMetricHistoryV1.bind(this),this.getPartitionMetrics=this.getPartitionMetrics.bind(this),this.getPartitionMetricsV1=this.getPartitionMetricsV1.bind(this),this.getPartitionTableStats=this.getPartitionTableStats.bind(this),this.getPartitionTableStatsV1=this.getPartitionTableStatsV1.bind(this),this.getPerformanceMetrics=this.getPerformanceMetrics.bind(this),this.getSystemHealth=this.getSystemHealth.bind(this),this.getSystemHealthDashboard=this.getSystemHealthDashboard.bind(this),this.getSystemHealthDashboardV1=this.getSystemHealthDashboardV1.bind(this),this.getSystemHealthV1=this.getSystemHealthV1.bind(this),this.getSystemMetrics=this.getSystemMetrics.bind(this),this.getUnifiedMetrics=this.getUnifiedMetrics.bind(this),this.getUnifiedMetricsV1=this.getUnifiedMetricsV1.bind(this),this.healthCheck=this.healthCheck.bind(this),this.healthCheckSimple=this.healthCheckSimple.bind(this),this.healthCheckSimpleV1=this.healthCheckSimpleV1.bind(this),this.livenessCheck=this.livenessCheck.bind(this),this.livenessCheckV1=this.livenessCheckV1.bind(this),this.readinessCheck=this.readinessCheck.bind(this),this.readinessCheckV1=this.readinessCheckV1.bind(this),this.resetCacheMetrics=this.resetCacheMetrics.bind(this),this.resetCacheMetricsV1=this.resetCacheMetricsV1.bind(this),this.runPartitionMigration=this.runPartitionMigration.bind(this),this.runPartitionMigrationV1=this.runPartitionMigrationV1.bind(this),this.verifyPartitions=this.verifyPartitions.bind(this),this.verifyPartitionsV1=this.verifyPartitionsV1.bind(this)}async acknowledgeAlert(a){return await(await this.baseClient.callTypedAPI("POST",`/alerts/${encodeURIComponent(a)}/acknowledge`)).json()}async acknowledgeAlertV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/system/alerts/${encodeURIComponent(a)}/acknowledge`)).json()}async clearAlert(a){return await(await this.baseClient.callTypedAPI("POST",`/alerts/${encodeURIComponent(a)}/clear`)).json()}async clearAlertV1(a){return await(await this.baseClient.callTypedAPI("POST",`/v1/system/alerts/${encodeURIComponent(a)}/clear`)).json()}async getActiveAlerts(){await this.baseClient.callTypedAPI("GET","/alerts/active")}async getActiveAlertsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/alerts/active")}async getAggregatedMetrics(){await this.baseClient.callTypedAPI("GET","/metrics/aggregated")}async getAggregatedMetricsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/metrics/aggregated")}async getAlertHistory(){await this.baseClient.callTypedAPI("GET","/alerts/history")}async getAlertHistoryV1(){await this.baseClient.callTypedAPI("GET","/v1/system/alerts/history")}async getAlertStats(){await this.baseClient.callTypedAPI("GET","/alerts/stats")}async getAlertStatsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/alerts/stats")}async getAllMetrics(){await this.baseClient.callTypedAPI("GET","/metrics/all")}async getAllMetricsV1(){await this.baseClient.callTypedAPI("GET","/v1/system/metrics/all")}async getCacheInvalidationMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/cache/invalidation-metrics")).json()}async getCacheInvalidationMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/cache/invalidation-metrics")).json()}async getCacheKeyStats(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/cache/key-stats")).json()}async getCacheKeyStatsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/cache/key-stats")).json()}async getMetricHistory(a){return await(await this.baseClient.callTypedAPI("GET",`/metrics/${encodeURIComponent(a)}`)).json()}async getMetricHistoryV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/system/metrics/${encodeURIComponent(a)}`)).json()}async getPartitionMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/partitions/metrics")).json()}async getPartitionMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/partitions/metrics")).json()}async getPartitionTableStats(a){const r=De({tableName:a.tableName});return await(await this.baseClient.callTypedAPI("GET","/monitoring/partitions/table-stats",void 0,{query:r})).json()}async getPartitionTableStatsV1(a){const r=De({tableName:a.tableName});return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/partitions/table-stats",void 0,{query:r})).json()}async getPerformanceMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/performance")).json()}async getSystemHealth(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/unified/health")).json()}async getSystemHealthDashboard(){await this.baseClient.callTypedAPI("GET","/monitoring/dashboard")}async getSystemHealthDashboardV1(){await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/dashboard")}async getSystemHealthV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/unified/health")).json()}async getSystemMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/system")).json()}async getUnifiedMetrics(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/unified/metrics")).json()}async getUnifiedMetricsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/unified/metrics")).json()}async healthCheck(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/health")).json()}async healthCheckSimple(){await this.baseClient.callTypedAPI("GET","/health")}async healthCheckSimpleV1(){await this.baseClient.callTypedAPI("GET","/v1/system/health")}async livenessCheck(){await this.baseClient.callTypedAPI("GET","/live")}async livenessCheckV1(){await this.baseClient.callTypedAPI("GET","/v1/system/live")}async readinessCheck(){await this.baseClient.callTypedAPI("GET","/ready")}async readinessCheckV1(){await this.baseClient.callTypedAPI("GET","/v1/system/ready")}async resetCacheMetrics(){return await(await this.baseClient.callTypedAPI("POST","/monitoring/cache/reset-metrics")).json()}async resetCacheMetricsV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/system/monitoring/cache/reset-metrics")).json()}async runPartitionMigration(){return await(await this.baseClient.callTypedAPI("POST","/monitoring/run-partition-migration")).json()}async runPartitionMigrationV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/system/monitoring/partitions/migrate")).json()}async verifyPartitions(){return await(await this.baseClient.callTypedAPI("GET","/monitoring/verify-partitions")).json()}async verifyPartitionsV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/system/monitoring/partitions/verify")).json()}}e.ServiceClient=s})(bv||(bv={}));var wv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.create=this.create.bind(this),this.createV1=this.createV1.bind(this),this.invite=this.invite.bind(this),this.inviteV1=this.inviteV1.bind(this)}async create(a){return await(await this.baseClient.callTypedAPI("POST","/orgs",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/orgs",JSON.stringify(a))).json()}async invite(a){return await(await this.baseClient.callTypedAPI("POST","/orgs/invite",JSON.stringify(a))).json()}async inviteV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/orgs/invite",JSON.stringify(a))).json()}}e.ServiceClient=s})(wv||(wv={}));var jv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.create=this.create.bind(this),this.createV1=this.createV1.bind(this),this.deleteProperty=this.deleteProperty.bind(this),this.deletePropertyV1=this.deletePropertyV1.bind(this),this.getOccupancy=this.getOccupancy.bind(this),this.getOccupancyV1=this.getOccupancyV1.bind(this),this.list=this.list.bind(this),this.listV1=this.listV1.bind(this),this.subscribePropertiesRealtime=this.subscribePropertiesRealtime.bind(this),this.subscribePropertiesRealtimeV1=this.subscribePropertiesRealtimeV1.bind(this),this.update=this.update.bind(this),this.updateV1=this.updateV1.bind(this)}async create(a){return await(await this.baseClient.callTypedAPI("POST","/properties",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/properties",JSON.stringify(a))).json()}async deleteProperty(a){return await(await this.baseClient.callTypedAPI("DELETE",`/properties/${encodeURIComponent(a)}`)).json()}async deletePropertyV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/properties/${encodeURIComponent(a)}`)).json()}async getOccupancy(a){return await(await this.baseClient.callTypedAPI("GET",`/properties/${encodeURIComponent(a)}/occupancy`)).json()}async getOccupancyV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/properties/${encodeURIComponent(a)}/occupancy`)).json()}async list(a){const r=De({regionId:a.regionId===void 0?void 0:String(a.regionId),type:a.type===void 0?void 0:String(a.type)});return await(await this.baseClient.callTypedAPI("GET","/properties",void 0,{query:r})).json()}async listV1(a){const r=De({regionId:a.regionId===void 0?void 0:String(a.regionId),type:a.type===void 0?void 0:String(a.type)});return await(await this.baseClient.callTypedAPI("GET","/v1/properties",void 0,{query:r})).json()}async subscribePropertiesRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/properties/realtime/subscribe",void 0,{query:r})).json()}async subscribePropertiesRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/properties/realtime/subscribe",void 0,{query:r})).json()}async update(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/properties/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/properties/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}}e.ServiceClient=s})(jv||(jv={}));var Nv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.getStreamingMetrics=this.getStreamingMetrics.bind(this),this.streamRealtimeEvents=this.streamRealtimeEvents.bind(this)}async getStreamingMetrics(){return await(await this.baseClient.callTypedAPI("GET","/v2/realtime/metrics")).json()}async streamRealtimeEvents(a){const r=De({lastSeq:a.lastSeq===void 0?void 0:String(a.lastSeq),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),services:a.services.map(l=>String(l)),version:String(a.version)});return await this.baseClient.createStreamIn("/v2/realtime/stream",{query:r})}}e.ServiceClient=s})(Nv||(Nv={}));var Sv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.auditPropertyBalances=this.auditPropertyBalances.bind(this),this.auditPropertyBalancesV1=this.auditPropertyBalancesV1.bind(this),this.calculateOpeningBalanceEndpoint=this.calculateOpeningBalanceEndpoint.bind(this),this.checkDataIntegrity=this.checkDataIntegrity.bind(this),this.checkSchema=this.checkSchema.bind(this),this.clearCache=this.clearCache.bind(this),this.clearCacheV1=this.clearCacheV1.bind(this),this.debugAllTransactions=this.debugAllTransactions.bind(this),this.debugDailyReport=this.debugDailyReport.bind(this),this.debugDailyReportStructure=this.debugDailyReportStructure.bind(this),this.exportDailyReportExcel=this.exportDailyReportExcel.bind(this),this.exportDailyReportExcelV1=this.exportDailyReportExcelV1.bind(this),this.exportDailyReportExcelv2=this.exportDailyReportExcelv2.bind(this),this.exportDailyReportPDF=this.exportDailyReportPDF.bind(this),this.exportDailyReportPDFV1=this.exportDailyReportPDFV1.bind(this),this.exportDailyReportPDFv2=this.exportDailyReportPDFv2.bind(this),this.exportMonthlyReportExcel=this.exportMonthlyReportExcel.bind(this),this.exportMonthlyReportExcelV1=this.exportMonthlyReportExcelV1.bind(this),this.exportMonthlyReportExcelv2=this.exportMonthlyReportExcelv2.bind(this),this.exportMonthlyReportPDF=this.exportMonthlyReportPDF.bind(this),this.exportMonthlyReportPDFV1=this.exportMonthlyReportPDFV1.bind(this),this.exportMonthlyReportPDFv2=this.exportMonthlyReportPDFv2.bind(this),this.fixBalanceCarryForward=this.fixBalanceCarryForward.bind(this),this.fixBalanceCarryForwardPermanent=this.fixBalanceCarryForwardPermanent.bind(this),this.fixBalanceChain=this.fixBalanceChain.bind(this),this.fixSingleDate=this.fixSingleDate.bind(this),this.forceBalanceCacheInvalidation=this.forceBalanceCacheInvalidation.bind(this),this.generatePDF=this.generatePDF.bind(this),this.generatePDFV1=this.generatePDFV1.bind(this),this.getCacheMetrics=this.getCacheMetrics.bind(this),this.getCacheMetricsV1=this.getCacheMetricsV1.bind(this),this.getDailyReport=this.getDailyReport.bind(this),this.getDailyReportV1=this.getDailyReportV1.bind(this),this.getDailyReports=this.getDailyReports.bind(this),this.getDailyReportsV1=this.getDailyReportsV1.bind(this),this.getDateTransactions=this.getDateTransactions.bind(this),this.getDateTransactionsV1=this.getDateTransactionsV1.bind(this),this.getMonthlyReport=this.getMonthlyReport.bind(this),this.getMonthlyReportV1=this.getMonthlyReportV1.bind(this),this.getMonthlySummary=this.getMonthlySummary.bind(this),this.getMonthlySummaryV1=this.getMonthlySummaryV1.bind(this),this.getMonthlyYearlyReport=this.getMonthlyYearlyReport.bind(this),this.getMonthlyYearlyReportV1=this.getMonthlyYearlyReportV1.bind(this),this.getQuarterlySummary=this.getQuarterlySummary.bind(this),this.getQuarterlySummaryV1=this.getQuarterlySummaryV1.bind(this),this.getYearlySummary=this.getYearlySummary.bind(this),this.getYearlySummaryV1=this.getYearlySummaryV1.bind(this),this.pollRealtimeUpdates=this.pollRealtimeUpdates.bind(this),this.pollRealtimeUpdatesV1=this.pollRealtimeUpdatesV1.bind(this),this.reconcileDailyCashBalance=this.reconcileDailyCashBalance.bind(this),this.reconcileDailyCashBalanceV1=this.reconcileDailyCashBalanceV1.bind(this),this.runCompleteMigration=this.runCompleteMigration.bind(this),this.runMigration=this.runMigration.bind(this),this.updateDailyCashBalance=this.updateDailyCashBalance.bind(this),this.updateDailyCashBalanceSmart=this.updateDailyCashBalanceSmart.bind(this),this.updateDailyCashBalanceSmartV1=this.updateDailyCashBalanceSmartV1.bind(this),this.updateDailyCashBalanceV1=this.updateDailyCashBalanceV1.bind(this),this.validateBalanceChain=this.validateBalanceChain.bind(this)}async auditPropertyBalances(a){const r=De({endDate:a.endDate,propertyId:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/audit-balances",void 0,{query:r})).json()}async auditPropertyBalancesV1(a){const r=De({endDate:a.endDate,propertyId:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/audit-balances",void 0,{query:r})).json()}async calculateOpeningBalanceEndpoint(a){return await(await this.baseClient.callTypedAPI("POST","/reports/calculate-opening-balance",JSON.stringify(a))).json()}async checkDataIntegrity(a){const r=De({endDate:a.endDate,propertyId:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/check-integrity",void 0,{query:r})).json()}async checkSchema(){await this.baseClient.callTypedAPI("GET","/reports/check-schema")}async clearCache(){await this.baseClient.callTypedAPI("POST","/reports/cache/clear")}async clearCacheV1(){await this.baseClient.callTypedAPI("POST","/v1/reports/cache/clear")}async debugAllTransactions(a){return await(await this.baseClient.callTypedAPI("POST","/reports/debug-all-transactions",JSON.stringify(a))).json()}async debugDailyReport(a){return await(await this.baseClient.callTypedAPI("POST","/reports/debug-daily-report",JSON.stringify(a))).json()}async debugDailyReportStructure(a){const r=De({date:a.date,propertyId:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/reports/debug-daily-report-structure",void 0,{query:r})).json()}async exportDailyReportExcel(a){return await(await this.baseClient.callTypedAPI("POST","/reports/export-daily-excel",JSON.stringify(a))).json()}async exportDailyReportExcelV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/export/daily-excel",JSON.stringify(a))).json()}async exportDailyReportExcelv2(a){return await(await this.baseClient.callTypedAPI("POST","/reports/v2/export-daily-excel",JSON.stringify(a))).json()}async exportDailyReportPDF(a){return await(await this.baseClient.callTypedAPI("POST","/reports/export-daily-pdf",JSON.stringify(a))).json()}async exportDailyReportPDFV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/export/daily-pdf",JSON.stringify(a))).json()}async exportDailyReportPDFv2(a){return await(await this.baseClient.callTypedAPI("POST","/reports/v2/export-daily-pdf",JSON.stringify(a))).json()}async exportMonthlyReportExcel(a){return await(await this.baseClient.callTypedAPI("POST","/reports/export-monthly-excel",JSON.stringify(a))).json()}async exportMonthlyReportExcelV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/export/monthly-excel",JSON.stringify(a))).json()}async exportMonthlyReportExcelv2(a){return await(await this.baseClient.callTypedAPI("POST","/reports/v2/export-monthly-excel",JSON.stringify(a))).json()}async exportMonthlyReportPDF(a){return await(await this.baseClient.callTypedAPI("POST","/reports/export-monthly-pdf",JSON.stringify(a))).json()}async exportMonthlyReportPDFV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/export/monthly-pdf",JSON.stringify(a))).json()}async exportMonthlyReportPDFv2(a){return await(await this.baseClient.callTypedAPI("POST","/reports/v2/export-monthly-pdf",JSON.stringify(a))).json()}async fixBalanceCarryForward(a){return await(await this.baseClient.callTypedAPI("POST","/reports/fix-balance-carry-forward",JSON.stringify(a))).json()}async fixBalanceCarryForwardPermanent(a){return await(await this.baseClient.callTypedAPI("POST","/reports/fix-balance-carry-forward-permanent",JSON.stringify(a))).json()}async fixBalanceChain(a){return await(await this.baseClient.callTypedAPI("POST","/reports/fix-balance-chain",JSON.stringify(a))).json()}async fixSingleDate(a){return await(await this.baseClient.callTypedAPI("POST","/reports/fix-single-date",JSON.stringify(a))).json()}async forceBalanceCacheInvalidation(a){return await(await this.baseClient.callTypedAPI("POST","/reports/force-balance-cache-invalidation",JSON.stringify(a))).json()}async generatePDF(a){return await(await this.baseClient.callTypedAPI("POST","/reports/generate-pdf",JSON.stringify(a))).json()}async generatePDFV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/generate-pdf",JSON.stringify(a))).json()}async getCacheMetrics(){await this.baseClient.callTypedAPI("GET","/reports/cache/metrics")}async getCacheMetricsV1(){await this.baseClient.callTypedAPI("GET","/v1/reports/cache/metrics")}async getDailyReport(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/daily-report",void 0,{query:r})).json()}async getDailyReportV1(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/daily-report",void 0,{query:r})).json()}async getDailyReports(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/daily-reports",void 0,{query:r})).json()}async getDailyReportsV1(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/daily-reports",void 0,{query:r})).json()}async getDateTransactions(a){const r=De({date:a.date,propertyId:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/reports/date-transactions",void 0,{query:r})).json()}async getDateTransactionsV1(a){const r=De({date:a.date,propertyId:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/date-transactions",void 0,{query:r})).json()}async getMonthlyReport(a){const r=De({includePending:a.includePending===void 0?void 0:String(a.includePending),month:String(a.month),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:String(a.year)});return await(await this.baseClient.callTypedAPI("GET","/reports/monthly-report",void 0,{query:r})).json()}async getMonthlyReportV1(a){const r=De({includePending:a.includePending===void 0?void 0:String(a.includePending),month:String(a.month),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:String(a.year)});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/monthly-report",void 0,{query:r})).json()}async getMonthlySummary(a){const r=De({month:a.month,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/reports/monthly-summary",void 0,{query:r})).json()}async getMonthlySummaryV1(a){const r=De({month:a.month,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/monthly-summary",void 0,{query:r})).json()}async getMonthlyYearlyReport(a){const r=De({endDate:a.endDate,includePending:a.includePending===void 0?void 0:String(a.includePending),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/monthly-yearly-report",void 0,{query:r})).json()}async getMonthlyYearlyReportV1(a){const r=De({endDate:a.endDate,includePending:a.includePending===void 0?void 0:String(a.includePending),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/monthly-yearly-report",void 0,{query:r})).json()}async getQuarterlySummary(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId),quarter:String(a.quarter),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/reports/quarterly-summary",void 0,{query:r})).json()}async getQuarterlySummaryV1(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId),quarter:String(a.quarter),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/quarterly-summary",void 0,{query:r})).json()}async getYearlySummary(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/reports/yearly-summary",void 0,{query:r})).json()}async getYearlySummaryV1(a){const r=De({propertyId:a.propertyId===void 0?void 0:String(a.propertyId),year:a.year});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/yearly-summary",void 0,{query:r})).json()}async pollRealtimeUpdates(a){const r=De({lastUpdateTime:a.lastUpdateTime});return await(await this.baseClient.callTypedAPI("GET","/reports/realtime/poll",void 0,{query:r})).json()}async pollRealtimeUpdatesV1(a){const r=De({lastUpdateTime:a.lastUpdateTime});return await(await this.baseClient.callTypedAPI("GET","/v1/reports/realtime/poll",void 0,{query:r})).json()}async reconcileDailyCashBalance(a){return await(await this.baseClient.callTypedAPI("POST","/reports/reconcile-daily-balance",JSON.stringify(a))).json()}async reconcileDailyCashBalanceV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/reconcile-daily-cash-balance",JSON.stringify(a))).json()}async runCompleteMigration(){await this.baseClient.callTypedAPI("POST","/reports/run-complete-migration")}async runMigration(){await this.baseClient.callTypedAPI("POST","/reports/run-migration")}async updateDailyCashBalance(a){return await(await this.baseClient.callTypedAPI("POST","/reports/daily-cash-balance",JSON.stringify(a))).json()}async updateDailyCashBalanceSmart(a){return await(await this.baseClient.callTypedAPI("POST","/reports/daily-cash-balance-smart",JSON.stringify(a))).json()}async updateDailyCashBalanceSmartV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/update-daily-cash-balance-smart",JSON.stringify(a))).json()}async updateDailyCashBalanceV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/reports/update-daily-cash-balance",JSON.stringify(a))).json()}async validateBalanceChain(a){return await(await this.baseClient.callTypedAPI("POST","/reports/validate-balance-chain",JSON.stringify(a))).json()}}e.ServiceClient=s})(Sv||(Sv={}));var Cv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.seedData=this.seedData.bind(this)}async seedData(){await this.baseClient.callTypedAPI("POST","/seed/data")}}e.ServiceClient=s})(Cv||(Cv={}));var Tv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.clearCache=this.clearCache.bind(this),this.getCache=this.getCache.bind(this),this.getCacheHealth=this.getCacheHealth.bind(this),this.getCacheStats=this.getCacheStats.bind(this),this.invalidateCache=this.invalidateCache.bind(this),this.setCache=this.setCache.bind(this)}async clearCache(a){return await(await this.baseClient.callTypedAPI("POST","/cache/clear",JSON.stringify(a))).json()}async getCache(a){const r=De({key:a.key});return await(await this.baseClient.callTypedAPI("GET","/cache/get",void 0,{query:r})).json()}async getCacheHealth(){return await(await this.baseClient.callTypedAPI("GET","/cache/health")).json()}async getCacheStats(){return await(await this.baseClient.callTypedAPI("GET","/cache/stats")).json()}async invalidateCache(a){return await(await this.baseClient.callTypedAPI("POST","/cache/invalidate",JSON.stringify(a))).json()}async setCache(a){return await(await this.baseClient.callTypedAPI("POST","/cache/set",JSON.stringify(a))).json()}}e.ServiceClient=s})(Tv||(Tv={}));var kv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.batchPublishEvents=this.batchPublishEvents.bind(this),this.getEventStats=this.getEventStats.bind(this),this.getEventsHealth=this.getEventsHealth.bind(this),this.publishEvent=this.publishEvent.bind(this)}async batchPublishEvents(a){return await(await this.baseClient.callTypedAPI("POST","/events/batch-publish",JSON.stringify(a))).json()}async getEventStats(){return await(await this.baseClient.callTypedAPI("GET","/events/stats")).json()}async getEventsHealth(){return await(await this.baseClient.callTypedAPI("GET","/events/health")).json()}async publishEvent(a){return await(await this.baseClient.callTypedAPI("POST","/events/publish",JSON.stringify(a))).json()}}e.ServiceClient=s})(kv||(kv={}));var Ev;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.addExpense=this.addExpense.bind(this),this.addRevenue=this.addRevenue.bind(this),this.approveTransaction=this.approveTransaction.bind(this),this.getFinanceHealth=this.getFinanceHealth.bind(this)}async addExpense(a){return await(await this.baseClient.callTypedAPI("POST","/finance/expense",JSON.stringify(a))).json()}async addRevenue(a){return await(await this.baseClient.callTypedAPI("POST","/finance/revenue",JSON.stringify(a))).json()}async approveTransaction(a){return await(await this.baseClient.callTypedAPI("POST","/finance/approve",JSON.stringify(a))).json()}async getFinanceHealth(){return await(await this.baseClient.callTypedAPI("GET","/finance/health")).json()}}e.ServiceClient=s})(Ev||(Ev={}));var Av;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.getDailyReport=this.getDailyReport.bind(this),this.getMonthlyReport=this.getMonthlyReport.bind(this),this.getReportsHealth=this.getReportsHealth.bind(this),this.reconcileDailyBalance=this.reconcileDailyBalance.bind(this)}async getDailyReport(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/daily",void 0,{query:r})).json()}async getMonthlyReport(a){const r=De({date:a.date,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/reports/monthly",void 0,{query:r})).json()}async getReportsHealth(){return await(await this.baseClient.callTypedAPI("GET","/reports/health")).json()}async reconcileDailyBalance(a){return await(await this.baseClient.callTypedAPI("POST","/reports/reconcile",JSON.stringify(a))).json()}}e.ServiceClient=s})(Av||(Av={}));var Dv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.approveEmergencyLeave=this.approveEmergencyLeave.bind(this),this.approveEmergencyLeaveV1=this.approveEmergencyLeaveV1.bind(this),this.approveLeave=this.approveLeave.bind(this),this.approveLeaveRequest=this.approveLeaveRequest.bind(this),this.approveLeaveRequestV1=this.approveLeaveRequestV1.bind(this),this.approveLeaveV1=this.approveLeaveV1.bind(this),this.approveScheduleChangeRequest=this.approveScheduleChangeRequest.bind(this),this.approveScheduleChangeRequestV1=this.approveScheduleChangeRequestV1.bind(this),this.assignProperty=this.assignProperty.bind(this),this.assignPropertyV1=this.assignPropertyV1.bind(this),this.calculateSalary=this.calculateSalary.bind(this),this.calculateSalaryV1=this.calculateSalaryV1.bind(this),this.checkIn=this.checkIn.bind(this),this.checkInV1=this.checkInV1.bind(this),this.checkOut=this.checkOut.bind(this),this.checkOutV1=this.checkOutV1.bind(this),this.create=this.create.bind(this),this.createEmergencyLeave=this.createEmergencyLeave.bind(this),this.createEmergencyLeaveV1=this.createEmergencyLeaveV1.bind(this),this.createSalaryComponent=this.createSalaryComponent.bind(this),this.createSchedule=this.createSchedule.bind(this),this.createScheduleChangeRequest=this.createScheduleChangeRequest.bind(this),this.createScheduleChangeRequestV1=this.createScheduleChangeRequestV1.bind(this),this.createScheduleV1=this.createScheduleV1.bind(this),this.createV1=this.createV1.bind(this),this.deleteStaff=this.deleteStaff.bind(this),this.deleteStaffV1=this.deleteStaffV1.bind(this),this.exportAttendance=this.exportAttendance.bind(this),this.exportAttendanceV1=this.exportAttendanceV1.bind(this),this.exportAttendancev2=this.exportAttendancev2.bind(this),this.exportLeave=this.exportLeave.bind(this),this.exportLeaveV1=this.exportLeaveV1.bind(this),this.exportLeavev2=this.exportLeavev2.bind(this),this.exportSalary=this.exportSalary.bind(this),this.exportSalaryV1=this.exportSalaryV1.bind(this),this.exportSalaryv2=this.exportSalaryv2.bind(this),this.fixSchema=this.fixSchema.bind(this),this.generatePayslip=this.generatePayslip.bind(this),this.generatePayslipV1=this.generatePayslipV1.bind(this),this.getAttendanceStatistics=this.getAttendanceStatistics.bind(this),this.getAttendanceStatisticsV1=this.getAttendanceStatisticsV1.bind(this),this.getLeaveBalance=this.getLeaveBalance.bind(this),this.getLeaveBalanceV1=this.getLeaveBalanceV1.bind(this),this.getLeaveStatistics=this.getLeaveStatistics.bind(this),this.getLeaveStatisticsV1=this.getLeaveStatisticsV1.bind(this),this.getPayslip=this.getPayslip.bind(this),this.getPayslipV1=this.getPayslipV1.bind(this),this.getSalaryStatistics=this.getSalaryStatistics.bind(this),this.getSalaryStatisticsV1=this.getSalaryStatisticsV1.bind(this),this.getScheduleStatistics=this.getScheduleStatistics.bind(this),this.getScheduleStatisticsV1=this.getScheduleStatisticsV1.bind(this),this.getStatistics=this.getStatistics.bind(this),this.getStatisticsV1=this.getStatisticsV1.bind(this),this.list=this.list.bind(this),this.listAttendance=this.listAttendance.bind(this),this.listAttendanceV1=this.listAttendanceV1.bind(this),this.listLeaveRequests=this.listLeaveRequests.bind(this),this.listLeaveRequestsV1=this.listLeaveRequestsV1.bind(this),this.listPayslips=this.listPayslips.bind(this),this.listPayslipsV1=this.listPayslipsV1.bind(this),this.listSalaryComponents=this.listSalaryComponents.bind(this),this.listScheduleChangeRequests=this.listScheduleChangeRequests.bind(this),this.listScheduleChangeRequestsV1=this.listScheduleChangeRequestsV1.bind(this),this.listSchedules=this.listSchedules.bind(this),this.listSchedulesV1=this.listSchedulesV1.bind(this),this.listV1=this.listV1.bind(this),this.markScheduleCompletion=this.markScheduleCompletion.bind(this),this.markScheduleCompletionV1=this.markScheduleCompletionV1.bind(this),this.requestLeave=this.requestLeave.bind(this),this.requestLeaveV1=this.requestLeaveV1.bind(this),this.search=this.search.bind(this),this.searchV1=this.searchV1.bind(this),this.subscribeStaffRealtime=this.subscribeStaffRealtime.bind(this),this.subscribeStaffRealtimeV1=this.subscribeStaffRealtimeV1.bind(this),this.update=this.update.bind(this),this.updateAttendance=this.updateAttendance.bind(this),this.updateAttendanceV1=this.updateAttendanceV1.bind(this),this.updateDepartment=this.updateDepartment.bind(this),this.updateDepartmentV1=this.updateDepartmentV1.bind(this),this.updateLeaveBalance=this.updateLeaveBalance.bind(this),this.updateLeaveBalanceV1=this.updateLeaveBalanceV1.bind(this),this.updatePayslipStatus=this.updatePayslipStatus.bind(this),this.updatePayslipStatusV1=this.updatePayslipStatusV1.bind(this),this.updatePerformance=this.updatePerformance.bind(this),this.updatePerformanceV1=this.updatePerformanceV1.bind(this),this.updateSimple=this.updateSimple.bind(this),this.updateSimpleV1=this.updateSimpleV1.bind(this),this.updateStatus=this.updateStatus.bind(this),this.updateStatusV1=this.updateStatusV1.bind(this),this.updateV1=this.updateV1.bind(this),this.validateAttendance=this.validateAttendance.bind(this),this.validateAttendanceV1=this.validateAttendanceV1.bind(this),this.validateLeaveRequest=this.validateLeaveRequest.bind(this),this.validateLeaveRequestV1=this.validateLeaveRequestV1.bind(this),this.validateSalary=this.validateSalary.bind(this),this.validateSalaryV1=this.validateSalaryV1.bind(this),this.validateSchedule=this.validateSchedule.bind(this),this.validateScheduleV1=this.validateScheduleV1.bind(this)}async approveEmergencyLeave(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/emergency-leave/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveEmergencyLeaveV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/emergency-leave/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveLeave(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/leave/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveLeaveRequest(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/leave-requests/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveLeaveRequestV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/leave-requests/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveLeaveV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/leave/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveScheduleChangeRequest(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/schedule-change-requests/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async approveScheduleChangeRequestV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/schedule-change-requests/${encodeURIComponent(a)}/approve`,JSON.stringify(r))).json()}async assignProperty(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/assign-property`,JSON.stringify(r))).json()}async assignPropertyV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/assign-property`,JSON.stringify(r))).json()}async calculateSalary(a,r){return await(await this.baseClient.callTypedAPI("POST",`/staff/${encodeURIComponent(a)}/calculate-salary`,JSON.stringify(r))).json()}async calculateSalaryV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/staff/${encodeURIComponent(a)}/calculate-salary`,JSON.stringify(r))).json()}async checkIn(a,r){return await(await this.baseClient.callTypedAPI("POST",`/staff/${encodeURIComponent(a)}/check-in`,JSON.stringify(r))).json()}async checkInV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/staff/${encodeURIComponent(a)}/check-in`,JSON.stringify(r))).json()}async checkOut(a,r){return await(await this.baseClient.callTypedAPI("POST",`/staff/${encodeURIComponent(a)}/check-out`,JSON.stringify(r))).json()}async checkOutV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/staff/${encodeURIComponent(a)}/check-out`,JSON.stringify(r))).json()}async create(a){return await(await this.baseClient.callTypedAPI("POST","/staff",JSON.stringify(a))).json()}async createEmergencyLeave(a){return await(await this.baseClient.callTypedAPI("POST","/staff/emergency-leave",JSON.stringify(a))).json()}async createEmergencyLeaveV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/emergency-leave",JSON.stringify(a))).json()}async createSalaryComponent(a){return await(await this.baseClient.callTypedAPI("POST","/staff/salary-components",JSON.stringify(a))).json()}async createSchedule(a){return await(await this.baseClient.callTypedAPI("POST","/staff/schedules/create",JSON.stringify(a))).json()}async createScheduleChangeRequest(a){return await(await this.baseClient.callTypedAPI("POST","/staff/schedule-change-requests",JSON.stringify(a))).json()}async createScheduleChangeRequestV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/schedule-change-requests",JSON.stringify(a))).json()}async createScheduleV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/schedules/create",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff",JSON.stringify(a))).json()}async deleteStaff(a){return await(await this.baseClient.callTypedAPI("DELETE",`/staff/${encodeURIComponent(a)}`)).json()}async deleteStaffV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/staff/${encodeURIComponent(a)}`)).json()}async exportAttendance(a){return await(await this.baseClient.callTypedAPI("POST","/staff/attendance/export",JSON.stringify(a))).json()}async exportAttendanceV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/export/attendance",JSON.stringify(a))).json()}async exportAttendancev2(a){return await(await this.baseClient.callTypedAPI("POST","/staff/v2/attendance/export",JSON.stringify(a))).json()}async exportLeave(a){return await(await this.baseClient.callTypedAPI("POST","/staff/leave/export",JSON.stringify(a))).json()}async exportLeaveV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/export/leave",JSON.stringify(a))).json()}async exportLeavev2(a){return await(await this.baseClient.callTypedAPI("POST","/staff/v2/leave/export",JSON.stringify(a))).json()}async exportSalary(a){return await(await this.baseClient.callTypedAPI("POST","/staff/salary/export",JSON.stringify(a))).json()}async exportSalaryV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/export/salary",JSON.stringify(a))).json()}async exportSalaryv2(a){return await(await this.baseClient.callTypedAPI("POST","/staff/v2/salary/export",JSON.stringify(a))).json()}async fixSchema(){return await(await this.baseClient.callTypedAPI("POST","/staff/fix-schema")).json()}async generatePayslip(a,r){return await(await this.baseClient.callTypedAPI("POST",`/staff/${encodeURIComponent(a)}/generate-payslip`,JSON.stringify(r))).json()}async generatePayslipV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/staff/${encodeURIComponent(a)}/generate-payslip`,JSON.stringify(r))).json()}async getAttendanceStatistics(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/staff/attendance/statistics",void 0,{query:r})).json()}async getAttendanceStatisticsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/attendance/statistics",void 0,{query:r})).json()}async getLeaveBalance(a){return await(await this.baseClient.callTypedAPI("GET",`/staff/${encodeURIComponent(a)}/leave-balance`)).json()}async getLeaveBalanceV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/staff/${encodeURIComponent(a)}/leave-balance`)).json()}async getLeaveStatistics(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/staff/leave/statistics",void 0,{query:r})).json()}async getLeaveStatisticsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/leave/statistics",void 0,{query:r})).json()}async getPayslip(a){return await(await this.baseClient.callTypedAPI("GET",`/staff/payslips/${encodeURIComponent(a)}`)).json()}async getPayslipV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/staff/payslips/${encodeURIComponent(a)}`)).json()}async getSalaryStatistics(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/staff/salary/statistics",void 0,{query:r})).json()}async getSalaryStatisticsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/salary/statistics",void 0,{query:r})).json()}async getScheduleStatistics(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/staff/schedules/statistics",void 0,{query:r})).json()}async getScheduleStatisticsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),groupBy:a.groupBy===void 0?void 0:String(a.groupBy),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate===void 0?void 0:String(a.startDate)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/schedules/statistics",void 0,{query:r})).json()}async getStatistics(a){const r=De({department:a.department,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/staff/statistics",void 0,{query:r})).json()}async getStatisticsV1(a){const r=De({department:a.department,endDate:a.endDate,propertyId:a.propertyId===void 0?void 0:String(a.propertyId),startDate:a.startDate});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/statistics",void 0,{query:r})).json()}async list(a){const r=De({department:a.department,limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),status:a.status});return await(await this.baseClient.callTypedAPI("GET","/staff",void 0,{query:r})).json()}async listAttendance(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/attendance",void 0,{query:r})).json()}async listAttendanceV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/attendance",void 0,{query:r})).json()}async listLeaveRequests(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),isEmergency:a.isEmergency===void 0?void 0:String(a.isEmergency),leaveType:a.leaveType===void 0?void 0:String(a.leaveType),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/leave-requests",void 0,{query:r})).json()}async listLeaveRequestsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),isEmergency:a.isEmergency===void 0?void 0:String(a.isEmergency),leaveType:a.leaveType===void 0?void 0:String(a.leaveType),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/leave-requests",void 0,{query:r})).json()}async listPayslips(a){const r=De({limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),payPeriodEnd:a.payPeriodEnd===void 0?void 0:String(a.payPeriodEnd),payPeriodStart:a.payPeriodStart===void 0?void 0:String(a.payPeriodStart),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/payslips",void 0,{query:r})).json()}async listPayslipsV1(a){const r=De({limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),payPeriodEnd:a.payPeriodEnd===void 0?void 0:String(a.payPeriodEnd),payPeriodStart:a.payPeriodStart===void 0?void 0:String(a.payPeriodStart),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/payslips",void 0,{query:r})).json()}async listSalaryComponents(a){const r=De({effectiveDate:a.effectiveDate===void 0?void 0:String(a.effectiveDate),isActive:a.isActive===void 0?void 0:String(a.isActive),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),staffId:a.staffId===void 0?void 0:String(a.staffId)});return await(await this.baseClient.callTypedAPI("GET","/staff/salary-components",void 0,{query:r})).json()}async listScheduleChangeRequests(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/schedule-change-requests",void 0,{query:r})).json()}async listScheduleChangeRequestsV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/schedule-change-requests",void 0,{query:r})).json()}async listSchedules(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),isRecurring:a.isRecurring===void 0?void 0:String(a.isRecurring),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,shiftType:a.shiftType===void 0?void 0:String(a.shiftType),sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/staff/schedules",void 0,{query:r})).json()}async listSchedulesV1(a){const r=De({endDate:a.endDate===void 0?void 0:String(a.endDate),isRecurring:a.isRecurring===void 0?void 0:String(a.isRecurring),limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,shiftType:a.shiftType===void 0?void 0:String(a.shiftType),sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),staffId:a.staffId===void 0?void 0:String(a.staffId),startDate:a.startDate===void 0?void 0:String(a.startDate),status:a.status===void 0?void 0:String(a.status)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/schedules",void 0,{query:r})).json()}async listV1(a){const r=De({department:a.department,limit:a.limit===void 0?void 0:String(a.limit),page:a.page===void 0?void 0:String(a.page),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),search:a.search,sortBy:a.sortBy===void 0?void 0:String(a.sortBy),sortOrder:a.sortOrder===void 0?void 0:String(a.sortOrder),status:a.status});return await(await this.baseClient.callTypedAPI("GET","/v1/staff",void 0,{query:r})).json()}async markScheduleCompletion(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/schedules/${encodeURIComponent(a)}/complete`,JSON.stringify(r))).json()}async markScheduleCompletionV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/schedules/${encodeURIComponent(a)}/complete`,JSON.stringify(r))).json()}async requestLeave(a){return await(await this.baseClient.callTypedAPI("POST","/staff/leave-requests",JSON.stringify(a))).json()}async requestLeaveV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/leave-requests",JSON.stringify(a))).json()}async search(a){return await(await this.baseClient.callTypedAPI("POST","/staff/search",JSON.stringify(a))).json()}async searchV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/search",JSON.stringify(a))).json()}async subscribeStaffRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/staff/realtime/subscribe",void 0,{query:r})).json()}async subscribeStaffRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/staff/realtime/subscribe",void 0,{query:r})).json()}async update(a){return await(await this.baseClient.callTypedAPI("PUT","/staff/update",JSON.stringify(a))).json()}async updateAttendance(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/attendance/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateAttendanceV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/attendance/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateDepartment(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/department`,JSON.stringify(r))).json()}async updateDepartmentV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/department`,JSON.stringify(r))).json()}async updateLeaveBalance(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/leave-balance`,JSON.stringify(r))).json()}async updateLeaveBalanceV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/leave-balance`,JSON.stringify(r))).json()}async updatePayslipStatus(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/payslips/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updatePayslipStatusV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/payslips/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updatePerformance(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/performance`,JSON.stringify(r))).json()}async updatePerformanceV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/performance`,JSON.stringify(r))).json()}async updateSimple(a){return await(await this.baseClient.callTypedAPI("PUT","/staff/update-simple",JSON.stringify(a))).json()}async updateSimpleV1(a){return await(await this.baseClient.callTypedAPI("PUT","/v1/staff/update-simple",JSON.stringify(a))).json()}async updateStatus(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/staff/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updateStatusV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/staff/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updateV1(a){return await(await this.baseClient.callTypedAPI("PUT","/v1/staff/update",JSON.stringify(a))).json()}async validateAttendance(a){return await(await this.baseClient.callTypedAPI("POST","/staff/attendance/validate",JSON.stringify(a))).json()}async validateAttendanceV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/attendance/validate",JSON.stringify(a))).json()}async validateLeaveRequest(a){return await(await this.baseClient.callTypedAPI("POST","/staff/leave/validate",JSON.stringify(a))).json()}async validateLeaveRequestV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/leave/validate",JSON.stringify(a))).json()}async validateSalary(a){return await(await this.baseClient.callTypedAPI("POST","/staff/salary/validate",JSON.stringify(a))).json()}async validateSalaryV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/salary/validate",JSON.stringify(a))).json()}async validateSchedule(a){return await(await this.baseClient.callTypedAPI("POST","/staff/schedules/validate",JSON.stringify(a))).json()}async validateScheduleV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/staff/schedules/validate",JSON.stringify(a))).json()}}e.ServiceClient=s})(Dv||(Dv={}));var Pv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.addAttachment=this.addAttachment.bind(this),this.addAttachmentV1=this.addAttachmentV1.bind(this),this.addStorageLocationColumns=this.addStorageLocationColumns.bind(this),this.assign=this.assign.bind(this),this.assignV1=this.assignV1.bind(this),this.create=this.create.bind(this),this.createV1=this.createV1.bind(this),this.deleteTask=this.deleteTask.bind(this),this.deleteTaskImage=this.deleteTaskImage.bind(this),this.deleteTaskImageV1=this.deleteTaskImageV1.bind(this),this.deleteTaskV1=this.deleteTaskV1.bind(this),this.getTaskImages=this.getTaskImages.bind(this),this.getTaskImagesV1=this.getTaskImagesV1.bind(this),this.list=this.list.bind(this),this.listV1=this.listV1.bind(this),this.quickSetupAttachments=this.quickSetupAttachments.bind(this),this.setPrimaryImage=this.setPrimaryImage.bind(this),this.setPrimaryImageV1=this.setPrimaryImageV1.bind(this),this.setupTaskAttachmentsTable=this.setupTaskAttachmentsTable.bind(this),this.subscribeTasksRealtime=this.subscribeTasksRealtime.bind(this),this.subscribeTasksRealtimeV1=this.subscribeTasksRealtimeV1.bind(this),this.update=this.update.bind(this),this.updateHours=this.updateHours.bind(this),this.updateHoursV1=this.updateHoursV1.bind(this),this.updateStatus=this.updateStatus.bind(this),this.updateStatusV1=this.updateStatusV1.bind(this),this.updateV1=this.updateV1.bind(this),this.uploadTaskImage=this.uploadTaskImage.bind(this),this.uploadTaskImageV1=this.uploadTaskImageV1.bind(this)}async addAttachment(a){return await(await this.baseClient.callTypedAPI("POST","/tasks/attachments",JSON.stringify(a))).json()}async addAttachmentV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/tasks/attachments",JSON.stringify(a))).json()}async addStorageLocationColumns(){await this.baseClient.callTypedAPI("POST","/tasks/add-storage-location-columns")}async assign(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/tasks/${encodeURIComponent(a)}/assign`,JSON.stringify(r))).json()}async assignV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/tasks/${encodeURIComponent(a)}/assign`,JSON.stringify(r))).json()}async create(a){return await(await this.baseClient.callTypedAPI("POST","/tasks",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/tasks",JSON.stringify(a))).json()}async deleteTask(a){return await(await this.baseClient.callTypedAPI("DELETE",`/tasks/${encodeURIComponent(a)}`)).json()}async deleteTaskImage(a,r){return await(await this.baseClient.callTypedAPI("DELETE",`/tasks/${encodeURIComponent(a)}/images/${encodeURIComponent(r)}`)).json()}async deleteTaskImageV1(a,r){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/tasks/${encodeURIComponent(a)}/images/${encodeURIComponent(r)}`)).json()}async deleteTaskV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/tasks/${encodeURIComponent(a)}`)).json()}async getTaskImages(a){return await(await this.baseClient.callTypedAPI("GET",`/tasks/${encodeURIComponent(a)}/images`)).json()}async getTaskImagesV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/tasks/${encodeURIComponent(a)}/images`)).json()}async list(a){const r=De({assignee:a.assignee===void 0?void 0:String(a.assignee),overdue:a.overdue===void 0?void 0:String(a.overdue),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),status:a.status===void 0?void 0:String(a.status),type:a.type===void 0?void 0:String(a.type)});return await(await this.baseClient.callTypedAPI("GET","/tasks",void 0,{query:r})).json()}async listV1(a){const r=De({assignee:a.assignee===void 0?void 0:String(a.assignee),overdue:a.overdue===void 0?void 0:String(a.overdue),priority:a.priority===void 0?void 0:String(a.priority),propertyId:a.propertyId===void 0?void 0:String(a.propertyId),status:a.status===void 0?void 0:String(a.status),type:a.type===void 0?void 0:String(a.type)});return await(await this.baseClient.callTypedAPI("GET","/v1/tasks",void 0,{query:r})).json()}async quickSetupAttachments(){await this.baseClient.callTypedAPI("POST","/tasks/quick-setup-attachments")}async setPrimaryImage(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/tasks/${encodeURIComponent(a)}/images/${encodeURIComponent(r)}/primary`)).json()}async setPrimaryImageV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/tasks/${encodeURIComponent(a)}/images/${encodeURIComponent(r)}/primary`)).json()}async setupTaskAttachmentsTable(){await this.baseClient.callTypedAPI("POST","/tasks/setup-attachments-table")}async subscribeTasksRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/tasks/realtime/subscribe",void 0,{query:r})).json()}async subscribeTasksRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/tasks/realtime/subscribe",void 0,{query:r})).json()}async update(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/tasks/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateHours(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/tasks/${encodeURIComponent(a)}/hours`,JSON.stringify(r))).json()}async updateHoursV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/tasks/${encodeURIComponent(a)}/hours`,JSON.stringify(r))).json()}async updateStatus(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/tasks/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updateStatusV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/tasks/${encodeURIComponent(a)}/status`,JSON.stringify(r))).json()}async updateV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/tasks/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async uploadTaskImage(a,r){return await(await this.baseClient.callTypedAPI("POST",`/tasks/${encodeURIComponent(a)}/images`,JSON.stringify(r))).json()}async uploadTaskImageV1(a,r){return await(await this.baseClient.callTypedAPI("POST",`/v1/tasks/${encodeURIComponent(a)}/images`,JSON.stringify(r))).json()}}e.ServiceClient=s})(Pv||(Pv={}));var Iv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.ingestClientTelemetry=this.ingestClientTelemetry.bind(this),this.ingestClientTelemetryV1=this.ingestClientTelemetryV1.bind(this)}async ingestClientTelemetry(a){return await(await this.baseClient.callTypedAPI("POST","/telemetry/client",JSON.stringify(a))).json()}async ingestClientTelemetryV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/telemetry/client",JSON.stringify(a))).json()}}e.ServiceClient=s})(Iv||(Iv={}));var Rv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.checkFilesTable=this.checkFilesTable.bind(this),this.checkFilesTableV1=this.checkFilesTableV1.bind(this),this.cleanupOrphanedFiles=this.cleanupOrphanedFiles.bind(this),this.cleanupOrphanedFilesV1=this.cleanupOrphanedFilesV1.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileV1=this.deleteFileV1.bind(this),this.downloadFile=this.downloadFile.bind(this),this.downloadFileV1=this.downloadFileV1.bind(this),this.getFileInfo=this.getFileInfo.bind(this),this.getFileInfoV1=this.getFileInfoV1.bind(this),this.serveTaskImage=this.serveTaskImage.bind(this),this.serveTaskImageV1=this.serveTaskImageV1.bind(this),this.setupFilesTable=this.setupFilesTable.bind(this),this.updateFile=this.updateFile.bind(this),this.updateFileV1=this.updateFileV1.bind(this),this.uploadFile=this.uploadFile.bind(this),this.uploadFileV1=this.uploadFileV1.bind(this)}async checkFilesTable(){return await(await this.baseClient.callTypedAPI("GET","/uploads/check-files-table")).json()}async checkFilesTableV1(){return await(await this.baseClient.callTypedAPI("GET","/v1/uploads/check-files-table")).json()}async cleanupOrphanedFiles(){return await(await this.baseClient.callTypedAPI("POST","/uploads/cleanup-orphaned")).json()}async cleanupOrphanedFilesV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/uploads/cleanup-orphaned")).json()}async deleteFile(a){return await(await this.baseClient.callTypedAPI("DELETE",`/uploads/file/${encodeURIComponent(a)}`)).json()}async deleteFileV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/uploads/file/${encodeURIComponent(a)}`)).json()}async downloadFile(a){return await(await this.baseClient.callTypedAPI("GET",`/uploads/${encodeURIComponent(a)}/download`)).json()}async downloadFileV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/uploads/${encodeURIComponent(a)}/download`)).json()}async getFileInfo(a){return await(await this.baseClient.callTypedAPI("GET",`/uploads/${encodeURIComponent(a)}/info`)).json()}async getFileInfoV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/uploads/${encodeURIComponent(a)}/info`)).json()}async serveTaskImage(a){return await(await this.baseClient.callTypedAPI("GET",`/uploads/tasks/${encodeURIComponent(a)}`)).json()}async serveTaskImageV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/uploads/tasks/${encodeURIComponent(a)}`)).json()}async setupFilesTable(){await this.baseClient.callTypedAPI("POST","/uploads/setup-files-table")}async updateFile(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/uploads/file/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateFileV1(a,r){return await(await this.baseClient.callTypedAPI("PUT",`/v1/uploads/file/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async uploadFile(a){return await(await this.baseClient.callTypedAPI("POST","/uploads/file",JSON.stringify(a))).json()}async uploadFileV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/uploads/file",JSON.stringify(a))).json()}}e.ServiceClient=s})(Rv||(Rv={}));var Ov;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.assignProperties=this.assignProperties.bind(this),this.assignPropertiesV1=this.assignPropertiesV1.bind(this),this.create=this.create.bind(this),this.createV1=this.createV1.bind(this),this.deleteUser=this.deleteUser.bind(this),this.deleteUserV1=this.deleteUserV1.bind(this),this.fixSchema=this.fixSchema.bind(this),this.fixSchemaV1=this.fixSchemaV1.bind(this),this.get=this.get.bind(this),this.getProperties=this.getProperties.bind(this),this.getPropertiesV1=this.getPropertiesV1.bind(this),this.getV1=this.getV1.bind(this),this.list=this.list.bind(this),this.listV1=this.listV1.bind(this),this.subscribeUsersRealtime=this.subscribeUsersRealtime.bind(this),this.subscribeUsersRealtimeV1=this.subscribeUsersRealtimeV1.bind(this),this.update=this.update.bind(this),this.updateActivity=this.updateActivity.bind(this),this.updateActivityV1=this.updateActivityV1.bind(this),this.updateV1=this.updateV1.bind(this)}async assignProperties(a){return await(await this.baseClient.callTypedAPI("POST","/users/assign-properties",JSON.stringify(a))).json()}async assignPropertiesV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/users/assign-properties",JSON.stringify(a))).json()}async create(a){return await(await this.baseClient.callTypedAPI("POST","/users",JSON.stringify(a))).json()}async createV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/users",JSON.stringify(a))).json()}async deleteUser(a){return await(await this.baseClient.callTypedAPI("DELETE",`/users/${encodeURIComponent(a)}`)).json()}async deleteUserV1(a){return await(await this.baseClient.callTypedAPI("DELETE",`/v1/users/${encodeURIComponent(a)}`)).json()}async fixSchema(){return await(await this.baseClient.callTypedAPI("POST","/users/fix-schema")).json()}async fixSchemaV1(){return await(await this.baseClient.callTypedAPI("POST","/v1/users/fix-schema")).json()}async get(a){return await(await this.baseClient.callTypedAPI("GET",`/users/${encodeURIComponent(a)}`)).json()}async getProperties(a){const r=De({id:a.id===void 0?void 0:String(a.id)});return await(await this.baseClient.callTypedAPI("GET","/users/properties",void 0,{query:r})).json()}async getPropertiesV1(a){const r=De({id:a.id===void 0?void 0:String(a.id)});return await(await this.baseClient.callTypedAPI("GET","/v1/users/properties",void 0,{query:r})).json()}async getV1(a){return await(await this.baseClient.callTypedAPI("GET",`/v1/users/${encodeURIComponent(a)}`)).json()}async list(a){const r=De({role:a.role===void 0?void 0:String(a.role)});return await(await this.baseClient.callTypedAPI("GET","/users",void 0,{query:r})).json()}async listV1(a){const r=De({role:a.role===void 0?void 0:String(a.role)});return await(await this.baseClient.callTypedAPI("GET","/v1/users",void 0,{query:r})).json()}async subscribeUsersRealtime(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/users/realtime/subscribe",void 0,{query:r})).json()}async subscribeUsersRealtimeV1(a){const r=De({lastEventId:a.lastEventId,propertyId:a.propertyId===void 0?void 0:String(a.propertyId)});return await(await this.baseClient.callTypedAPI("GET","/v1/users/realtime/subscribe",void 0,{query:r})).json()}async update(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/users/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}async updateActivity(a){return await(await this.baseClient.callTypedAPI("POST","/users/activity",JSON.stringify(a))).json()}async updateActivityV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/users/activity",JSON.stringify(a))).json()}async updateV1(a,r){return await(await this.baseClient.callTypedAPI("PATCH",`/v1/users/${encodeURIComponent(a)}`,JSON.stringify(r))).json()}}e.ServiceClient=s})(Ov||(Ov={}));var Mv;(e=>{class s{constructor(a){Ve(this,"baseClient");this.baseClient=a,this.autoRepairDataConsistency=this.autoRepairDataConsistency.bind(this),this.autoRepairDataConsistencyV1=this.autoRepairDataConsistencyV1.bind(this),this.validateDataConsistency=this.validateDataConsistency.bind(this),this.validateDataConsistencyV1=this.validateDataConsistencyV1.bind(this)}async autoRepairDataConsistency(a){return await(await this.baseClient.callTypedAPI("POST","/validation/auto-repair",JSON.stringify(a))).json()}async autoRepairDataConsistencyV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/validation/auto-repair",JSON.stringify(a))).json()}async validateDataConsistency(a){return await(await this.baseClient.callTypedAPI("POST","/validation/check-consistency",JSON.stringify(a))).json()}async validateDataConsistencyV1(a){return await(await this.baseClient.callTypedAPI("POST","/v1/system/validation/check-consistency",JSON.stringify(a))).json()}}e.ServiceClient=s})(Mv||(Mv={}));function Wf(e){const s=[];for(const n in e){const a=Array.isArray(e[n])?e[n]:[e[n]];for(const r of a)s.push(`${n}=${encodeURIComponent(r)}`)}return s.join("&")}function De(e){for(const s in e)e[s]===void 0&&delete e[s];return e}function jF(e){return"encore.dev.headers."+btoa(JSON.stringify(e)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}class Jb{constructor(s,n){Ve(this,"ws");Ve(this,"hasUpdateHandlers",[]);let a=["encore-ws"];n&&a.push(jF(n)),this.ws=new WebSocket(s,a),this.on("error",()=>{this.resolveHasUpdateHandlers()}),this.on("close",()=>{this.resolveHasUpdateHandlers()})}resolveHasUpdateHandlers(){const s=this.hasUpdateHandlers;this.hasUpdateHandlers=[];for(const n of s)n()}async hasUpdate(){await new Promise(s=>{this.hasUpdateHandlers.push(()=>s(null))})}on(s,n){this.ws.addEventListener(s,n)}off(s,n){this.ws.removeEventListener(s,n)}close(){this.ws.close()}}class NF{constructor(s,n){Ve(this,"socket");Ve(this,"buffer",[]);this.socket=new Jb(s,n),this.socket.on("message",a=>{this.buffer.push(JSON.parse(a.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async send(s){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(s))}async next(){for await(const s of this)return s}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class SF{constructor(s,n){Ve(this,"socket");Ve(this,"buffer",[]);this.socket=new Jb(s,n),this.socket.on("message",a=>{this.buffer.push(JSON.parse(a.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async next(){for await(const s of this)return s}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class CF{constructor(s,n){Ve(this,"socket");Ve(this,"responseValue");let a;this.responseValue=new Promise(r=>a=r),this.socket=new Jb(s,n),this.socket.on("message",r=>{a(JSON.parse(r.data))})}async response(){return this.responseValue}close(){this.socket.close()}async send(s){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(n=>{this.socket.ws.addEventListener("open",n,{once:!0})}),this.socket.ws.send(JSON.stringify(s))}}const TF=fetch.bind(void 0);class kF{constructor(s,n){Ve(this,"baseURL");Ve(this,"fetcher");Ve(this,"headers");Ve(this,"requestInit");Ve(this,"authGenerator");if(this.baseURL=s,this.headers={},wF||(this.headers["User-Agent"]="hospitality-management-platform-cr8i-Generated-TS-Client (Encore/v1.52.1)"),this.requestInit=n.requestInit??{},n.fetcher!==void 0?this.fetcher=n.fetcher:this.fetcher=TF,n.auth!==void 0){const a=n.auth;typeof a=="function"?this.authGenerator=a:this.authGenerator=()=>a}}async getAuthData(){let s;if(this.authGenerator){const n=this.authGenerator();n instanceof Promise?s=await n:s=n}if(s){const n={};return n.query=De({access_token:s.access_token}),n.headers=De({authorization:s.authorization}),n}}async createStreamInOut(s,n){let{query:a,headers:r}=n??{};const l=await this.getAuthData();l&&(l.query&&(a={...a,...l.query}),l.headers&&(r={...r,...l.headers}));const c=a?"?"+Wf(a):"";return new NF(this.baseURL+s+c,r)}async createStreamIn(s,n){let{query:a,headers:r}=n??{};const l=await this.getAuthData();l&&(l.query&&(a={...a,...l.query}),l.headers&&(r={...r,...l.headers}));const c=a?"?"+Wf(a):"";return new SF(this.baseURL+s+c,r)}async createStreamOut(s,n){let{query:a,headers:r}=n??{};const l=await this.getAuthData();l&&(l.query&&(a={...a,...l.query}),l.headers&&(r={...r,...l.headers}));const c=a?"?"+Wf(a):"";return new CF(this.baseURL+s+c,r)}async callTypedAPI(s,n,a,r){return this.callAPI(s,n,a,{...r,headers:{"Content-Type":"application/json",...r==null?void 0:r.headers}})}async callAPI(s,n,a,r){let{query:l,headers:c,...u}=r??{};const m={...this.requestInit,...u,method:s,body:a??null};m.headers={...this.headers,...m.headers,...c};const f=await this.getAuthData();f&&(f.query&&(l={...l,...f.query}),f.headers&&(m.headers={...m.headers,...f.headers}));const p=l?"?"+Wf(l):"",g=await this.fetcher(this.baseURL+n+p,m);if(!g.ok){let v={code:"unknown",message:`request failed: status ${g.status}`};try{const w=await g.text();try{const N=JSON.parse(w);EF(N)?v=N:v.message+=": "+JSON.stringify(N)}catch{v.message+=": "+w}}catch(w){v.message+=": "+String(w)}throw new Fp(g.status,v)}return g}}function EF(e){return e!=null&&AF(e.code)&&typeof e.message=="string"&&(e.details===void 0||e.details===null||typeof e.details=="object")}function AF(e){return e!==void 0&&Object.values(xA).includes(e)}class Fp extends Error{constructor(n,a){super(a.message);Ve(this,"status");Ve(this,"code");Ve(this,"details");Object.defineProperty(this,"name",{value:"APIError",enumerable:!1,configurable:!0}),Object.setPrototypeOf==null?this.__proto__=Fp.prototype:Object.setPrototypeOf(this,Fp.prototype),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.status=n,this.code=a.code,this.details=a.details}}var xA=(e=>(e.OK="ok",e.Canceled="canceled",e.Unknown="unknown",e.InvalidArgument="invalid_argument",e.DeadlineExceeded="deadline_exceeded",e.NotFound="not_found",e.AlreadyExists="already_exists",e.PermissionDenied="permission_denied",e.ResourceExhausted="resource_exhausted",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.Unimplemented="unimplemented",e.Internal="internal",e.Unavailable="unavailable",e.DataLoss="data_loss",e.Unauthenticated="unauthenticated",e))(xA||{});/*! Capacitor: https://capacitorjs.com/ - MIT License */var Gd;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Gd||(Gd={}));let Td=class extends Error{constructor(s,n,a){super(s),this.message=s,this.code=n,this.data=a}};const DF=e=>{var s,n;return e!=null&&e.androidBridge?"android":!((n=(s=e==null?void 0:e.webkit)===null||s===void 0?void 0:s.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},PF=e=>{const s=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},a=n.Plugins=n.Plugins||{},r=()=>s!==null?s.name:DF(e),l=()=>r()!=="web",c=g=>{const v=f.get(g);return!!(v!=null&&v.platforms.has(r())||u(g))},u=g=>{var v;return(v=n.PluginHeaders)===null||v===void 0?void 0:v.find(w=>w.name===g)},m=g=>e.console.error(g),f=new Map,p=(g,v={})=>{const w=f.get(g);if(w)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),w.proxy;const N=r(),j=u(g);let S;const E=async()=>(!S&&N in v?S=typeof v[N]=="function"?S=await v[N]():S=v[N]:s!==null&&!S&&"web"in v&&(S=typeof v.web=="function"?S=await v.web():S=v.web),S),T=(L,z)=>{var Q,K;if(j){const J=j==null?void 0:j.methods.find(de=>z===de.name);if(J)return J.rtype==="promise"?de=>n.nativePromise(g,z.toString(),de):(de,H)=>n.nativeCallback(g,z.toString(),de,H);if(L)return(Q=L[z])===null||Q===void 0?void 0:Q.bind(L)}else{if(L)return(K=L[z])===null||K===void 0?void 0:K.bind(L);throw new Td(`"${g}" plugin is not implemented on ${N}`,Gd.Unimplemented)}},C=L=>{let z;const Q=(...K)=>{const J=E().then(de=>{const H=T(de,L);if(H){const ie=H(...K);return z=ie==null?void 0:ie.remove,ie}else throw new Td(`"${g}.${L}()" is not implemented on ${N}`,Gd.Unimplemented)});return L==="addListener"&&(J.remove=async()=>z()),J};return Q.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty(Q,"name",{value:L,writable:!1,configurable:!1}),Q},I=C("addListener"),D=C("removeListener"),A=(L,z)=>{const Q=I({eventName:L},z),K=async()=>{const de=await Q;D({eventName:L,callbackId:de},z)},J=new Promise(de=>Q.then(()=>de({remove:K})));return J.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await K()},J},R=new Proxy({},{get(L,z){switch(z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return j?A:I;case"removeListener":return D;default:return C(z)}}});return a[g]=R,f.set(g,{name:g,proxy:R,platforms:new Set([...Object.keys(v),...j?[N]:[]])}),R};return n.convertFileSrc||(n.convertFileSrc=g=>g),n.getPlatform=r,n.handleError=m,n.isNativePlatform=l,n.isPluginAvailable=c,n.registerPlugin=p,n.Exception=Td,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},IF=e=>e.Capacitor=PF(e),hl=IF(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ar=hl.registerPlugin;let fg=class{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(s,n){let a=!1;this.listeners[s]||(this.listeners[s]=[],a=!0),this.listeners[s].push(n);const l=this.windowListeners[s];l&&!l.registered&&this.addWindowListener(l),a&&this.sendRetainedArgumentsForEvent(s);const c=async()=>this.removeListener(s,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const s in this.windowListeners)this.removeWindowListener(this.windowListeners[s]);this.windowListeners={}}notifyListeners(s,n,a){const r=this.listeners[s];if(!r){if(a){let l=this.retainedEventArguments[s];l||(l=[]),l.push(n),this.retainedEventArguments[s]=l}return}r.forEach(l=>l(n))}hasListeners(s){var n;return!!(!((n=this.listeners[s])===null||n===void 0)&&n.length)}registerWindowListener(s,n){this.windowListeners[n]={registered:!1,windowEventName:s,pluginEventName:n,handler:a=>{this.notifyListeners(n,a)}}}unimplemented(s="not implemented"){return new hl.Exception(s,Gd.Unimplemented)}unavailable(s="not available"){return new hl.Exception(s,Gd.Unavailable)}async removeListener(s,n){const a=this.listeners[s];if(!a)return;const r=a.indexOf(n);this.listeners[s].splice(r,1),this.listeners[s].length||this.removeWindowListener(this.windowListeners[s])}addWindowListener(s){window.addEventListener(s.windowEventName,s.handler),s.registered=!0}removeWindowListener(s){s&&(window.removeEventListener(s.windowEventName,s.handler),s.registered=!1)}sendRetainedArgumentsForEvent(s){const n=this.retainedEventArguments[s];n&&(delete this.retainedEventArguments[s],n.forEach(a=>{this.notifyListeners(s,a)}))}};const FC=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),UC=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class RF extends fg{async getCookies(){const s=document.cookie,n={};return s.split(";").forEach(a=>{if(a.length<=0)return;let[r,l]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=UC(r).trim(),l=UC(l).trim(),n[r]=l}),n}async setCookie(s){try{const n=FC(s.key),a=FC(s.value),r=`; expires=${(s.expires||"").replace("expires=","")}`,l=(s.path||"/").replace("path=",""),c=s.url!=null&&s.url.length>0?`domain=${s.url}`:"";document.cookie=`${n}=${a||""}${r}; path=${l}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(s){try{document.cookie=`${s.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const s=document.cookie.split(";")||[];for(const n of s)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(s){return Promise.reject(s)}}async clearAllCookies(){try{await this.clearCookies()}catch(s){return Promise.reject(s)}}}ar("CapacitorCookies",{web:()=>new RF});const OF=async e=>new Promise((s,n)=>{const a=new FileReader;a.onload=()=>{const r=a.result;s(r.indexOf(",")>=0?r.split(",")[1]:r)},a.onerror=r=>n(r),a.readAsDataURL(e)}),MF=(e={})=>{const s=Object.keys(e);return Object.keys(e).map(r=>r.toLocaleLowerCase()).reduce((r,l,c)=>(r[l]=e[s[c]],r),{})},_F=(e,s=!0)=>e?Object.entries(e).reduce((a,r)=>{const[l,c]=r;let u,m;return Array.isArray(c)?(m="",c.forEach(f=>{u=s?encodeURIComponent(f):f,m+=`${l}=${u}&`}),m.slice(0,-1)):(u=s?encodeURIComponent(c):c,m=`${l}=${u}`),`${a}&${m}`},"").substr(1):null,LF=(e,s={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},s),r=MF(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,u]of Object.entries(e.data||{}))l.set(c,u);n.body=l.toString()}else if(r.includes("multipart/form-data")||e.data instanceof FormData){const l=new FormData;if(e.data instanceof FormData)e.data.forEach((u,m)=>{l.append(m,u)});else for(const u of Object.keys(e.data))l.append(u,e.data[u]);n.body=l;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(r.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class FF extends fg{async request(s){const n=LF(s,s.webFetchExtra),a=_F(s.params,s.shouldEncodeUrlParams),r=a?`${s.url}?${a}`:s.url,l=await fetch(r,n),c=l.headers.get("content-type")||"";let{responseType:u="text"}=l.ok?s:{};c.includes("application/json")&&(u="json");let m,f;switch(u){case"arraybuffer":case"blob":f=await l.blob(),m=await OF(f);break;case"json":m=await l.json();break;case"document":case"text":default:m=await l.text()}const p={};return l.headers.forEach((g,v)=>{p[v]=g}),{data:m,headers:p,status:l.status,url:l.url}}async get(s){return this.request(Object.assign(Object.assign({},s),{method:"GET"}))}async post(s){return this.request(Object.assign(Object.assign({},s),{method:"POST"}))}async put(s){return this.request(Object.assign(Object.assign({},s),{method:"PUT"}))}async patch(s){return this.request(Object.assign(Object.assign({},s),{method:"PATCH"}))}async delete(s){return this.request(Object.assign(Object.assign({},s),{method:"DELETE"}))}}ar("CapacitorHttp",{web:()=>new FF});var VC;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(VC||(VC={}));var BC;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(BC||(BC={}));class UF extends fg{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}ar("SystemBars",{web:()=>new UF});const _v={BASE_URL:"/",DEV:!1,MODE:"development",PROD:!0,SSR:!1,VITE_CLIENT_TARGET:"http://localhost:4000"};var xp={};function Lv(){try{return hl.isNativePlatform()}catch{return!1}}function VF(){try{if(!Lv())return"web";const e=hl.getPlatform();return e==="android"||e==="ios"?e:"web"}catch{return"web"}}function BF(){try{if(typeof import.meta<"u"&&_v)return"development"}catch{}if(typeof process<"u"&&xp)return"production";if(typeof window<"u"){const e=window.location.hostname;if(e==="localhost"||e==="127.0.0.1")return"development"}return"production"}function Xb(){return BF()==="development"}function zC(e,s=""){try{if(typeof import.meta<"u"&&_v)return _v[e]||s}catch{}return typeof process<"u"&&xp&&xp[e]?xp[e]:s}const yA="/v1";function Fv(){fetch("http://127.0.0.1:7242/ingest/33d595d9-e296-4216-afc6-6fa72f7ee3e2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"env.ts:getApiUrl:entry",message:"getApiUrl called",data:{isCapacitorResult:Lv(),platform:VF()},timestamp:Date.now(),sessionId:"debug-session",hypothesisId:"H1"})}).catch(()=>{});const e=zC("VITE_API_URL"),s=zC("REACT_APP_API_URL");if(e)return e;if(s)return s;if(Lv()){const n="https://api.curat.ai";return console.log("[DEBUG] Capacitor detected, using API:",n),n}if(typeof window<"u"){const n=window.location.hostname;if(n.includes("staging-hospitality-management-platform-cr8i.frontend.encr.app")||n.includes("hospitality-management-platform-cr8i.frontend.encr.app"))return"https://api.curat.ai"}return"http://localhost:4000"}function Uv(){return`${Fv()}${yA}`}const xt={BASE_URL:Fv(),BASE_URL_UNVERSIONED:Fv(),API_VERSION:yA,TIMEOUT:3e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3,DEBUG:Xb()},ld={NETWORK_ERROR:"Network error. Please check your connection and try again.",UPLOAD_FAILED:"Failed to upload image. Please try again.",UNAUTHORIZED:"You are not authorized to perform this action.",SERVER_ERROR:"Server error. Please try again later."},zF={BASE_URL:"/",DEV:!1,MODE:"development",PROD:!0,SSR:!1,VITE_CLIENT_TARGET:"http://localhost:4000"};var qF={};const Xl=class Xl{constructor(){Ve(this,"cachedInfo",null);Ve(this,"lastDetectionTime",0);Ve(this,"CACHE_DURATION",5e3)}static getInstance(){return Xl.instance||(Xl.instance=new Xl),Xl.instance}getEnvironmentInfo(){const s=Date.now();if(this.cachedInfo&&s-this.lastDetectionTime<this.CACHE_DURATION)return this.cachedInfo;const n=this.detectEnvironment();return this.cachedInfo=n,this.lastDetectionTime=s,n}detectEnvironment(){const s=this.getNodeEnv(),n=this.getViteEnv(),a=this.getHostname(),r=this.getProtocol(),l=this.getPort(),c=this.getUserAgent(),u=this.determineEnvironmentName(s,n,a);return{name:u,isDevelopment:u==="development",isProduction:u==="production",isStaging:u==="staging",isTest:u==="test",isLocal:this.isLocalEnvironment(a),isServer:typeof window>"u",isClient:typeof window<"u",nodeEnv:s,viteEnv:n,hostname:a,protocol:r,port:l,userAgent:c,timestamp:new Date().toISOString()}}getNodeEnv(){return typeof process<"u"&&qF?"production":"development"}getViteEnv(){try{if(typeof import.meta<"u"&&zF)return"development"}catch{}return"development"}getHostname(){return typeof window<"u"&&window.location?window.location.hostname:"localhost"}getProtocol(){return typeof window<"u"&&window.location?window.location.protocol:"http:"}getPort(){if(typeof window<"u"&&window.location){const s=window.location.port;return s?parseInt(s,10):null}return null}getUserAgent(){return typeof navigator<"u"&&navigator.userAgent?navigator.userAgent:"unknown"}determineEnvironmentName(s,n,a){return s==="test"||n==="test"?"test":this.isStagingEnvironment(s,n,a)?"staging":this.isProductionEnvironment(s,n,a)?"production":"development"}isStagingEnvironment(s,n,a){return["staging","stage","preview","demo","test-env","dev-staging"].some(l=>s.toLowerCase().includes(l)||n.toLowerCase().includes(l)||a.toLowerCase().includes(l))||a.includes("staging.")||a.includes("stage.")||a.includes("preview.")}isProductionEnvironment(s,n,a){const r=["production","prod","live"],l=["localhost","127.0.0.1","0.0.0.0","::1"],c=r.some(f=>s.toLowerCase().includes(f)||n.toLowerCase().includes(f)),u=!l.some(f=>a.toLowerCase().includes(f)),m=this.isProductionDomain(a);return(c||u&&m)&&!this.isStagingEnvironment(s,n,a)}isProductionDomain(s){const a=[".com",".org",".net",".io",".co",".app"].some(l=>s.toLowerCase().endsWith(l)),r=/^\d+\.\d+\.\d+\.\d+$/.test(s);return a&&!r}isLocalEnvironment(s){return["localhost","127.0.0.1","0.0.0.0","::1","192.168.","10.0.","172.16.","172.17.","172.18.","172.19.","172.20.","172.21.","172.22.","172.23.","172.24.","172.25.","172.26.","172.27.","172.28.","172.29.","172.30.","172.31."].some(a=>s.includes(a))}clearCache(){this.cachedInfo=null,this.lastDetectionTime=0}refresh(){return this.clearCache(),this.getEnvironmentInfo()}getEnvironmentConfig(){const s=this.getEnvironmentInfo();return{environment:s.name,debug:s.isDevelopment||s.isStaging,logging:{level:s.isProduction||s.isTest?"error":"debug",enableConsole:!s.isProduction,enableRemote:s.isProduction||s.isStaging},security:{requireHttps:s.isProduction||s.isStaging,enableCors:!s.isProduction,jwtExpiry:s.isProduction?7200*1e3:1440*60*1e3},performance:{enableCaching:s.isProduction||s.isStaging,enableCompression:s.isProduction||s.isStaging,maxFileSize:s.isProduction?5*1024*1024:10*1024*1024},features:{enableDevTools:s.isDevelopment||s.isStaging,enableMockData:s.isDevelopment||s.isTest,enableAnalytics:s.isProduction||s.isStaging,enableErrorReporting:s.isProduction||s.isStaging}}}validateEnvironment(){const s=this.getEnvironmentInfo(),n=[],a=[];return s.isProduction&&s.isLocal&&a.push("Production environment detected on localhost - this may be incorrect"),s.isDevelopment&&!s.isLocal&&!s.isStaging&&a.push("Development environment detected on non-local host - this may be incorrect"),s.isProduction&&!s.isLocal&&s.protocol==="http:"&&n.push("Production environment should use HTTPS"),s.isTest&&!s.isLocal&&a.push("Test environment detected on non-local host - this may be incorrect"),{isValid:n.length===0,errors:n,warnings:a}}getErrorMessages(){const s=this.getEnvironmentInfo();return s.isDevelopment||s.isStaging?{databaseError:"Database error occurred. Check logs for details.",validationError:"Validation error occurred. Check logs for details.",authenticationError:"Authentication error occurred. Check logs for details.",authorizationError:"Authorization error occurred. Check logs for details.",internalError:"Internal server error occurred. Check logs for details."}:{databaseError:"Database error. Please try again later.",validationError:"Invalid request. Please check your input.",authenticationError:"Authentication failed. Please log in again.",authorizationError:"Access denied. You do not have permission to perform this action.",internalError:"Internal server error. Please try again later."}}};Ve(Xl,"instance");let Vv=Xl;const Xr=Vv.getInstance(),so={getCurrentEnvironment:()=>Xr.getEnvironmentInfo().name,isDevelopment:()=>Xr.getEnvironmentInfo().isDevelopment,isProduction:()=>Xr.getEnvironmentInfo().isProduction,isStaging:()=>Xr.getEnvironmentInfo().isStaging,isTest:()=>Xr.getEnvironmentInfo().isTest,isLocal:()=>Xr.getEnvironmentInfo().isLocal,getConfig:()=>Xr.getEnvironmentConfig(),validate:()=>Xr.validateEnvironment(),getErrorMessages:()=>Xr.getErrorMessages(),refresh:()=>Xr.refresh()};console.log("=== BACKEND IMPORT TEST ===");console.log("Client class:",lu);console.log("Local constant:",gA);console.log("Environment function:",bF);console.log("Client type:",typeof lu);console.log("Local type:",typeof gA);const Up=Uv();console.log("Using Versioned API URL:",Up);fetch("http://127.0.0.1:7242/ingest/33d595d9-e296-4216-afc6-6fa72f7ee3e2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"backend.ts:init",message:"Backend client initializing",data:{apiUrl:Up,fullUrl:Up},timestamp:Date.now(),sessionId:"debug-session",hypothesisId:"H1,H4"})}).catch(()=>{});const oi=new lu(Up);console.log("Client instance created:",oi);console.log("Client instance type:",typeof oi);console.log("=== END IMPORT TEST ===");const kd=oi;let xr=null,yp=0;const qC=1e3;function $F(){console.log("Clearing backend cache..."),xr=null,yp=0}typeof window<"u"&&window.addEventListener("clearBackendCache",()=>{$F()});function $C(e){try{const s=e.split(".");if(s.length!==3)return!0;const n=JSON.parse(atob(s[1])),a=Math.floor(Date.now()/1e3);return n.exp&&n.exp<a+30}catch(s){return console.error("Failed to decode token for expiry check:",s),!0}}function pd(){const e=Date.now(),s=localStorage.getItem("accessToken");if(console.log("=== GET AUTHENTICATED BACKEND DEBUG ==="),console.log("Current time:",e),console.log("Last token check:",yp),console.log("Token cache duration:",qC),console.log("Current token from localStorage:",s?`${s.substring(0,20)}...`:"null"),console.log("Cached backend exists:",!!xr),s){console.log("Token length:",s.length),console.log("Token contains whitespace:",/\s/.test(s)),console.log("Token contains newlines:",/\n/.test(s)),console.log("Token contains tabs:",/\t/.test(s));const n=$C(s);if(console.log("Token is expired:",n),n){console.log("Token is expired, triggering refresh...");const a=new CustomEvent("tokenRefreshRequired",{detail:{reason:"token_expired",token:s}});return window.dispatchEvent(a),null}}if(!xr||e-yp>qC||!s){console.log("Creating new authenticated backend instance...");const n=HF(s);if(!n)return console.error("Invalid token, cannot create authenticated backend"),null;if($C(n)){console.log("Cleaned token is also expired, triggering refresh...");const r=new CustomEvent("tokenRefreshRequired",{detail:{reason:"cleaned_token_expired",token:n}});return window.dispatchEvent(r),null}console.log("Token validated and cleaned successfully"),console.log("Clean token length:",n.length),console.log("Clean token start:",n.substring(0,20)),console.log("Clean token end:",n.substring(n.length-20));const a={auth:async()=>({authorization:`Bearer ${n}`})};console.log("Creating backend with auth config:",a),console.log("Auth config details:",{hasAuth:!!a.auth,authType:typeof a.auth,tokenLength:n.length}),console.log("Client instance type:",typeof oi),console.log("Client instance has with method:",typeof oi.with=="function"),xr=oi.with(a),console.log("Authenticated backend created successfully"),console.log("Created backend type:",typeof xr),console.log("Created backend has auth method:",typeof(xr==null?void 0:xr.auth)=="object"),console.log("Created backend has branding method:",typeof(xr==null?void 0:xr.branding)=="object"),yp=e}else console.log("Using cached authenticated backend instance");return console.log("=== END DEBUG ==="),xr}function HF(e){if(!e||typeof e!="string")return null;const s=e.trim().replace(/[\r\n\t]/g,"").replace(/\s/g,""),n=s.split(".");return n.length!==3?(console.error("Invalid JWT format, token has",n.length,"parts"),null):s.length<100||s.length>400?(console.error("Suspicious token length:",s.length),null):(s!==e&&(console.warn("Token contained whitespace characters, cleaned before using"),localStorage.setItem("accessToken",s)),s)}const GF=()=>{const e=localStorage.getItem("accessToken"),s=localStorage.getItem("refreshToken");if(e){const n=e.trim().replace(/\s/g,"");n!==e&&(console.warn("Access token contained whitespace characters, cleaning..."),localStorage.setItem("accessToken",n))}if(s){const n=s.trim().replace(/\s/g,"");n!==s&&(console.warn("Refresh token contained whitespace characters, cleaning..."),localStorage.setItem("refreshToken",n))}};Xb()&&(window.testBackend=()=>{console.log("=== TESTING BACKEND ==="),console.log("Client instance:",oi),console.log("Client type:",typeof oi),console.log("Client has with method:",typeof oi.with=="function");const e=localStorage.getItem("accessToken");if(console.log("Current token:",e),e){const s={auth:{authorization:`Bearer ${e}`}};console.log("Auth config:",s);try{const n=oi.with(s);return console.log("Test backend created:",n),console.log("Test backend type:",typeof n),console.log("Test backend has auth:",!!(n!=null&&n.auth)),console.log("Test backend has branding:",!!(n!=null&&n.branding)),n}catch(n){return console.error("Error creating test backend:",n),null}}else return console.log("No token found"),null},window.testTokenStorage=()=>{console.log("=== TESTING TOKEN STORAGE ===");const e=localStorage.getItem("accessToken"),s=localStorage.getItem("refreshToken");console.log("Access token:",e),console.log("Refresh token:",s),e&&(console.log("Access token length:",e.length),console.log("Access token contains spaces:",e.includes(" ")),console.log("Access token contains newlines:",e.includes(`
`)),console.log("Access token contains tabs:",e.includes("	")),console.log('Access token starts with "Bearer":',e.startsWith("Bearer ")))},window.testAuthenticatedBackend=()=>{console.log("=== TESTING AUTHENTICATED BACKEND ===");const e=pd();return console.log("Authenticated backend:",e),e&&(console.log("Backend type:",typeof e),console.log("Backend has auth:",!!e.auth),console.log("Backend has branding:",!!e.branding),console.log("Backend has tasks:",!!e.tasks)),e},window.cleanAllTokens=()=>{console.log("=== CLEANING ALL TOKENS ==="),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),console.log("Tokens cleared")},window.forceCleanTokens=()=>{console.log("=== FORCE CLEANING TOKENS ==="),localStorage.clear(),console.log("All localStorage cleared")},window.debugTokenCorruption=()=>{console.log("=== DEBUGGING TOKEN CORRUPTION ===");const e=localStorage.getItem("accessToken");e&&(console.log("Raw token:",e),console.log("Token length:",e.length),console.log("Token char codes:",Array.from(e).map(s=>s.charCodeAt(0))),console.log("Contains whitespace:",/\s/.test(e)),console.log("Contains newlines:",/\n/.test(e)),console.log("Contains tabs:",/\t/.test(e)),console.log("Contains carriage returns:",/\r/.test(e)))});GF();if(typeof window<"u"){const e=localStorage.setItem;localStorage.setItem=function(s,n){if(s==="accessToken"||s==="refreshToken"){if(n.length>400){console.error(`SUSPICIOUS TOKEN LENGTH: ${s} has ${n.length} characters! This indicates token corruption.`),console.error("Token value:",n.substring(0,100)+"...");const r=n.split(".");if(r.length>=3){const l=r.slice(0,3).join(".");if(l.length>=100&&l.length<=400){console.log("Attempting to extract valid token from corrupted data..."),console.log("Extracted token length:",l.length),e.call(this,s,l);return}}console.error("Cannot extract valid token, clearing corrupted token"),e.call(this,s,"");return}const a=n.replace(/\s/g,"");if(a!==n){console.warn(`Token ${s} contained whitespace, cleaning before storage`),console.log(`Original ${s} length:`,n.length,"Cleaned length:",a.length),e.call(this,s,a);return}}e.call(this,s,n)}}async function YF(){try{const e=await fetch("https://ipapi.co/json/");if(!e.ok)throw new Error("Failed to fetch location data");const s=await e.json();return{country:s.country,region:s.region,city:s.city,latitude:s.lat,longitude:s.lon,timezone:s.timezone}}catch(e){console.warn("Failed to get geolocation data:",e);try{if("geolocation"in navigator){const s=await new Promise((n,a)=>{navigator.geolocation.getCurrentPosition(n,a,{timeout:5e3,enableHighAccuracy:!1})});return{latitude:s.coords.latitude,longitude:s.coords.longitude,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}}catch(s){console.warn("Browser geolocation failed:",s)}return{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}}async function WF(){try{const e=await fetch("https://api.ipify.org?format=json");if(!e.ok)throw new Error("Failed to fetch IP address");return(await e.json()).ip}catch(e){return console.warn("Failed to get IP address:",e),null}}function KF(){return navigator.userAgent}const Zl=class Zl{constructor(){Ve(this,"refreshPromise",null);Ve(this,"requestQueue",[]);Ve(this,"refreshTimer",null);Ve(this,"backgroundRefreshInterval",null);Ve(this,"isRefreshing",!1);Ve(this,"autoRefreshEnabled",!0);Ve(this,"debugMode",!1);Ve(this,"REFRESH_BEFORE_EXPIRY",60);Ve(this,"MIN_TOKEN_LENGTH",100);Ve(this,"MAX_TOKEN_LENGTH",500);Ve(this,"STORAGE_KEYS",{ACCESS_TOKEN:"accessToken",REFRESH_TOKEN:"refreshToken"});this.startBackgroundRefresh(),this.setupStorageListener();const s=localStorage.getItem("tokenManager_debug")==="true",n=localStorage.getItem("tokenManager_autoRefreshDisabled")==="true";s&&(this.debugMode=!0,console.log("[TokenManager] Debug mode ENABLED")),n&&(this.autoRefreshEnabled=!1,console.warn("[TokenManager] Auto-refresh is DISABLED for debugging"))}static getInstance(){return Zl.instance||(Zl.instance=new Zl),Zl.instance}validateAndCleanToken(s){if(!s||typeof s!="string")return null;const n=s.trim().replace(/[\r\n\t\s]/g,""),a=n.split(".");return a.length!==3?(console.error("[TokenManager] Invalid JWT format:",a.length,"parts"),null):n.length<this.MIN_TOKEN_LENGTH||n.length>this.MAX_TOKEN_LENGTH?(console.error("[TokenManager] Suspicious token length:",n.length),null):n}decodeToken(s){try{const n=s.split(".");return n.length!==3?null:JSON.parse(atob(n[1]))}catch(n){return console.error("[TokenManager] Failed to decode token:",n),null}}isTokenExpiringSoon(s,n=this.REFRESH_BEFORE_EXPIRY){const a=this.decodeToken(s);if(!a||!a.exp)return!0;const r=Math.floor(Date.now()/1e3);return a.exp<=r+n}getAccessToken(){const s=localStorage.getItem(this.STORAGE_KEYS.ACCESS_TOKEN);return this.validateAndCleanToken(s)}getRefreshToken(){const s=localStorage.getItem(this.STORAGE_KEYS.REFRESH_TOKEN);return this.validateAndCleanToken(s)}setTokens(s,n){const a=this.validateAndCleanToken(s),r=this.validateAndCleanToken(n);if(!a||!r)return console.error("[TokenManager] Cannot store invalid tokens"),!1;try{return localStorage.setItem(this.STORAGE_KEYS.ACCESS_TOKEN,a),localStorage.setItem(this.STORAGE_KEYS.REFRESH_TOKEN,r),this.scheduleNextRefresh(),!0}catch(l){return console.error("[TokenManager] Failed to store tokens:",l),!1}}clearTokens(){localStorage.removeItem(this.STORAGE_KEYS.ACCESS_TOKEN),localStorage.removeItem(this.STORAGE_KEYS.REFRESH_TOKEN),this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=null),this.requestQueue.forEach(s=>{s.reject(new Error("Authentication cleared"))}),this.requestQueue=[],this.refreshPromise=null,this.isRefreshing=!1}async getValidAccessToken(){const s=this.getAccessToken();if(!s)throw new Error("No access token available");return this.isTokenExpiringSoon(s)?this.refreshAccessToken():s}async refreshAccessToken(){return this.isRefreshing&&this.refreshPromise?(console.log("[TokenManager] Refresh in progress, queuing request..."),new Promise((s,n)=>{this.requestQueue.push({resolve:s,reject:n})})):(this.isRefreshing=!0,this.refreshPromise=(async()=>{try{const s=this.getRefreshToken();if(!s)throw new Error("No refresh token available");console.log("[TokenManager] Refreshing access token...");const n=await kd.auth.refresh({refreshToken:s}),a=this.validateAndCleanToken(n.accessToken),r=this.validateAndCleanToken(n.refreshToken);if(!a||!r)throw new Error("Received invalid tokens from server");return this.setTokens(a,r),console.log("[TokenManager] Token refresh successful"),this.requestQueue.forEach(l=>{l.resolve(a)}),this.requestQueue=[],window.dispatchEvent(new CustomEvent("tokenRefreshed",{detail:{accessToken:a}})),a}catch(s){console.error("[TokenManager] Token refresh failed:",s);const n=s instanceof Error?s:new Error("Token refresh failed");throw this.requestQueue.forEach(a=>{a.reject(n)}),this.requestQueue=[],this.clearTokens(),window.dispatchEvent(new CustomEvent("authenticationFailed",{detail:{error:n.message}})),n}finally{this.isRefreshing=!1,this.refreshPromise=null}})(),this.refreshPromise)}scheduleNextRefresh(){if(this.refreshTimer&&clearTimeout(this.refreshTimer),!this.autoRefreshEnabled){this.debugMode&&console.log("[TokenManager] Auto-refresh scheduling skipped - disabled for debugging");return}const s=this.getAccessToken();if(!s)return;const n=this.decodeToken(s);if(!n||!n.exp)return;const a=Math.floor(Date.now()/1e3),c=(n.exp-this.REFRESH_BEFORE_EXPIRY-a)*1e3;c>0&&(console.log(`[TokenManager] Next auto-refresh in ${Math.floor(c/1e3)}s`),this.refreshTimer=window.setTimeout(()=>{console.log("[TokenManager] Auto-refresh triggered"),this.refreshAccessToken().catch(u=>{console.error("[TokenManager] Auto-refresh failed:",u)})},c))}startBackgroundRefresh(){this.backgroundRefreshInterval=window.setInterval(()=>{if(!this.autoRefreshEnabled){this.debugMode&&console.log("[TokenManager] Background check skipped - auto-refresh disabled");return}const s=this.getAccessToken();s&&this.isTokenExpiringSoon(s)&&!this.isRefreshing&&(console.log("[TokenManager] Background check detected expiring token"),this.refreshAccessToken().catch(n=>{console.error("[TokenManager] Background refresh failed:",n)}))},3e4),this.scheduleNextRefresh()}setupStorageListener(){window.addEventListener("storage",s=>{(s.key===this.STORAGE_KEYS.ACCESS_TOKEN||s.key===this.STORAGE_KEYS.REFRESH_TOKEN)&&(console.log("[TokenManager] Token changed in another tab, rescheduling refresh"),this.scheduleNextRefresh())})}isAuthenticated(){const s=this.getAccessToken();return s?!this.isTokenExpiringSoon(s,0):!1}getTokenExpiry(){const s=this.getAccessToken();if(!s)return null;const n=this.decodeToken(s);return!n||!n.exp?null:new Date(n.exp*1e3)}async forceRefresh(){return this.refreshAccessToken()}setAutoRefreshEnabled(s){this.autoRefreshEnabled=s,localStorage.setItem("tokenManager_autoRefreshDisabled",s?"false":"true"),s?(console.log("[TokenManager] Auto-refresh ENABLED"),this.scheduleNextRefresh()):(console.warn("[TokenManager] Auto-refresh DISABLED - manual refresh only"),this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=null))}setDebugMode(s){this.debugMode=s,localStorage.setItem("tokenManager_debug",s?"true":"false"),console.log(`[TokenManager] Debug mode ${s?"ENABLED":"DISABLED"}`)}getDebugStatus(){const s=this.getAccessToken(),n=this.getRefreshToken(),a=s?this.decodeToken(s):null,r=Math.floor(Date.now()/1e3);let l=null,c=null,u=null;return a!=null&&a.exp&&(l=a.exp-r,c=a.exp<=r,u=this.isTokenExpiringSoon(s,0)),{autoRefreshEnabled:this.autoRefreshEnabled,debugMode:this.debugMode,isRefreshing:this.isRefreshing,queuedRequests:this.requestQueue.length,hasScheduledRefresh:this.refreshTimer!==null,accessToken:{present:!!s,length:(s==null?void 0:s.length)??null,payload:a?{sub:a.sub,orgId:a.orgId,role:a.role,email:a.email,exp:a.exp,iat:a.iat}:null,expiresAt:a!=null&&a.exp?new Date(a.exp*1e3).toISOString():null,expiresInSeconds:l,isExpired:c,isExpiringSoon:u},refreshToken:{present:!!n,length:(n==null?void 0:n.length)??null},serverTime:"Use backend debug endpoint for server time",clientTime:new Date().toISOString(),timeDiff:"Compare client vs server time to detect clock skew"}}logDebugStatus(){const s=this.getDebugStatus();console.group("[TokenManager] Debug Status"),console.log("Auto-refresh enabled:",s.autoRefreshEnabled),console.log("Debug mode:",s.debugMode),console.log("Is refreshing:",s.isRefreshing),console.log("Queued requests:",s.queuedRequests),console.log("Has scheduled refresh:",s.hasScheduledRefresh),console.log("Client time:",s.clientTime),console.group("Access Token"),console.log("Present:",s.accessToken.present),console.log("Length:",s.accessToken.length),console.log("Expires at:",s.accessToken.expiresAt),console.log("Expires in (seconds):",s.accessToken.expiresInSeconds),console.log("Is expired:",s.accessToken.isExpired),console.log("Is expiring soon:",s.accessToken.isExpiringSoon),console.log("Payload:",s.accessToken.payload),console.groupEnd(),console.group("Refresh Token"),console.log("Present:",s.refreshToken.present),console.log("Length:",s.refreshToken.length),console.groupEnd(),console.groupEnd()}};Ve(Zl,"instance");let Bv=Zl;const tn=Bv.getInstance();/*! Capacitor: https://capacitorjs.com/ - MIT License */const QF=e=>{const s=new Map;s.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:s},a=(l,c)=>{n.platforms.set(l,c)},r=l=>{n.platforms.has(l)&&(n.currentPlatform=n.platforms.get(l))};return n.addPlatform=a,n.setPlatform=r,n},JF=e=>e.CapacitorPlatforms=QF(e),vA=JF(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});vA.addPlatform;vA.setPlatform;var Yd;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Yd||(Yd={}));class Yy extends Error{constructor(s,n){super(s),this.message=s,this.code=n}}const XF=e=>{var s,n;return e!=null&&e.androidBridge?"android":!((n=(s=e==null?void 0:e.webkit)===null||s===void 0?void 0:s.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},ZF=e=>{var s,n,a,r,l;const c=e.CapacitorCustomPlatform||null,u=e.Capacitor||{},m=u.Plugins=u.Plugins||{},f=e.CapacitorPlatforms,p=()=>c!==null?c.name:XF(e),g=((s=f==null?void 0:f.currentPlatform)===null||s===void 0?void 0:s.getPlatform)||p,v=()=>g()!=="web",w=((n=f==null?void 0:f.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||v,N=R=>{const L=I.get(R);return!!(L!=null&&L.platforms.has(g())||E(R))},j=((a=f==null?void 0:f.currentPlatform)===null||a===void 0?void 0:a.isPluginAvailable)||N,S=R=>{var L;return(L=u.PluginHeaders)===null||L===void 0?void 0:L.find(z=>z.name===R)},E=((r=f==null?void 0:f.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||S,T=R=>e.console.error(R),C=(R,L,z)=>Promise.reject(`${z} does not have an implementation of "${L}".`),I=new Map,D=(R,L={})=>{const z=I.get(R);if(z)return console.warn(`Capacitor plugin "${R}" already registered. Cannot register plugins twice.`),z.proxy;const Q=g(),K=E(R);let J;const de=async()=>(!J&&Q in L?J=typeof L[Q]=="function"?J=await L[Q]():J=L[Q]:c!==null&&!J&&"web"in L&&(J=typeof L.web=="function"?J=await L.web():J=L.web),J),H=($,M)=>{var V,G;if(K){const B=K==null?void 0:K.methods.find(ce=>M===ce.name);if(B)return B.rtype==="promise"?ce=>u.nativePromise(R,M.toString(),ce):(ce,pe)=>u.nativeCallback(R,M.toString(),ce,pe);if($)return(V=$[M])===null||V===void 0?void 0:V.bind($)}else{if($)return(G=$[M])===null||G===void 0?void 0:G.bind($);throw new Yy(`"${R}" plugin is not implemented on ${Q}`,Yd.Unimplemented)}},ie=$=>{let M;const V=(...G)=>{const B=de().then(ce=>{const pe=H(ce,$);if(pe){const le=pe(...G);return M=le==null?void 0:le.remove,le}else throw new Yy(`"${R}.${$}()" is not implemented on ${Q}`,Yd.Unimplemented)});return $==="addListener"&&(B.remove=async()=>M()),B};return V.toString=()=>`${$.toString()}() { [capacitor code] }`,Object.defineProperty(V,"name",{value:$,writable:!1,configurable:!1}),V},F=ie("addListener"),q=ie("removeListener"),W=($,M)=>{const V=F({eventName:$},M),G=async()=>{const ce=await V;q({eventName:$,callbackId:ce},M)},B=new Promise(ce=>V.then(()=>ce({remove:G})));return B.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await G()},B},he=new Proxy({},{get($,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return K?W:F;case"removeListener":return q;default:return ie(M)}}});return m[R]=he,I.set(R,{name:R,proxy:he,platforms:new Set([...Object.keys(L),...K?[Q]:[]])}),he},A=((l=f==null?void 0:f.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||D;return u.convertFileSrc||(u.convertFileSrc=R=>R),u.getPlatform=g,u.handleError=T,u.isNativePlatform=w,u.isPluginAvailable=j,u.pluginMethodNoop=C,u.registerPlugin=A,u.Exception=Yy,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u.platform=u.getPlatform(),u.isNative=u.isNativePlatform(),u},eU=e=>e.Capacitor=ZF(e),Vp=eU(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),tU=Vp.registerPlugin;Vp.Plugins;class AX{constructor(s){this.listeners={},this.windowListeners={},s&&(console.warn(`Capacitor WebPlugin "${s.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=s)}addListener(s,n){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(n);const r=this.windowListeners[s];r&&!r.registered&&this.addWindowListener(r);const l=async()=>this.removeListener(s,n),c=Promise.resolve({remove:l});return Object.defineProperty(c,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await l()}}),c}async removeAllListeners(){this.listeners={};for(const s in this.windowListeners)this.removeWindowListener(this.windowListeners[s]);this.windowListeners={}}notifyListeners(s,n){const a=this.listeners[s];a&&a.forEach(r=>r(n))}hasListeners(s){return!!this.listeners[s].length}registerWindowListener(s,n){this.windowListeners[n]={registered:!1,windowEventName:s,pluginEventName:n,handler:a=>{this.notifyListeners(n,a)}}}unimplemented(s="not implemented"){return new Vp.Exception(s,Yd.Unimplemented)}unavailable(s="not available"){return new Vp.Exception(s,Yd.Unavailable)}async removeListener(s,n){const a=this.listeners[s];if(!a)return;const r=a.indexOf(n);this.listeners[s].splice(r,1),this.listeners[s].length||this.removeWindowListener(this.windowListeners[s])}addWindowListener(s){window.addEventListener(s.windowEventName,s.handler),s.registered=!0}removeWindowListener(s){s&&(window.removeEventListener(s.windowEventName,s.handler),s.registered=!1)}}const bA=tU("Http",{web:()=>Cr(()=>import("./web-Ca19tTiU.js"),[]).then(e=>new e.HttpWeb),electron:()=>Cr(()=>import("./web-Ca19tTiU.js"),[]).then(e=>new e.HttpWeb)});function Bp(){return hl.isNativePlatform()}async function sU(e,s){if(!Bp()){const r=await fetch(e,{headers:s});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);return r.json()}const n={url:e,headers:s||{}},a=await bA.get(n);if(a.status>=400)throw new Error(`HTTP ${a.status}: ${JSON.stringify(a.data)}`);return a.data}async function Kf(e,s,n){var l;if(!Bp()){const c=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(s)}),u=await c.json();if(!c.ok){const m=new Error(u.message||`HTTP ${c.status}`);throw m.response={status:c.status,data:u},m}return u}const a={url:e,headers:{"Content-Type":"application/json",...n},data:s};console.log("[NativeHTTP] POST request:",e);const r=await bA.post(a);if(console.log("[NativeHTTP] Response status:",r.status),console.log("[NativeHTTP] Response data:",r.data),r.status>=400){const c=new Error(((l=r.data)==null?void 0:l.message)||`HTTP ${r.status}`);throw c.response={status:r.status,data:r.data},c}return r.data}function HC(e){return{login:async(s,n)=>{const a=`${e}/auth/login`;return console.log("[NativeAuthClient] Login URL:",a),Kf(a,{email:s,password:n})},signup:async s=>{const n=`${e}/auth/signup`;return Kf(n,s)},me:async s=>{const n=`${e}/auth/me`;return sU(n,{Authorization:`Bearer ${s}`})},refresh:async s=>{const n=`${e}/auth/refresh`;return Kf(n,{refreshToken:s})},logout:async s=>{const n=`${e}/auth/logout`;return Kf(n,{},{Authorization:`Bearer ${s}`})}}}const wA=x.createContext(void 0);function $s(){const e=x.useContext(wA);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function aU({children:e}){const[s,n]=x.useState(null),[a,r]=x.useState(null),[l,c]=x.useState(!0),[u,m]=x.useState(!1),[f,p]=x.useState(!1),[g,v]=x.useState(!0),[w,N]=x.useState(!1),[j,S]=x.useState(!1),[E,T]=x.useState(null),C=x.useRef(null),I=x.useRef(!1),D=x.useRef([]),A=x.useRef(0),R=x.useRef((()=>{try{const $=sessionStorage.getItem("auth-tab-id");if($)return $;const M=Math.random().toString(36).slice(2);return sessionStorage.setItem("auth-tab-id",M),M}catch{return Math.random().toString(36).slice(2)}})()),L=x.useRef(null),z=x.useRef(!1);x.useEffect(()=>{},[u,f,g,w,s]);const Q=za();x.useRef(null);const K=async($,M)=>{try{const V=pd(),[G,B,ce]=await Promise.all([YF(),WF(),Promise.resolve(KF())]);await V.users.updateActivity({activityType:M,ipAddress:B||void 0,userAgent:ce,locationData:G||void 0}),console.log("User activity tracked:",{activityType:M,locationData:G})}catch(V){console.warn("Failed to track user activity:",V)}},J=async($,M)=>{var V,G;try{console.log("[AuthContext] Login started"),p(!0),m(!1),N(!1);let B;if(Bp()){console.log("[AuthContext] Using Native HTTP for login (Capacitor)");const ye=Uv();B=await HC(ye).login($,M),console.log("[AuthContext] Native HTTP login response:",B)}else B=await kd.auth.login({email:$,password:M});console.log("[DEBUG] Login API response received:",!!B),localStorage.setItem("__debug_login_response",JSON.stringify({hasResponse:!!B,hasAccessToken:!!(B!=null&&B.accessToken),hasUser:!!(B!=null&&B.user),timestamp:new Date().toISOString()}));const ce=tn.setTokens(B.accessToken,B.refreshToken);if(console.log("[DEBUG] Token storage result:",ce),localStorage.setItem("__debug_token_stored",JSON.stringify({stored:ce,timestamp:new Date().toISOString()})),!ce)throw new Error("Failed to store tokens safely");r(B.accessToken),n({...B.user,userID:B.user.id.toString()}),console.log("[AuthContext] Clearing query cache after login..."),Q.clear(),await new Promise(ye=>setTimeout(ye,200));const pe=pd();if(!pe)throw console.error("[AuthContext] Failed to create authenticated backend client"),new Error("Failed to create authenticated backend client");console.log("[AuthContext] Calling /auth/me...");let le;if(Bp()){const ye=Uv(),ke=HC(ye),Y=tn.getAccessToken();le=await ke.me(Y)}else le=await pe.auth.me();n(le.user),console.log("[AuthContext] Login complete, user set:",(V=le.user)==null?void 0:V.email),K(parseInt(le.user.userID),"login").catch(ye=>{console.warn("[AuthContext] Login activity tracking failed (non-critical):",ye)}),console.log("[AuthContext] Login successful, user set:",le.user)}catch(B){console.error("[AuthContext] Login failed:",B);const ce={message:String(B),name:(B==null?void 0:B.name)||"Unknown",stack:((G=B==null?void 0:B.stack)==null?void 0:G.substring(0,300))||"No stack"};try{localStorage.setItem("__debug_last_login_error",JSON.stringify(ce)),typeof window<"u"&&window.alert&&window.alert(`Login Error: ${ce.message}`)}catch{}throw tn.clearTokens(),r(null),n(null),B}finally{console.log("[AuthContext] Login completed"),p(!1)}},de=()=>{console.log("Clearing corrupted tokens..."),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),r(null),n(null),Q.clear()},H=()=>{console.log("Clearing all auth data..."),localStorage.clear(),r(null),n(null),Q.clear(),window.location.href="/login"},ie=async()=>{var M;if(w){console.log("Logout already in progress, ignoring duplicate call");return}N(!0);const $=!f&&!g&&!!s;console.log(" Logout called - shouldShowProgress:",$,"isLoggingIn:",f,"isInitializing:",g,"user:",!!s),console.log(" Current state values:",{isLoggingIn:f,isInitializing:g,user:!!s,showLogoutProgress:u}),console.log(" State transitions during logout:",{before:{isLoggingOut:!1,showLogoutProgress:u},action:"Starting logout process",timestamp:new Date().toISOString()});try{try{const B={t:"logout",id:window.crypto&&"randomUUID"in window.crypto?window.crypto.randomUUID():Math.random().toString(36).slice(2),ts:Date.now()};(M=L.current)==null||M.postMessage(B);try{localStorage.setItem("auth-logout",JSON.stringify(B))}catch{}}catch{}if(console.log(" FORCING showLogoutProgress to true for testing"),m(!0),console.log(" setShowLogoutProgress(true) called - should trigger re-render"),$?(console.log("Setting showLogoutProgress to true"),m(!0),await new Promise(G=>setTimeout(G,100)),console.log("Progress dialog should be visible now")):console.log("Skipping logout progress dialog due to login/initialization state or no user"),s&&K(parseInt(s.userID),"logout").catch(G=>{console.warn("Logout activity tracking failed (non-critical):",G)}),await(async()=>{const G=localStorage.getItem("refreshToken");if(G)try{await kd.auth.logout({refreshToken:G}),console.log("Logout API call completed")}catch(B){console.error("Logout API call failed:",B)}})(),$){const G=Date.now();console.log("Waiting for logout progress to complete naturally...","Start time:",G),await new Promise(pe=>setTimeout(pe,4500));const B=Date.now(),ce=B-G;console.log("Logout progress wait completed","End time:",B,"Total duration:",ce+"ms")}else console.log("Not waiting for progress dialog - shouldShowProgress:",$)}catch(V){console.error("Logout error:",V)}finally{console.log("[AuthContext] Finally block - clearing state, shouldShowProgress:",$),tn.clearTokens(),r(null),n(null),console.log("[AuthContext] Clearing query cache after logout..."),Q.clear(),$?console.log("Logout progress dialog will complete automatically"):(console.log("Force closing logout progress dialog"),m(!1)),N(!1)}},F=async()=>{var B;if(I.current)return await new Promise((ce,pe)=>{D.current.push(le=>{if(le){const ye=localStorage.getItem("accessToken");ye?ce(ye):pe(new Error("No token after refresh"))}else pe(new Error("Refresh failed"))})});const $=()=>{try{const ce="auth_refresh_lock",pe=localStorage.getItem(ce),le=Date.now(),ye=pe?JSON.parse(pe):null;return!ye||ye.exp<le?(localStorage.setItem(ce,JSON.stringify({owner:R.current,exp:le+1e4})),!0):ye.owner===R.current}catch{return!0}},M=()=>{try{localStorage.removeItem("auth_refresh_lock")}catch{}};I.current=!0,(B=C.current)==null||B.postMessage({t:"refresh-started"});const V=async()=>{var ce,pe;try{console.log("[AuthContext] Refreshing access token via TokenManager...");const le=await tn.getValidAccessToken();return r(le),A.current=0,T(null),(ce=C.current)==null||ce.postMessage({t:"refresh-success",token:le}),D.current.splice(0).forEach(ye=>ye(!0)),le}catch(le){throw console.error("[AuthContext] Token refresh failed:",le),A.current+=1,A.current>=2&&T("expired"),(pe=C.current)==null||pe.postMessage({t:"refresh-failed"}),D.current.splice(0).forEach(ye=>ye(!1)),tn.clearTokens(),r(null),n(null),le}finally{I.current=!1,M()}};return await(async()=>{var ce;return(ce=navigator==null?void 0:navigator.locks)!=null&&ce.request?await navigator.locks.request("auth-refresh",async()=>await V()):$()?await V():await new Promise((pe,le)=>{D.current.push(ye=>{if(ye){const ke=localStorage.getItem("accessToken");ke?pe(ke):le(new Error("No token after refresh"))}else le(new Error("Refresh failed"))})})})()};x.useEffect(()=>{if(typeof window<"u"&&"BroadcastChannel"in window){C.current=new BroadcastChannel("auth-refresh"),C.current.onmessage=V=>{const G=V.data||{};G.t==="refresh-success"?(G.token&&(localStorage.setItem("accessToken",G.token),r(G.token)),A.current=0,T(null),D.current.splice(0).forEach(B=>B(!0))):G.t==="refresh-failed"&&(A.current+=1,A.current>=2&&T("expired"),D.current.splice(0).forEach(B=>B(!1)))};try{L.current=new BroadcastChannel("auth-control"),L.current.onmessage=V=>{if((V.data||{}).t==="logout"){if(z.current)return;z.current=!0;try{tn.clearTokens(),r(null),n(null),Q.clear()}catch{}try{window.location.assign("/login")}catch{}}}}catch{}}const $=V=>{if(V.key==="auth-logout"&&V.newValue){if(z.current)return;z.current=!0;try{tn.clearTokens(),r(null),n(null),Q.clear()}catch{}try{window.location.assign("/login")}catch{}}};return window.addEventListener("storage",$),(async()=>{try{if(console.log("[AuthContext] Initializing authentication..."),!tn.isAuthenticated()){console.log("[AuthContext] No valid token found"),c(!1);return}try{const V=await tn.getValidAccessToken();r(V);const G=pd();if(!G){console.error("[AuthContext] Failed to create authenticated backend client"),tn.clearTokens(),c(!1);return}const B=await G.auth.me();n(B.user),console.log("[AuthContext] Auth initialized with user:",B.user)}catch(V){console.error("[AuthContext] Auth initialization failed:",V),tn.clearTokens()}}catch(V){console.error("Auth initialization error:",V),de()}finally{console.log("Auth initialization completed - setting isInitializing to false"),c(!1),v(!1)}})(),()=>{var V,G;try{(V=C.current)==null||V.close()}catch{}try{(G=L.current)==null||G.close()}catch{}window.removeEventListener("storage",$)}},[]),x.useEffect(()=>{},[]),x.useEffect(()=>{s&&(console.log("User available, invalidating queries for fresh data..."),u&&f&&!j&&(console.log("Resetting logout progress state after user login"),m(!1),N(!1)),setTimeout(()=>{window.__propertyUpdateInProgress?console.log("Skipping properties invalidation - update in progress"):Q.invalidateQueries({queryKey:["properties"]}),Q.invalidateQueries({queryKey:["tasks"]}),Q.invalidateQueries({queryKey:["users"]}),Q.invalidateQueries({queryKey:["expenses"]}),Q.invalidateQueries({queryKey:["revenues"]}),Q.invalidateQueries({queryKey:["profit-loss"]}),Q.invalidateQueries({queryKey:["staff"]}),Q.invalidateQueries({queryKey:["schedules"]}),Q.invalidateQueries({queryKey:["leave-requests"]}),Q.invalidateQueries({queryKey:["analytics","overview"]})},100))},[s,Q,u]),x.useEffect(()=>{const $=V=>{console.log("Token automatically refreshed, updating auth state"),r(V.detail.accessToken)},M=async V=>{var G;console.log("Token refresh required, attempting refresh..."),console.log("Refresh event detail:",V.detail);try{const B=await F();if(console.log("Token refreshed successfully, retrying original request..."),V.detail.url&&V.detail.init)(await fetch(V.detail.url,{...V.detail.init,headers:{...(G=V.detail.init)==null?void 0:G.headers,Authorization:`Bearer ${B}`}})).status===401?(console.error("Still getting 401 after token refresh, clearing tokens..."),de(),window.location.href="/login"):console.log("Request retry successful after token refresh");else if(console.log("Token refresh completed, clearing backend cache..."),typeof window<"u"){const ce=new CustomEvent("clearBackendCache");window.dispatchEvent(ce)}}catch(B){console.error("Token refresh failed:",B),de(),window.location.href="/login"}};return window.addEventListener("tokenRefreshed",$),window.addEventListener("tokenRefreshRequired",M),()=>{window.removeEventListener("tokenRefreshed",$),window.removeEventListener("tokenRefreshRequired",M)}},[]);const q=async $=>{try{console.log("Starting signup process...");const M=await kd.auth.signup($);console.log("Signup successful:",M)}catch(M){throw console.error("Signup failed:",M),M}},W=async()=>{s&&await K(parseInt(s.userID),"activity")},he=async()=>{try{console.log(" Refreshing user data...");const $=pd();if(!$){console.error("No authenticated backend available for user refresh");return}console.log(" Calling /auth/me endpoint...");const M=await $.auth.me();console.log(" Received fresh user data:",M.user),n(M.user),console.log(" User data refreshed successfully in AuthContext")}catch($){console.error(" Failed to refresh user data:",$)}};return t.jsx(wA.Provider,{value:{user:s,login:J,signup:q,logout:ie,isLoading:l,getAuthenticatedBackend:pd,trackActivity:W,refreshUser:he,showLogoutProgress:u,setShowLogoutProgress:m,setIsTestingLogoutDialog:S,clearCorruptedTokens:de,clearAllAuthData:H,authError:E},children:e})}const Ha={brandName:"Hospitality Management Platform",primaryColor:"#3b82f6",secondaryColor:"#64748b",accentColor:"#10b981",backgroundColor:"#ffffff",textColor:"#1f2937",currency:"INR",dateFormat:"DD/MM/YYYY",timeFormat:"24h",timezone:"Asia/Kolkata"},jA=x.createContext(void 0);function _a(){const e=x.useContext(jA);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function nU({children:e}){const[s,n]=x.useState(Ha),[a,r]=x.useState(!1),{user:l,getAuthenticatedBackend:c}=$s();x.useEffect(()=>{const m=async f=>{try{const p=c();if(!p)return;const g=await p.branding.getTheme();g!=null&&g.theme&&(n(v=>({...v,...g.theme})),window.dispatchEvent(new CustomEvent("themeReloaded",{detail:g.theme})))}catch(p){console.warn("Failed to refresh theme on branding event:",p)}};return window.addEventListener("branding-stream-events",m),()=>window.removeEventListener("branding-stream-events",m)},[c]);const u=async m=>{var f,p,g;try{r(!0),console.log("Updating theme with:",m);const v=c(),w=await v.branding.updateTheme(m);console.log("Theme update response:",w),n(N=>{const j={...N,...m};return console.log("Updated local theme state:",j),j}),window.dispatchEvent(new CustomEvent("themeUpdated",{detail:m})),setTimeout(async()=>{try{console.log("Reloading theme after update...");const N=await v.branding.getTheme();console.log("Theme reloaded:",N.theme),n(N.theme),window.dispatchEvent(new CustomEvent("themeReloaded",{detail:N.theme}))}catch(N){console.warn("Failed to reload theme after update:",N)}},1e3)}catch(v){if(console.error("Failed to update theme:",v),v.status===401||(f=v.message)!=null&&f.includes("Invalid token")||(p=v.message)!=null&&p.includes("Unauthorized")||(g=v.message)!=null&&g.includes("Authentication required")){console.error("Authentication error during theme update:",v);try{console.log("Attempting to refresh token and retry theme update..."),await new Promise(S=>setTimeout(S,1e3));const N=c();if(!N)throw new Error("No authenticated backend available");const j=await N.branding.updateTheme(m);console.log("Theme update successful after retry:",j),n(S=>({...S,...m})),window.dispatchEvent(new CustomEvent("themeUpdated",{detail:m}));return}catch(N){console.error("Theme update retry failed:",N);const j="Your session has expired. Please log in again to save your settings.";throw console.error("Theme update authentication error details:",{message:N.message,status:N.status,statusText:N.statusText,response:N.response,stack:N.stack}),new Error(j)}}let w="Failed to update theme settings";throw v.message&&(v.message.includes("Organization not found")?w="Organization not found. Please contact support.":v.message.includes("Invalid theme data")?w="Invalid theme data provided. Please check your settings.":v.message.includes("Failed to update theme configuration")?w="Server error while updating theme. Please try again.":v.message.includes("An internal error occurred")?w="Server error occurred. Please try again later.":w=v.message),console.error("Theme update error details:",{message:v.message,status:v.status,statusText:v.statusText,response:v.response,stack:v.stack}),new Error(w)}finally{r(!1)}};return x.useEffect(()=>{const m=async()=>{if(!l){console.log("No user, using default theme"),n(Ha);return}try{r(!0),console.log("Loading theme for user:",l.email,"org:",l.orgId);const f=c();if(!f){console.warn("No authenticated backend available, using default theme"),n(Ha);return}const p=await f.branding.getTheme();if(console.log("Theme loaded successfully:",p.theme),p.theme&&typeof p.theme=="object"){const g={brandName:p.theme.brandName||Ha.brandName,logoUrl:p.theme.logoUrl,primaryColor:p.theme.primaryColor||Ha.primaryColor,secondaryColor:p.theme.secondaryColor||Ha.secondaryColor,accentColor:p.theme.accentColor||Ha.accentColor,backgroundColor:p.theme.backgroundColor||Ha.backgroundColor,textColor:p.theme.textColor||Ha.textColor,currency:p.theme.currency||Ha.currency,dateFormat:p.theme.dateFormat||Ha.dateFormat,timeFormat:p.theme.timeFormat||Ha.timeFormat,timezone:p.theme.timezone||Ha.timezone};console.log("Setting validated theme:",g),n(g)}else console.warn("Invalid theme response, using default"),n(Ha)}catch(f){if(console.error("Failed to load theme:",f),f.message&&f.message.includes("Authentication required")){console.log("Theme load failed due to authentication, using default theme"),n(Ha);return}f.message&&(f.message.includes("Organization not found")||f.message.includes("Too many properties to enumerate")||f.message.includes("An internal error occurred")||f.message),console.error("Theme load error details:",{message:f.message,status:f.status,statusText:f.statusText,response:f.response,stack:f.stack});const p={brandName:"Hospitality Management Platform",primaryColor:"#3b82f6",secondaryColor:"#64748b",accentColor:"#10b981",backgroundColor:"#ffffff",textColor:"#1f2937",currency:"USD",dateFormat:"MM/DD/YYYY",timeFormat:"12h",timezone:"Asia/Kolkata"};console.log("Using safe default theme due to error"),n(p),f.message&&!f.message.includes("Organization not found")&&console.warn("Theme load failed, using default theme")}finally{r(!1)}};if(l&&l.userID&&l.userID!=="0"){if(!localStorage.getItem("accessToken")){console.log("No access token found, using default theme"),n(Ha);return}console.log("User authenticated, loading theme for:",l.email),m()}else console.log("User not fully authenticated, using default theme"),n(Ha)},[l,c]),x.useEffect(()=>{const m=document.documentElement;console.log("Applying theme to CSS custom properties:",{primaryColor:s.primaryColor,secondaryColor:s.secondaryColor,accentColor:s.accentColor,backgroundColor:s.backgroundColor,textColor:s.textColor}),m.style.setProperty("--primary-color",s.primaryColor),m.style.setProperty("--secondary-color",s.secondaryColor),m.style.setProperty("--accent-color",s.accentColor),m.style.setProperty("--background-color",s.backgroundColor),m.style.setProperty("--text-color",s.textColor),window.dispatchEvent(new CustomEvent("themeChanged",{detail:s})),console.log("Theme applied successfully to CSS custom properties")},[s]),x.useEffect(()=>{l||(console.log("User logged out, resetting theme to default"),n(Ha))},[l]),t.jsx(jA.Provider,{value:{theme:s,updateTheme:u,isLoading:a},children:e})}const NA=x.createContext(void 0);function rU({children:e}){const[s,n]=x.useState(""),[a,r]=x.useState(""),l=(u,m)=>{n(u),r(m)},c=()=>{n(""),r("")};return t.jsx(NA.Provider,{value:{title:s,description:a,setPageTitle:l,clearPageTitle:c},children:e})}function Er(){const e=x.useContext(NA);if(e===void 0)throw new Error("usePageTitle must be used within a PageTitleProvider");return e}const vp=hg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function se({className:e,variant:s,size:n,asChild:a=!1,...r}){const l=a?vE:"button";return t.jsx(l,{"data-slot":"button",className:Xe(vp({variant:s,size:n,className:e})),...r})}function ve({className:e,type:s,...n}){return t.jsx("input",{type:s,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var iU="Label",SA=x.forwardRef((e,s)=>t.jsx(Ot.label,{...e,ref:s,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SA.displayName=iU;var oU=SA;function ee({className:e,...s}){return t.jsx(oU,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}var lU=zk[" useId ".trim().toString()]||(()=>{}),cU=0;function Zi(e){const[s,n]=x.useState(lU());return Oa(()=>{n(a=>a??String(cU++))},[e]),e||(s?`radix-${s}`:"")}var Wy="focusScope.autoFocusOnMount",Ky="focusScope.autoFocusOnUnmount",GC={bubbles:!1,cancelable:!0},dU="FocusScope",pg=x.forwardRef((e,s)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:r,onUnmountAutoFocus:l,...c}=e,[u,m]=x.useState(null),f=tr(r),p=tr(l),g=x.useRef(null),v=Ms(s,j=>m(j)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let j=function(C){if(w.paused||!u)return;const I=C.target;u.contains(I)?g.current=I:Yo(g.current,{select:!0})},S=function(C){if(w.paused||!u)return;const I=C.relatedTarget;I!==null&&(u.contains(I)||Yo(g.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const D of C)D.removedNodes.length>0&&Yo(u)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const T=new MutationObserver(E);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),T.disconnect()}}},[a,u,w.paused]),x.useEffect(()=>{if(u){WC.add(w);const j=document.activeElement;if(!u.contains(j)){const E=new CustomEvent(Wy,GC);u.addEventListener(Wy,f),u.dispatchEvent(E),E.defaultPrevented||(uU(gU(CA(u)),{select:!0}),document.activeElement===j&&Yo(u))}return()=>{u.removeEventListener(Wy,f),setTimeout(()=>{const E=new CustomEvent(Ky,GC);u.addEventListener(Ky,p),u.dispatchEvent(E),E.defaultPrevented||Yo(j??document.body,{select:!0}),u.removeEventListener(Ky,p),WC.remove(w)},0)}}},[u,f,p,w]);const N=x.useCallback(j=>{if(!n&&!a||w.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,E=document.activeElement;if(S&&E){const T=j.currentTarget,[C,I]=hU(T);C&&I?!j.shiftKey&&E===I?(j.preventDefault(),n&&Yo(C,{select:!0})):j.shiftKey&&E===C&&(j.preventDefault(),n&&Yo(I,{select:!0})):E===T&&j.preventDefault()}},[n,a,w.paused]);return t.jsx(Ot.div,{tabIndex:-1,...c,ref:v,onKeyDown:N})});pg.displayName=dU;function uU(e,{select:s=!1}={}){const n=document.activeElement;for(const a of e)if(Yo(a,{select:s}),document.activeElement!==n)return}function hU(e){const s=CA(e),n=YC(s,e),a=YC(s.reverse(),e);return[n,a]}function CA(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function YC(e,s){for(const n of e)if(!mU(n,{upTo:s}))return n}function mU(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fU(e){return e instanceof HTMLInputElement&&"select"in e}function Yo(e,{select:s=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&fU(e)&&s&&e.select()}}var WC=pU();function pU(){let e=[];return{add(s){const n=e[0];s!==n&&(n==null||n.pause()),e=KC(e,s),e.unshift(s)},remove(s){var n;e=KC(e,s),(n=e[0])==null||n.resume()}}}function KC(e,s){const n=[...e],a=n.indexOf(s);return a!==-1&&n.splice(a,1),n}function gU(e){return e.filter(s=>s.tagName!=="A")}var Qy=0;function Zb(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??QC()),document.body.insertAdjacentElement("beforeend",e[1]??QC()),Qy++,()=>{Qy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Qy--}},[])}function QC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ni=function(){return ni=Object.assign||function(s){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=n[l])}return s},ni.apply(this,arguments)};function TA(e,s){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)s.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}function Sc(e,s,n,a){function r(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function u(p){try{f(a.next(p))}catch(g){c(g)}}function m(p){try{f(a.throw(p))}catch(g){c(g)}}function f(p){p.done?l(p.value):r(p.value).then(u,m)}f((a=a.apply(e,s||[])).next())})}function xU(e,s,n){if(n||arguments.length===2)for(var a=0,r=s.length,l;a<r;a++)(l||!(a in s))&&(l||(l=Array.prototype.slice.call(s,0,a)),l[a]=s[a]);return e.concat(l||Array.prototype.slice.call(s))}var bp="right-scroll-bar-position",wp="width-before-scroll-bar",yU="with-scroll-bars-hidden",vU="--removed-body-scroll-bar-size";function Jy(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function bU(e,s){var n=x.useState(function(){return{value:e,callback:s,facade:{get current(){return n.value},set current(a){var r=n.value;r!==a&&(n.value=a,n.callback(a,r))}}}})[0];return n.callback=s,n.facade}var wU=typeof window<"u"?x.useLayoutEffect:x.useEffect,JC=new WeakMap;function jU(e,s){var n=bU(null,function(a){return e.forEach(function(r){return Jy(r,a)})});return wU(function(){var a=JC.get(n);if(a){var r=new Set(a),l=new Set(e),c=n.current;r.forEach(function(u){l.has(u)||Jy(u,null)}),l.forEach(function(u){r.has(u)||Jy(u,c)})}JC.set(n,e)},[e]),n}function NU(e){return e}function SU(e,s){s===void 0&&(s=NU);var n=[],a=!1,r={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=s(l,a);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(a=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){a=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(l),c=n}var m=function(){var p=c;c=[],p.forEach(l)},f=function(){return Promise.resolve().then(m)};f(),n={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),n}}}};return r}function CU(e){e===void 0&&(e={});var s=SU(null);return s.options=ni({async:!0,ssr:!1},e),s}var kA=function(e){var s=e.sideCar,n=TA(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=s.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,ni({},n))};kA.isSideCarExport=!0;function TU(e,s){return e.useMedium(s),kA}var EA=CU(),Xy=function(){},gg=x.forwardRef(function(e,s){var n=x.useRef(null),a=x.useState({onScrollCapture:Xy,onWheelCapture:Xy,onTouchMoveCapture:Xy}),r=a[0],l=a[1],c=e.forwardProps,u=e.children,m=e.className,f=e.removeScrollBar,p=e.enabled,g=e.shards,v=e.sideCar,w=e.noRelative,N=e.noIsolation,j=e.inert,S=e.allowPinchZoom,E=e.as,T=E===void 0?"div":E,C=e.gapMode,I=TA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=v,A=jU([n,s]),R=ni(ni({},I),r);return x.createElement(x.Fragment,null,p&&x.createElement(D,{sideCar:EA,removeScrollBar:f,shards:g,noRelative:w,noIsolation:N,inert:j,setCallbacks:l,allowPinchZoom:!!S,lockRef:n,gapMode:C}),c?x.cloneElement(x.Children.only(u),ni(ni({},R),{ref:A})):x.createElement(T,ni({},R,{className:m,ref:A}),u))});gg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gg.classNames={fullWidth:wp,zeroRight:bp};var kU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=kU();return s&&e.setAttribute("nonce",s),e}function AU(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function DU(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var PU=function(){var e=0,s=null;return{add:function(n){e==0&&(s=EU())&&(AU(s,n),DU(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},IU=function(){var e=PU();return function(s,n){x.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&n])}},AA=function(){var e=IU(),s=function(n){var a=n.styles,r=n.dynamic;return e(a,r),null};return s},RU={left:0,top:0,right:0,gap:0},Zy=function(e){return parseInt(e||"",10)||0},OU=function(e){var s=window.getComputedStyle(document.body),n=s[e==="padding"?"paddingLeft":"marginLeft"],a=s[e==="padding"?"paddingTop":"marginTop"],r=s[e==="padding"?"paddingRight":"marginRight"];return[Zy(n),Zy(a),Zy(r)]},MU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RU;var s=OU(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,a-n+s[2]-s[0])}},_U=AA(),Ed="data-scroll-locked",LU=function(e,s,n,a){var r=e.left,l=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yU,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(Ed,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bp,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(wp,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(bp," .").concat(bp,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(wp," .").concat(wp,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ed,`] {
    `).concat(vU,": ").concat(u,`px;
  }
`)},XC=function(){var e=parseInt(document.body.getAttribute(Ed)||"0",10);return isFinite(e)?e:0},FU=function(){x.useEffect(function(){return document.body.setAttribute(Ed,(XC()+1).toString()),function(){var e=XC()-1;e<=0?document.body.removeAttribute(Ed):document.body.setAttribute(Ed,e.toString())}},[])},UU=function(e){var s=e.noRelative,n=e.noImportant,a=e.gapMode,r=a===void 0?"margin":a;FU();var l=x.useMemo(function(){return MU(r)},[r]);return x.createElement(_U,{styles:LU(l,!s,r,n?"":"!important")})},zv=!1;if(typeof window<"u")try{var Qf=Object.defineProperty({},"passive",{get:function(){return zv=!0,!0}});window.addEventListener("test",Qf,Qf),window.removeEventListener("test",Qf,Qf)}catch{zv=!1}var cd=zv?{passive:!1}:!1,VU=function(e){return e.tagName==="TEXTAREA"},DA=function(e,s){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!VU(e)&&n[s]==="visible")},BU=function(e){return DA(e,"overflowY")},zU=function(e){return DA(e,"overflowX")},ZC=function(e,s){var n=s.ownerDocument,a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var r=PA(e,a);if(r){var l=IA(e,a),c=l[1],u=l[2];if(c>u)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},qU=function(e){var s=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[s,n,a]},$U=function(e){var s=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[s,n,a]},PA=function(e,s){return e==="v"?BU(s):zU(s)},IA=function(e,s){return e==="v"?qU(s):$U(s)},HU=function(e,s){return e==="h"&&s==="rtl"?-1:1},GU=function(e,s,n,a,r){var l=HU(e,window.getComputedStyle(s).direction),c=l*a,u=n.target,m=s.contains(u),f=!1,p=c>0,g=0,v=0;do{if(!u)break;var w=IA(e,u),N=w[0],j=w[1],S=w[2],E=j-S-l*N;(N||E)&&PA(e,u)&&(g+=E,v+=N);var T=u.parentNode;u=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!m&&u!==document.body||m&&(s.contains(u)||s===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(f=!0),f},Jf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eT=function(e){return[e.deltaX,e.deltaY]},tT=function(e){return e&&"current"in e?e.current:e},YU=function(e,s){return e[0]===s[0]&&e[1]===s[1]},WU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KU=0,dd=[];function QU(e){var s=x.useRef([]),n=x.useRef([0,0]),a=x.useRef(),r=x.useState(KU++)[0],l=x.useState(AA)[0],c=x.useRef(e);x.useEffect(function(){c.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var j=xU([e.lockRef.current],(e.shards||[]).map(tT),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var u=x.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var E=Jf(j),T=n.current,C="deltaX"in j?j.deltaX:T[0]-E[0],I="deltaY"in j?j.deltaY:T[1]-E[1],D,A=j.target,R=Math.abs(C)>Math.abs(I)?"h":"v";if("touches"in j&&R==="h"&&A.type==="range")return!1;var L=ZC(R,A);if(!L)return!0;if(L?D=R:(D=R==="v"?"h":"v",L=ZC(R,A)),!L)return!1;if(!a.current&&"changedTouches"in j&&(C||I)&&(a.current=D),!D)return!0;var z=a.current||D;return GU(z,S,j,z==="h"?C:I)},[]),m=x.useCallback(function(j){var S=j;if(!(!dd.length||dd[dd.length-1]!==l)){var E="deltaY"in S?eT(S):Jf(S),T=s.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&YU(D.delta,E)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var C=(c.current.shards||[]).map(tT).filter(Boolean).filter(function(D){return D.contains(S.target)}),I=C.length>0?u(S,C[0]):!c.current.noIsolation;I&&S.cancelable&&S.preventDefault()}}},[]),f=x.useCallback(function(j,S,E,T){var C={name:j,delta:S,target:E,should:T,shadowParent:JU(E)};s.current.push(C),setTimeout(function(){s.current=s.current.filter(function(I){return I!==C})},1)},[]),p=x.useCallback(function(j){n.current=Jf(j),a.current=void 0},[]),g=x.useCallback(function(j){f(j.type,eT(j),j.target,u(j,e.lockRef.current))},[]),v=x.useCallback(function(j){f(j.type,Jf(j),j.target,u(j,e.lockRef.current))},[]);x.useEffect(function(){return dd.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",m,cd),document.addEventListener("touchmove",m,cd),document.addEventListener("touchstart",p,cd),function(){dd=dd.filter(function(j){return j!==l}),document.removeEventListener("wheel",m,cd),document.removeEventListener("touchmove",m,cd),document.removeEventListener("touchstart",p,cd)}},[]);var w=e.removeScrollBar,N=e.inert;return x.createElement(x.Fragment,null,N?x.createElement(l,{styles:WU(r)}):null,w?x.createElement(UU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function JU(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const XU=TU(EA,QU);var xg=x.forwardRef(function(e,s){return x.createElement(gg,ni({},e,{ref:s,sideCar:XU}))});xg.classNames=gg.classNames;var ZU=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},ud=new WeakMap,Xf=new WeakMap,Zf={},e0=0,RA=function(e){return e&&(e.host||RA(e.parentNode))},eV=function(e,s){return s.map(function(n){if(e.contains(n))return n;var a=RA(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},tV=function(e,s,n,a){var r=eV(s,Array.isArray(e)?e:[e]);Zf[n]||(Zf[n]=new WeakMap);var l=Zf[n],c=[],u=new Set,m=new Set(r),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};r.forEach(f);var p=function(g){!g||m.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var w=v.getAttribute(a),N=w!==null&&w!=="false",j=(ud.get(v)||0)+1,S=(l.get(v)||0)+1;ud.set(v,j),l.set(v,S),c.push(v),j===1&&N&&Xf.set(v,!0),S===1&&v.setAttribute(n,"true"),N||v.setAttribute(a,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return p(s),u.clear(),e0++,function(){c.forEach(function(g){var v=ud.get(g)-1,w=l.get(g)-1;ud.set(g,v),l.set(g,w),v||(Xf.has(g)||g.removeAttribute(a),Xf.delete(g)),w||g.removeAttribute(n)}),e0--,e0||(ud=new WeakMap,ud=new WeakMap,Xf=new WeakMap,Zf={})}},ew=function(e,s,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),r=ZU(e);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live], script"))),tV(a,r,n,"aria-hidden")):function(){return null}},yg="Dialog",[OA,DX]=xi(yg),[sV,Gr]=OA(yg),MA=e=>{const{__scopeDialog:s,children:n,open:a,defaultOpen:r,onOpenChange:l,modal:c=!0}=e,u=x.useRef(null),m=x.useRef(null),[f,p]=dl({prop:a,defaultProp:r??!1,onChange:l,caller:yg});return t.jsx(sV,{scope:s,triggerRef:u,contentRef:m,contentId:Zi(),titleId:Zi(),descriptionId:Zi(),open:f,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};MA.displayName=yg;var _A="DialogTrigger",LA=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr(_A,n),l=Ms(s,r.triggerRef);return t.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":aw(r.open),...a,ref:l,onClick:At(e.onClick,r.onOpenToggle)})});LA.displayName=_A;var tw="DialogPortal",[aV,FA]=OA(tw,{forceMount:void 0}),UA=e=>{const{__scopeDialog:s,forceMount:n,children:a,container:r}=e,l=Gr(tw,s);return t.jsx(aV,{scope:s,forceMount:n,children:x.Children.map(a,c=>t.jsx(lo,{present:n||l.open,children:t.jsx(rm,{asChild:!0,container:r,children:c})}))})};UA.displayName=tw;var zp="DialogOverlay",VA=x.forwardRef((e,s)=>{const n=FA(zp,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,l=Gr(zp,e.__scopeDialog);return l.modal?t.jsx(lo,{present:a||l.open,children:t.jsx(rV,{...r,ref:s})}):null});VA.displayName=zp;var nV=xc("DialogOverlay.RemoveScroll"),rV=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr(zp,n);return t.jsx(xg,{as:nV,allowPinchZoom:!0,shards:[r.contentRef],children:t.jsx(Ot.div,{"data-state":aw(r.open),...a,ref:s,style:{pointerEvents:"auto",...a.style}})})}),yc="DialogContent",BA=x.forwardRef((e,s)=>{const n=FA(yc,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,l=Gr(yc,e.__scopeDialog);return t.jsx(lo,{present:a||l.open,children:l.modal?t.jsx(iV,{...r,ref:s}):t.jsx(oV,{...r,ref:s})})});BA.displayName=yc;var iV=x.forwardRef((e,s)=>{const n=Gr(yc,e.__scopeDialog),a=x.useRef(null),r=Ms(s,n.contentRef,a);return x.useEffect(()=>{const l=a.current;if(l)return ew(l)},[]),t.jsx(zA,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:At(e.onFocusOutside,l=>l.preventDefault())})}),oV=x.forwardRef((e,s)=>{const n=Gr(yc,e.__scopeDialog),a=x.useRef(!1),r=x.useRef(!1);return t.jsx(zA,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(a.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:l=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=l.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),zA=x.forwardRef((e,s)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:l,...c}=e,u=Gr(yc,n),m=x.useRef(null),f=Ms(s,m);return Zb(),t.jsxs(t.Fragment,{children:[t.jsx(pg,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:l,children:t.jsx(nm,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":aw(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(lV,{titleId:u.titleId}),t.jsx(dV,{contentRef:m,descriptionId:u.descriptionId})]})]})}),sw="DialogTitle",qA=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr(sw,n);return t.jsx(Ot.h2,{id:r.titleId,...a,ref:s})});qA.displayName=sw;var $A="DialogDescription",HA=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr($A,n);return t.jsx(Ot.p,{id:r.descriptionId,...a,ref:s})});HA.displayName=$A;var GA="DialogClose",YA=x.forwardRef((e,s)=>{const{__scopeDialog:n,...a}=e,r=Gr(GA,n);return t.jsx(Ot.button,{type:"button",...a,ref:s,onClick:At(e.onClick,()=>r.onOpenChange(!1))})});YA.displayName=GA;function aw(e){return e?"open":"closed"}var WA="DialogTitleWarning",[PX,KA]=_3(WA,{contentName:yc,titleName:sw,docsSlug:"dialog"}),lV=({titleId:e})=>{const s=KA(WA),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},cV="DialogDescriptionWarning",dV=({contentRef:e,descriptionId:s})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KA(cV).contentName}}.`;return x.useEffect(()=>{var l;const r=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");s&&r&&(document.getElementById(s)||console.warn(a))},[a,e,s]),null},QA=MA,JA=LA,XA=UA,ZA=VA,eD=BA,tD=qA,sD=HA,nw=YA;const rw=qe.forwardRef(({className:e,...s},n)=>t.jsxs("button",{ref:n,type:"button",className:Xe("group relative flex items-center justify-center w-[44px] h-[44px] rounded-full transition-transform active:scale-95 touch-manipulation z-50 p-0 shadow-sm hover:shadow-md",e),...s,children:[t.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-xl rounded-full border border-white/40 shadow-[0_8px_16px_-4px_rgba(0,0,0,0.1)] transition-all group-hover:bg-white/90"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-white/60 to-transparent opacity-50"}),t.jsx(Ws,{className:"relative w-4 h-4 text-[#3C3C43] stroke-[2.5px] opacity-70 transition-all group-hover:opacity-100 group-hover:scale-105"})]}));rw.displayName="CloseButton";function bs({...e}){return t.jsx(QA,{"data-slot":"dialog",...e})}function qp({...e}){return t.jsx(JA,{"data-slot":"dialog-trigger",...e})}function iw({...e}){return t.jsx(XA,{"data-slot":"dialog-portal",...e})}function uV({className:e,...s}){return t.jsx(ZA,{"data-slot":"dialog-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[99999] bg-black/50",e),...s})}function Es({className:e,children:s,showCloseButton:n=!0,...a}){return t.jsxs(iw,{"data-slot":"dialog-portal",children:[t.jsx(uV,{}),t.jsxs(eD,{"data-slot":"dialog-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[100000] grid w-full max-w-[calc(100%-2rem)] max-h-[calc(100vh-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg overflow-y-auto",e),...a,children:[s,n&&t.jsx(nw,{asChild:!0,className:"absolute top-4 right-4 focus:outline-hidden disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:t.jsx(rw,{})})]})]})}function ia({className:e,...s}){return t.jsx("div",{"data-slot":"dialog-header",className:Xe("flex flex-col gap-2 text-center sm:text-left",e),...s})}function ga({className:e,...s}){return t.jsx("div",{"data-slot":"dialog-footer",className:Xe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function Bs({className:e,...s}){return t.jsx(tD,{"data-slot":"dialog-title",className:Xe("text-lg leading-none font-semibold",e),...s})}function xa({className:e,...s}){return t.jsx(sD,{"data-slot":"dialog-description",className:Xe("text-muted-foreground text-sm",e),...s})}const ow=x.forwardRef(({className:e,value:s=0,...n},a)=>t.jsx("div",{ref:a,className:`relative h-2 w-full overflow-hidden rounded-full bg-gray-200 ${e||""}`,...n,children:t.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-300 ease-in-out",style:{width:`${Math.min(Math.max(s,0),100)}%`,transform:"translateZ(0)"}})}));ow.displayName="Progress";const Bo=[{id:"auth",label:"Starting login process...",description:"Connecting to authentication server",icon:t.jsx(ML,{className:"h-4 w-4"}),duration:800},{id:"verify",label:"Verifying credentials...",description:"Checking email and password",icon:t.jsx(rn,{className:"h-4 w-4"}),duration:1200},{id:"session",label:"Creating secure session...",description:"Generating authentication tokens",icon:t.jsx(Eh,{className:"h-4 w-4"}),duration:600},{id:"cache",label:"Clearing query cache...",description:"Preparing fresh data for your session",icon:t.jsx(Yb,{className:"h-4 w-4"}),duration:400},{id:"complete",label:"Login successful!",description:"Redirecting to your dashboard...",icon:t.jsx(Ca,{className:"h-4 w-4 text-green-500"}),duration:500}];function hV({isOpen:e,onComplete:s}){var f,p;const[n,a]=x.useState(0),[r,l]=x.useState(new Set),[c,u]=x.useState(0);x.useEffect(()=>{if(!e){a(0),l(new Set),u(0);return}let g,v;const w=N=>{if(N>=Bo.length){setTimeout(()=>{s==null||s()},300);return}a(N);const j=Bo[N],S=N/Bo.length*100;v=setInterval(()=>{u(E=>{const T=(N+1)/Bo.length*100,C=(T-S)/(j.duration/50),I=Math.min(E+C,T);return I>=T&&clearInterval(v),I})},50),g=setTimeout(()=>{l(E=>new Set([...E,N])),clearInterval(v),w(N+1)},j.duration)};return w(0),()=>{g&&clearTimeout(g),v&&clearInterval(v)}},[e,s]);const m=(g,v)=>r.has(g)?t.jsx(Ca,{className:"h-4 w-4 text-green-500"}):g===n?t.jsx(Tn,{className:"h-4 w-4 animate-spin text-blue-500"}):t.jsx(Rp,{className:"h-4 w-4 text-gray-300"});return t.jsx(bs,{open:e,onOpenChange:()=>{},children:t.jsxs(Es,{className:"sm:max-w-md",showCloseButton:!1,children:[t.jsx(Bs,{className:"sr-only",children:"Login Progress"}),t.jsxs("div",{className:"flex flex-col items-center space-y-4 py-4",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx(Tn,{className:"h-8 w-8 text-blue-500 animate-spin mx-auto"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Signing you in..."}),t.jsx("p",{className:"text-sm text-gray-500",children:"Please wait while we securely log you in"})]}),t.jsxs("div",{className:"w-full space-y-2",children:[t.jsx(ow,{value:c,className:"w-full h-2"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsxs("span",{children:[Math.round(c),"%"]}),t.jsxs("span",{children:[n+1," of ",Bo.length]})]})]}),t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:m(n,Bo[n])}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-blue-900",children:(f=Bo[n])==null?void 0:f.label}),t.jsx("p",{className:"text-xs text-blue-600",children:(p=Bo[n])==null?void 0:p.description})]})]})})})]})]})})}const lw=x.createContext({});function cw(e){const s=x.useRef(null);return s.current===null&&(s.current=e()),s.current}const dw=typeof window<"u",aD=dw?x.useLayoutEffect:x.useEffect,vg=x.createContext(null);function uw(e,s){e.indexOf(s)===-1&&e.push(s)}function hw(e,s){const n=e.indexOf(s);n>-1&&e.splice(n,1)}const ao=(e,s,n)=>n>s?s:n<e?e:n;let mw=()=>{};const no={},nD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function rD(e){return typeof e=="object"&&e!==null}const iD=e=>/^0[^.\s]+$/u.test(e);function fw(e){let s;return()=>(s===void 0&&(s=e()),s)}const Sr=e=>e,mV=(e,s)=>n=>s(e(n)),om=(...e)=>e.reduce(mV),Vh=(e,s,n)=>{const a=s-e;return a===0?1:(n-e)/a};class pw{constructor(){this.subscriptions=[]}add(s){return uw(this.subscriptions,s),()=>hw(this.subscriptions,s)}notify(s,n,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](s,n,a);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(s,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const di=e=>e*1e3,ui=e=>e/1e3;function oD(e,s){return s?e*(1e3/s):0}const lD=(e,s,n)=>(((1-3*n+3*s)*e+(3*n-6*s))*e+3*s)*e,fV=1e-7,pV=12;function gV(e,s,n,a,r){let l,c,u=0;do c=s+(n-s)/2,l=lD(c,a,r)-e,l>0?n=c:s=c;while(Math.abs(l)>fV&&++u<pV);return c}function lm(e,s,n,a){if(e===s&&n===a)return Sr;const r=l=>gV(l,0,1,e,n);return l=>l===0||l===1?l:lD(r(l),s,a)}const cD=e=>s=>s<=.5?e(2*s)/2:(2-e(2*(1-s)))/2,dD=e=>s=>1-e(1-s),uD=lm(.33,1.53,.69,.99),gw=dD(uD),hD=cD(gw),mD=e=>(e*=2)<1?.5*gw(e):.5*(2-Math.pow(2,-10*(e-1))),xw=e=>1-Math.sin(Math.acos(e)),fD=dD(xw),pD=cD(xw),xV=lm(.42,0,1,1),yV=lm(0,0,.58,1),gD=lm(.42,0,.58,1),vV=e=>Array.isArray(e)&&typeof e[0]!="number",xD=e=>Array.isArray(e)&&typeof e[0]=="number",bV={linear:Sr,easeIn:xV,easeInOut:gD,easeOut:yV,circIn:xw,circInOut:pD,circOut:fD,backIn:gw,backInOut:hD,backOut:uD,anticipate:mD},wV=e=>typeof e=="string",sT=e=>{if(xD(e)){mw(e.length===4);const[s,n,a,r]=e;return lm(s,n,a,r)}else if(wV(e))return bV[e];return e},ep=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jV(e,s){let n=new Set,a=new Set,r=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(p){c.has(p)&&(f.schedule(p),e()),p(u)}const f={schedule:(p,g=!1,v=!1)=>{const N=v&&r?n:a;return g&&c.add(p),N.has(p)||N.add(p),p},cancel:p=>{a.delete(p),c.delete(p)},process:p=>{if(u=p,r){l=!0;return}r=!0,[n,a]=[a,n],n.forEach(m),n.clear(),r=!1,l&&(l=!1,f.process(p))}};return f}const NV=40;function yD(e,s){let n=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=ep.reduce((C,I)=>(C[I]=jV(l),C),{}),{setup:u,read:m,resolveKeyframes:f,preUpdate:p,update:g,preRender:v,render:w,postRender:N}=c,j=()=>{const C=no.useManualTiming?r.timestamp:performance.now();n=!1,no.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(C-r.timestamp,NV),1)),r.timestamp=C,r.isProcessing=!0,u.process(r),m.process(r),f.process(r),p.process(r),g.process(r),v.process(r),w.process(r),N.process(r),r.isProcessing=!1,n&&s&&(a=!1,e(j))},S=()=>{n=!0,a=!0,r.isProcessing||e(j)};return{schedule:ep.reduce((C,I)=>{const D=c[I];return C[I]=(A,R=!1,L=!1)=>(n||S(),D.schedule(A,R,L)),C},{}),cancel:C=>{for(let I=0;I<ep.length;I++)c[ep[I]].cancel(C)},state:r,steps:c}}const{schedule:Js,cancel:ml,state:sn,steps:t0}=yD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sr,!0);let jp;function SV(){jp=void 0}const Fn={now:()=>(jp===void 0&&Fn.set(sn.isProcessing||no.useManualTiming?sn.timestamp:performance.now()),jp),set:e=>{jp=e,queueMicrotask(SV)}},vD=e=>s=>typeof s=="string"&&s.startsWith(e),yw=vD("--"),CV=vD("var(--"),vw=e=>CV(e)?TV.test(e.split("/*")[0].trim()):!1,TV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bh={...cu,transform:e=>ao(0,1,e)},tp={...cu,default:1},Ah=e=>Math.round(e*1e5)/1e5,bw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kV(e){return e==null}const EV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ww=(e,s)=>n=>!!(typeof n=="string"&&EV.test(n)&&n.startsWith(e)||s&&!kV(n)&&Object.prototype.hasOwnProperty.call(n,s)),bD=(e,s,n)=>a=>{if(typeof a!="string")return a;const[r,l,c,u]=a.match(bw);return{[e]:parseFloat(r),[s]:parseFloat(l),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},AV=e=>ao(0,255,e),s0={...cu,transform:e=>Math.round(AV(e))},tc={test:ww("rgb","red"),parse:bD("red","green","blue"),transform:({red:e,green:s,blue:n,alpha:a=1})=>"rgba("+s0.transform(e)+", "+s0.transform(s)+", "+s0.transform(n)+", "+Ah(Bh.transform(a))+")"};function DV(e){let s="",n="",a="",r="";return e.length>5?(s=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),r=e.substring(7,9)):(s=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),r=e.substring(4,5),s+=s,n+=n,a+=a,r+=r),{red:parseInt(s,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const qv={test:ww("#"),parse:DV,transform:tc.transform},cm=e=>({test:s=>typeof s=="string"&&s.endsWith(e)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${e}`}),Wo=cm("deg"),hi=cm("%"),Rt=cm("px"),PV=cm("vh"),IV=cm("vw"),aT={...hi,parse:e=>hi.parse(e)/100,transform:e=>hi.transform(e*100)},vd={test:ww("hsl","hue"),parse:bD("hue","saturation","lightness"),transform:({hue:e,saturation:s,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+hi.transform(Ah(s))+", "+hi.transform(Ah(n))+", "+Ah(Bh.transform(a))+")"},Ra={test:e=>tc.test(e)||qv.test(e)||vd.test(e),parse:e=>tc.test(e)?tc.parse(e):vd.test(e)?vd.parse(e):qv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?tc.transform(e):vd.transform(e),getAnimatableNone:e=>{const s=Ra.parse(e);return s.alpha=0,Ra.transform(s)}},RV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OV(e){var s,n;return isNaN(e)&&typeof e=="string"&&(((s=e.match(bw))==null?void 0:s.length)||0)+(((n=e.match(RV))==null?void 0:n.length)||0)>0}const wD="number",jD="color",MV="var",_V="var(",nT="${}",LV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zh(e){const s=e.toString(),n=[],a={color:[],number:[],var:[]},r=[];let l=0;const u=s.replace(LV,m=>(Ra.test(m)?(a.color.push(l),r.push(jD),n.push(Ra.parse(m))):m.startsWith(_V)?(a.var.push(l),r.push(MV),n.push(m)):(a.number.push(l),r.push(wD),n.push(parseFloat(m))),++l,nT)).split(nT);return{values:n,split:u,indexes:a,types:r}}function ND(e){return zh(e).values}function SD(e){const{split:s,types:n}=zh(e),a=s.length;return r=>{let l="";for(let c=0;c<a;c++)if(l+=s[c],r[c]!==void 0){const u=n[c];u===wD?l+=Ah(r[c]):u===jD?l+=Ra.transform(r[c]):l+=r[c]}return l}}const FV=e=>typeof e=="number"?0:Ra.test(e)?Ra.getAnimatableNone(e):e;function UV(e){const s=ND(e);return SD(e)(s.map(FV))}const fl={test:OV,parse:ND,createTransformer:SD,getAnimatableNone:UV};function a0(e,s,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(s-e)*6*n:n<1/2?s:n<2/3?e+(s-e)*(2/3-n)*6:e}function VV({hue:e,saturation:s,lightness:n,alpha:a}){e/=360,s/=100,n/=100;let r=0,l=0,c=0;if(!s)r=l=c=n;else{const u=n<.5?n*(1+s):n+s-n*s,m=2*n-u;r=a0(m,u,e+1/3),l=a0(m,u,e),c=a0(m,u,e-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:a}}function $p(e,s){return n=>n>0?s:e}const oa=(e,s,n)=>e+(s-e)*n,n0=(e,s,n)=>{const a=e*e,r=n*(s*s-a)+a;return r<0?0:Math.sqrt(r)},BV=[qv,tc,vd],zV=e=>BV.find(s=>s.test(e));function rT(e){const s=zV(e);if(!s)return!1;let n=s.parse(e);return s===vd&&(n=VV(n)),n}const iT=(e,s)=>{const n=rT(e),a=rT(s);if(!n||!a)return $p(e,s);const r={...n};return l=>(r.red=n0(n.red,a.red,l),r.green=n0(n.green,a.green,l),r.blue=n0(n.blue,a.blue,l),r.alpha=oa(n.alpha,a.alpha,l),tc.transform(r))},$v=new Set(["none","hidden"]);function qV(e,s){return $v.has(e)?n=>n<=0?e:s:n=>n>=1?s:e}function $V(e,s){return n=>oa(e,s,n)}function jw(e){return typeof e=="number"?$V:typeof e=="string"?vw(e)?$p:Ra.test(e)?iT:YV:Array.isArray(e)?CD:typeof e=="object"?Ra.test(e)?iT:HV:$p}function CD(e,s){const n=[...e],a=n.length,r=e.map((l,c)=>jw(l)(l,s[c]));return l=>{for(let c=0;c<a;c++)n[c]=r[c](l);return n}}function HV(e,s){const n={...e,...s},a={};for(const r in n)e[r]!==void 0&&s[r]!==void 0&&(a[r]=jw(e[r])(e[r],s[r]));return r=>{for(const l in a)n[l]=a[l](r);return n}}function GV(e,s){const n=[],a={color:0,var:0,number:0};for(let r=0;r<s.values.length;r++){const l=s.types[r],c=e.indexes[l][a[l]],u=e.values[c]??0;n[r]=u,a[l]++}return n}const YV=(e,s)=>{const n=fl.createTransformer(s),a=zh(e),r=zh(s);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?$v.has(e)&&!r.values.length||$v.has(s)&&!a.values.length?qV(e,s):om(CD(GV(a,r),r.values),n):$p(e,s)};function TD(e,s,n){return typeof e=="number"&&typeof s=="number"&&typeof n=="number"?oa(e,s,n):jw(e)(e,s)}const WV=e=>{const s=({timestamp:n})=>e(n);return{start:(n=!0)=>Js.update(s,n),stop:()=>ml(s),now:()=>sn.isProcessing?sn.timestamp:Fn.now()}},kD=(e,s,n=10)=>{let a="";const r=Math.max(Math.round(s/n),2);for(let l=0;l<r;l++)a+=Math.round(e(l/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Hp=2e4;function Nw(e){let s=0;const n=50;let a=e.next(s);for(;!a.done&&s<Hp;)s+=n,a=e.next(s);return s>=Hp?1/0:s}function KV(e,s=100,n){const a=n({...e,keyframes:[0,s]}),r=Math.min(Nw(a),Hp);return{type:"keyframes",ease:l=>a.next(r*l).value/s,duration:ui(r)}}const QV=5;function ED(e,s,n){const a=Math.max(s-QV,0);return oD(n-e(a),s-a)}const pa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},r0=.001;function JV({duration:e=pa.duration,bounce:s=pa.bounce,velocity:n=pa.velocity,mass:a=pa.mass}){let r,l,c=1-s;c=ao(pa.minDamping,pa.maxDamping,c),e=ao(pa.minDuration,pa.maxDuration,ui(e)),c<1?(r=f=>{const p=f*c,g=p*e,v=p-n,w=Hv(f,c),N=Math.exp(-g);return r0-v/w*N},l=f=>{const g=f*c*e,v=g*n+n,w=Math.pow(c,2)*Math.pow(f,2)*e,N=Math.exp(-g),j=Hv(Math.pow(f,2),c);return(-r(f)+r0>0?-1:1)*((v-w)*N)/j}):(r=f=>{const p=Math.exp(-f*e),g=(f-n)*e+1;return-r0+p*g},l=f=>{const p=Math.exp(-f*e),g=(n-f)*(e*e);return p*g});const u=5/e,m=ZV(r,l,u);if(e=di(e),isNaN(m))return{stiffness:pa.stiffness,damping:pa.damping,duration:e};{const f=Math.pow(m,2)*a;return{stiffness:f,damping:c*2*Math.sqrt(a*f),duration:e}}}const XV=12;function ZV(e,s,n){let a=n;for(let r=1;r<XV;r++)a=a-e(a)/s(a);return a}function Hv(e,s){return e*Math.sqrt(1-s*s)}const eB=["duration","bounce"],tB=["stiffness","damping","mass"];function oT(e,s){return s.some(n=>e[n]!==void 0)}function sB(e){let s={velocity:pa.velocity,stiffness:pa.stiffness,damping:pa.damping,mass:pa.mass,isResolvedFromDuration:!1,...e};if(!oT(e,tB)&&oT(e,eB))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),r=a*a,l=2*ao(.05,1,1-(e.bounce||0))*Math.sqrt(r);s={...s,mass:pa.mass,stiffness:r,damping:l}}else{const n=JV(e);s={...s,...n,mass:pa.mass},s.isResolvedFromDuration=!0}return s}function Gp(e=pa.visualDuration,s=pa.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:s}:e;let{restSpeed:a,restDelta:r}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:l},{stiffness:m,damping:f,mass:p,duration:g,velocity:v,isResolvedFromDuration:w}=sB({...n,velocity:-ui(n.velocity||0)}),N=v||0,j=f/(2*Math.sqrt(m*p)),S=c-l,E=ui(Math.sqrt(m/p)),T=Math.abs(S)<5;a||(a=T?pa.restSpeed.granular:pa.restSpeed.default),r||(r=T?pa.restDelta.granular:pa.restDelta.default);let C;if(j<1){const D=Hv(E,j);C=A=>{const R=Math.exp(-j*E*A);return c-R*((N+j*E*S)/D*Math.sin(D*A)+S*Math.cos(D*A))}}else if(j===1)C=D=>c-Math.exp(-E*D)*(S+(N+E*S)*D);else{const D=E*Math.sqrt(j*j-1);C=A=>{const R=Math.exp(-j*E*A),L=Math.min(D*A,300);return c-R*((N+j*E*S)*Math.sinh(L)+D*S*Math.cosh(L))/D}}const I={calculatedDuration:w&&g||null,next:D=>{const A=C(D);if(w)u.done=D>=g;else{let R=D===0?N:0;j<1&&(R=D===0?di(N):ED(C,D,A));const L=Math.abs(R)<=a,z=Math.abs(c-A)<=r;u.done=L&&z}return u.value=u.done?c:A,u},toString:()=>{const D=Math.min(Nw(I),Hp),A=kD(R=>I.next(D*R).value,D,30);return D+"ms "+A},toTransition:()=>{}};return I}Gp.applyToOptions=e=>{const s=KV(e,100,Gp);return e.ease=s.ease,e.duration=di(s.duration),e.type="keyframes",e};function Gv({keyframes:e,velocity:s=0,power:n=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:m,restDelta:f=.5,restSpeed:p}){const g=e[0],v={done:!1,value:g},w=L=>u!==void 0&&L<u||m!==void 0&&L>m,N=L=>u===void 0?m:m===void 0||Math.abs(u-L)<Math.abs(m-L)?u:m;let j=n*s;const S=g+j,E=c===void 0?S:c(S);E!==S&&(j=E-g);const T=L=>-j*Math.exp(-L/a),C=L=>E+T(L),I=L=>{const z=T(L),Q=C(L);v.done=Math.abs(z)<=f,v.value=v.done?E:Q};let D,A;const R=L=>{w(v.value)&&(D=L,A=Gp({keyframes:[v.value,N(v.value)],velocity:ED(C,L,v.value),damping:r,stiffness:l,restDelta:f,restSpeed:p}))};return R(0),{calculatedDuration:null,next:L=>{let z=!1;return!A&&D===void 0&&(z=!0,I(L),R(L)),D!==void 0&&L>=D?A.next(L-D):(!z&&I(L),v)}}}function aB(e,s,n){const a=[],r=n||no.mix||TD,l=e.length-1;for(let c=0;c<l;c++){let u=r(e[c],e[c+1]);if(s){const m=Array.isArray(s)?s[c]||Sr:s;u=om(m,u)}a.push(u)}return a}function nB(e,s,{clamp:n=!0,ease:a,mixer:r}={}){const l=e.length;if(mw(l===s.length),l===1)return()=>s[0];if(l===2&&s[0]===s[1])return()=>s[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),s=[...s].reverse());const u=aB(s,a,r),m=u.length,f=p=>{if(c&&p<e[0])return s[0];let g=0;if(m>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const v=Vh(e[g],e[g+1],p);return u[g](v)};return n?p=>f(ao(e[0],e[l-1],p)):f}function rB(e,s){const n=e[e.length-1];for(let a=1;a<=s;a++){const r=Vh(0,s,a);e.push(oa(n,1,r))}}function iB(e){const s=[0];return rB(s,e.length-1),s}function oB(e,s){return e.map(n=>n*s)}function lB(e,s){return e.map(()=>s||gD).splice(0,e.length-1)}function Dh({duration:e=300,keyframes:s,times:n,ease:a="easeInOut"}){const r=vV(a)?a.map(sT):sT(a),l={done:!1,value:s[0]},c=oB(n&&n.length===s.length?n:iB(s),e),u=nB(c,s,{ease:Array.isArray(r)?r:lB(s,r)});return{calculatedDuration:e,next:m=>(l.value=u(m),l.done=m>=e,l)}}const cB=e=>e!==null;function Sw(e,{repeat:s,repeatType:n="loop"},a,r=1){const l=e.filter(cB),u=r<0||s&&n!=="loop"&&s%2===1?0:l.length-1;return!u||a===void 0?l[u]:a}const dB={decay:Gv,inertia:Gv,tween:Dh,keyframes:Dh,spring:Gp};function AD(e){typeof e.type=="string"&&(e.type=dB[e.type])}class Cw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,n){return this.finished.then(s,n)}}const uB=e=>e/100;class Tw extends Cw{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Fn.now()&&this.tick(Fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(a=this.options).onStop)==null||r.call(a))},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;AD(s);const{type:n=Dh,repeat:a=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=s;let{keyframes:u}=s;const m=n||Dh;m!==Dh&&typeof u[0]!="number"&&(this.mixKeyframes=om(uB,TD(u[0],u[1])),u=[0,100]);const f=m({...s,keyframes:u});l==="mirror"&&(this.mirroredGenerator=m({...s,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Nw(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=f}updateTime(s){const n=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(s,n=!1){const{generator:a,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return a.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:w,type:N,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-r/this.speed,this.startTime)),n?this.currentTime=s:this.updateTime(s);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,I=a;if(g){const L=Math.min(this.currentTime,r)/u;let z=Math.floor(L),Q=L%1;!Q&&L>=1&&(Q=1),Q===1&&z--,z=Math.min(z,g+1),!!(z%2)&&(v==="reverse"?(Q=1-Q,w&&(Q-=w/u)):v==="mirror"&&(I=c)),C=ao(0,1,Q)*u}const D=T?{done:!1,value:p[0]}:I.next(C);l&&(D.value=l(D.value));let{done:A}=D;!T&&m!==null&&(A=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return R&&N!==Gv&&(D.value=Sw(p,this.options,S,this.speed)),j&&j(D.value),R&&this.finish(),D}then(s,n){return this.finished.then(s,n)}get duration(){return ui(this.calculatedDuration)}get time(){return ui(this.currentTime)}set time(s){var n;s=di(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(Fn.now());const n=this.playbackSpeed!==s;this.playbackSpeed=s,n&&(this.time=ui(this.currentTime))}play(){var r,l;if(this.isStopped)return;const{driver:s=WV,startTime:n}=this.options;this.driver||(this.driver=s(c=>this.tick(c))),(l=(r=this.options).onPlay)==null||l.call(r);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var s,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(s=this.options).onComplete)==null||n.call(s)}cancel(){var s,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(s=this.options).onCancel)==null||n.call(s)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),s.observe(this)}}function hB(e){for(let s=1;s<e.length;s++)e[s]??(e[s]=e[s-1])}const sc=e=>e*180/Math.PI,Yv=e=>{const s=sc(Math.atan2(e[1],e[0]));return Wv(s)},mB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yv,rotateZ:Yv,skewX:e=>sc(Math.atan(e[1])),skewY:e=>sc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Wv=e=>(e=e%360,e<0&&(e+=360),e),lT=Yv,cT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cT,scaleY:dT,scale:e=>(cT(e)+dT(e))/2,rotateX:e=>Wv(sc(Math.atan2(e[6],e[5]))),rotateY:e=>Wv(sc(Math.atan2(-e[2],e[0]))),rotateZ:lT,rotate:lT,skewX:e=>sc(Math.atan(e[4])),skewY:e=>sc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Kv(e){return e.includes("scale")?1:0}function Qv(e,s){if(!e||e==="none")return Kv(s);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(n)a=fB,r=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=mB,r=u}if(!r)return Kv(s);const l=a[s],c=r[1].split(",").map(gB);return typeof l=="function"?l(c):c[l]}const pB=(e,s)=>{const{transform:n="none"}=getComputedStyle(e);return Qv(n,s)};function gB(e){return parseFloat(e.trim())}const du=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uu=new Set(du),uT=e=>e===cu||e===Rt,xB=new Set(["x","y","z"]),yB=du.filter(e=>!xB.has(e));function vB(e){const s=[];return yB.forEach(n=>{const a=e.getValue(n);a!==void 0&&(s.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),s}const mc={width:({x:e},{paddingLeft:s="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(s)-parseFloat(n),height:({y:e},{paddingTop:s="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(s)-parseFloat(n),top:(e,{top:s})=>parseFloat(s),left:(e,{left:s})=>parseFloat(s),bottom:({y:e},{top:s})=>parseFloat(s)+(e.max-e.min),right:({x:e},{left:s})=>parseFloat(s)+(e.max-e.min),x:(e,{transform:s})=>Qv(s,"x"),y:(e,{transform:s})=>Qv(s,"y")};mc.translateX=mc.x;mc.translateY=mc.y;const fc=new Set;let Jv=!1,Xv=!1,Zv=!1;function DD(){if(Xv){const e=Array.from(fc).filter(a=>a.needsMeasurement),s=new Set(e.map(a=>a.element)),n=new Map;s.forEach(a=>{const r=vB(a);r.length&&(n.set(a,r),a.render())}),e.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const r=n.get(a);r&&r.forEach(([l,c])=>{var u;(u=a.getValue(l))==null||u.set(c)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Xv=!1,Jv=!1,fc.forEach(e=>e.complete(Zv)),fc.clear()}function PD(){fc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xv=!0)})}function bB(){Zv=!0,PD(),DD(),Zv=!1}class kw{constructor(s,n,a,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=n,this.name=a,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(fc.add(this),Jv||(Jv=!0,Js.read(PD),Js.resolveKeyframes(DD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:n,element:a,motionValue:r}=this;if(s[0]===null){const l=r==null?void 0:r.get(),c=s[s.length-1];if(l!==void 0)s[0]=l;else if(a&&n){const u=a.readValue(n,c);u!=null&&(s[0]=u)}s[0]===void 0&&(s[0]=c),r&&l===void 0&&r.set(s[0])}hB(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),fc.delete(this)}cancel(){this.state==="scheduled"&&(fc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wB=e=>e.startsWith("--");function jB(e,s,n){wB(s)?e.style.setProperty(s,n):e.style[s]=n}const NB=fw(()=>window.ScrollTimeline!==void 0),SB={};function CB(e,s){const n=fw(e);return()=>SB[s]??n()}const ID=CB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jh=([e,s,n,a])=>`cubic-bezier(${e}, ${s}, ${n}, ${a})`,hT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jh([0,.65,.55,1]),circOut:jh([.55,0,1,.45]),backIn:jh([.31,.01,.66,-.59]),backOut:jh([.33,1.53,.69,.99])};function RD(e,s){if(e)return typeof e=="function"?ID()?kD(e,s):"ease-out":xD(e)?jh(e):Array.isArray(e)?e.map(n=>RD(n,s)||hT.easeOut):hT[e]}function TB(e,s,n,{delay:a=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:m}={},f=void 0){const p={[s]:n};m&&(p.offset=m);const g=RD(u,r);Array.isArray(g)&&(p.easing=g);const v={delay:a,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),e.animate(p,v)}function OD(e){return typeof e=="function"&&"applyToOptions"in e}function kB({type:e,...s}){return OD(e)&&ID()?e.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class EB extends Cw{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:n,name:a,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:m}=s;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=s,mw(typeof s.type!="string");const f=kB(s);this.animation=TB(n,a,r,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Sw(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):jB(n,a,p),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,n;(n=(s=this.animation).finish)==null||n.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,n;this.isPseudoElement||(n=(s=this.animation).commitStyles)==null||n.call(s)}get duration(){var n,a;const s=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return ui(Number(s))}get time(){return ui(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=di(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&NB()?(this.animation.timeline=s,Sr):n(this)}}const MD={anticipate:mD,backInOut:hD,circInOut:pD};function AB(e){return e in MD}function DB(e){typeof e.ease=="string"&&AB(e.ease)&&(e.ease=MD[e.ease])}const mT=10;class PB extends EB{constructor(s){DB(s),AD(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:n,onUpdate:a,onComplete:r,element:l,...c}=this.options;if(!n)return;if(s!==void 0){n.set(s);return}const u=new Tw({...c,autoplay:!1}),m=di(this.finishedTime??this.time);n.setWithVelocity(u.sample(m-mT).value,u.sample(m).value,mT),u.stop()}}const fT=(e,s)=>s==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fl.test(e)||e==="0")&&!e.startsWith("url("));function IB(e){const s=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==s)return!0}function RB(e,s,n,a){const r=e[0];if(r===null)return!1;if(s==="display"||s==="visibility")return!0;const l=e[e.length-1],c=fT(r,s),u=fT(l,s);return!c||!u?!1:IB(e)||(n==="spring"||OD(n))&&a}function eb(e){e.duration=0,e.type}const OB=new Set(["opacity","clipPath","filter","transform"]),MB=fw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _B(e){var p;const{motionValue:s,name:n,repeatDelay:a,repeatType:r,damping:l,type:c}=e;if(!(((p=s==null?void 0:s.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:f}=s.owner.getProps();return MB()&&n&&OB.has(n)&&(n!=="transform"||!f)&&!m&&!a&&r!=="mirror"&&l!==0&&c!=="inertia"}const LB=40;class FB extends Cw{constructor({autoplay:s=!0,delay:n=0,type:a="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:m,motionValue:f,element:p,...g}){var N;super(),this.stop=()=>{var j,S;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Fn.now();const v={autoplay:s,delay:n,type:a,repeat:r,repeatDelay:l,repeatType:c,name:m,motionValue:f,element:p,...g},w=(p==null?void 0:p.KeyframeResolver)||kw;this.keyframeResolver=new w(u,(j,S,E)=>this.onKeyframesResolved(j,S,v,!E),m,f,p),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(s,n,a,r){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:m,isHandoff:f,onUpdate:p}=a;this.resolvedAt=Fn.now(),RB(s,l,c,u)||((no.instantAnimations||!m)&&(p==null||p(Sw(s,a,n))),s[0]=s[s.length-1],eb(a),a.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>LB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:s},w=!f&&_B(v)?new PB({...v,element:v.motionValue.owner.current}):new Tw(v);w.finished.then(()=>this.notifyFinished()).catch(Sr),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(s,n){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),bB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const UB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VB(e){const s=UB.exec(e);if(!s)return[,];const[,n,a,r]=s;return[`--${n??a}`,r]}function _D(e,s,n=1){const[a,r]=VB(e);if(!a)return;const l=window.getComputedStyle(s).getPropertyValue(a);if(l){const c=l.trim();return nD(c)?parseFloat(c):c}return vw(r)?_D(r,s,n+1):r}function Ew(e,s){return(e==null?void 0:e[s])??(e==null?void 0:e.default)??e}const LD=new Set(["width","height","top","left","right","bottom",...du]),BB={test:e=>e==="auto",parse:e=>e},FD=e=>s=>s.test(e),UD=[cu,Rt,hi,Wo,IV,PV,BB],pT=e=>UD.find(FD(e));function zB(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||iD(e):!0}const qB=new Set(["brightness","contrast","saturate","opacity"]);function $B(e){const[s,n]=e.slice(0,-1).split("(");if(s==="drop-shadow")return e;const[a]=n.match(bw)||[];if(!a)return e;const r=n.replace(a,"");let l=qB.has(s)?1:0;return a!==n&&(l*=100),s+"("+l+r+")"}const HB=/\b([a-z-]*)\(.*?\)/gu,tb={...fl,getAnimatableNone:e=>{const s=e.match(HB);return s?s.map($B).join(" "):e}},gT={...cu,transform:Math.round},GB={rotate:Wo,rotateX:Wo,rotateY:Wo,rotateZ:Wo,scale:tp,scaleX:tp,scaleY:tp,scaleZ:tp,skew:Wo,skewX:Wo,skewY:Wo,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Bh,originX:aT,originY:aT,originZ:Rt},Aw={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...GB,zIndex:gT,fillOpacity:Bh,strokeOpacity:Bh,numOctaves:gT},YB={...Aw,color:Ra,backgroundColor:Ra,outlineColor:Ra,fill:Ra,stroke:Ra,borderColor:Ra,borderTopColor:Ra,borderRightColor:Ra,borderBottomColor:Ra,borderLeftColor:Ra,filter:tb,WebkitFilter:tb},VD=e=>YB[e];function BD(e,s){let n=VD(e);return n!==tb&&(n=fl),n.getAnimatableNone?n.getAnimatableNone(s):void 0}const WB=new Set(["auto","none","0"]);function KB(e,s,n){let a=0,r;for(;a<e.length&&!r;){const l=e[a];typeof l=="string"&&!WB.has(l)&&zh(l).values.length&&(r=e[a]),a++}if(r&&n)for(const l of s)e[l]=BD(n,r)}class QB extends kw{constructor(s,n,a,r,l){super(s,n,a,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<s.length;m++){let f=s[m];if(typeof f=="string"&&(f=f.trim(),vw(f))){const p=_D(f,n.current);p!==void 0&&(s[m]=p),m===s.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!LD.has(a)||s.length!==2)return;const[r,l]=s,c=pT(r),u=pT(l);if(c!==u)if(uT(c)&&uT(u))for(let m=0;m<s.length;m++){const f=s[m];typeof f=="string"&&(s[m]=parseFloat(f))}else mc[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:n}=this,a=[];for(let r=0;r<s.length;r++)(s[r]===null||zB(s[r]))&&a.push(r);a.length&&KB(s,a,n)}measureInitialState(){const{element:s,unresolvedKeyframes:n,name:a}=this;if(!s||!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mc[a](s.measureViewportBox(),window.getComputedStyle(s.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&s.getValue(a,r).jump(r,!1)}measureEndState(){var u;const{element:s,name:n,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const r=s.getValue(n);r&&r.jump(this.measuredOrigin,!1);const l=a.length-1,c=a[l];a[l]=mc[n](s.measureViewportBox(),window.getComputedStyle(s.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,f])=>{s.getValue(m).set(f)}),this.resolveNoneKeyframes()}}function JB(e,s,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const r=(n==null?void 0:n[e])??a.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const zD=(e,s)=>s&&typeof e=="number"?s.transform(e):e;function qD(e){return rD(e)&&"offsetHeight"in e}const xT=30,XB=e=>!isNaN(parseFloat(e));class ZB{constructor(s,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var l;const r=Fn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=n.owner}setCurrent(s){this.current=s,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=XB(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,n){this.events[s]||(this.events[s]=new pw);const a=this.events[s].add(n);return s==="change"?()=>{a(),Js.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,n){this.passiveEffect=s,this.stopPassiveEffect=n}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,n=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>xT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xT);return oD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(s){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=s(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,n;(s=this.dependents)==null||s.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wd(e,s){return new ZB(e,s)}const{schedule:Dw}=yD(queueMicrotask,!1),Mr={x:!1,y:!1};function $D(){return Mr.x||Mr.y}function e8(e){return e==="x"||e==="y"?Mr[e]?null:(Mr[e]=!0,()=>{Mr[e]=!1}):Mr.x||Mr.y?null:(Mr.x=Mr.y=!0,()=>{Mr.x=Mr.y=!1})}function HD(e,s){const n=JB(e),a=new AbortController,r={passive:!0,...s,signal:a.signal};return[n,r,()=>a.abort()]}function yT(e){return!(e.pointerType==="touch"||$D())}function t8(e,s,n={}){const[a,r,l]=HD(e,n),c=u=>{if(!yT(u))return;const{target:m}=u,f=s(m,u);if(typeof f!="function"||!m)return;const p=g=>{yT(g)&&(f(g),m.removeEventListener("pointerleave",p))};m.addEventListener("pointerleave",p,r)};return a.forEach(u=>{u.addEventListener("pointerenter",c,r)}),l}const GD=(e,s)=>s?e===s?!0:GD(e,s.parentElement):!1,Pw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,s8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function a8(e){return s8.has(e.tagName)||e.tabIndex!==-1}const Np=new WeakSet;function vT(e){return s=>{s.key==="Enter"&&e(s)}}function i0(e,s){e.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const n8=(e,s)=>{const n=e.currentTarget;if(!n)return;const a=vT(()=>{if(Np.has(n))return;i0(n,"down");const r=vT(()=>{i0(n,"up")}),l=()=>i0(n,"cancel");n.addEventListener("keyup",r,s),n.addEventListener("blur",l,s)});n.addEventListener("keydown",a,s),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),s)};function bT(e){return Pw(e)&&!$D()}function r8(e,s,n={}){const[a,r,l]=HD(e,n),c=u=>{const m=u.currentTarget;if(!bT(u))return;Np.add(m);const f=s(m,u),p=(w,N)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Np.has(m)&&Np.delete(m),bT(w)&&typeof f=="function"&&f(w,{success:N})},g=w=>{p(w,m===window||m===document||n.useGlobalTarget||GD(m,w.target))},v=w=>{p(w,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return a.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,r),qD(u)&&(u.addEventListener("focus",f=>n8(f,r)),!a8(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function YD(e){return rD(e)&&"ownerSVGElement"in e}function i8(e){return YD(e)&&e.tagName==="svg"}const hn=e=>!!(e&&e.getVelocity),o8=[...UD,Ra,fl],l8=e=>o8.find(FD(e)),Iw=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class c8 extends x.Component{getSnapshotBeforeUpdate(s){const n=this.props.childRef.current;if(n&&s.isPresent&&!this.props.isPresent){const a=n.offsetParent,r=qD(a)&&a.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=r-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d8({children:e,isPresent:s,anchorX:n,root:a}){const r=x.useId(),l=x.useRef(null),c=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=x.useContext(Iw);return x.useInsertionEffect(()=>{const{width:m,height:f,top:p,left:g,right:v}=c.current;if(s||!l.current||!m||!f)return;const w=n==="left"?`left: ${g}`:`right: ${v}`;l.current.dataset.motionPopId=r;const N=document.createElement("style");u&&(N.nonce=u);const j=a??document.head;return j.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{j.contains(N)&&j.removeChild(N)}},[s]),t.jsx(c8,{isPresent:s,childRef:l,sizeRef:c,children:x.cloneElement(e,{ref:l})})}const u8=({children:e,initial:s,isPresent:n,onExitComplete:a,custom:r,presenceAffectsLayout:l,mode:c,anchorX:u,root:m})=>{const f=cw(h8),p=x.useId();let g=!0,v=x.useMemo(()=>(g=!1,{id:p,initial:s,isPresent:n,custom:r,onExitComplete:w=>{f.set(w,!0);for(const N of f.values())if(!N)return;a&&a()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[n,f,a]);return l&&g&&(v={...v}),x.useMemo(()=>{f.forEach((w,N)=>f.set(N,!1))},[n]),x.useEffect(()=>{!n&&!f.size&&a&&a()},[n]),c==="popLayout"&&(e=t.jsx(d8,{isPresent:n,anchorX:u,root:m,children:e})),t.jsx(vg.Provider,{value:v,children:e})};function h8(){return new Map}function WD(e=!0){const s=x.useContext(vg);if(s===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:r}=s,l=x.useId();x.useEffect(()=>{if(e)return r(l)},[e]);const c=x.useCallback(()=>e&&a&&a(l),[l,a,e]);return!n&&a?[!1,c]:[!0]}const sp=e=>e.key||"";function wT(e){const s=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&s.push(n)}),s}const Rw=({children:e,custom:s,initial:n=!0,onExitComplete:a,presenceAffectsLayout:r=!0,mode:l="sync",propagate:c=!1,anchorX:u="left",root:m})=>{const[f,p]=WD(c),g=x.useMemo(()=>wT(e),[e]),v=c&&!f?[]:g.map(sp),w=x.useRef(!0),N=x.useRef(g),j=cw(()=>new Map),[S,E]=x.useState(g),[T,C]=x.useState(g);aD(()=>{w.current=!1,N.current=g;for(let A=0;A<T.length;A++){const R=sp(T[A]);v.includes(R)?j.delete(R):j.get(R)!==!0&&j.set(R,!1)}},[T,v.length,v.join("-")]);const I=[];if(g!==S){let A=[...g];for(let R=0;R<T.length;R++){const L=T[R],z=sp(L);v.includes(z)||(A.splice(R,0,L),I.push(L))}return l==="wait"&&I.length&&(A=I),C(wT(A)),E(g),null}const{forceRender:D}=x.useContext(lw);return t.jsx(t.Fragment,{children:T.map(A=>{const R=sp(A),L=c&&!f?!1:g===T||v.includes(R),z=()=>{if(j.has(R))j.set(R,!0);else return;let Q=!0;j.forEach(K=>{K||(Q=!1)}),Q&&(D==null||D(),C(N.current),c&&(p==null||p()),a&&a())};return t.jsx(u8,{isPresent:L,initial:!w.current||n?void 0:!1,custom:s,presenceAffectsLayout:r,mode:l,root:m,onExitComplete:L?void 0:z,anchorX:u,children:A},R)})})},KD=x.createContext({strict:!1}),jT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kd={};for(const e in jT)Kd[e]={isEnabled:s=>jT[e].some(n=>!!s[n])};function m8(e){for(const s in e)Kd[s]={...Kd[s],...e[s]}}const f8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||f8.has(e)}let QD=e=>!Yp(e);function p8(e){typeof e=="function"&&(QD=s=>s.startsWith("on")?!Yp(s):e(s))}try{p8(require("@emotion/is-prop-valid").default)}catch{}function g8(e,s,n){const a={};for(const r in e)r==="values"&&typeof e.values=="object"||(QD(r)||n===!0&&Yp(r)||!s&&!Yp(r)||e.draggable&&r.startsWith("onDrag"))&&(a[r]=e[r]);return a}const bg=x.createContext({});function wg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qh(e){return typeof e=="string"||Array.isArray(e)}const Ow=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mw=["initial",...Ow];function jg(e){return wg(e.animate)||Mw.some(s=>qh(e[s]))}function JD(e){return!!(jg(e)||e.variants)}function x8(e,s){if(jg(e)){const{initial:n,animate:a}=e;return{initial:n===!1||qh(n)?n:void 0,animate:qh(a)?a:void 0}}return e.inherit!==!1?s:{}}function y8(e){const{initial:s,animate:n}=x8(e,x.useContext(bg));return x.useMemo(()=>({initial:s,animate:n}),[NT(s),NT(n)])}function NT(e){return Array.isArray(e)?e.join(" "):e}const $h={};function v8(e){for(const s in e)$h[s]=e[s],yw(s)&&($h[s].isCSSVariable=!0)}function XD(e,{layout:s,layoutId:n}){return uu.has(e)||e.startsWith("origin")||(s||n!==void 0)&&(!!$h[e]||e==="opacity")}const b8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},w8=du.length;function j8(e,s,n){let a="",r=!0;for(let l=0;l<w8;l++){const c=du[l],u=e[c];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(c.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||n){const f=zD(u,Aw[c]);if(!m){r=!1;const p=b8[c]||c;a+=`${p}(${f}) `}n&&(s[c]=f)}}return a=a.trim(),n?a=n(s,r?"":a):r&&(a="none"),a}function _w(e,s,n){const{style:a,vars:r,transformOrigin:l}=e;let c=!1,u=!1;for(const m in s){const f=s[m];if(uu.has(m)){c=!0;continue}else if(yw(m)){r[m]=f;continue}else{const p=zD(f,Aw[m]);m.startsWith("origin")?(u=!0,l[m]=p):a[m]=p}}if(s.transform||(c||n?a.transform=j8(s,e.transform,n):a.transform&&(a.transform="none")),u){const{originX:m="50%",originY:f="50%",originZ:p=0}=l;a.transformOrigin=`${m} ${f} ${p}`}}const Lw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZD(e,s,n){for(const a in s)!hn(s[a])&&!XD(a,n)&&(e[a]=s[a])}function N8({transformTemplate:e},s){return x.useMemo(()=>{const n=Lw();return _w(n,s,e),Object.assign({},n.vars,n.style)},[s])}function S8(e,s){const n=e.style||{},a={};return ZD(a,n,e),Object.assign(a,N8(e,s)),a}function C8(e,s){const n={},a=S8(e,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const T8={offset:"stroke-dashoffset",array:"stroke-dasharray"},k8={offset:"strokeDashoffset",array:"strokeDasharray"};function E8(e,s,n=1,a=0,r=!0){e.pathLength=1;const l=r?T8:k8;e[l.offset]=Rt.transform(-a);const c=Rt.transform(s),u=Rt.transform(n);e[l.array]=`${c} ${u}`}function eP(e,{attrX:s,attrY:n,attrScale:a,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...u},m,f,p){if(_w(e,u,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v}=e;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),s!==void 0&&(g.x=s),n!==void 0&&(g.y=n),a!==void 0&&(g.scale=a),r!==void 0&&E8(g,r,l,c,!1)}const tP=()=>({...Lw(),attrs:{}}),sP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function A8(e,s,n,a){const r=x.useMemo(()=>{const l=tP();return eP(l,s,sP(a),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[s]);if(e.style){const l={};ZD(l,e.style,e),r.style={...l,...r.style}}return r}const D8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fw(e){return typeof e!="string"||e.includes("-")?!1:!!(D8.indexOf(e)>-1||/[A-Z]/u.test(e))}function P8(e,s,n,{latestValues:a},r,l=!1){const u=(Fw(e)?A8:C8)(s,a,r,e),m=g8(s,typeof e=="string",l),f=e!==x.Fragment?{...m,...u,ref:n}:{},{children:p}=s,g=x.useMemo(()=>hn(p)?p.get():p,[p]);return x.createElement(e,{...f,children:g})}function ST(e){const s=[{},{}];return e==null||e.values.forEach((n,a)=>{s[0][a]=n.get(),s[1][a]=n.getVelocity()}),s}function Uw(e,s,n,a){if(typeof s=="function"){const[r,l]=ST(a);s=s(n!==void 0?n:e.custom,r,l)}if(typeof s=="string"&&(s=e.variants&&e.variants[s]),typeof s=="function"){const[r,l]=ST(a);s=s(n!==void 0?n:e.custom,r,l)}return s}function Sp(e){return hn(e)?e.get():e}function I8({scrapeMotionValuesFromProps:e,createRenderState:s},n,a,r){return{latestValues:R8(n,a,r,e),renderState:s()}}function R8(e,s,n,a){const r={},l=a(e,{});for(const v in l)r[v]=Sp(l[v]);let{initial:c,animate:u}=e;const m=jg(e),f=JD(e);s&&f&&!m&&e.inherit!==!1&&(c===void 0&&(c=s.initial),u===void 0&&(u=s.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?u:c;if(g&&typeof g!="boolean"&&!wg(g)){const v=Array.isArray(g)?g:[g];for(let w=0;w<v.length;w++){const N=Uw(e,v[w]);if(N){const{transitionEnd:j,transition:S,...E}=N;for(const T in E){let C=E[T];if(Array.isArray(C)){const I=p?C.length-1:0;C=C[I]}C!==null&&(r[T]=C)}for(const T in j)r[T]=j[T]}}}return r}const aP=e=>(s,n)=>{const a=x.useContext(bg),r=x.useContext(vg),l=()=>I8(e,s,a,r);return n?l():cw(l)};function Vw(e,s,n){var l;const{style:a}=e,r={};for(const c in a)(hn(a[c])||s.style&&hn(s.style[c])||XD(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(r[c]=a[c]);return r}const O8=aP({scrapeMotionValuesFromProps:Vw,createRenderState:Lw});function nP(e,s,n){const a=Vw(e,s,n);for(const r in e)if(hn(e[r])||hn(s[r])){const l=du.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[l]=e[r]}return a}const M8=aP({scrapeMotionValuesFromProps:nP,createRenderState:tP}),_8=Symbol.for("motionComponentSymbol");function bd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L8(e,s,n){return x.useCallback(a=>{a&&e.onMount&&e.onMount(a),s&&(a?s.mount(a):s.unmount()),n&&(typeof n=="function"?n(a):bd(n)&&(n.current=a))},[s])}const Bw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),F8="framerAppearId",rP="data-"+Bw(F8),iP=x.createContext({});function U8(e,s,n,a,r){var j,S;const{visualElement:l}=x.useContext(bg),c=x.useContext(KD),u=x.useContext(vg),m=x.useContext(Iw).reducedMotion,f=x.useRef(null);a=a||c.renderer,!f.current&&a&&(f.current=a(e,{visualState:s,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const p=f.current,g=x.useContext(iP);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&V8(f.current,n,r,g);const v=x.useRef(!1);x.useInsertionEffect(()=>{p&&v.current&&p.update(n,u)});const w=n[rP],N=x.useRef(!!w&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,w))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,w)));return aD(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),N.current&&p.animationState&&p.animationState.animateChanges())}),x.useEffect(()=>{p&&(!N.current&&p.animationState&&p.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,w)}),N.current=!1),p.enteringChildren=void 0)}),p}function V8(e,s,n,a){const{layoutId:r,layout:l,drag:c,dragConstraints:u,layoutScroll:m,layoutRoot:f,layoutCrossfade:p}=s;e.projection=new n(e.latestValues,s["data-framer-portal-id"]?void 0:oP(e.parent)),e.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||u&&bd(u),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:m,layoutRoot:f})}function oP(e){if(e)return e.options.allowProjection!==!1?e.projection:oP(e.parent)}function o0(e,{forwardMotionProps:s=!1}={},n,a){n&&m8(n);const r=Fw(e)?M8:O8;function l(u,m){let f;const p={...x.useContext(Iw),...u,layoutId:B8(u)},{isStatic:g}=p,v=y8(u),w=r(u,g);if(!g&&dw){z8();const N=q8(p);f=N.MeasureLayout,v.visualElement=U8(e,w,p,a,N.ProjectionNode)}return t.jsxs(bg.Provider,{value:v,children:[f&&v.visualElement?t.jsx(f,{visualElement:v.visualElement,...p}):null,P8(e,u,L8(w,v.visualElement,m),w,g,s)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=x.forwardRef(l);return c[_8]=e,c}function B8({layoutId:e}){const s=x.useContext(lw).id;return s&&e!==void 0?s+"-"+e:e}function z8(e,s){x.useContext(KD).strict}function q8(e){const{drag:s,layout:n}=Kd;if(!s&&!n)return{};const a={...s,...n};return{MeasureLayout:s!=null&&s.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function $8(e,s){if(typeof Proxy>"u")return o0;const n=new Map,a=(l,c)=>o0(l,c,e,s),r=(l,c)=>a(l,c);return new Proxy(r,{get:(l,c)=>c==="create"?a:(n.has(c)||n.set(c,o0(c,void 0,e,s)),n.get(c))})}function lP({top:e,left:s,right:n,bottom:a}){return{x:{min:s,max:n},y:{min:e,max:a}}}function H8({x:e,y:s}){return{top:s.min,right:e.max,bottom:s.max,left:e.min}}function G8(e,s){if(!s)return e;const n=s({x:e.left,y:e.top}),a=s({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function l0(e){return e===void 0||e===1}function sb({scale:e,scaleX:s,scaleY:n}){return!l0(e)||!l0(s)||!l0(n)}function Gl(e){return sb(e)||cP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cP(e){return CT(e.x)||CT(e.y)}function CT(e){return e&&e!=="0%"}function Wp(e,s,n){const a=e-n,r=s*a;return n+r}function TT(e,s,n,a,r){return r!==void 0&&(e=Wp(e,r,a)),Wp(e,n,a)+s}function ab(e,s=0,n=1,a,r){e.min=TT(e.min,s,n,a,r),e.max=TT(e.max,s,n,a,r)}function dP(e,{x:s,y:n}){ab(e.x,s.translate,s.scale,s.originPoint),ab(e.y,n.translate,n.scale,n.originPoint)}const kT=.999999999999,ET=1.0000000000001;function Y8(e,s,n,a=!1){const r=n.length;if(!r)return;s.x=s.y=1;let l,c;for(let u=0;u<r;u++){l=n[u],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&jd(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(s.x*=c.x.scale,s.y*=c.y.scale,dP(e,c)),a&&Gl(l.latestValues)&&jd(e,l.latestValues))}s.x<ET&&s.x>kT&&(s.x=1),s.y<ET&&s.y>kT&&(s.y=1)}function wd(e,s){e.min=e.min+s,e.max=e.max+s}function AT(e,s,n,a,r=.5){const l=oa(e.min,e.max,r);ab(e,s,n,l,a)}function jd(e,s){AT(e.x,s.x,s.scaleX,s.scale,s.originX),AT(e.y,s.y,s.scaleY,s.scale,s.originY)}function uP(e,s){return lP(G8(e.getBoundingClientRect(),s))}function W8(e,s,n){const a=uP(e,n),{scroll:r}=s;return r&&(wd(a.x,r.offset.x),wd(a.y,r.offset.y)),a}const DT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nd=()=>({x:DT(),y:DT()}),PT=()=>({min:0,max:0}),Sa=()=>({x:PT(),y:PT()}),nb={current:null},hP={current:!1};function K8(){if(hP.current=!0,!!dw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),s=()=>nb.current=e.matches;e.addEventListener("change",s),s()}else nb.current=!1}const Q8=new WeakMap;function J8(e,s,n){for(const a in s){const r=s[a],l=n[a];if(hn(r))e.addValue(a,r);else if(hn(l))e.addValue(a,Wd(r,{owner:e}));else if(l!==r)if(e.hasValue(a)){const c=e.getValue(a);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=e.getStaticValue(a);e.addValue(a,Wd(c!==void 0?c:r,{owner:e}))}}for(const a in n)s[a]===void 0&&e.removeValue(a);return s}const IT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class X8{scrapeMotionValuesFromProps(s,n,a){return{}}constructor({parent:s,props:n,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Fn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Js.render(this.render,!1,!0))};const{latestValues:m,renderState:f}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=f,this.parent=s,this.props=n,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=jg(n),this.isVariantNode=JD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const w=g[v];m[v]!==void 0&&hn(w)&&w.set(m[v])}}mount(s){var n;this.current=s,Q8.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),hP.current||K8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var s;this.projection&&this.projection.unmount(),ml(this.notifyUpdate),ml(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(s=this.parent)==null||s.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const a=this.features[n];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,n){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const a=uu.has(s);a&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[s]=c,this.props.onUpdate&&Js.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,s,n)),this.valueSubscriptions.set(s,()=>{r(),l&&l(),n.owner&&n.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Kd){const n=Kd[s];if(!n)continue;const{isEnabled:a,Feature:r}=n;if(!this.features[s]&&r&&a(this.props)&&(this.features[s]=new r(this)),this.features[s]){const l=this.features[s];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sa()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,n){this.latestValues[s]=n}update(s,n){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<IT.length;a++){const r=IT[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=s[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=J8(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(s),()=>n.variantChildren.delete(s)}addValue(s,n){const a=this.values.get(s);n!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,n),this.values.set(s,n),this.latestValues[s]=n.get())}removeValue(s){this.values.delete(s);const n=this.valueSubscriptions.get(s);n&&(n(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,n){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&n!==void 0&&(a=Wd(n===null?void 0:n,{owner:this}),this.addValue(s,a)),a}readValue(s,n){let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(nD(a)||iD(a))?a=parseFloat(a):!l8(a)&&fl.test(n)&&(a=BD(s,n)),this.setBaseTarget(s,hn(a)?a.get():a)),hn(a)?a.get():a}setBaseTarget(s,n){this.baseTarget[s]=n}getBaseTarget(s){var l;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=Uw(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(a=c[s])}if(n&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,s);return r!==void 0&&!hn(r)?r:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,n){return this.events[s]||(this.events[s]=new pw),this.events[s].add(n)}notify(s,...n){this.events[s]&&this.events[s].notify(...n)}scheduleRenderMicrotask(){Dw.render(this.render)}}class mP extends X8{constructor(){super(...arguments),this.KeyframeResolver=QB}sortInstanceNodePosition(s,n){return s.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(s,n){return s.style?s.style[n]:void 0}removeValueFromRenderState(s,{vars:n,style:a}){delete n[s],delete a[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;hn(s)&&(this.childSubscription=s.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fP(e,{style:s,vars:n},a,r){const l=e.style;let c;for(c in s)l[c]=s[c];r==null||r.applyProjectionStyles(l,a);for(c in n)l.setProperty(c,n[c])}function Z8(e){return window.getComputedStyle(e)}class ez extends mP{constructor(){super(...arguments),this.type="html",this.renderInstance=fP}readValueFromInstance(s,n){var a;if(uu.has(n))return(a=this.projection)!=null&&a.isProjecting?Kv(n):pB(s,n);{const r=Z8(s),l=(yw(n)?r.getPropertyValue(n):r[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(s,{transformPagePoint:n}){return uP(s,n)}build(s,n,a){_w(s,n,a.transformTemplate)}scrapeMotionValuesFromProps(s,n,a){return Vw(s,n,a)}}const pP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tz(e,s,n,a){fP(e,s,void 0,a);for(const r in s.attrs)e.setAttribute(pP.has(r)?r:Bw(r),s.attrs[r])}class sz extends mP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sa}getBaseTargetFromProps(s,n){return s[n]}readValueFromInstance(s,n){if(uu.has(n)){const a=VD(n);return a&&a.default||0}return n=pP.has(n)?n:Bw(n),s.getAttribute(n)}scrapeMotionValuesFromProps(s,n,a){return nP(s,n,a)}build(s,n,a){eP(s,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(s,n,a,r){tz(s,n,a,r)}mount(s){this.isSVGTag=sP(s.tagName),super.mount(s)}}const az=(e,s)=>Fw(e)?new sz(s):new ez(s,{allowProjection:e!==x.Fragment});function Ad(e,s,n){const a=e.getProps();return Uw(a,s,n!==void 0?n:a.custom,e)}const rb=e=>Array.isArray(e);function nz(e,s,n){e.hasValue(s)?e.getValue(s).set(n):e.addValue(s,Wd(n))}function rz(e){return rb(e)?e[e.length-1]||0:e}function iz(e,s){const n=Ad(e,s);let{transitionEnd:a={},transition:r={},...l}=n||{};l={...l,...a};for(const c in l){const u=rz(l[c]);nz(e,c,u)}}function oz(e){return!!(hn(e)&&e.add)}function ib(e,s){const n=e.getValue("willChange");if(oz(n))return n.add(s);if(!n&&no.WillChange){const a=new no.WillChange("auto");e.addValue("willChange",a),a.add(s)}}function gP(e){return e.props[rP]}const lz=e=>e!==null;function cz(e,{repeat:s,repeatType:n="loop"},a){const r=e.filter(lz),l=s&&n!=="loop"&&s%2===1?0:r.length-1;return r[l]}const dz={type:"spring",stiffness:500,damping:25,restSpeed:10},uz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hz={type:"keyframes",duration:.8},mz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fz=(e,{keyframes:s})=>s.length>2?hz:uu.has(e)?e.startsWith("scale")?uz(s[1]):dz:mz;function pz({when:e,delay:s,delayChildren:n,staggerChildren:a,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:u,from:m,elapsed:f,...p}){return!!Object.keys(p).length}const zw=(e,s,n,a={},r,l)=>c=>{const u=Ew(a,e)||{},m=u.delay||a.delay||0;let{elapsed:f=0}=a;f=f-di(m);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:s.getVelocity(),...u,delay:-f,onUpdate:v=>{s.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:s,element:l?void 0:r};pz(u)||Object.assign(p,fz(e,p)),p.duration&&(p.duration=di(p.duration)),p.repeatDelay&&(p.repeatDelay=di(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(eb(p),p.delay===0&&(g=!0)),(no.instantAnimations||no.skipAnimations)&&(g=!0,eb(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!l&&s.get()!==void 0){const v=cz(p.keyframes,u);if(v!==void 0){Js.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new Tw(p):new FB(p)};function gz({protectedKeys:e,needsAnimating:s},n){const a=e.hasOwnProperty(n)&&s[n]!==!0;return s[n]=!1,a}function xP(e,s,{delay:n=0,transitionOverride:a,type:r}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=s;a&&(l=a);const m=[],f=r&&e.animationState&&e.animationState.getState()[r];for(const p in u){const g=e.getValue(p,e.latestValues[p]??null),v=u[p];if(v===void 0||f&&gz(f,p))continue;const w={delay:n,...Ew(l||{},p)},N=g.get();if(N!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===N&&!w.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const E=gP(e);if(E){const T=window.MotionHandoffAnimation(E,p,Js);T!==null&&(w.startTime=T,j=!0)}}ib(e,p),g.start(zw(p,g,v,e.shouldReduceMotion&&LD.has(p)?{type:!1}:w,e,j));const S=g.animation;S&&m.push(S)}return c&&Promise.all(m).then(()=>{Js.update(()=>{c&&iz(e,c)})}),m}function yP(e,s,n,a=0,r=1){const l=Array.from(e).sort((f,p)=>f.sortNodePosition(p)).indexOf(s),c=e.size,u=(c-1)*a;return typeof n=="function"?n(l,c):r===1?l*a:u-l*a}function ob(e,s,n={}){var m;const a=Ad(e,s,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(r=n.transitionOverride);const l=a?()=>Promise.all(xP(e,a,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=r;return xz(e,s,f,p,g,v,n)}:()=>Promise.resolve(),{when:u}=r;if(u){const[f,p]=u==="beforeChildren"?[l,c]:[c,l];return f().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function xz(e,s,n=0,a=0,r=0,l=1,c){const u=[];for(const m of e.variantChildren)m.notify("AnimationStart",s),u.push(ob(m,s,{...c,delay:n+(typeof a=="function"?0:a)+yP(e.variantChildren,m,a,r,l)}).then(()=>m.notify("AnimationComplete",s)));return Promise.all(u)}function yz(e,s,n={}){e.notify("AnimationStart",s);let a;if(Array.isArray(s)){const r=s.map(l=>ob(e,l,n));a=Promise.all(r)}else if(typeof s=="string")a=ob(e,s,n);else{const r=typeof s=="function"?Ad(e,s,n.custom):s;a=Promise.all(xP(e,r,n))}return a.then(()=>{e.notify("AnimationComplete",s)})}function vP(e,s){if(!Array.isArray(s))return!1;const n=s.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(s[a]!==e[a])return!1;return!0}const vz=Mw.length;function bP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?bP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const s={};for(let n=0;n<vz;n++){const a=Mw[n],r=e.props[a];(qh(r)||r===!1)&&(s[a]=r)}return s}const bz=[...Ow].reverse(),wz=Ow.length;function jz(e){return s=>Promise.all(s.map(({animation:n,options:a})=>yz(e,n,a)))}function Nz(e){let s=jz(e),n=RT(),a=!0;const r=m=>(f,p)=>{var v;const g=Ad(e,p,m==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:w,transitionEnd:N,...j}=g;f={...f,...j,...N}}return f};function l(m){s=m(e)}function c(m){const{props:f}=e,p=bP(e.parent)||{},g=[],v=new Set;let w={},N=1/0;for(let S=0;S<wz;S++){const E=bz[S],T=n[E],C=f[E]!==void 0?f[E]:p[E],I=qh(C),D=E===m?T.isActive:null;D===!1&&(N=S);let A=C===p[E]&&C!==f[E]&&I;if(A&&a&&e.manuallyAnimateOnMount&&(A=!1),T.protectedKeys={...w},!T.isActive&&D===null||!C&&!T.prevProp||wg(C)||typeof C=="boolean")continue;const R=Sz(T.prevProp,C);let L=R||E===m&&T.isActive&&!A&&I||S>N&&I,z=!1;const Q=Array.isArray(C)?C:[C];let K=Q.reduce(r(E),{});D===!1&&(K={});const{prevResolvedValues:J={}}=T,de={...J,...K},H=q=>{L=!0,v.has(q)&&(z=!0,v.delete(q)),T.needsAnimating[q]=!0;const W=e.getValue(q);W&&(W.liveStyle=!1)};for(const q in de){const W=K[q],he=J[q];if(w.hasOwnProperty(q))continue;let $=!1;rb(W)&&rb(he)?$=!vP(W,he):$=W!==he,$?W!=null?H(q):v.add(q):W!==void 0&&v.has(q)?H(q):T.protectedKeys[q]=!0}T.prevProp=C,T.prevResolvedValues=K,T.isActive&&(w={...w,...K}),a&&e.blockInitialAnimation&&(L=!1);const ie=A&&R;L&&(!ie||z)&&g.push(...Q.map(q=>{const W={type:E};if(typeof q=="string"&&a&&!ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:he}=e,$=Ad(he,q);if(he.enteringChildren&&$){const{delayChildren:M}=$.transition||{};W.delay=yP(he.enteringChildren,e,M)}}return{animation:q,options:W}}))}if(v.size){const S={};if(typeof f.initial!="boolean"){const E=Ad(e,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(S.transition=E.transition)}v.forEach(E=>{const T=e.getBaseTarget(E),C=e.getValue(E);C&&(C.liveStyle=!0),S[E]=T??null}),g.push({animation:S})}let j=!!g.length;return a&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(j=!1),a=!1,j?s(g):Promise.resolve()}function u(m,f){var g;if(n[m].isActive===f)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(v=>{var w;return(w=v.animationState)==null?void 0:w.setActive(m,f)}),n[m].isActive=f;const p=c(m);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>n,reset:()=>{n=RT(),a=!0}}}function Sz(e,s){return typeof s=="string"?s!==e:Array.isArray(s)?!vP(s,e):!1}function Hl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RT(){return{animate:Hl(!0),whileInView:Hl(),whileHover:Hl(),whileTap:Hl(),whileDrag:Hl(),whileFocus:Hl(),exit:Hl()}}class xl{constructor(s){this.isMounted=!1,this.node=s}update(){}}class Cz extends xl{constructor(s){super(s),s.animationState||(s.animationState=Nz(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();wg(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:n}=this.node.prevProps||{};s!==n&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let Tz=0;class kz extends xl{constructor(){super(...arguments),this.id=Tz++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const r=this.node.animationState.setActive("exit",!s);n&&!s&&r.then(()=>{n(this.id)})}mount(){const{register:s,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const Ez={animation:{Feature:Cz},exit:{Feature:kz}};function Hh(e,s,n,a={passive:!0}){return e.addEventListener(s,n,a),()=>e.removeEventListener(s,n)}function dm(e){return{point:{x:e.pageX,y:e.pageY}}}const Az=e=>s=>Pw(s)&&e(s,dm(s));function Ph(e,s,n,a){return Hh(e,s,Az(n),a)}const wP=1e-4,Dz=1-wP,Pz=1+wP,jP=.01,Iz=0-jP,Rz=0+jP;function Sn(e){return e.max-e.min}function Oz(e,s,n){return Math.abs(e-s)<=n}function OT(e,s,n,a=.5){e.origin=a,e.originPoint=oa(s.min,s.max,e.origin),e.scale=Sn(n)/Sn(s),e.translate=oa(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Dz&&e.scale<=Pz||isNaN(e.scale))&&(e.scale=1),(e.translate>=Iz&&e.translate<=Rz||isNaN(e.translate))&&(e.translate=0)}function Ih(e,s,n,a){OT(e.x,s.x,n.x,a?a.originX:void 0),OT(e.y,s.y,n.y,a?a.originY:void 0)}function MT(e,s,n){e.min=n.min+s.min,e.max=e.min+Sn(s)}function Mz(e,s,n){MT(e.x,s.x,n.x),MT(e.y,s.y,n.y)}function _T(e,s,n){e.min=s.min-n.min,e.max=e.min+Sn(s)}function Rh(e,s,n){_T(e.x,s.x,n.x),_T(e.y,s.y,n.y)}function yr(e){return[e("x"),e("y")]}const NP=({current:e})=>e?e.ownerDocument.defaultView:null,LT=(e,s)=>Math.abs(e-s);function _z(e,s){const n=LT(e.x,s.x),a=LT(e.y,s.y);return Math.sqrt(n**2+a**2)}class SP{constructor(s,n,{transformPagePoint:a,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=d0(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,N=_z(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!N)return;const{point:j}=v,{timestamp:S}=sn;this.history.push({...j,timestamp:S});const{onStart:E,onMove:T}=this.handlers;w||(E&&E(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=c0(w,this.transformPagePoint),Js.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:N,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=d0(v.type==="pointercancel"?this.lastMoveEventInfo:c0(w,this.transformPagePoint),this.history);this.startEvent&&N&&N(v,E),j&&j(v,E)},!Pw(s))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=r||window;const u=dm(s),m=c0(u,this.transformPagePoint),{point:f}=m,{timestamp:p}=sn;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(s,d0(m,this.history)),this.removeListeners=om(Ph(this.contextWindow,"pointermove",this.handlePointerMove),Ph(this.contextWindow,"pointerup",this.handlePointerUp),Ph(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),ml(this.updatePoint)}}function c0(e,s){return s?{point:s(e.point)}:e}function FT(e,s){return{x:e.x-s.x,y:e.y-s.y}}function d0({point:e},s){return{point:e,delta:FT(e,CP(s)),offset:FT(e,Lz(s)),velocity:Fz(s,.1)}}function Lz(e){return e[0]}function CP(e){return e[e.length-1]}function Fz(e,s){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const r=CP(e);for(;n>=0&&(a=e[n],!(r.timestamp-a.timestamp>di(s)));)n--;if(!a)return{x:0,y:0};const l=ui(r.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-a.x)/l,y:(r.y-a.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Uz(e,{min:s,max:n},a){return s!==void 0&&e<s?e=a?oa(s,e,a.min):Math.max(e,s):n!==void 0&&e>n&&(e=a?oa(n,e,a.max):Math.min(e,n)),e}function UT(e,s,n){return{min:s!==void 0?e.min+s:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Vz(e,{top:s,left:n,bottom:a,right:r}){return{x:UT(e.x,n,r),y:UT(e.y,s,a)}}function VT(e,s){let n=s.min-e.min,a=s.max-e.max;return s.max-s.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function Bz(e,s){return{x:VT(e.x,s.x),y:VT(e.y,s.y)}}function zz(e,s){let n=.5;const a=Sn(e),r=Sn(s);return r>a?n=Vh(s.min,s.max-a,e.min):a>r&&(n=Vh(e.min,e.max-r,s.min)),ao(0,1,n)}function qz(e,s){const n={};return s.min!==void 0&&(n.min=s.min-e.min),s.max!==void 0&&(n.max=s.max-e.min),n}const lb=.35;function $z(e=lb){return e===!1?e=0:e===!0&&(e=lb),{x:BT(e,"left","right"),y:BT(e,"top","bottom")}}function BT(e,s,n){return{min:zT(e,s),max:zT(e,n)}}function zT(e,s){return typeof e=="number"?e:e[s]||0}const Hz=new WeakMap;class Gz{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:n=!1,distanceThreshold:a}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dm(g).point)},c=(g,v)=>{const{drag:w,dragPropagation:N,onDragStart:j}=this.getProps();if(w&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e8(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yr(E=>{let T=this.getAxisMotionValue(E).get()||0;if(hi.test(T)){const{projection:C}=this.visualElement;if(C&&C.layout){const I=C.layout.layoutBox[E];I&&(T=Sn(I)*(parseFloat(T)/100))}}this.originPoint[E]=T}),j&&Js.postRender(()=>j(g,v)),ib(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:N,onDirectionLock:j,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=v;if(N&&this.currentDirection===null){this.currentDirection=Yz(E),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),S&&S(g,v)},m=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>yr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new SP(s,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:m,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:a,contextWindow:NP(this.visualElement)})}stop(s,n){const a=s||this.latestPointerEvent,r=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!a)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Js.postRender(()=>u(a,r))}cancel(){this.isDragging=!1;const{projection:s,animationState:n}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(s,n,a){const{drag:r}=this.getProps();if(!a||!ap(s,r,this.currentDirection))return;const l=this.getAxisMotionValue(s);let c=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(c=Uz(c,this.constraints[s],this.elastic[s])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,r=this.constraints;s&&bd(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=Vz(a.layoutBox,s):this.constraints=!1,this.elastic=$z(n),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&yr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=qz(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:n}=this.getProps();if(!s||!bd(s))return!1;const a=s.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=W8(a,r.root,this.visualElement.getTransformPagePoint());let c=Bz(r.layout.layoutBox,l);if(n){const u=n(H8(c));this.hasMutatedConstraints=!!u,u&&(c=lP(u))}return c}startAnimation(s){const{drag:n,dragMomentum:a,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},f=yr(p=>{if(!ap(p,n,this.currentDirection))return;let g=m&&m[p]||{};c&&(g={min:0,max:0});const v=r?200:1e6,w=r?40:1e7,N={type:"inertia",velocity:a?s[p]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,N)});return Promise.all(f).then(u)}startAxisValueAnimation(s,n){const a=this.getAxisMotionValue(s);return ib(this.visualElement,s),a.start(zw(s,a,0,n,this.visualElement,!1))}stopAnimation(){yr(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){yr(s=>{var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.pause()})}getAnimationState(s){var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.state}getAxisMotionValue(s){const n=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),r=a[n];return r||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){yr(n=>{const{drag:a}=this.getProps();if(!ap(n,a,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:u}=r.layout.layoutBox[n];l.set(s[n]-oa(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!bd(n)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};yr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const m=u.get();r[c]=zz({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),yr(c=>{if(!ap(c,s,null))return;const u=this.getAxisMotionValue(c),{min:m,max:f}=this.constraints[c];u.set(oa(m,f,r[c]))})}addListeners(){if(!this.visualElement.current)return;Hz.set(this.visualElement,this);const s=this.visualElement.current,n=Ph(s,"pointerdown",m=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();bd(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Js.read(a);const c=Hh(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:f})=>{this.isDragging&&f&&(yr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=m[p].translate,g.set(g.get()+m[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),u&&u()}}getProps(){const s=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=lb,dragMomentum:u=!0}=s;return{...s,drag:n,dragDirectionLock:a,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function ap(e,s,n){return(s===!0||s===e)&&(n===null||n===e)}function Yz(e,s=10){let n=null;return Math.abs(e.y)>s?n="y":Math.abs(e.x)>s&&(n="x"),n}class Wz extends xl{constructor(s){super(s),this.removeGroupControls=Sr,this.removeListeners=Sr,this.controls=new Gz(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const qT=e=>(s,n)=>{e&&Js.postRender(()=>e(s,n))};class Kz extends xl{constructor(){super(...arguments),this.removePointerDownListener=Sr}onPointerDown(s){this.session=new SP(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NP(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:n,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:qT(s),onStart:qT(n),onMove:a,onEnd:(l,c)=>{delete this.session,r&&Js.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=Ph(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $T(e,s){return s.max===s.min?0:e/(s.max-s.min)*100}const fh={correct:(e,s)=>{if(!s.target)return e;if(typeof e=="string")if(Rt.test(e))e=parseFloat(e);else return e;const n=$T(e,s.target.x),a=$T(e,s.target.y);return`${n}% ${a}%`}},Qz={correct:(e,{treeScale:s,projectionDelta:n})=>{const a=e,r=fl.parse(e);if(r.length>5)return a;const l=fl.createTransformer(e),c=typeof r[0]!="number"?1:0,u=n.x.scale*s.x,m=n.y.scale*s.y;r[0+c]/=u,r[1+c]/=m;const f=oa(u,m,.5);return typeof r[2+c]=="number"&&(r[2+c]/=f),typeof r[3+c]=="number"&&(r[3+c]/=f),l(r)}};let u0=!1;class Jz extends x.Component{componentDidMount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:a,layoutId:r}=this.props,{projection:l}=s;v8(Xz),l&&(n.group&&n.group.add(l),a&&a.register&&r&&a.register(l),u0&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Cp.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:n,visualElement:a,drag:r,isPresent:l}=this.props,{projection:c}=a;return c&&(c.isPresent=l,u0=!0,r||s.layoutDependency!==n||n===void 0||s.isPresent!==l?c.willUpdate():this.safeToRemove(),s.isPresent!==l&&(l?c.promote():c.relegate()||Js.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),Dw.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:r}=s;u0=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function TP(e){const[s,n]=WD(),a=x.useContext(lw);return t.jsx(Jz,{...e,layoutGroup:a,switchLayoutGroup:x.useContext(iP),isPresent:s,safeToRemove:n})}const Xz={borderRadius:{...fh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fh,borderTopRightRadius:fh,borderBottomLeftRadius:fh,borderBottomRightRadius:fh,boxShadow:Qz};function Zz(e,s,n){const a=hn(e)?e:Wd(e);return a.start(zw("",a,s,n)),a.animation}const eq=(e,s)=>e.depth-s.depth;class tq{constructor(){this.children=[],this.isDirty=!1}add(s){uw(this.children,s),this.isDirty=!0}remove(s){hw(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(eq),this.isDirty=!1,this.children.forEach(s)}}function sq(e,s){const n=Fn.now(),a=({timestamp:r})=>{const l=r-n;l>=s&&(ml(a),e(l-s))};return Js.setup(a,!0),()=>ml(a)}const kP=["TopLeft","TopRight","BottomLeft","BottomRight"],aq=kP.length,HT=e=>typeof e=="string"?parseFloat(e):e,GT=e=>typeof e=="number"||Rt.test(e);function nq(e,s,n,a,r,l){r?(e.opacity=oa(0,n.opacity??1,rq(a)),e.opacityExit=oa(s.opacity??1,0,iq(a))):l&&(e.opacity=oa(s.opacity??1,n.opacity??1,a));for(let c=0;c<aq;c++){const u=`border${kP[c]}Radius`;let m=YT(s,u),f=YT(n,u);if(m===void 0&&f===void 0)continue;m||(m=0),f||(f=0),m===0||f===0||GT(m)===GT(f)?(e[u]=Math.max(oa(HT(m),HT(f),a),0),(hi.test(f)||hi.test(m))&&(e[u]+="%")):e[u]=f}(s.rotate||n.rotate)&&(e.rotate=oa(s.rotate||0,n.rotate||0,a))}function YT(e,s){return e[s]!==void 0?e[s]:e.borderRadius}const rq=EP(0,.5,fD),iq=EP(.5,.95,Sr);function EP(e,s,n){return a=>a<e?0:a>s?1:n(Vh(e,s,a))}function WT(e,s){e.min=s.min,e.max=s.max}function gr(e,s){WT(e.x,s.x),WT(e.y,s.y)}function KT(e,s){e.translate=s.translate,e.scale=s.scale,e.originPoint=s.originPoint,e.origin=s.origin}function QT(e,s,n,a,r){return e-=s,e=Wp(e,1/n,a),r!==void 0&&(e=Wp(e,1/r,a)),e}function oq(e,s=0,n=1,a=.5,r,l=e,c=e){if(hi.test(s)&&(s=parseFloat(s),s=oa(c.min,c.max,s/100)-c.min),typeof s!="number")return;let u=oa(l.min,l.max,a);e===l&&(u-=s),e.min=QT(e.min,s,n,u,r),e.max=QT(e.max,s,n,u,r)}function JT(e,s,[n,a,r],l,c){oq(e,s[n],s[a],s[r],s.scale,l,c)}const lq=["x","scaleX","originX"],cq=["y","scaleY","originY"];function XT(e,s,n,a){JT(e.x,s,lq,n?n.x:void 0,a?a.x:void 0),JT(e.y,s,cq,n?n.y:void 0,a?a.y:void 0)}function ZT(e){return e.translate===0&&e.scale===1}function AP(e){return ZT(e.x)&&ZT(e.y)}function e2(e,s){return e.min===s.min&&e.max===s.max}function dq(e,s){return e2(e.x,s.x)&&e2(e.y,s.y)}function t2(e,s){return Math.round(e.min)===Math.round(s.min)&&Math.round(e.max)===Math.round(s.max)}function DP(e,s){return t2(e.x,s.x)&&t2(e.y,s.y)}function s2(e){return Sn(e.x)/Sn(e.y)}function a2(e,s){return e.translate===s.translate&&e.scale===s.scale&&e.originPoint===s.originPoint}class uq{constructor(){this.members=[]}add(s){uw(this.members,s),s.scheduleRender()}remove(s){if(hw(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(s){const n=this.members.findIndex(r=>s===r);if(n===0)return!1;let a;for(let r=n;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(s,n){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,n&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:r}=s.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:n,resumingFrom:a}=s;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hq(e,s,n){let a="";const r=e.x.translate/s.x,l=e.y.translate/s.y,c=(n==null?void 0:n.z)||0;if((r||l||c)&&(a=`translate3d(${r}px, ${l}px, ${c}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:v,skewX:w,skewY:N}=n;f&&(a=`perspective(${f}px) ${a}`),p&&(a+=`rotate(${p}deg) `),g&&(a+=`rotateX(${g}deg) `),v&&(a+=`rotateY(${v}deg) `),w&&(a+=`skewX(${w}deg) `),N&&(a+=`skewY(${N}deg) `)}const u=e.x.scale*s.x,m=e.y.scale*s.y;return(u!==1||m!==1)&&(a+=`scale(${u}, ${m})`),a||"none"}const h0=["","X","Y","Z"],mq=1e3;let fq=0;function m0(e,s,n,a){const{latestValues:r}=s;r[e]&&(n[e]=r[e],s.setStaticValue(e,0),a&&(a[e]=0))}function PP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:s}=e.options;if(!s)return;const n=gP(s);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Js,!(r||l))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&PP(a)}function IP({attachResizeListener:e,defaultParent:s,measureScroll:n,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(c={},u=s==null?void 0:s()){this.id=fq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xq),this.nodes.forEach(wq),this.nodes.forEach(jq),this.nodes.forEach(yq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new tq)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new pw),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const m=this.eventHandlers.get(c);m&&m.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=YD(c)&&!i8(c),this.instance=c;const{layoutId:u,layout:m,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),e){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;Js.read(()=>{g=window.innerWidth}),e(c,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,p&&p(),p=sq(v,250),Cp.hasAnimatedSinceResize&&(Cp.hasAnimatedSinceResize=!1,this.nodes.forEach(i2)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||m)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||f.getDefaultTransition()||kq,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=f.getProps(),E=!this.targetLayout||!DP(this.targetLayout,w),T=!g&&v;if(this.options.layoutRoot||this.resumeFrom||T||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Ew(N,"layout"),onPlay:j,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,T)}else g||i2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ml(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nq),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(r2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bq),this.nodes.forEach(pq),this.nodes.forEach(gq)):this.nodes.forEach(r2),this.clearAllSnapshots();const u=Fn.now();sn.delta=ao(0,1e3/60,u-sn.timestamp),sn.timestamp=u,sn.isProcessing=!0,t0.update.process(sn),t0.preRender.process(sn),t0.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vq),this.sharedNodes.forEach(Sq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Js.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Js.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const m=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!AP(this.projectionDelta),m=this.getTransformTemplate(),f=m?m(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(u||Gl(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return c&&(m=this.removeTransform(m)),Eq(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return Sa();const u=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(Aq))){const{scroll:p}=this.root;p&&(wd(u.x,p.offset.x),wd(u.y,p.offset.y))}return u}removeElementScroll(c){var m;const u=Sa();if(gr(u,c),(m=this.scroll)!=null&&m.wasRoot)return u;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&gr(u,c),wd(u.x,g.offset.x),wd(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const m=Sa();gr(m,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&jd(m,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Gl(p.latestValues)&&jd(m,p.latestValues)}return Gl(this.latestValues)&&jd(m,this.latestValues),m}removeTransform(c){const u=Sa();gr(u,c);for(let m=0;m<this.path.length;m++){const f=this.path[m];if(!f.instance||!Gl(f.latestValues))continue;sb(f.latestValues)&&f.updateSnapshot();const p=Sa(),g=f.measurePageBox();gr(p,g),XT(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Gl(this.latestValues)&&XT(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sa(),this.relativeTargetOrigin=Sa(),Rh(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sa(),this.targetWithTransforms=Sa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Mz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gr(this.target,this.layout.layoutBox),dP(this.target,this.targetDelta)):gr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sa(),this.relativeTargetOrigin=Sa(),Rh(this.relativeTargetOrigin,this.target,w.target),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sb(this.parent.latestValues)||cP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(m=!1),m)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;gr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;Y8(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Sa());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KT(this.prevProjectionDelta.x,this.projectionDelta.x),KT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ih(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!a2(this.projectionDelta.x,this.prevProjectionDelta.x)||!a2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nd(),this.projectionDelta=Nd(),this.projectionDeltaWithTransform=Nd()}setAnimationOrigin(c,u=!1){const m=this.snapshot,f=m?m.latestValues:{},p={...this.latestValues},g=Nd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Sa(),w=m?m.source:void 0,N=this.layout?this.layout.source:void 0,j=w!==N,S=this.getStack(),E=!S||S.members.length<=1,T=!!(j&&!E&&this.options.crossfade===!0&&!this.path.some(Tq));this.animationProgress=0;let C;this.mixTargetDelta=I=>{const D=I/1e3;o2(g.x,c.x,D),o2(g.y,c.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rh(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Cq(this.relativeTarget,this.relativeTargetOrigin,v,D),C&&dq(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Sa()),gr(C,this.relativeTarget)),j&&(this.animationValues=p,nq(p,f,this.latestValues,D,T,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,m,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||f.stop(),this.pendingAnimation&&(ml(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Js.update(()=>{Cp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wd(0)),this.currentAnimation=Zz(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:m,layout:f,latestValues:p}=c;if(!(!u||!m||!f)){if(this!==c&&this.layout&&f&&RP(this.options.animationType,this.layout.layoutBox,f.layoutBox)){m=this.target||Sa();const g=Sn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+g;const v=Sn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+v}gr(u,m),jd(u,p),Ih(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new uq),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:m}={}){const f=this.getStack();f&&f.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const f={};m.z&&m0("z",c,f,this.animationValues);for(let p=0;p<h0.length;p++)m0(`rotate${h0[p]}`,c,f,this.animationValues),m0(`skew${h0[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Sp(u==null?void 0:u.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Sp(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Gl(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=hq(this.projectionDeltaWithTransform,this.treeScale,p);m&&(g=m(p,g)),c.transform=g;const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const N in $h){if(p[N]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:E}=$h[N],T=g==="none"?p[N]:j(p[N],f);if(S){const C=S.length;for(let I=0;I<C;I++)c[S[I]]=T}else E?this.options.visualElement.renderState.vars[N]=T:c[N]=T}this.options.layoutId&&(c.pointerEvents=f===this?Sp(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(n2),this.root.sharedNodes.clear()}}}function pq(e){e.updateLayout()}function gq(e){var n;const s=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:l}=e.options,c=s.source!==e.layout.source;l==="size"?yr(g=>{const v=c?s.measuredBox[g]:s.layoutBox[g],w=Sn(v);v.min=a[g].min,v.max=v.min+w}):RP(l,s.layoutBox,a)&&yr(g=>{const v=c?s.measuredBox[g]:s.layoutBox[g],w=Sn(a[g]);v.max=v.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+w)});const u=Nd();Ih(u,a,s.layoutBox);const m=Nd();c?Ih(m,e.applyTransform(r,!0),s.measuredBox):Ih(m,a,s.layoutBox);const f=!AP(u);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const N=Sa();Rh(N,s.layoutBox,v.layoutBox);const j=Sa();Rh(j,a,w.layoutBox),DP(N,j)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=N,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:m,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function xq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vq(e){e.clearSnapshot()}function n2(e){e.clearMeasurements()}function r2(e){e.isLayoutDirty=!1}function bq(e){const{visualElement:s}=e.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),e.resetTransform()}function i2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wq(e){e.resolveTargetDelta()}function jq(e){e.calcProjection()}function Nq(e){e.resetSkewAndRotation()}function Sq(e){e.removeLeadSnapshot()}function o2(e,s,n){e.translate=oa(s.translate,0,n),e.scale=oa(s.scale,1,n),e.origin=s.origin,e.originPoint=s.originPoint}function l2(e,s,n,a){e.min=oa(s.min,n.min,a),e.max=oa(s.max,n.max,a)}function Cq(e,s,n,a){l2(e.x,s.x,n.x,a),l2(e.y,s.y,n.y,a)}function Tq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const kq={duration:.45,ease:[.4,0,.1,1]},c2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),d2=c2("applewebkit/")&&!c2("chrome/")?Math.round:Sr;function u2(e){e.min=d2(e.min),e.max=d2(e.max)}function Eq(e){u2(e.x),u2(e.y)}function RP(e,s,n){return e==="position"||e==="preserve-aspect"&&!Oz(s2(s),s2(n),.2)}function Aq(e){var s;return e!==e.root&&((s=e.scroll)==null?void 0:s.wasRoot)}const Dq=IP({attachResizeListener:(e,s)=>Hh(e,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),f0={current:void 0},OP=IP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!f0.current){const e=new Dq({});e.mount(window),e.setOptions({layoutScroll:!0}),f0.current=e}return f0.current},resetTransform:(e,s)=>{e.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Pq={pan:{Feature:Kz},drag:{Feature:Wz,ProjectionNode:OP,MeasureLayout:TP}};function h2(e,s,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,l=a[r];l&&Js.postRender(()=>l(s,dm(s)))}class Iq extends xl{mount(){const{current:s}=this.node;s&&(this.unmount=t8(s,(n,a)=>(h2(this.node,a,"Start"),r=>h2(this.node,r,"End"))))}unmount(){}}class Rq extends xl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=om(Hh(this.node.current,"focus",()=>this.onFocus()),Hh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function m2(e,s,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),l=a[r];l&&Js.postRender(()=>l(s,dm(s)))}class Oq extends xl{mount(){const{current:s}=this.node;s&&(this.unmount=r8(s,(n,a)=>(m2(this.node,a,"Start"),(r,{success:l})=>m2(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cb=new WeakMap,p0=new WeakMap,Mq=e=>{const s=cb.get(e.target);s&&s(e)},_q=e=>{e.forEach(Mq)};function Lq({root:e,...s}){const n=e||document;p0.has(n)||p0.set(n,{});const a=p0.get(n),r=JSON.stringify(s);return a[r]||(a[r]=new IntersectionObserver(_q,{root:e,...s})),a[r]}function Fq(e,s,n){const a=Lq(s);return cb.set(e,n),a.observe(e),()=>{cb.delete(e),a.unobserve(e)}}const Uq={some:0,all:1};class Vq extends xl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:n,margin:a,amount:r="some",once:l}=s,c={root:n?n.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:Uq[r]},u=m=>{const{isIntersecting:f}=m;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=f?p:g;v&&v(m)};return Fq(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:n}=this.node;["amount","margin","root"].some(Bq(s,n))&&this.startObserver()}unmount(){}}function Bq({viewport:e={}},{viewport:s={}}={}){return n=>e[n]!==s[n]}const zq={inView:{Feature:Vq},tap:{Feature:Oq},focus:{Feature:Rq},hover:{Feature:Iq}},qq={layout:{ProjectionNode:OP,MeasureLayout:TP}},$q={...Ez,...zq,...Pq,...qq},Nr=$8($q,az);function Hq(){var I,D;const[e,s]=x.useState(""),[n,a]=x.useState(""),[r,l]=x.useState(!1),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[p,g]=x.useState(""),{login:v}=$s(),{theme:w}=_a(),{toast:N}=da(),j=kr(),E=((D=(I=kn().state)==null?void 0:I.from)==null?void 0:D.pathname)||"/dashboard";x.useEffect(()=>{const A=localStorage.getItem("rememberEmail");A&&(s(A),l(!0))},[]);const T=async A=>{A.preventDefault();const R=e,L=n;if(!R||!L){g("Please enter both email and password");return}u(!0),g("");try{f(!0),await new Promise(z=>setTimeout(z,600)),await v(R,L),r?localStorage.setItem("rememberEmail",R):localStorage.removeItem("rememberEmail")}catch(z){console.error("Login error:",z),g(z.message||"Login failed. Please try again."),f(!1),N({variant:"destructive",title:"Login failed",description:z.message||"Please check your credentials and try again."})}finally{u(!1)}},C=()=>{setTimeout(()=>{f(!1),j(E,{replace:!0})},500)};return t.jsxs("div",{className:"relative min-h-[100dvh] w-full flex items-center justify-center overflow-hidden bg-gray-50/50 pt-safe pb-safe",children:[t.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden -z-10",children:[t.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] rounded-full bg-blue-400/20 blur-[120px] animate-pulse"}),t.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-indigo-400/20 blur-[120px] animate-pulse",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-[40%] left-[40%] w-[30%] h-[30%] rounded-full bg-sky-200/30 blur-[100px] animate-pulse",style:{animationDelay:"4s"}})]}),t.jsxs("div",{className:"w-full max-w-md px-4 sm:px-6",children:[t.jsx(Nr.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.16,1,.3,1]},className:"relative",children:t.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white/70 backdrop-blur-2xl shadow-[0_8px_40px_-12px_rgba(0,0,0,0.1)] border border-white/40 ring-1 ring-white/50",children:[t.jsxs("div",{className:"pt-8 pb-6 px-6 sm:pt-10 sm:pb-8 sm:px-8 text-center",children:[t.jsx(Nr.div,{initial:{transform:"translateY(10px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{delay:.2,duration:.5},className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:t.jsx(ca,{className:"h-8 w-8 text-white"})})}),t.jsxs(Nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[t.jsxs("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 mb-2 font-display",children:["Welcome to ",w.brandName]}),t.jsx("p",{className:"text-gray-500 text-base",children:"Sign in to manage your property"})]})]}),t.jsx("div",{className:"px-6 pb-8 sm:px-8 sm:pb-10",children:t.jsxs("form",{onSubmit:T,className:"space-y-5",children:[t.jsx(Rw,{mode:"wait",children:p&&t.jsx(Nr.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:16},exit:{opacity:0,height:0,marginBottom:0},className:"overflow-hidden",children:t.jsxs("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-100 text-red-600 text-sm py-2.5 px-3 rounded-xl flex items-center gap-2",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-red-500"}),p]})})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"email",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Email Address"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Hd,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ve,{id:"email",type:"email",value:e,onChange:A=>s(A.target.value),required:!0,className:"pl-11 h-12 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-base shadow-sm",placeholder:"name@company.com",disabled:c})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between ml-1",children:[t.jsx(ee,{htmlFor:"password",className:"text-xs font-semibold uppercase tracking-wider text-gray-400",children:"Password"}),t.jsx(fi,{to:"/forgot-password",className:"text-xs font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Forgot password?"})]}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Wb,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ve,{id:"password",type:"password",value:n,onChange:A=>a(A.target.value),required:!0,className:"pl-11 h-12 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-base shadow-sm",placeholder:"",disabled:c})]})]})]}),t.jsxs("div",{className:"pt-2 space-y-5",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"remember-me",type:"checkbox",checked:r,onChange:A=>l(A.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500/20 transition-all cursor-pointer"}),t.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-600 cursor-pointer select-none",children:"Keep me signed in"})]}),t.jsx(se,{type:"submit",className:"w-full h-12 bg-gray-900 hover:bg-gray-800 text-white rounded-xl text-base font-medium shadow-lg shadow-gray-900/20 active:scale-[0.98] transition-all duration-200",disabled:c||m,style:{background:w.primaryColor?`linear-gradient(135deg, ${w.primaryColor}, ${Gq(w.primaryColor)})`:void 0},children:c||m?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(Tn,{className:"h-5 w-5 animate-spin text-white/80"}),t.jsx("span",{children:"Signing In..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2 group",children:[t.jsx("span",{children:"Sign In"}),t.jsx(Ip,{className:"h-4 w-4 opacity-70 group-hover:translate-x-1 transition-transform"})]})})]}),t.jsx("div",{className:"pt-2 text-center",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",t.jsx(fi,{to:"/signup",className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:"Create Admin Account"})]})})]})}),t.jsx("div",{className:"h-1.5 w-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 opacity-80"})]})}),t.jsxs(Nr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.8},className:"text-center mt-8 text-xs text-gray-400 font-medium",children:[" 2025 ",w.brandName,". Secure Login."]})]}),t.jsx(hV,{isOpen:m,onComplete:C})]})}function Gq(e,s){return e}function Yq(){const e=kr(),{signup:s}=$s(),{theme:n}=_a(),{toast:a}=da(),[r,l]=x.useState({displayName:"",email:"",password:"",organizationName:"",subdomainPrefix:""}),[c,u]=x.useState(!1),[m,f]=x.useState(""),p=async N=>{N.preventDefault(),u(!0),f("");try{if(!/^[a-z0-9-]+$/.test(r.subdomainPrefix))throw new Error("Subdomain can only contain lowercase letters, numbers, and hyphens");await s(r),e("/login",{replace:!0}),a({title:"Account created",description:"Please log in with your new credentials."})}catch(j){console.error("Signup error:",j);let S="Signup failed. Please try again.";j.message&&(j.message.includes("subdomain")?S="This subdomain is already taken. Please choose a different one.":j.message.includes("email")?S="This email address is already in use.":j.message.includes("password")?S="Password must be at least 8 characters long.":S=j.message),f(S),a({variant:"destructive",title:"Signup failed",description:S})}finally{u(!1)}},g=(N,j)=>{l(S=>({...S,[N]:j})),m&&f("")},v=N=>N.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),w=N=>{l(j=>({...j,organizationName:N,subdomainPrefix:j.subdomainPrefix===v(j.organizationName)||!j.subdomainPrefix?v(N):j.subdomainPrefix})),m&&f("")};return t.jsxs("div",{className:"relative min-h-[100dvh] w-full flex items-center justify-center overflow-hidden bg-gray-50/50 py-safe px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden -z-10",children:[t.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] rounded-full bg-blue-400/20 blur-[120px] animate-pulse"}),t.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-indigo-400/20 blur-[120px] animate-pulse",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-[40%] left-[40%] w-[30%] h-[30%] rounded-full bg-sky-200/30 blur-[100px] animate-pulse",style:{animationDelay:"4s"}})]}),t.jsxs("div",{className:"w-full max-w-lg",children:[t.jsx(Nr.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.16,1,.3,1]},className:"relative",children:t.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white/70 backdrop-blur-2xl shadow-[0_8px_40px_-12px_rgba(0,0,0,0.1)] border border-white/40 ring-1 ring-white/50",children:[t.jsxs("div",{className:"pt-8 pb-6 px-6 sm:pt-10 sm:px-8 text-center",children:[t.jsx(Nr.div,{initial:{transform:"translateY(10px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{delay:.2,duration:.5},className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-tr from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:t.jsx(ca,{className:"h-7 w-7 text-white"})})}),t.jsxs(Nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight text-gray-900 mb-2 font-display",children:"Create Admin Account"}),t.jsxs("p",{className:"text-gray-500 text-sm",children:["Set up your ",n.brandName]})]})]}),t.jsx("div",{className:"px-6 pb-8 sm:px-8 sm:pb-10",children:t.jsxs("form",{onSubmit:p,className:"space-y-5",children:[t.jsx(Rw,{mode:"wait",children:m&&t.jsx(Nr.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:16},exit:{opacity:0,height:0,marginBottom:0},className:"overflow-hidden",children:t.jsxs("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-100 text-red-600 text-sm py-2.5 px-3 rounded-xl flex items-center gap-2",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-red-500"}),m]})})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"displayName",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Full Name"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Ya,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ve,{id:"displayName",type:"text",value:r.displayName,onChange:N=>g("displayName",N.target.value),required:!0,placeholder:"John Doe",disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-sm shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"email",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Email Address"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Hd,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ve,{id:"email",type:"email",value:r.email,onChange:N=>g("email",N.target.value),required:!0,placeholder:"name@company.com",disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-sm shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"organizationName",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Organization Name"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(ca,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ve,{id:"organizationName",type:"text",value:r.organizationName,onChange:N=>w(N.target.value),required:!0,placeholder:"My Hotel Group",disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-sm shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"subdomainPrefix",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Subdomain"}),t.jsxs("div",{className:"flex relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Ql,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ve,{id:"subdomainPrefix",type:"text",value:r.subdomainPrefix,onChange:N=>g("subdomainPrefix",N.target.value),required:!0,placeholder:"mycompany",disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-l-xl rounded-r-none transition-all duration-300 text-sm shadow-sm"}),t.jsx("div",{className:"flex items-center px-4 bg-gray-100/50 border border-l-0 border-gray-200/60 rounded-r-xl text-gray-500 text-sm font-medium backdrop-blur-sm",children:".hospitality.com"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 ml-1",children:"Only lowercase letters, numbers, and hyphens"})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(ee,{htmlFor:"password",className:"text-xs font-semibold uppercase tracking-wider text-gray-400 ml-1",children:"Password"}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:t.jsx(Wb,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"})}),t.jsx(ve,{id:"password",type:"password",value:r.password,onChange:N=>g("password",N.target.value),required:!0,placeholder:"Min 8 characters",minLength:8,disabled:c,className:"pl-11 h-11 bg-gray-50/50 border-gray-200/60 focus:bg-white focus:border-blue-500/50 focus:ring-4 focus:ring-blue-500/10 rounded-xl transition-all duration-300 text-sm shadow-sm"})]})]})]}),t.jsx("div",{className:"pt-2",children:t.jsx(se,{type:"submit",className:"w-full h-12 bg-gray-900 hover:bg-gray-800 text-white rounded-xl text-base font-medium shadow-lg shadow-gray-900/20 active:scale-[0.98] transition-all duration-200",disabled:c,style:{background:n.primaryColor?`linear-gradient(135deg, ${n.primaryColor}, #2563eb)`:void 0},children:c?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(Tn,{className:"h-5 w-5 animate-spin text-white/80"}),t.jsx("span",{children:"Creating account..."})]}):t.jsxs("div",{className:"flex items-center justify-center gap-2 group",children:[t.jsx("span",{children:"Create Account"}),t.jsx(Ip,{className:"h-4 w-4 opacity-70 group-hover:translate-x-1 transition-transform"})]})})}),t.jsx("div",{className:"pt-2 text-center",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",t.jsx(fi,{to:"/login",className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:"Sign in directly"})]})})]})}),t.jsx("div",{className:"h-1.5 w-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 opacity-80"})]})}),t.jsxs(Nr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.8},className:"text-center mt-8 text-xs text-gray-400 font-medium",children:[" 2025 ",n.brandName,". Secure Registration."]})]})]})}function Te({className:e,...s}){return t.jsx("div",{"data-slot":"card",className:Xe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function Qe({className:e,...s}){return t.jsx("div",{"data-slot":"card-header",className:Xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function Je({className:e,...s}){return t.jsx("div",{"data-slot":"card-title",className:Xe("leading-none font-semibold",e),...s})}function Dt({className:e,...s}){return t.jsx("div",{"data-slot":"card-description",className:Xe("text-muted-foreground text-sm",e),...s})}function Ee({className:e,...s}){return t.jsx("div",{"data-slot":"card-content",className:Xe("px-6",e),...s})}const Wq=hg("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function rl({className:e,variant:s,...n}){return t.jsx("div",{"data-slot":"alert",role:"alert",className:Xe(Wq({variant:s}),e),...n})}function il({className:e,...s}){return t.jsx("div",{"data-slot":"alert-description",className:Xe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...s})}function Kq(){const[e,s]=x.useState(""),[n,a]=x.useState(!1),[r,l]=x.useState(!1),[c,u]=x.useState(""),{theme:m}=_a(),{toast:f}=da(),p=async g=>{g.preventDefault(),a(!0),u("");try{await kd.auth.forgotPassword({email:e}),l(!0),f({title:"Reset link sent",description:"If an account with that email exists, a password reset link has been sent."})}catch(v){console.error("Forgot password error:",v),u(v.message||"Failed to send reset link. Please try again."),f({variant:"destructive",title:"Failed to send reset link",description:v.message||"Please try again."})}finally{a(!1)}};return r?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(ca,{className:"h-12 w-12",style:{color:m.primaryColor}})}),t.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Check your email"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent a password reset link to your email address"})]}),t.jsx(Te,{children:t.jsx(Ee,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["If an account with ",t.jsx("strong",{children:e})," exists, you'll receive a password reset link shortly."]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Didn't receive an email? Check your spam folder or try again with a different email address."}),t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx(se,{variant:"outline",onClick:()=>{l(!1),s("")},children:"Try different email"}),t.jsx(fi,{to:"/login",children:t.jsxs(se,{variant:"ghost",className:"w-full",children:[t.jsx(Pp,{className:"mr-2 h-4 w-4"}),"Back to login"]})})]})]})})})]})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(ca,{className:"h-12 w-12",style:{color:m.primaryColor}})}),t.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Reset your password"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password"})]}),t.jsxs(Te,{children:[t.jsxs(Qe,{children:[t.jsx(Je,{children:"Forgot Password"}),t.jsx(Dt,{children:"We'll send you a secure link to reset your password"})]}),t.jsxs(Ee,{children:[t.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c&&t.jsx(rl,{variant:"destructive",children:t.jsx(il,{children:c})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"email",children:"Email address"}),t.jsx(ve,{id:"email",type:"email",value:e,onChange:g=>s(g.target.value),required:!0,placeholder:"Enter your email address",disabled:n})]}),t.jsx(se,{type:"submit",className:"w-full",disabled:n,style:{backgroundColor:m.primaryColor},children:n?t.jsxs(t.Fragment,{children:[t.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending reset link..."]}):"Send reset link"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(fi,{to:"/login",className:"text-sm text-gray-600 hover:text-gray-500",children:[t.jsx(Pp,{className:"inline mr-1 h-3 w-3"}),"Back to login"]})})]})]})]})})}function Qq(){const[e,s]=x.useState(""),[n,a]=x.useState(""),[r,l]=x.useState(!1),[c,u]=x.useState(!1),[m,f]=x.useState(""),[p]=Y5(),g=p.get("token"),{theme:v}=_a(),{toast:w}=da(),N=kr();x.useEffect(()=>{g||N("/login")},[g,N]);const j=async S=>{if(S.preventDefault(),l(!0),f(""),e!==n){f("Passwords do not match"),l(!1);return}if(e.length<8){f("Password must be at least 8 characters long"),l(!1);return}try{await kd.auth.resetPassword({token:g,newPassword:e}),u(!0),w({title:"Password reset successful",description:"Your password has been reset. You can now log in with your new password."})}catch(E){console.error("Reset password error:",E),f(E.message||"Failed to reset password. The link may be expired or invalid."),w({variant:"destructive",title:"Password reset failed",description:E.message||"The reset link may be expired or invalid."})}finally{l(!1)}};return c?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(Ca,{className:"h-12 w-12 text-green-500"})}),t.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Password reset successful"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Your password has been successfully reset"})]}),t.jsx(Te,{children:t.jsx(Ee,{className:"pt-6",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"You can now log in with your new password."}),t.jsx(se,{onClick:()=>N("/login"),className:"w-full",style:{backgroundColor:v.primaryColor},children:"Continue to login"})]})})})]})}):g?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(ca,{className:"h-12 w-12",style:{color:v.primaryColor}})}),t.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Set new password"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your new password below"})]}),t.jsxs(Te,{children:[t.jsxs(Qe,{children:[t.jsx(Je,{children:"Reset Password"}),t.jsx(Dt,{children:"Choose a strong password for your account"})]}),t.jsxs(Ee,{children:[t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m&&t.jsx(rl,{variant:"destructive",children:t.jsx(il,{children:m})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"password",children:"New Password"}),t.jsx(ve,{id:"password",type:"password",value:e,onChange:S=>s(S.target.value),required:!0,placeholder:"Enter your new password",disabled:r,minLength:8}),t.jsx("p",{className:"text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"confirmPassword",children:"Confirm New Password"}),t.jsx(ve,{id:"confirmPassword",type:"password",value:n,onChange:S=>a(S.target.value),required:!0,placeholder:"Confirm your new password",disabled:r,minLength:8})]}),t.jsx(se,{type:"submit",className:"w-full",disabled:r,style:{backgroundColor:v.primaryColor},children:r?t.jsxs(t.Fragment,{children:[t.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting password..."]}):"Reset password"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(fi,{to:"/login",className:"text-sm text-gray-600 hover:text-gray-500",children:[t.jsx(Pp,{className:"inline mr-1 h-3 w-3"}),"Back to login"]})})]})]})]})}):null}const Jq=hg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Lt({className:e,variant:s,asChild:n=!1,...a}){const r=n?vE:"span";return t.jsx(r,{"data-slot":"badge",className:Xe(Jq({variant:s}),e),...a})}const Xq={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};function qw({size:e="md",className:s,text:n}){return t.jsxs("div",{className:Xe("flex flex-col items-center justify-center space-y-2",s),children:[t.jsx(Tn,{className:Xe("animate-spin text-primary",Xq[e])}),n&&t.jsx("p",{className:"text-sm text-muted-foreground text-center",children:n})]})}function Zq({text:e="Loading..."}){return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(qw,{size:"lg",text:e})})}function e7({text:e="Loading..."}){return t.jsx("div",{className:"p-8 flex items-center justify-center",children:t.jsx(qw,{size:"md",text:e})})}function MP({icon:e,title:s="No data available",description:n="There are no items to display at the moment.",action:a,className:r}){return t.jsxs("div",{className:Xe("text-center py-12",r),children:[e&&t.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-gray-100",children:e}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s}),t.jsx("p",{className:"text-gray-500 mb-4",children:n}),a&&t.jsx("div",{className:"flex justify-center",children:a})]})}function t7({icon:e,title:s,description:n,action:a,className:r}){return t.jsx("div",{className:Xe("rounded-lg border border-dashed border-gray-300 p-8",r),children:t.jsx(MP,{icon:e,title:s,description:n,action:a})})}function s7(){const{toast:e}=da(),s=x.useCallback((r,l)=>{console.error(`API Error${l?` in ${l}`:""}:`,r);let c="An unexpected error occurred. Please try again.",u="Error";if(r!=null&&r.message)c=r.message;else if(r!=null&&r.status)switch(r.status){case 400:u="Bad Request",c="The request was invalid. Please check your input and try again.";break;case 401:u="Unauthorized",c="You are not authorized to perform this action. Please log in again.";break;case 403:u="Forbidden",c="You do not have permission to perform this action.";break;case 404:u="Not Found",c="The requested resource was not found.";break;case 409:u="Conflict",c="This resource already exists or conflicts with existing data.";break;case 422:u="Validation Error",c="Please check your input and try again.";break;case 429:u="Too Many Requests",c="You have made too many requests. Please wait a moment and try again.";break;case 500:u="Server Error",c="An internal server error occurred. Please try again later.";break;case 503:u="Service Unavailable",c="The service is temporarily unavailable. Please try again later.";break;default:u="Error",c="An unexpected error occurred. Please try again."}else if(r!=null&&r.code)switch(r.code){case"NETWORK_ERROR":u="Network Error",c="Unable to connect to the server. Please check your internet connection.";break;case"TIMEOUT":u="Request Timeout",c="The request took too long to complete. Please try again.";break;default:u="Error",c=r.message||"An unexpected error occurred. Please try again."}return e({variant:"destructive",title:u,description:c}),{title:u,message:c,status:r==null?void 0:r.status,code:r==null?void 0:r.code}},[e]),n=x.useCallback(r=>s({code:"NETWORK_ERROR",message:"Unable to connect to the server"},r),[s]),a=x.useCallback((r,l)=>{const c=Object.values(r).flat().join(", ");return e({variant:"destructive",title:"Validation Error",description:c||"Please check your input and try again."}),{title:"Validation Error",message:c,errors:r}},[e]);return{handleError:s,handleNetworkError:n,handleValidationError:a}}class Yl extends Error{constructor(n,a,r,l,c){super(n);Ve(this,"status");Ve(this,"statusText");Ve(this,"response");Ve(this,"data");this.name="ApiError",this.status=a,this.statusText=r,this.response=l,this.data=c}}class a7{constructor(s=xt.BASE_URL,n=xt.TIMEOUT,a=xt.RETRY_ATTEMPTS,r=xt.RETRY_DELAY){Ve(this,"baseUrl");Ve(this,"defaultTimeout");Ve(this,"defaultRetryAttempts");Ve(this,"defaultRetryDelay");this.baseUrl=s,this.defaultTimeout=n,this.defaultRetryAttempts=a,this.defaultRetryDelay=r}async request(s,n={}){const{method:a="GET",headers:r={},body:l,timeout:c=this.defaultTimeout,retryAttempts:u=this.defaultRetryAttempts,retryDelay:m=this.defaultRetryDelay}=n,f=`${this.baseUrl}${s}`,p={"Content-Type":"application/json",...r},g=localStorage.getItem("accessToken");g&&(p.Authorization=`Bearer ${g}`);const v={method:a,headers:p};l&&a!=="GET"&&(l instanceof FormData?(delete p["Content-Type"],v.body=l):v.body=JSON.stringify(l));let w=null;for(let N=0;N<=u;N++)try{const j=await this.makeRequest(f,v,c);if(!j.ok){const E=await this.parseErrorResponse(j);throw new Yl(this.getErrorMessage(j.status,E),j.status,j.statusText,j,E)}return{data:await this.parseResponse(j),status:j.status,statusText:j.statusText,headers:j.headers}}catch(j){if(w=j,this.shouldNotRetry(j,N)||N===u)throw j;m>0&&await this.delay(m*Math.pow(2,N))}throw w||new Error("Request failed after all retry attempts")}async makeRequest(s,n,a){const r=new AbortController,l=setTimeout(()=>r.abort(),a);try{const c=await fetch(s,{...n,signal:r.signal});return clearTimeout(l),c}catch(c){throw clearTimeout(l),c instanceof Error&&c.name==="AbortError"?new Yl(ld.NETWORK_ERROR,408,"Request Timeout",void 0,{timeout:a}):c}}async parseResponse(s){const n=s.headers.get("content-type");return n!=null&&n.includes("application/json")?await s.json():n!=null&&n.includes("text/")?await s.text():n!=null&&n.includes("application/octet-stream")||n!=null&&n.includes("application/pdf")||n!=null&&n.includes("image/")?await s.blob():await s.text()}async parseErrorResponse(s){try{const n=s.headers.get("content-type");return n!=null&&n.includes("application/json")?await s.json():await s.text()}catch{return null}}getErrorMessage(s,n){if(n!=null&&n.message)return n.message;if(n!=null&&n.error)return n.error;switch(s){case 400:return"Bad request. Please check your input and try again.";case 401:return ld.UNAUTHORIZED;case 403:return"Access forbidden. You do not have permission to perform this action.";case 404:return"Resource not found.";case 408:return ld.NETWORK_ERROR;case 422:return"Validation error. Please check your input.";case 429:return"Too many requests. Please try again later.";case 500:case 502:case 503:case 504:return ld.SERVER_ERROR;default:return ld.NETWORK_ERROR}}shouldNotRetry(s,n){return n===0?!1:s instanceof Yl&&s.status>=400&&s.status<500&&s.status!==408&&s.status!==429?!0:(s.message.includes("Failed to fetch")||s.message.includes("NetworkError"),!1)}delay(s){return new Promise(n=>setTimeout(n,s))}async get(s,n={}){return this.request(s,{...n,method:"GET"})}async post(s,n,a={}){return this.request(s,{...a,method:"POST",body:n})}async put(s,n,a={}){return this.request(s,{...a,method:"PUT",body:n})}async patch(s,n,a={}){return this.request(s,{...a,method:"PATCH",body:n})}async delete(s,n={}){return this.request(s,{...n,method:"DELETE"})}async uploadFile(s,n,a,r={}){const l=new FormData;l.append("file",n);const c=`${this.baseUrl}${s}`,u=localStorage.getItem("accessToken"),m={method:"POST",body:l,headers:{...u&&{Authorization:`Bearer ${u}`},...r.headers}};try{const f=await this.makeRequest(c,m,r.timeout||this.defaultTimeout);if(!f.ok){const g=await this.parseErrorResponse(f);throw new Yl(this.getErrorMessage(f.status,g),f.status,f.statusText,f,g)}return{data:await this.parseResponse(f),status:f.status,statusText:f.statusText,headers:f.headers}}catch(f){throw f instanceof Yl?f:new Yl(ld.UPLOAD_FAILED,0,"Upload Failed",void 0,{originalError:f})}}}const mn=new a7;mn.request.bind(mn);mn.get.bind(mn);mn.post.bind(mn);mn.put.bind(mn);mn.patch.bind(mn);mn.delete.bind(mn);mn.uploadFile.bind(mn);const Ke={PROPERTIES:["properties"],TASKS:["tasks"],EXPENSES:["expenses"],REVENUES:["revenues"],STAFF:["staff"],PENDING_APPROVALS:["pending-approvals"],DAILY_APPROVAL_CHECK:["daily-approval-check"],ANALYTICS:["analytics"],DASHBOARD:["dashboard"],LEAVE_REQUESTS:["leave-requests"],PROFIT_LOSS:["profit-loss"],USERS:["users"],ORGANIZATIONS:["organizations"],ORGS:["orgs"],BRANDING:["branding"],REPORTS:["reports"]},f2={RETRY_DELAY:e=>Math.min(1e3*2**e,3e4),RETRY_CONDITION:(e,s)=>s instanceof Yl&&s.status>=400&&s.status<500&&s.status!==408&&s.status!==429?!1:e<3};function Fr(e,s,n={}){const{enabled:a=!0,refetchInterval:r,staleTime:l,gcTime:c,refetchOnWindowFocus:u=!1,refetchOnMount:m=!1,retry:f=f2.RETRY_CONDITION,retryDelay:p=f2.RETRY_DELAY,...g}=n;return Xt({queryKey:e,queryFn:async()=>(await mn.request(s,g)).data,enabled:a,refetchInterval:r,staleTime:l,gcTime:c,refetchOnWindowFocus:u,refetchOnMount:m,retry:f,retryDelay:p})}function Dd(e,s="POST",n={}){const{toast:a}=da(),r=za(),{onSuccess:l,onError:c,invalidateQueries:u=[],refetchQueries:m=[],showToast:f=!0,successMessage:p,errorMessage:g}=n;return vs({mutationFn:async v=>{let w=e;if(v&&typeof v=="object"&&"id"in v){w=e.replace(":id",v.id);const{id:j,...S}=v;v=S}return(await mn.request(w,{method:s,body:v,...n})).data},onSuccess:(v,w,N)=>{u.forEach(j=>{r.invalidateQueries({queryKey:j})}),m.forEach(j=>{r.refetchQueries({queryKey:j})}),f&&p&&a({title:"Success",description:p}),l==null||l(v,w,N)},onError:v=>{f&&a({variant:"destructive",title:"Error",description:g||v.message||"An error occurred"}),c==null||c(v)}})}const Sd={PROPERTIES:"/v1/properties",EXPENSES:"/v1/finance/expenses",REVENUES:"/v1/finance/revenues",PENDING_APPROVALS:"/v1/finance/pending-approvals",LEAVE_REQUESTS:"/v1/staff/leave-requests"},Bi={STATIC_DATA:{staleTime:6e5,gcTime:36e5,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1},REAL_TIME_DATA:{staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1},REALTIME_CONNECTED:{staleTime:1/0,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1},SLOW_CHANGING_DATA:{staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchInterval:!1}},dn={properties:Bi.STATIC_DATA,users:Bi.SLOW_CHANGING_DATA,revenues:Bi.REAL_TIME_DATA,expenses:Bi.REAL_TIME_DATA,tasks:Bi.REAL_TIME_DATA,analytics:Bi.SLOW_CHANGING_DATA,"leave-requests":Bi.SLOW_CHANGING_DATA,"pending-approvals":Bi.SLOW_CHANGING_DATA,"realtime-connected":Bi.REALTIME_CONNECTED};function Os(e,s){try{const n=localStorage.getItem(e);if(n==null)return s;const a=n.trim().toLowerCase();return a==="1"||a==="true"||a==="yes"||a==="on"?!0:a==="0"||a==="false"||a==="no"||a==="off"?!1:s}catch{return s}}function _P(e,s){try{const n=localStorage.getItem(e);if(n==null)return s;const a=Number(n);return Number.isFinite(a)?a:s}catch{return s}}function n7(){try{const e=localStorage.getItem("accessToken")||"";return e?btoa(unescape(encodeURIComponent(e))).replace(/=+$/,"").slice(0,16):null}catch{return null}}function $w(e){const s=kn(),[n,a]=x.useState(()=>e.some(r=>s.pathname===r||s.pathname.startsWith(r+"/")));return x.useEffect(()=>{const r=e.some(l=>s.pathname===l||s.pathname.startsWith(l+"/"));a(r)},[s.pathname,e]),n}function r7(){const{user:e}=$s(),s=$w(["/dashboard"]),{data:n,isLoading:a,error:r}=Fr(Ke.ANALYTICS,"/analytics/overview",{enabled:s&&(e==null?void 0:e.role)==="ADMIN",...dn.analytics}),{data:l,isLoading:c,error:u}=Fr(Ke.PROPERTIES,"/properties",{enabled:s,...dn.properties}),{data:m,isLoading:f,error:p}=Fr(Ke.TASKS,"/tasks",{enabled:s,...dn.tasks}),{data:g,isLoading:v,error:w}=Fr(Ke.USERS,"/users",{enabled:s&&(e==null?void 0:e.role)==="ADMIN",...dn.users}),{data:N,isLoading:j,error:S}=Fr(Ke.EXPENSES,Sd.EXPENSES,{enabled:s,...Os("REALTIME_PATCH_MODE",!0)?dn["realtime-connected"]:dn.expenses}),{data:E,isLoading:T,error:C}=Fr(Ke.REVENUES,Sd.REVENUES,{enabled:s,...Os("REALTIME_PATCH_MODE",!0)?dn["realtime-connected"]:dn.revenues}),{data:I,isLoading:D,error:A}=Fr(Ke.LEAVE_REQUESTS,Sd.LEAVE_REQUESTS,{enabled:s,...dn["leave-requests"]}),{data:R,isLoading:L,error:z}=Fr(Ke.PENDING_APPROVALS,Sd.PENDING_APPROVALS,{enabled:s&&(e==null?void 0:e.role)==="ADMIN",...(e==null?void 0:e.role)==="ADMIN"?{...dn["pending-approvals"],staleTime:6e5}:dn["pending-approvals"]}),Q=(m==null?void 0:m.tasks.filter(W=>W.priority==="high"&&W.status!=="done"))||[],K=(m==null?void 0:m.tasks.filter(W=>W.dueAt&&new Date(W.dueAt)<new Date&&W.status!=="done"))||[],J=(N==null?void 0:N.expenses.filter(W=>W.status==="pending"))||[],de=(E==null?void 0:E.revenues.filter(W=>W.status==="pending"))||[],H=(I==null?void 0:I.leaveRequests.filter(W=>W.status==="pending"))||[],ie=(g==null?void 0:g.users.filter(W=>W.role==="MANAGER"))||[],F=J.length+de.length+H.length,q=Q.length+K.length;return{analytics:n,analyticsLoading:a,analyticsError:r,properties:l,propertiesLoading:c,propertiesError:u,tasks:m,tasksLoading:f,tasksError:p,users:g,usersLoading:v,usersError:w,expenses:N,expensesLoading:j,expensesError:S,revenues:E,revenuesLoading:T,revenuesError:C,leaveRequests:I,leaveRequestsLoading:D,leaveRequestsError:A,pendingApprovals:R,pendingApprovalsLoading:L,pendingApprovalsError:z,urgentTasks:Q,overdueTasks:K,pendingExpenses:J,pendingRevenues:de,pendingLeaveRequests:H,managersCreated:ie,totalPendingApprovals:F,totalUrgentItems:q}}function hu(e){try{window.dispatchEvent(new CustomEvent("realtime:set-property",{detail:{propertyId:e}}))}catch{}}function wr(e,s,n=!0){x.useEffect(()=>{if(!n)return;const a=l=>{var u;const c=((u=l==null?void 0:l.detail)==null?void 0:u.events)||[];if(Array.isArray(c)&&c.length>0)try{s(c)}catch{}},r=`${e}-stream-events`;return window.addEventListener(r,a),()=>{window.removeEventListener(r,a)}},[e,s,n])}function i7(){const e=za(),s=$w(["/dashboard"]);x.useEffect(()=>{try{window.__dashboardSelectedPropertyId="all"}catch{}try{hu(null)}catch{}if(!Os("DASHBOARD_REALTIME_V1",!0))return;const a=r=>{};return window.addEventListener("dashboard-stream-health",a),()=>{window.removeEventListener("dashboard-stream-health",a)}},[e]),wr("dashboard",n=>{!Array.isArray(n)||n.length===0||setTimeout(()=>{e.invalidateQueries({queryKey:Ke.ANALYTICS}),e.invalidateQueries({queryKey:Ke.DASHBOARD})},250)},Os("DASHBOARD_REALTIME_V1",!0)),wr("finance",n=>{if(!Array.isArray(n)||n.length===0)return;let a=!1,r=!1,l=!1,c=!1;for(const m of n){const f=((m==null?void 0:m.eventType)||"").toString(),p=((m==null?void 0:m.entityType)||"").toString(),g=m==null?void 0:m.entityId,v=(m==null?void 0:m.metadata)||{};if(f==="revenue_added"){e.setQueryData(Ke.REVENUES,w=>{if(!(w!=null&&w.revenues)||w.revenues.some(S=>S.id===g))return w;const j={id:g,amountCents:(v==null?void 0:v.amountCents)??0,currency:(v==null?void 0:v.currency)??"INR",source:(v==null?void 0:v.source)??"unknown",description:(v==null?void 0:v.description)||"Revenue",propertyName:(v==null?void 0:v.propertyName)??"",status:(v==null?void 0:v.newStatus)??"pending",transactionDate:(v==null?void 0:v.transactionDate)??new Date().toISOString(),createdByName:(v==null?void 0:v.createdByName)??"Unknown User",createdByUserId:(v==null?void 0:v.createdByUserId)??(m==null?void 0:m.userId),createdAt:(m==null?void 0:m.timestamp)??new Date().toISOString()};return{...w,revenues:[j,...w.revenues]}}),l=!0;continue}if(f==="revenue_deleted"){e.setQueryData(Ke.REVENUES,w=>w!=null&&w.revenues?{...w,revenues:w.revenues.filter(N=>N.id!==g)}:w),l=!0;continue}if(f==="expense_added"){e.setQueryData(Ke.EXPENSES,w=>{if(!(w!=null&&w.expenses)||w.expenses.some(S=>S.id===g))return w;const j={id:g,amountCents:(v==null?void 0:v.amountCents)??0,currency:(v==null?void 0:v.currency)??"INR",category:(v==null?void 0:v.category)??"misc",description:(v==null?void 0:v.description)||"Expense",propertyName:(v==null?void 0:v.propertyName)??"",status:(v==null?void 0:v.newStatus)??"pending",transactionDate:(v==null?void 0:v.transactionDate)??new Date().toISOString(),createdByName:(v==null?void 0:v.createdByName)??"Unknown User",createdByUserId:(v==null?void 0:v.createdByUserId)??(m==null?void 0:m.userId),createdAt:(m==null?void 0:m.timestamp)??new Date().toISOString()};return{...w,expenses:[j,...w.expenses]}}),l=!0;continue}if(f==="expense_deleted"){e.setQueryData(Ke.EXPENSES,w=>w!=null&&w.expenses?{...w,expenses:w.expenses.filter(N=>N.id!==g)}:w),l=!0;continue}if((f==="revenue_updated"||f==="revenue_approved"||p==="revenue")&&g){e.setQueryData(Ke.REVENUES,w=>w!=null&&w.revenues?{...w,revenues:w.revenues.map(N=>N.id===g?{...N,amountCents:(v==null?void 0:v.amountCents)??N.amountCents,description:(v==null?void 0:v.description)??N.description,source:(v==null?void 0:v.source)??N.source,propertyName:(v==null?void 0:v.propertyName)??N.propertyName,...v!=null&&v.newStatus?{status:v.newStatus}:{}}:N)}:w);try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0},window.__realtimeClientStats.patchesApplied++}catch{}l=!0,(f.endsWith("_approved")||f.endsWith("_rejected"))&&(c=!0);continue}if((f==="expense_updated"||f==="expense_approved"||p==="expense")&&g){e.setQueryData(Ke.EXPENSES,w=>w!=null&&w.expenses?{...w,expenses:w.expenses.map(N=>N.id===g?{...N,amountCents:(v==null?void 0:v.amountCents)??N.amountCents,description:(v==null?void 0:v.description)??N.description,category:(v==null?void 0:v.category)??N.category,propertyName:(v==null?void 0:v.propertyName)??N.propertyName,...v!=null&&v.newStatus?{status:v.newStatus}:{}}:N)}:w);try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0},window.__realtimeClientStats.patchesApplied++}catch{}l=!0,(f.endsWith("_approved")||f.endsWith("_rejected"))&&(c=!0);continue}if(f==="daily_approval_granted"){c=!0,l=!0;const w=v==null?void 0:v.transactionIds,N=(v==null?void 0:v.newStatus)||"approved";console.log("[Dashboard] daily_approval_granted received",{transactionIds:w,newStatus:N,userId:m==null?void 0:m.userId,meta:v}),w&&w.length>0?(e.setQueryData(Ke.REVENUES,j=>j!=null&&j.revenues?{...j,revenues:j.revenues.map(S=>w.includes(S.id)?{...S,status:N,approvedByUserId:m==null?void 0:m.userId,approvedAt:(m==null?void 0:m.timestamp)||new Date().toISOString()}:S)}:j),e.setQueryData(Ke.EXPENSES,j=>j!=null&&j.expenses?{...j,expenses:j.expenses.map(S=>w.includes(S.id)?{...S,status:N,approvedByUserId:m==null?void 0:m.userId,approvedAt:(m==null?void 0:m.timestamp)||new Date().toISOString()}:S)}:j)):(console.log("[Dashboard] daily_approval_granted without transactionIds - forcing invalidation"),e.invalidateQueries({queryKey:Ke.REVENUES}),e.invalidateQueries({queryKey:Ke.EXPENSES}));continue}}setTimeout(()=>{s&&l&&(e.invalidateQueries({queryKey:Ke.PROFIT_LOSS}),c&&e.invalidateQueries({queryKey:Ke.DAILY_APPROVAL_CHECK}))},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("tasks",n=>{if(!Array.isArray(n)||n.length===0)return;let a=!1,r=!1;for(const l of n){const c=String((l==null?void 0:l.eventType)||""),u=l==null?void 0:l.entityId,m=(l==null?void 0:l.metadata)||{};if(u){if(c==="task_status_updated"){e.setQueryData(Ke.TASKS,f=>f!=null&&f.tasks?{...f,tasks:f.tasks.map(p=>p.id===u?{...p,status:(m==null?void 0:m.newStatus)??(m==null?void 0:m.status)??p.status}:p)}:f),r=!0;continue}if(c==="task_updated"){e.setQueryData(Ke.TASKS,f=>f!=null&&f.tasks?{...f,tasks:f.tasks.map(p=>p.id===u?{...p,title:(m==null?void 0:m.title)??p.title,description:(m==null?void 0:m.description)??p.description,dueAt:(m==null?void 0:m.dueAt)??p.dueAt,priority:(m==null?void 0:m.priority)??p.priority}:p)}:f),r=!0;continue}(c==="task_created"||c==="task_deleted")&&(a=!0)}}setTimeout(()=>{a&&e.invalidateQueries({queryKey:Ke.TASKS}),r&&e.invalidateQueries({queryKey:Ke.ANALYTICS})},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("users",n=>{if(!Array.isArray(n)||n.length===0)return;let a=!1;for(const r of n){const l=String((r==null?void 0:r.eventType)||""),c=r==null?void 0:r.entityId,u=(r==null?void 0:r.metadata)||{};l==="user_updated"&&c?e.setQueryData(Ke.USERS,m=>m!=null&&m.users?{...m,users:m.users.map(f=>f.id===c?{...f,displayName:(u==null?void 0:u.displayName)??f.displayName,email:(u==null?void 0:u.email)??f.email,role:(u==null?void 0:u.role)??f.role}:f)}:m):(l==="user_created"||l==="user_deleted")&&(a=!0)}a&&setTimeout(()=>{e.invalidateQueries({queryKey:Ke.USERS})},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("properties",n=>{if(!Array.isArray(n)||n.length===0)return;let a=!1;for(const r of n){const l=String((r==null?void 0:r.eventType)||""),c=r==null?void 0:r.entityId,u=(r==null?void 0:r.metadata)||{};l==="property_updated"&&c?e.setQueryData(Ke.PROPERTIES,m=>m!=null&&m.properties?{...m,properties:m.properties.map(f=>f.id===c?{...f,name:(u==null?void 0:u.name)??f.name,status:(u==null?void 0:u.status)??f.status,regionId:(u==null?void 0:u.regionId)??f.regionId}:f)}:m):(l==="property_created"||l==="property_deleted")&&(a=!0)}a&&setTimeout(()=>{e.invalidateQueries({queryKey:Ke.PROPERTIES})},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("staff",n=>{if(!Array.isArray(n)||n.length===0)return;n.some(r=>String((r==null?void 0:r.eventType)||"").includes("leave_")||String((r==null?void 0:r.entityType)||"")==="leave_request")&&setTimeout(()=>{e.invalidateQueries({queryKey:Ke.LEAVE_REQUESTS})},200)},Os("DASHBOARD_REALTIME_V1",!0)),wr("analytics",n=>{!Array.isArray(n)||n.length===0||setTimeout(()=>{e.invalidateQueries({queryKey:[Ke.ANALYTICS]})},200)},Os("DASHBOARD_REALTIME_V1",!0))}function o7({stats:e,onAction:s}){return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx(wh,{className:"h-5 w-5 text-red-500"}),"Works to be Done"]}),t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory px-4 -mx-4 pb-4 no-scrollbar sm:grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:overflow-visible sm:px-0 sm:mx-0 sm:pb-0",children:[t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 border-red-200 bg-red-50 cursor-pointer active:scale-[0.98] transition-all duration-200 shadow-sm sm:hover:shadow-lg sm:hover:scale-105",onClick:()=>s("approvals"),children:[t.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 p-4 pb-2 sm:p-6 sm:pb-2",children:[t.jsx(Je,{className:"text-sm font-medium text-red-900",children:"Pending Approvals"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Gb,{className:"h-4 w-4 text-red-600"}),e.pendingApprovals>0&&t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})]}),t.jsxs(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:[t.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-900",children:e.pendingApprovals}),t.jsx("p",{className:"text-xs text-red-700",children:e.pendingApprovals>0?"Click to review":"Require attention"})]})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 border-orange-200 bg-orange-50 cursor-pointer active:scale-[0.98] transition-all duration-200 shadow-sm sm:hover:shadow-lg sm:hover:scale-105",onClick:()=>s("urgent"),children:[t.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 p-4 pb-2 sm:p-6 sm:pb-2",children:[t.jsx(Je,{className:"text-sm font-medium text-orange-900",children:"Urgent Tasks"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(oL,{className:"h-4 w-4 text-orange-600"}),e.urgentItems>0&&t.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"})]})]}),t.jsxs(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:[t.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-900",children:e.urgentItems}),t.jsx("p",{className:"text-xs text-orange-700",children:e.urgentItems>0?`${e.urgentTasksCount} high priority`:"No urgent tasks"})]})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 border-amber-200 bg-amber-50 cursor-pointer active:scale-[0.98] transition-all duration-200 shadow-sm sm:hover:shadow-lg sm:hover:scale-105",onClick:()=>s("financial"),children:[t.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 p-4 pb-2 sm:p-6 sm:pb-2",children:[t.jsx(Je,{className:"text-sm font-medium text-amber-900",children:"Financial Pending"}),t.jsx(Lr,{className:"h-4 w-4 text-amber-600"})]}),t.jsxs(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:[t.jsx("div",{className:"text-xl sm:text-2xl font-bold text-amber-900",children:e.financialPending}),t.jsx("p",{className:"text-xs text-amber-700",children:"Awaiting processing"})]})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 border-purple-200 bg-purple-50 cursor-pointer active:scale-[0.98] transition-all duration-200 shadow-sm sm:hover:shadow-lg sm:hover:scale-105",onClick:()=>s("leave"),children:[t.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 p-4 pb-2 sm:p-6 sm:pb-2",children:[t.jsx(Je,{className:"text-sm font-medium text-purple-900",children:"Leave Requests"}),t.jsx(SL,{className:"h-4 w-4 text-purple-600"})]}),t.jsxs(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:[t.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-900",children:e.pendingLeave}),t.jsx("p",{className:"text-xs text-purple-700",children:e.pendingLeave>0?"Awaiting approval":"All clear"})]})]})]})]})}function l7({analytics:e}){const{theme:s}=_a(),n=a=>`${a.toFixed(2)}`;return e?t.jsxs(Te,{children:[t.jsxs(Qe,{children:[t.jsx(Je,{children:"Performance Overview"}),t.jsx(Dt,{children:"Key performance indicators for the last 30 days"})]}),t.jsx(Ee,{className:"p-4 md:p-6",children:t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory px-4 -mx-4 pb-4 no-scrollbar sm:grid sm:grid-cols-4 gap-4 sm:overflow-visible sm:px-0 sm:mx-0 sm:pb-0",children:[t.jsxs("div",{className:"snap-start flex-1 min-w-[30%] text-center p-2 flex flex-col items-center justify-center gap-1",children:[t.jsx(Lr,{className:"h-5 w-5 text-gray-400 mb-1"}),t.jsx("div",{className:"text-xl sm:text-2xl font-bold",style:{color:s.primaryColor},children:n(e.metrics.adr)}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Average Daily Rate"})]}),t.jsxs("div",{className:"snap-start flex-1 min-w-[30%] text-center p-2 flex flex-col items-center justify-center gap-1",children:[t.jsx(Nn,{className:"h-5 w-5 text-gray-400 mb-1"}),t.jsx("div",{className:"text-xl sm:text-2xl font-bold",style:{color:s.primaryColor},children:n(e.metrics.revpar)}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"RevPAR"})]}),t.jsxs("div",{className:"snap-start flex-1 min-w-[30%] text-center p-2 flex flex-col items-center justify-center gap-1",children:[t.jsx(_6,{className:"h-5 w-5 text-gray-400 mb-1"}),t.jsx("div",{className:"text-xl sm:text-2xl font-bold",style:{color:s.primaryColor},children:e.metrics.totalBookings}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Bookings"})]}),t.jsxs("div",{className:"snap-start flex-1 min-w-[30%] text-center p-2 flex flex-col items-center justify-center gap-1",children:[t.jsx(Fh,{className:"h-5 w-5 text-gray-400 mb-1"}),t.jsxs("div",{className:"text-xl sm:text-2xl font-bold",style:{color:s.primaryColor},children:[e.metrics.taskCompletionRate.toFixed(0),"%"]}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Task Completion"})]})]})})]}):null}function c7({state:e,actions:s,data:n}){const a=kr(),r=m=>`${m.toFixed(2)}`,l=Dd("/finance/expenses/:id/approve","PATCH",{invalidateQueries:[Ke.EXPENSES,Ke.REVENUES,Ke.DAILY_APPROVAL_CHECK,Ke.ANALYTICS,Ke.DASHBOARD,Ke.PROFIT_LOSS,Ke.DAILY_APPROVAL_CHECK],successMessage:"Expense updated successfully",errorMessage:"Failed to process expense"}),c=Dd("/finance/revenues/:id/approve","PATCH",{invalidateQueries:[Ke.REVENUES,Ke.EXPENSES,Ke.DAILY_APPROVAL_CHECK,Ke.ANALYTICS,Ke.DASHBOARD,Ke.PROFIT_LOSS,Ke.DAILY_APPROVAL_CHECK],refetchQueries:[Ke.REVENUES,Ke.DAILY_APPROVAL_CHECK,Ke.ANALYTICS],successMessage:"The revenue has been processed successfully.",errorMessage:"Failed to process revenue. Please try again."}),u=Dd("/staff/leave-requests/:id/approve","PATCH",{invalidateQueries:[Ke.LEAVE_REQUESTS,Ke.DAILY_APPROVAL_CHECK,Ke.ANALYTICS,Ke.DASHBOARD],refetchQueries:[Ke.LEAVE_REQUESTS,Ke.DAILY_APPROVAL_CHECK],successMessage:"The leave request has been processed.",errorMessage:"Failed to process leave request. Please try again."});return t.jsxs(t.Fragment,{children:[e.showPendingApprovals&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full h-[100dvh] sm:h-auto sm:max-h-[80vh] sm:max-w-2xl sm:rounded-lg sm:mx-4 p-4 sm:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Pending Approvals"}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-11 w-11",onClick:()=>s.setShowPendingApprovals(!1),children:t.jsx(Ws,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[n.pendingExpenses.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Expenses"}),t.jsx("div",{className:"space-y-2",children:n.pendingExpenses.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.description||"Expense"}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),t.jsxs("p",{className:"text-xs text-orange-600",children:[r(m.amountCents/100),"  ",m.category]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>l.mutate({id:m.id,approved:!0}),disabled:l.isPending,children:[t.jsx(nn,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>l.mutate({id:m.id,approved:!1}),disabled:l.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.pendingRevenues.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Revenues"}),t.jsx("div",{className:"space-y-2",children:n.pendingRevenues.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.description||"Revenue"}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),t.jsxs("p",{className:"text-xs text-green-600",children:[r(m.amountCents/100),"  ",m.source]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>c.mutate({id:m.id,approved:!0}),disabled:c.isPending,children:[t.jsx(nn,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>c.mutate({id:m.id,approved:!1}),disabled:c.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.pendingLeaveRequests.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Leave Requests"}),t.jsx("div",{className:"space-y-2",children:n.pendingLeaveRequests.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.staffName}),t.jsx("p",{className:"text-xs text-gray-600",children:m.leaveType}),t.jsxs("p",{className:"text-xs text-purple-600",children:[new Date(m.startDate).toLocaleDateString()," - ",new Date(m.endDate).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>u.mutate({id:m.id,approved:!0}),disabled:u.isPending,children:[t.jsx(nn,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>u.mutate({id:m.id,approved:!1}),disabled:u.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.totalPendingApprovals===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No pending approvals"})]})]})]})}),e.showUrgentTasks&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full h-[100dvh] sm:h-auto sm:max-h-[80vh] sm:max-w-2xl sm:rounded-lg sm:mx-4 p-4 sm:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Urgent Tasks"}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-11 w-11",onClick:()=>s.setShowUrgentTasks(!1),children:t.jsx(Ws,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"space-y-3",children:n.urgentTasks.length>0?n.urgentTasks.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.title}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),m.dueAt&&t.jsxs("p",{className:"text-xs text-red-600",children:["Due: ",new Date(m.dueAt).toLocaleDateString()]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(se,{variant:"outline",className:"h-11",onClick:()=>a("/tasks"),children:[t.jsx(un,{className:"h-4 w-4 mr-1"}),"View"]})})]},m.id)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(is,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No urgent tasks"})]})})]})}),e.showOverdueTasks&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full h-[100dvh] sm:h-auto sm:max-h-[80vh] sm:max-w-2xl sm:rounded-lg sm:mx-4 p-4 sm:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Overdue Tasks"}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-11 w-11",onClick:()=>s.setShowOverdueTasks(!1),children:t.jsx(Ws,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"space-y-3",children:n.overdueTasks.length>0?n.overdueTasks.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.title}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),m.dueAt&&t.jsxs("p",{className:"text-xs text-red-600",children:["Due: ",new Date(m.dueAt).toLocaleDateString()]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(se,{variant:"outline",className:"h-11",onClick:()=>a("/tasks"),children:[t.jsx(un,{className:"h-4 w-4 mr-1"}),"View"]})})]},m.id)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No overdue tasks"})]})})]})}),e.showFinancialPending&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full h-[100dvh] sm:h-auto sm:max-h-[80vh] sm:max-w-2xl sm:rounded-lg sm:mx-4 p-4 sm:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Financial Pending"}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-11 w-11",onClick:()=>s.setShowFinancialPending(!1),children:t.jsx(Ws,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[n.pendingExpenses.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Expenses"}),t.jsx("div",{className:"space-y-2",children:n.pendingExpenses.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.description||"Expense"}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),t.jsxs("p",{className:"text-xs text-orange-600",children:[r(m.amountCents/100),"  ",m.category]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>l.mutate({id:m.id,approved:!0}),disabled:l.isPending,children:[t.jsx(nn,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>l.mutate({id:m.id,approved:!1}),disabled:l.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.pendingRevenues.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pending Revenues"}),t.jsx("div",{className:"space-y-2",children:n.pendingRevenues.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:m.description||"Revenue"}),t.jsx("p",{className:"text-xs text-gray-600",children:m.propertyName}),t.jsxs("p",{className:"text-xs text-green-600",children:[r(m.amountCents/100),"  ",m.source]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{className:"h-11 bg-green-600 hover:bg-green-700",onClick:()=>c.mutate({id:m.id,approved:!0}),disabled:c.isPending,children:[t.jsx(nn,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(se,{variant:"destructive",className:"h-11",onClick:()=>c.mutate({id:m.id,approved:!1}),disabled:c.isPending,children:[t.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},m.id))})]}),n.pendingExpenses.length===0&&n.pendingRevenues.length===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(nl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No pending financial transactions"})]})]})]})})]})}function d7(){const{user:e,logout:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=Er(),r=kr();s7();const l=za();x.useEffect(()=>{a("Dashboard Overview","Monitor your hospitality operations and manage pending tasks")},[a]);const c=()=>{try{[Ke.ANALYTICS,Ke.DASHBOARD,Ke.PROPERTIES,Ke.TASKS,Ke.USERS,Ke.REVENUES,Ke.EXPENSES,Ke.LEAVE_REQUESTS,Ke.PENDING_APPROVALS].forEach(q=>l.invalidateQueries({queryKey:[q]})),l.refetchQueries({queryKey:[Ke.ANALYTICS]}),l.refetchQueries({queryKey:[Ke.DASHBOARD]})}catch(F){console.warn("refreshNow failed, reloading page",F),window.location.reload()}};i7();const u=r7(),{analytics:m,properties:f,propertiesLoading:p,propertiesError:g,tasks:v,tasksLoading:w,tasksError:N,urgentTasks:j,overdueTasks:S,pendingExpenses:E,pendingRevenues:T,pendingLeaveRequests:C,managersCreated:I,totalPendingApprovals:D,totalUrgentItems:A}=u,[R,L]=qe.useState(!1),[z,Q]=qe.useState(!1),[K,J]=qe.useState(!1),[de,H]=qe.useState(!1);if(p||w)return t.jsx(Zq,{text:"Loading dashboard..."});if(g&&N)return t.jsx("div",{className:"w-full space-y-6",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(is,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load dashboard data"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading your dashboard. Please try refreshing the page."}),t.jsxs(se,{onClick:c,variant:"outline",className:"h-11 bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold px-4",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})});const ie=F=>{switch(F){case"approvals":D>0?L(!0):r("/finance");break;case"urgent":j.length>0?Q(!0):r("/tasks");break;case"financial":T.length>0||E.length>0?H(!0):r("/finance");break;case"leave":r("/staff");break}};return t.jsxs("div",{className:"w-full space-y-4 md:space-y-6 pt-safe pb-safe pb-20 sm:pb-safe px-4 sm:px-6",children:[t.jsx(o7,{stats:{pendingApprovals:D,urgentItems:A,financialPending:T.length+E.length,pendingLeave:C.length,urgentTasksCount:j.length},onAction:ie}),(e==null?void 0:e.role)==="ADMIN"?t.jsxs(t.Fragment,{children:[m&&t.jsx(l7,{analytics:m}),t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory px-4 -mx-4 pb-4 no-scrollbar sm:grid sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 sm:overflow-visible sm:px-0 sm:mx-0 sm:pb-0",children:[t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(WE,{className:"h-5 w-5 text-blue-500"}),"Properties Overview"]}),t.jsx(Dt,{children:"Status of all managed properties"})]}),t.jsx(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:p?t.jsx(e7,{}):(f==null?void 0:f.properties.length)===0?t.jsx(t7,{title:"No Properties",description:"Get started by adding your first property",action:t.jsxs(se,{onClick:()=>r("/properties"),className:"h-11 px-4",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add Property"]})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xl md:text-3xl font-bold text-gray-900",children:f==null?void 0:f.properties.length}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Properties"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(Lt,{variant:"secondary",className:"bg-green-100 text-green-800",children:[f==null?void 0:f.properties.filter(F=>F.status==="active").length," Active"]})})]}),t.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-blue-500",style:{width:`${(f==null?void 0:f.properties.filter(F=>F.status==="active").length)/((f==null?void 0:f.properties.length)||1)*100}%`}})})]})})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(Gb,{className:"h-5 w-5 text-indigo-500"}),"Recent Approvals"]}),t.jsx(Dt,{children:"Latest items requiring your approval"})]}),t.jsx(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:D===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(nn,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500",children:"All caught up!"})]}):t.jsxs("div",{className:"space-y-3",children:[E.length>0&&t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"text-sm",children:"Expenses"}),t.jsx(Lt,{variant:"secondary",children:E.length})]}),T.length>0&&t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"text-sm",children:"Revenues"}),t.jsx(Lt,{variant:"secondary",children:T.length})]}),C.length>0&&t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"text-sm",children:"Leave Requests"}),t.jsx(Lt,{variant:"secondary",children:C.length})]})]})})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(H6,{className:"h-5 w-5 text-purple-500"}),"Pending Leave Requests"]}),t.jsx(Dt,{children:"Staff leave requests awaiting approval"})]}),t.jsx(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:C.length===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(qs,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No pending leave requests"}),t.jsxs(se,{variant:"outline",onClick:()=>r("/staff"),className:"h-11 px-4",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"View Staff"]})]}):t.jsxs("div",{className:"space-y-3",children:[C.slice(0,5).map(F=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:F.staffName}),t.jsx("p",{className:"text-xs text-gray-600",children:F.leaveType}),t.jsxs("p",{className:"text-xs text-purple-600",children:[new Date(F.startDate).toLocaleDateString()," - ",new Date(F.endDate).toLocaleDateString()]})]}),t.jsx(Lt,{variant:"outline",className:"border-purple-500 text-purple-700",children:"Pending"})]},F.id)),C.length>5&&t.jsxs(se,{variant:"outline",className:"w-full h-11",onClick:()=>r("/staff"),children:["View All (",C.length,")"]})]})})]})]}),t.jsxs(Te,{children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(jL,{className:"h-5 w-5 text-blue-500"}),"Recent Managers"]}),t.jsx(Dt,{children:"Recently created manager accounts"})]}),t.jsx(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:I.length===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(Wi,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No managers created yet"}),t.jsxs(se,{variant:"outline",className:"h-11 px-4",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Create First Manager"]})]}):t.jsx("div",{className:"space-y-3",children:I.slice(0,5).map(F=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:F.displayName}),t.jsx("p",{className:"text-xs text-gray-600",children:F.email}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",new Date(F.createdAt).toLocaleDateString()]})]}),t.jsx(Lt,{variant:"outline",children:"Manager"})]},F.id))})})]})]}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory px-4 -mx-4 pb-4 no-scrollbar sm:grid lg:grid-cols-2 gap-6 sm:overflow-visible sm:px-0 sm:mx-0 sm:pb-0",children:[t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(d_,{className:"h-5 w-5 text-green-500"}),"My Tasks"]}),t.jsx(Dt,{children:"Tasks assigned to you"})]}),t.jsx(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:(v==null?void 0:v.tasks.length)===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(_p,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No tasks assigned yet"}),t.jsxs(se,{variant:"outline",className:"h-11 px-4",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Create Task"]})]}):t.jsx("div",{className:"space-y-3",children:v==null?void 0:v.tasks.slice(0,5).map(F=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:F.title}),t.jsx("p",{className:"text-xs text-gray-600",children:F.propertyName})]}),t.jsx(Lt,{variant:F.priority==="high"?"destructive":"outline",children:F.priority})]},F.id))})})]}),t.jsxs(Te,{className:"snap-start min-w-[75vw] sm:min-w-0 h-full",children:[t.jsxs(Qe,{className:"p-4 sm:p-6",children:[t.jsxs(Je,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[t.jsx(P6,{className:"h-5 w-5 text-orange-500"}),"Overdue Tasks"]}),t.jsx(Dt,{children:"Tasks that have passed their due date"})]}),t.jsx(Ee,{className:"p-4 pt-0 sm:p-6 sm:pt-0",children:S.length===0?t.jsxs("div",{className:"text-center py-6",children:[t.jsx(Zn,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-500",children:"No overdue tasks"})]}):t.jsx("div",{className:"space-y-3",children:S.slice(0,5).map(F=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:F.title}),t.jsx("p",{className:"text-xs text-gray-600",children:F.propertyName}),F.dueAt&&t.jsxs("p",{className:"text-xs text-orange-600",children:["Due: ",new Date(F.dueAt).toLocaleDateString()]})]}),t.jsx(Lt,{variant:"outline",className:"border-orange-500 text-orange-700",children:"Overdue"})]},F.id))})})]})]})}),t.jsx(c7,{state:{showPendingApprovals:R,showUrgentTasks:z,showOverdueTasks:K,showFinancialPending:de},actions:{setShowPendingApprovals:L,setShowUrgentTasks:Q,setShowOverdueTasks:J,setShowFinancialPending:H},data:{pendingExpenses:E,pendingRevenues:T,pendingLeaveRequests:C,urgentTasks:j,overdueTasks:S,totalPendingApprovals:D}})]})}function Hw(){var R,L,z,Q;const{user:e,getAuthenticatedBackend:s}=$s(),[n,a]=x.useState(!1),[r,l]=x.useState(!1),{data:c}=Xt({queryKey:["properties"],queryFn:async()=>s().properties.list({}),enabled:!!e&&n}),{data:u}=Xt({queryKey:["tasks"],queryFn:async()=>s().tasks.list({}),enabled:!!e&&n}),{data:m}=Xt({queryKey:["expenses"],queryFn:async()=>{const K=s(),J=new Date,de=new Date(J.getFullYear(),J.getMonth(),1),H=new Date(J.getFullYear(),J.getMonth()+1,0);return K.finance.listExpenses({startDate:de.toISOString().split("T")[0],endDate:H.toISOString().split("T")[0]})},enabled:!!e&&e.role==="ADMIN"&&n}),{data:f}=Xt({queryKey:["revenues"],queryFn:async()=>{const K=s(),J=new Date,de=new Date(J.getFullYear(),J.getMonth(),1),H=new Date(J.getFullYear(),J.getMonth()+1,0);return K.finance.listRevenues({startDate:de.toISOString().split("T")[0],endDate:H.toISOString().split("T")[0]})},enabled:!!e&&e.role==="ADMIN"&&n}),{data:p}=Xt({queryKey:["leave-requests"],queryFn:async()=>s().staff.listLeaveRequests({}),enabled:!!e&&n}),g={pendingApprovals:(()=>{var H,ie,F;const K=((H=m==null?void 0:m.expenses)==null?void 0:H.filter(q=>q.status==="pending"))||[],J=((ie=f==null?void 0:f.revenues)==null?void 0:ie.filter(q=>q.status==="pending"))||[],de=((F=p==null?void 0:p.leaveRequests)==null?void 0:F.filter(q=>q.status==="pending"))||[];return K.length+J.length+de.length})(),urgentTasks:((R=u==null?void 0:u.tasks)==null?void 0:R.filter(K=>K.priority==="high"&&K.status!=="done").length)||0,overdueTasks:((L=u==null?void 0:u.tasks)==null?void 0:L.filter(K=>K.dueAt&&new Date(K.dueAt)<new Date&&K.status!=="done").length)||0,financialPending:(()=>{var de,H;const K=((de=m==null?void 0:m.expenses)==null?void 0:de.filter(ie=>ie.status==="pending"))||[],J=((H=f==null?void 0:f.revenues)==null?void 0:H.filter(ie=>ie.status==="pending"))||[];return K.length+J.length})(),activeProperties:((z=c==null?void 0:c.properties)==null?void 0:z.length)||0,activeTasks:((Q=u==null?void 0:u.tasks)==null?void 0:Q.filter(K=>K.status!=="done").length)||0},v=()=>{try{return JSON.parse(localStorage.getItem("completedOnboardingSteps")||"[]")}catch{return[]}},w=v(),N=0,j=(()=>{if((e==null?void 0:e.role)==="ADMIN"){const K=w.includes("setup-organization"),J=((c==null?void 0:c.properties.length)||0)>0;return K&&J}else{const K=w.includes("complete-profile"),J=w.includes("view-assigned-properties");return K&&J}})(),S=N<=7&&!j,E={name:(e==null?void 0:e.displayName)||"User",role:(e==null?void 0:e.role)||"USER",hasProperties:((c==null?void 0:c.properties.length)||0)>0,propertyCount:(c==null?void 0:c.properties.length)||0,isNewUser:S,accountAge:N,completedOnboardingSteps:w};x.useEffect(()=>{if(console.log("Welcome popup effect:",{user:!!e,hasShownWelcome:r,showWelcomePopup:n,isNewUser:S}),e&&!r&&S){console.log("Showing welcome popup for new user...");const K=setTimeout(()=>{console.log("Setting welcome popup to true"),a(!0),l(!0)},100);return()=>clearTimeout(K)}},[e,r,S]),x.useEffect(()=>{e||(a(!1),l(!1))},[e]);const T=x.useCallback(()=>{a(!1)},[]),C=x.useCallback(()=>{l(!1),a(!1),setTimeout(()=>{a(!0),l(!0)},100)},[]),I=x.useCallback(K=>{const J=v();if(!J.includes(K)){const de=[...J,K];localStorage.setItem("completedOnboardingSteps",JSON.stringify(de))}},[]),D=x.useCallback(()=>{const K=[];return(e==null?void 0:e.role)==="ADMIN"?K.push({id:"setup-organization",title:"Set Up Your Organization",description:"Configure your organization settings and branding",completed:w.includes("setup-organization"),required:!0,action:{label:"Configure",route:"/settings"},icon:""},{id:"add-properties",title:"Add Your First Property",description:"Create your hotel, hostel, or resort listing",completed:E.hasProperties,required:!0,action:{label:"Add Property",route:"/properties"},icon:""},{id:"invite-team",title:"Invite Team Members",description:"Create manager accounts for your team",completed:w.includes("invite-team"),required:!1,action:{label:"Invite Team",route:"/users"},icon:""},{id:"create-first-task",title:"Create Your First Task",description:"Set up operational tasks and workflows",completed:w.includes("create-first-task"),required:!1,action:{label:"Create Task",route:"/tasks"},icon:""}):K.push({id:"complete-profile",title:"Complete Your Profile",description:"Update your personal information and preferences",completed:w.includes("complete-profile"),required:!0,action:{label:"Update Profile",route:"/settings"},icon:""},{id:"view-assigned-properties",title:"View Assigned Properties",description:"Check out the properties you can manage",completed:w.includes("view-assigned-properties"),required:!0,action:{label:"View Properties",route:"/properties"},icon:""},{id:"create-first-task",title:"Create Your First Task",description:"Set up operational tasks for your properties",completed:w.includes("create-first-task"),required:!1,action:{label:"Create Task",route:"/tasks"},icon:""}),K},[e==null?void 0:e.role,E.hasProperties,w]);x.useEffect(()=>{!e||!I||(e.role==="ADMIN"?E.hasProperties&&!w.includes("add-properties")&&I("add-properties"):w.includes("view-assigned-properties")&&!w.includes("view-assigned-properties")&&I("view-assigned-properties"))},[e,E.hasProperties,w,I]);const A=x.useCallback(K=>{I&&I(K)},[I]);return{showWelcomePopup:n,closeWelcomePopup:T,resetWelcomePopup:C,dashboardData:g,userData:E,isLoading:!1,onboardingSteps:D(),markStepCompleted:I,markEssentialStepCompleted:A}}function p2(e,[s,n]){return Math.min(n,Math.max(s,e))}var u7=x.createContext(void 0);function Gw(e){const s=x.useContext(u7);return e||s||"ltr"}const h7=["top","right","bottom","left"],pl=Math.min,Xn=Math.max,Kp=Math.round,np=Math.floor,mi=e=>({x:e,y:e}),m7={left:"right",right:"left",bottom:"top",top:"bottom"},f7={start:"end",end:"start"};function db(e,s,n){return Xn(e,pl(s,n))}function ro(e,s){return typeof e=="function"?e(s):e}function io(e){return e.split("-")[0]}function mu(e){return e.split("-")[1]}function Yw(e){return e==="x"?"y":"x"}function Ww(e){return e==="y"?"height":"width"}const p7=new Set(["top","bottom"]);function li(e){return p7.has(io(e))?"y":"x"}function Kw(e){return Yw(li(e))}function g7(e,s,n){n===void 0&&(n=!1);const a=mu(e),r=Kw(e),l=Ww(r);let c=r==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return s.reference[l]>s.floating[l]&&(c=Qp(c)),[c,Qp(c)]}function x7(e){const s=Qp(e);return[ub(e),s,ub(s)]}function ub(e){return e.replace(/start|end/g,s=>f7[s])}const g2=["left","right"],x2=["right","left"],y7=["top","bottom"],v7=["bottom","top"];function b7(e,s,n){switch(e){case"top":case"bottom":return n?s?x2:g2:s?g2:x2;case"left":case"right":return s?y7:v7;default:return[]}}function w7(e,s,n,a){const r=mu(e);let l=b7(io(e),n==="start",a);return r&&(l=l.map(c=>c+"-"+r),s&&(l=l.concat(l.map(ub)))),l}function Qp(e){return e.replace(/left|right|bottom|top/g,s=>m7[s])}function j7(e){return{top:0,right:0,bottom:0,left:0,...e}}function LP(e){return typeof e!="number"?j7(e):{top:e,right:e,bottom:e,left:e}}function Jp(e){const{x:s,y:n,width:a,height:r}=e;return{width:a,height:r,top:n,left:s,right:s+a,bottom:n+r,x:s,y:n}}function y2(e,s,n){let{reference:a,floating:r}=e;const l=li(s),c=Kw(s),u=Ww(c),m=io(s),f=l==="y",p=a.x+a.width/2-r.width/2,g=a.y+a.height/2-r.height/2,v=a[u]/2-r[u]/2;let w;switch(m){case"top":w={x:p,y:a.y-r.height};break;case"bottom":w={x:p,y:a.y+a.height};break;case"right":w={x:a.x+a.width,y:g};break;case"left":w={x:a.x-r.width,y:g};break;default:w={x:a.x,y:a.y}}switch(mu(s)){case"start":w[c]-=v*(n&&f?-1:1);break;case"end":w[c]+=v*(n&&f?-1:1);break}return w}const N7=async(e,s,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:l=[],platform:c}=n,u=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(s));let f=await c.getElementRects({reference:e,floating:s,strategy:r}),{x:p,y:g}=y2(f,a,m),v=a,w={},N=0;for(let j=0;j<u.length;j++){const{name:S,fn:E}=u[j],{x:T,y:C,data:I,reset:D}=await E({x:p,y:g,initialPlacement:a,placement:v,strategy:r,middlewareData:w,rects:f,platform:c,elements:{reference:e,floating:s}});p=T??p,g=C??g,w={...w,[S]:{...w[S],...I}},D&&N<=50&&(N++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(f=D.rects===!0?await c.getElementRects({reference:e,floating:s,strategy:r}):D.rects),{x:p,y:g}=y2(f,v,m)),j=-1)}return{x:p,y:g,placement:v,strategy:r,middlewareData:w}};async function Gh(e,s){var n;s===void 0&&(s={});const{x:a,y:r,platform:l,rects:c,elements:u,strategy:m}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:w=0}=ro(s,e),N=LP(w),S=u[v?g==="floating"?"reference":"floating":g],E=Jp(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:m})),T=g==="floating"?{x:a,y:r,width:c.floating.width,height:c.floating.height}:c.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),I=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},D=Jp(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:C,strategy:m}):T);return{top:(E.top-D.top+N.top)/I.y,bottom:(D.bottom-E.bottom+N.bottom)/I.y,left:(E.left-D.left+N.left)/I.x,right:(D.right-E.right+N.right)/I.x}}const S7=e=>({name:"arrow",options:e,async fn(s){const{x:n,y:a,placement:r,rects:l,platform:c,elements:u,middlewareData:m}=s,{element:f,padding:p=0}=ro(e,s)||{};if(f==null)return{};const g=LP(p),v={x:n,y:a},w=Kw(r),N=Ww(w),j=await c.getDimensions(f),S=w==="y",E=S?"top":"left",T=S?"bottom":"right",C=S?"clientHeight":"clientWidth",I=l.reference[N]+l.reference[w]-v[w]-l.floating[N],D=v[w]-l.reference[w],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let R=A?A[C]:0;(!R||!await(c.isElement==null?void 0:c.isElement(A)))&&(R=u.floating[C]||l.floating[N]);const L=I/2-D/2,z=R/2-j[N]/2-1,Q=pl(g[E],z),K=pl(g[T],z),J=Q,de=R-j[N]-K,H=R/2-j[N]/2+L,ie=db(J,H,de),F=!m.arrow&&mu(r)!=null&&H!==ie&&l.reference[N]/2-(H<J?Q:K)-j[N]/2<0,q=F?H<J?H-J:H-de:0;return{[w]:v[w]+q,data:{[w]:ie,centerOffset:H-ie-q,...F&&{alignmentOffset:q}},reset:F}}}),C7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(s){var n,a;const{placement:r,middlewareData:l,rects:c,initialPlacement:u,platform:m,elements:f}=s,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:j=!0,...S}=ro(e,s);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const E=io(r),T=li(u),C=io(u)===u,I=await(m.isRTL==null?void 0:m.isRTL(f.floating)),D=v||(C||!j?[Qp(u)]:x7(u)),A=N!=="none";!v&&A&&D.push(...w7(u,j,N,I));const R=[u,...D],L=await Gh(s,S),z=[];let Q=((a=l.flip)==null?void 0:a.overflows)||[];if(p&&z.push(L[E]),g){const H=g7(r,c,I);z.push(L[H[0]],L[H[1]])}if(Q=[...Q,{placement:r,overflows:z}],!z.every(H=>H<=0)){var K,J;const H=(((K=l.flip)==null?void 0:K.index)||0)+1,ie=R[H];if(ie&&(!(g==="alignment"?T!==li(ie):!1)||Q.every(W=>li(W.placement)===T?W.overflows[0]>0:!0)))return{data:{index:H,overflows:Q},reset:{placement:ie}};let F=(J=Q.filter(q=>q.overflows[0]<=0).sort((q,W)=>q.overflows[1]-W.overflows[1])[0])==null?void 0:J.placement;if(!F)switch(w){case"bestFit":{var de;const q=(de=Q.filter(W=>{if(A){const he=li(W.placement);return he===T||he==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(he=>he>0).reduce((he,$)=>he+$,0)]).sort((W,he)=>W[1]-he[1])[0])==null?void 0:de[0];q&&(F=q);break}case"initialPlacement":F=u;break}if(r!==F)return{reset:{placement:F}}}return{}}}};function v2(e,s){return{top:e.top-s.height,right:e.right-s.width,bottom:e.bottom-s.height,left:e.left-s.width}}function b2(e){return h7.some(s=>e[s]>=0)}const T7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(s){const{rects:n}=s,{strategy:a="referenceHidden",...r}=ro(e,s);switch(a){case"referenceHidden":{const l=await Gh(s,{...r,elementContext:"reference"}),c=v2(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:b2(c)}}}case"escaped":{const l=await Gh(s,{...r,altBoundary:!0}),c=v2(l,n.floating);return{data:{escapedOffsets:c,escaped:b2(c)}}}default:return{}}}}},FP=new Set(["left","top"]);async function k7(e,s){const{placement:n,platform:a,elements:r}=e,l=await(a.isRTL==null?void 0:a.isRTL(r.floating)),c=io(n),u=mu(n),m=li(n)==="y",f=FP.has(c)?-1:1,p=l&&m?-1:1,g=ro(s,e);let{mainAxis:v,crossAxis:w,alignmentAxis:N}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof N=="number"&&(w=u==="end"?N*-1:N),m?{x:w*p,y:v*f}:{x:v*f,y:w*p}}const E7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(s){var n,a;const{x:r,y:l,placement:c,middlewareData:u}=s,m=await k7(s,e);return c===((n=u.offset)==null?void 0:n.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:r+m.x,y:l+m.y,data:{...m,placement:c}}}}},A7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(s){const{x:n,y:a,placement:r}=s,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:S=>{let{x:E,y:T}=S;return{x:E,y:T}}},...m}=ro(e,s),f={x:n,y:a},p=await Gh(s,m),g=li(io(r)),v=Yw(g);let w=f[v],N=f[g];if(l){const S=v==="y"?"top":"left",E=v==="y"?"bottom":"right",T=w+p[S],C=w-p[E];w=db(T,w,C)}if(c){const S=g==="y"?"top":"left",E=g==="y"?"bottom":"right",T=N+p[S],C=N-p[E];N=db(T,N,C)}const j=u.fn({...s,[v]:w,[g]:N});return{...j,data:{x:j.x-n,y:j.y-a,enabled:{[v]:l,[g]:c}}}}}},D7=function(e){return e===void 0&&(e={}),{options:e,fn(s){const{x:n,y:a,placement:r,rects:l,middlewareData:c}=s,{offset:u=0,mainAxis:m=!0,crossAxis:f=!0}=ro(e,s),p={x:n,y:a},g=li(r),v=Yw(g);let w=p[v],N=p[g];const j=ro(u,s),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(m){const C=v==="y"?"height":"width",I=l.reference[v]-l.floating[C]+S.mainAxis,D=l.reference[v]+l.reference[C]-S.mainAxis;w<I?w=I:w>D&&(w=D)}if(f){var E,T;const C=v==="y"?"width":"height",I=FP.has(io(r)),D=l.reference[g]-l.floating[C]+(I&&((E=c.offset)==null?void 0:E[g])||0)+(I?0:S.crossAxis),A=l.reference[g]+l.reference[C]+(I?0:((T=c.offset)==null?void 0:T[g])||0)-(I?S.crossAxis:0);N<D?N=D:N>A&&(N=A)}return{[v]:w,[g]:N}}}},P7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(s){var n,a;const{placement:r,rects:l,platform:c,elements:u}=s,{apply:m=()=>{},...f}=ro(e,s),p=await Gh(s,f),g=io(r),v=mu(r),w=li(r)==="y",{width:N,height:j}=l.floating;let S,E;g==="top"||g==="bottom"?(S=g,E=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(E=g,S=v==="end"?"top":"bottom");const T=j-p.top-p.bottom,C=N-p.left-p.right,I=pl(j-p[S],T),D=pl(N-p[E],C),A=!s.middlewareData.shift;let R=I,L=D;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(L=C),(a=s.middlewareData.shift)!=null&&a.enabled.y&&(R=T),A&&!v){const Q=Xn(p.left,0),K=Xn(p.right,0),J=Xn(p.top,0),de=Xn(p.bottom,0);w?L=N-2*(Q!==0||K!==0?Q+K:Xn(p.left,p.right)):R=j-2*(J!==0||de!==0?J+de:Xn(p.top,p.bottom))}await m({...s,availableWidth:L,availableHeight:R});const z=await c.getDimensions(u.floating);return N!==z.width||j!==z.height?{reset:{rects:!0}}:{}}}};function Ng(){return typeof window<"u"}function fu(e){return UP(e)?(e.nodeName||"").toLowerCase():"#document"}function er(e){var s;return(e==null||(s=e.ownerDocument)==null?void 0:s.defaultView)||window}function yi(e){var s;return(s=(UP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:s.documentElement}function UP(e){return Ng()?e instanceof Node||e instanceof er(e).Node:!1}function qr(e){return Ng()?e instanceof Element||e instanceof er(e).Element:!1}function pi(e){return Ng()?e instanceof HTMLElement||e instanceof er(e).HTMLElement:!1}function w2(e){return!Ng()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof er(e).ShadowRoot}const I7=new Set(["inline","contents"]);function um(e){const{overflow:s,overflowX:n,overflowY:a,display:r}=$r(e);return/auto|scroll|overlay|hidden|clip/.test(s+a+n)&&!I7.has(r)}const R7=new Set(["table","td","th"]);function O7(e){return R7.has(fu(e))}const M7=[":popover-open",":modal"];function Sg(e){return M7.some(s=>{try{return e.matches(s)}catch{return!1}})}const _7=["transform","translate","scale","rotate","perspective"],L7=["transform","translate","scale","rotate","perspective","filter"],F7=["paint","layout","strict","content"];function Qw(e){const s=Jw(),n=qr(e)?$r(e):e;return _7.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||L7.some(a=>(n.willChange||"").includes(a))||F7.some(a=>(n.contain||"").includes(a))}function U7(e){let s=gl(e);for(;pi(s)&&!Qd(s);){if(Qw(s))return s;if(Sg(s))return null;s=gl(s)}return null}function Jw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const V7=new Set(["html","body","#document"]);function Qd(e){return V7.has(fu(e))}function $r(e){return er(e).getComputedStyle(e)}function Cg(e){return qr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function gl(e){if(fu(e)==="html")return e;const s=e.assignedSlot||e.parentNode||w2(e)&&e.host||yi(e);return w2(s)?s.host:s}function VP(e){const s=gl(e);return Qd(s)?e.ownerDocument?e.ownerDocument.body:e.body:pi(s)&&um(s)?s:VP(s)}function Yh(e,s,n){var a;s===void 0&&(s=[]),n===void 0&&(n=!0);const r=VP(e),l=r===((a=e.ownerDocument)==null?void 0:a.body),c=er(r);if(l){const u=hb(c);return s.concat(c,c.visualViewport||[],um(r)?r:[],u&&n?Yh(u):[])}return s.concat(r,Yh(r,[],n))}function hb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BP(e){const s=$r(e);let n=parseFloat(s.width)||0,a=parseFloat(s.height)||0;const r=pi(e),l=r?e.offsetWidth:n,c=r?e.offsetHeight:a,u=Kp(n)!==l||Kp(a)!==c;return u&&(n=l,a=c),{width:n,height:a,$:u}}function Xw(e){return qr(e)?e:e.contextElement}function Pd(e){const s=Xw(e);if(!pi(s))return mi(1);const n=s.getBoundingClientRect(),{width:a,height:r,$:l}=BP(s);let c=(l?Kp(n.width):n.width)/a,u=(l?Kp(n.height):n.height)/r;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const B7=mi(0);function zP(e){const s=er(e);return!Jw()||!s.visualViewport?B7:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function z7(e,s,n){return s===void 0&&(s=!1),!n||s&&n!==er(e)?!1:s}function vc(e,s,n,a){s===void 0&&(s=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),l=Xw(e);let c=mi(1);s&&(a?qr(a)&&(c=Pd(a)):c=Pd(e));const u=z7(l,n,a)?zP(l):mi(0);let m=(r.left+u.x)/c.x,f=(r.top+u.y)/c.y,p=r.width/c.x,g=r.height/c.y;if(l){const v=er(l),w=a&&qr(a)?er(a):a;let N=v,j=hb(N);for(;j&&a&&w!==N;){const S=Pd(j),E=j.getBoundingClientRect(),T=$r(j),C=E.left+(j.clientLeft+parseFloat(T.paddingLeft))*S.x,I=E.top+(j.clientTop+parseFloat(T.paddingTop))*S.y;m*=S.x,f*=S.y,p*=S.x,g*=S.y,m+=C,f+=I,N=er(j),j=hb(N)}}return Jp({width:p,height:g,x:m,y:f})}function Tg(e,s){const n=Cg(e).scrollLeft;return s?s.left+n:vc(yi(e)).left+n}function qP(e,s){const n=e.getBoundingClientRect(),a=n.left+s.scrollLeft-Tg(e,n),r=n.top+s.scrollTop;return{x:a,y:r}}function q7(e){let{elements:s,rect:n,offsetParent:a,strategy:r}=e;const l=r==="fixed",c=yi(a),u=s?Sg(s.floating):!1;if(a===c||u&&l)return n;let m={scrollLeft:0,scrollTop:0},f=mi(1);const p=mi(0),g=pi(a);if((g||!g&&!l)&&((fu(a)!=="body"||um(c))&&(m=Cg(a)),pi(a))){const w=vc(a);f=Pd(a),p.x=w.x+a.clientLeft,p.y=w.y+a.clientTop}const v=c&&!g&&!l?qP(c,m):mi(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-m.scrollLeft*f.x+p.x+v.x,y:n.y*f.y-m.scrollTop*f.y+p.y+v.y}}function $7(e){return Array.from(e.getClientRects())}function H7(e){const s=yi(e),n=Cg(e),a=e.ownerDocument.body,r=Xn(s.scrollWidth,s.clientWidth,a.scrollWidth,a.clientWidth),l=Xn(s.scrollHeight,s.clientHeight,a.scrollHeight,a.clientHeight);let c=-n.scrollLeft+Tg(e);const u=-n.scrollTop;return $r(a).direction==="rtl"&&(c+=Xn(s.clientWidth,a.clientWidth)-r),{width:r,height:l,x:c,y:u}}const j2=25;function G7(e,s){const n=er(e),a=yi(e),r=n.visualViewport;let l=a.clientWidth,c=a.clientHeight,u=0,m=0;if(r){l=r.width,c=r.height;const p=Jw();(!p||p&&s==="fixed")&&(u=r.offsetLeft,m=r.offsetTop)}const f=Tg(a);if(f<=0){const p=a.ownerDocument,g=p.body,v=getComputedStyle(g),w=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,N=Math.abs(a.clientWidth-g.clientWidth-w);N<=j2&&(l-=N)}else f<=j2&&(l+=f);return{width:l,height:c,x:u,y:m}}const Y7=new Set(["absolute","fixed"]);function W7(e,s){const n=vc(e,!0,s==="fixed"),a=n.top+e.clientTop,r=n.left+e.clientLeft,l=pi(e)?Pd(e):mi(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,m=r*l.x,f=a*l.y;return{width:c,height:u,x:m,y:f}}function N2(e,s,n){let a;if(s==="viewport")a=G7(e,n);else if(s==="document")a=H7(yi(e));else if(qr(s))a=W7(s,n);else{const r=zP(e);a={x:s.x-r.x,y:s.y-r.y,width:s.width,height:s.height}}return Jp(a)}function $P(e,s){const n=gl(e);return n===s||!qr(n)||Qd(n)?!1:$r(n).position==="fixed"||$P(n,s)}function K7(e,s){const n=s.get(e);if(n)return n;let a=Yh(e,[],!1).filter(u=>qr(u)&&fu(u)!=="body"),r=null;const l=$r(e).position==="fixed";let c=l?gl(e):e;for(;qr(c)&&!Qd(c);){const u=$r(c),m=Qw(c);!m&&u.position==="fixed"&&(r=null),(l?!m&&!r:!m&&u.position==="static"&&!!r&&Y7.has(r.position)||um(c)&&!m&&$P(e,c))?a=a.filter(p=>p!==c):r=u,c=gl(c)}return s.set(e,a),a}function Q7(e){let{element:s,boundary:n,rootBoundary:a,strategy:r}=e;const c=[...n==="clippingAncestors"?Sg(s)?[]:K7(s,this._c):[].concat(n),a],u=c[0],m=c.reduce((f,p)=>{const g=N2(s,p,r);return f.top=Xn(g.top,f.top),f.right=pl(g.right,f.right),f.bottom=pl(g.bottom,f.bottom),f.left=Xn(g.left,f.left),f},N2(s,u,r));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function J7(e){const{width:s,height:n}=BP(e);return{width:s,height:n}}function X7(e,s,n){const a=pi(s),r=yi(s),l=n==="fixed",c=vc(e,!0,l,s);let u={scrollLeft:0,scrollTop:0};const m=mi(0);function f(){m.x=Tg(r)}if(a||!a&&!l)if((fu(s)!=="body"||um(r))&&(u=Cg(s)),a){const w=vc(s,!0,l,s);m.x=w.x+s.clientLeft,m.y=w.y+s.clientTop}else r&&f();l&&!a&&r&&f();const p=r&&!a&&!l?qP(r,u):mi(0),g=c.left+u.scrollLeft-m.x-p.x,v=c.top+u.scrollTop-m.y-p.y;return{x:g,y:v,width:c.width,height:c.height}}function g0(e){return $r(e).position==="static"}function S2(e,s){if(!pi(e)||$r(e).position==="fixed")return null;if(s)return s(e);let n=e.offsetParent;return yi(e)===n&&(n=n.ownerDocument.body),n}function HP(e,s){const n=er(e);if(Sg(e))return n;if(!pi(e)){let r=gl(e);for(;r&&!Qd(r);){if(qr(r)&&!g0(r))return r;r=gl(r)}return n}let a=S2(e,s);for(;a&&O7(a)&&g0(a);)a=S2(a,s);return a&&Qd(a)&&g0(a)&&!Qw(a)?n:a||U7(e)||n}const Z7=async function(e){const s=this.getOffsetParent||HP,n=this.getDimensions,a=await n(e.floating);return{reference:X7(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function e$(e){return $r(e).direction==="rtl"}const t$={convertOffsetParentRelativeRectToViewportRelativeRect:q7,getDocumentElement:yi,getClippingRect:Q7,getOffsetParent:HP,getElementRects:Z7,getClientRects:$7,getDimensions:J7,getScale:Pd,isElement:qr,isRTL:e$};function GP(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function s$(e,s){let n=null,a;const r=yi(e);function l(){var u;clearTimeout(a),(u=n)==null||u.disconnect(),n=null}function c(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),l();const f=e.getBoundingClientRect(),{left:p,top:g,width:v,height:w}=f;if(u||s(),!v||!w)return;const N=np(g),j=np(r.clientWidth-(p+v)),S=np(r.clientHeight-(g+w)),E=np(p),C={rootMargin:-N+"px "+-j+"px "+-S+"px "+-E+"px",threshold:Xn(0,pl(1,m))||1};let I=!0;function D(A){const R=A[0].intersectionRatio;if(R!==m){if(!I)return c();R?c(!1,R):a=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!GP(f,e.getBoundingClientRect())&&c(),I=!1}try{n=new IntersectionObserver(D,{...C,root:r.ownerDocument})}catch{n=new IntersectionObserver(D,C)}n.observe(e)}return c(!0),l}function a$(e,s,n,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,f=Xw(e),p=r||l?[...f?Yh(f):[],...Yh(s)]:[];p.forEach(E=>{r&&E.addEventListener("scroll",n,{passive:!0}),l&&E.addEventListener("resize",n)});const g=f&&u?s$(f,n):null;let v=-1,w=null;c&&(w=new ResizeObserver(E=>{let[T]=E;T&&T.target===f&&w&&(w.unobserve(s),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(s)})),n()}),f&&!m&&w.observe(f),w.observe(s));let N,j=m?vc(e):null;m&&S();function S(){const E=vc(e);j&&!GP(j,E)&&n(),j=E,N=requestAnimationFrame(S)}return n(),()=>{var E;p.forEach(T=>{r&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),g==null||g(),(E=w)==null||E.disconnect(),w=null,m&&cancelAnimationFrame(N)}}const n$=E7,r$=A7,i$=C7,o$=P7,l$=T7,C2=S7,c$=D7,d$=(e,s,n)=>{const a=new Map,r={platform:t$,...n},l={...r.platform,_c:a};return N7(e,s,{...r,platform:l})};var u$=typeof document<"u",h$=function(){},Tp=u$?x.useLayoutEffect:h$;function Xp(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(typeof e=="function"&&e.toString()===s.toString())return!0;let n,a,r;if(e&&s&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==s.length)return!1;for(a=n;a--!==0;)if(!Xp(e[a],s[a]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(s).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(s,r[a]))return!1;for(a=n;a--!==0;){const l=r[a];if(!(l==="_owner"&&e.$$typeof)&&!Xp(e[l],s[l]))return!1}return!0}return e!==e&&s!==s}function YP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function T2(e,s){const n=YP(e);return Math.round(s*n)/n}function x0(e){const s=x.useRef(e);return Tp(()=>{s.current=e}),s}function m$(e){e===void 0&&(e={});const{placement:s="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:m,open:f}=e,[p,g]=x.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[v,w]=x.useState(a);Xp(v,a)||w(a);const[N,j]=x.useState(null),[S,E]=x.useState(null),T=x.useCallback(W=>{W!==A.current&&(A.current=W,j(W))},[]),C=x.useCallback(W=>{W!==R.current&&(R.current=W,E(W))},[]),I=l||N,D=c||S,A=x.useRef(null),R=x.useRef(null),L=x.useRef(p),z=m!=null,Q=x0(m),K=x0(r),J=x0(f),de=x.useCallback(()=>{if(!A.current||!R.current)return;const W={placement:s,strategy:n,middleware:v};K.current&&(W.platform=K.current),d$(A.current,R.current,W).then(he=>{const $={...he,isPositioned:J.current!==!1};H.current&&!Xp(L.current,$)&&(L.current=$,nu.flushSync(()=>{g($)}))})},[v,s,n,K,J]);Tp(()=>{f===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g(W=>({...W,isPositioned:!1})))},[f]);const H=x.useRef(!1);Tp(()=>(H.current=!0,()=>{H.current=!1}),[]),Tp(()=>{if(I&&(A.current=I),D&&(R.current=D),I&&D){if(Q.current)return Q.current(I,D,de);de()}},[I,D,de,Q,z]);const ie=x.useMemo(()=>({reference:A,floating:R,setReference:T,setFloating:C}),[T,C]),F=x.useMemo(()=>({reference:I,floating:D}),[I,D]),q=x.useMemo(()=>{const W={position:n,left:0,top:0};if(!F.floating)return W;const he=T2(F.floating,p.x),$=T2(F.floating,p.y);return u?{...W,transform:"translate("+he+"px, "+$+"px)",...YP(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:he,top:$}},[n,u,F.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:de,refs:ie,elements:F,floatingStyles:q}),[p,de,ie,F,q])}const f$=e=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:r}=typeof e=="function"?e(n):e;return a&&s(a)?a.current!=null?C2({element:a.current,padding:r}).fn(n):{}:a?C2({element:a,padding:r}).fn(n):{}}}},p$=(e,s)=>({...n$(e),options:[e,s]}),g$=(e,s)=>({...r$(e),options:[e,s]}),x$=(e,s)=>({...c$(e),options:[e,s]}),y$=(e,s)=>({...i$(e),options:[e,s]}),v$=(e,s)=>({...o$(e),options:[e,s]}),b$=(e,s)=>({...l$(e),options:[e,s]}),w$=(e,s)=>({...f$(e),options:[e,s]});var j$="Arrow",WP=x.forwardRef((e,s)=>{const{children:n,width:a=10,height:r=5,...l}=e;return t.jsx(Ot.svg,{...l,ref:s,width:a,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});WP.displayName=j$;var N$=WP;function KP(e){const[s,n]=x.useState(void 0);return Oa(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let c,u;if("borderBoxSize"in l){const m=l.borderBoxSize,f=Array.isArray(m)?m[0]:m;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),s}var Zw="Popper",[QP,kg]=xi(Zw),[S$,JP]=QP(Zw),XP=e=>{const{__scopePopper:s,children:n}=e,[a,r]=x.useState(null);return t.jsx(S$,{scope:s,anchor:a,onAnchorChange:r,children:n})};XP.displayName=Zw;var ZP="PopperAnchor",eI=x.forwardRef((e,s)=>{const{__scopePopper:n,virtualRef:a,...r}=e,l=JP(ZP,n),c=x.useRef(null),u=Ms(s,c),m=x.useRef(null);return x.useEffect(()=>{const f=m.current;m.current=(a==null?void 0:a.current)||c.current,f!==m.current&&l.onAnchorChange(m.current)}),a?null:t.jsx(Ot.div,{...r,ref:u})});eI.displayName=ZP;var ej="PopperContent",[C$,T$]=QP(ej),tI=x.forwardRef((e,s)=>{var le,ye,ke,Y,ge,je;const{__scopePopper:n,side:a="bottom",sideOffset:r=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:N,...j}=e,S=JP(ej,n),[E,T]=x.useState(null),C=Ms(s,Oe=>T(Oe)),[I,D]=x.useState(null),A=KP(I),R=(A==null?void 0:A.width)??0,L=(A==null?void 0:A.height)??0,z=a+(l!=="center"?"-"+l:""),Q=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},K=Array.isArray(f)?f:[f],J=K.length>0,de={padding:Q,boundary:K.filter(E$),altBoundary:J},{refs:H,floatingStyles:ie,placement:F,isPositioned:q,middlewareData:W}=m$({strategy:"fixed",placement:z,whileElementsMounted:(...Oe)=>a$(...Oe,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[p$({mainAxis:r+L,alignmentAxis:c}),m&&g$({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?x$():void 0,...de}),m&&y$({...de}),v$({...de,apply:({elements:Oe,rects:_e,availableWidth:Pe,availableHeight:ze})=>{const{width:Ue,height:He}=_e.reference,it=Oe.floating.style;it.setProperty("--radix-popper-available-width",`${Pe}px`),it.setProperty("--radix-popper-available-height",`${ze}px`),it.setProperty("--radix-popper-anchor-width",`${Ue}px`),it.setProperty("--radix-popper-anchor-height",`${He}px`)}}),I&&w$({element:I,padding:u}),A$({arrowWidth:R,arrowHeight:L}),v&&b$({strategy:"referenceHidden",...de})]}),[he,$]=nI(F),M=tr(N);Oa(()=>{q&&(M==null||M())},[q,M]);const V=(le=W.arrow)==null?void 0:le.x,G=(ye=W.arrow)==null?void 0:ye.y,B=((ke=W.arrow)==null?void 0:ke.centerOffset)!==0,[ce,pe]=x.useState();return Oa(()=>{E&&pe(window.getComputedStyle(E).zIndex)},[E]),t.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:q?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Y=W.transformOrigin)==null?void 0:Y.x,(ge=W.transformOrigin)==null?void 0:ge.y].join(" "),...((je=W.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(C$,{scope:n,placedSide:he,onArrowChange:D,arrowX:V,arrowY:G,shouldHideArrow:B,children:t.jsx(Ot.div,{"data-side":he,"data-align":$,...j,ref:C,style:{...j.style,animation:q?void 0:"none"}})})})});tI.displayName=ej;var sI="PopperArrow",k$={top:"bottom",right:"left",bottom:"top",left:"right"},aI=x.forwardRef(function(s,n){const{__scopePopper:a,...r}=s,l=T$(sI,a),c=k$[l.placedSide];return t.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:t.jsx(N$,{...r,ref:n,style:{...r.style,display:"block"}})})});aI.displayName=sI;function E$(e){return e!==null}var A$=e=>({name:"transformOrigin",options:e,fn(s){var S,E,T;const{placement:n,rects:a,middlewareData:r}=s,c=((S=r.arrow)==null?void 0:S.centerOffset)!==0,u=c?0:e.arrowWidth,m=c?0:e.arrowHeight,[f,p]=nI(n),g={start:"0%",center:"50%",end:"100%"}[p],v=(((E=r.arrow)==null?void 0:E.x)??0)+u/2,w=(((T=r.arrow)==null?void 0:T.y)??0)+m/2;let N="",j="";return f==="bottom"?(N=c?g:`${v}px`,j=`${-m}px`):f==="top"?(N=c?g:`${v}px`,j=`${a.floating.height+m}px`):f==="right"?(N=`${-m}px`,j=c?g:`${w}px`):f==="left"&&(N=`${a.floating.width+m}px`,j=c?g:`${w}px`),{data:{x:N,y:j}}}});function nI(e){const[s,n="center"]=e.split("-");return[s,n]}var rI=XP,tj=eI,iI=tI,oI=aI;function lI(e){const s=x.useRef({value:e,previous:e});return x.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var D$=[" ","Enter","ArrowUp","ArrowDown"],P$=[" ","Enter"],bc="Select",[Eg,Ag,I$]=Vb(bc),[pu,RX]=xi(bc,[I$,kg]),Dg=kg(),[R$,yl]=pu(bc),[O$,M$]=pu(bc),cI=e=>{const{__scopeSelect:s,children:n,open:a,defaultOpen:r,onOpenChange:l,value:c,defaultValue:u,onValueChange:m,dir:f,name:p,autoComplete:g,disabled:v,required:w,form:N}=e,j=Dg(s),[S,E]=x.useState(null),[T,C]=x.useState(null),[I,D]=x.useState(!1),A=Gw(f),[R,L]=dl({prop:a,defaultProp:r??!1,onChange:l,caller:bc}),[z,Q]=dl({prop:c,defaultProp:u,onChange:m,caller:bc}),K=x.useRef(null),J=S?N||!!S.closest("form"):!0,[de,H]=x.useState(new Set),ie=Array.from(de).map(F=>F.props.value).join(";");return t.jsx(rI,{...j,children:t.jsxs(R$,{required:w,scope:s,trigger:S,onTriggerChange:E,valueNode:T,onValueNodeChange:C,valueNodeHasChildren:I,onValueNodeHasChildrenChange:D,contentId:Zi(),value:z,onValueChange:Q,open:R,onOpenChange:L,dir:A,triggerPointerDownPosRef:K,disabled:v,children:[t.jsx(Eg.Provider,{scope:s,children:t.jsx(O$,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(F=>{H(q=>new Set(q).add(F))},[]),onNativeOptionRemove:x.useCallback(F=>{H(q=>{const W=new Set(q);return W.delete(F),W})},[]),children:n})}),J?t.jsxs(PI,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:g,value:z,onChange:F=>Q(F.target.value),disabled:v,form:N,children:[z===void 0?t.jsx("option",{value:""}):null,Array.from(de)]},ie):null]})})};cI.displayName=bc;var dI="SelectTrigger",uI=x.forwardRef((e,s)=>{const{__scopeSelect:n,disabled:a=!1,...r}=e,l=Dg(n),c=yl(dI,n),u=c.disabled||a,m=Ms(s,c.onTriggerChange),f=Ag(n),p=x.useRef("touch"),[g,v,w]=RI(j=>{const S=f().filter(C=>!C.disabled),E=S.find(C=>C.value===c.value),T=OI(S,j,E);T!==void 0&&c.onValueChange(T.value)}),N=j=>{u||(c.onOpenChange(!0),w()),j&&(c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return t.jsx(tj,{asChild:!0,...l,children:t.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":II(c.value)?"":void 0,...r,ref:m,onClick:At(r.onClick,j=>{j.currentTarget.focus(),p.current!=="mouse"&&N(j)}),onPointerDown:At(r.onPointerDown,j=>{p.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(N(j),j.preventDefault())}),onKeyDown:At(r.onKeyDown,j=>{const S=g.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&v(j.key),!(S&&j.key===" ")&&D$.includes(j.key)&&(N(),j.preventDefault())})})})});uI.displayName=dI;var hI="SelectValue",mI=x.forwardRef((e,s)=>{const{__scopeSelect:n,className:a,style:r,children:l,placeholder:c="",...u}=e,m=yl(hI,n),{onValueNodeHasChildrenChange:f}=m,p=l!==void 0,g=Ms(s,m.onValueNodeChange);return Oa(()=>{f(p)},[f,p]),t.jsx(Ot.span,{...u,ref:g,style:{pointerEvents:"none"},children:II(m.value)?t.jsx(t.Fragment,{children:c}):l})});mI.displayName=hI;var _$="SelectIcon",fI=x.forwardRef((e,s)=>{const{__scopeSelect:n,children:a,...r}=e;return t.jsx(Ot.span,{"aria-hidden":!0,...r,ref:s,children:a||""})});fI.displayName=_$;var L$="SelectPortal",pI=e=>t.jsx(rm,{asChild:!0,...e});pI.displayName=L$;var wc="SelectContent",gI=x.forwardRef((e,s)=>{const n=yl(wc,e.__scopeSelect),[a,r]=x.useState();if(Oa(()=>{r(new DocumentFragment)},[]),!n.open){const l=a;return l?nu.createPortal(t.jsx(xI,{scope:e.__scopeSelect,children:t.jsx(Eg.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),l):null}return t.jsx(yI,{...e,ref:s})});gI.displayName=wc;var _r=10,[xI,vl]=pu(wc),F$="SelectContentImpl",U$=xc("SelectContent.RemoveScroll"),yI=x.forwardRef((e,s)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:m,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:N,hideWhenDetached:j,avoidCollisions:S,...E}=e,T=yl(wc,n),[C,I]=x.useState(null),[D,A]=x.useState(null),R=Ms(s,le=>I(le)),[L,z]=x.useState(null),[Q,K]=x.useState(null),J=Ag(n),[de,H]=x.useState(!1),ie=x.useRef(!1);x.useEffect(()=>{if(C)return ew(C)},[C]),Zb();const F=x.useCallback(le=>{const[ye,...ke]=J().map(je=>je.ref.current),[Y]=ke.slice(-1),ge=document.activeElement;for(const je of le)if(je===ge||(je==null||je.scrollIntoView({block:"nearest"}),je===ye&&D&&(D.scrollTop=0),je===Y&&D&&(D.scrollTop=D.scrollHeight),je==null||je.focus(),document.activeElement!==ge))return},[J,D]),q=x.useCallback(()=>F([L,C]),[F,L,C]);x.useEffect(()=>{de&&q()},[de,q]);const{onOpenChange:W,triggerPointerDownPosRef:he}=T;x.useEffect(()=>{if(C){let le={x:0,y:0};const ye=Y=>{var ge,je;le={x:Math.abs(Math.round(Y.pageX)-(((ge=he.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(Y.pageY)-(((je=he.current)==null?void 0:je.y)??0))}},ke=Y=>{le.x<=10&&le.y<=10?Y.preventDefault():C.contains(Y.target)||W(!1),document.removeEventListener("pointermove",ye),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",ke,{capture:!0})}}},[C,W,he]),x.useEffect(()=>{const le=()=>W(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[W]);const[$,M]=RI(le=>{const ye=J().filter(ge=>!ge.disabled),ke=ye.find(ge=>ge.ref.current===document.activeElement),Y=OI(ye,le,ke);Y&&setTimeout(()=>Y.ref.current.focus())}),V=x.useCallback((le,ye,ke)=>{const Y=!ie.current&&!ke;(T.value!==void 0&&T.value===ye||Y)&&(z(le),Y&&(ie.current=!0))},[T.value]),G=x.useCallback(()=>C==null?void 0:C.focus(),[C]),B=x.useCallback((le,ye,ke)=>{const Y=!ie.current&&!ke;(T.value!==void 0&&T.value===ye||Y)&&K(le)},[T.value]),ce=a==="popper"?mb:vI,pe=ce===mb?{side:u,sideOffset:m,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:N,hideWhenDetached:j,avoidCollisions:S}:{};return t.jsx(xI,{scope:n,content:C,viewport:D,onViewportChange:A,itemRefCallback:V,selectedItem:L,onItemLeave:G,itemTextRefCallback:B,focusSelectedItem:q,selectedItemText:Q,position:a,isPositioned:de,searchRef:$,children:t.jsx(xg,{as:U$,allowPinchZoom:!0,children:t.jsx(pg,{asChild:!0,trapped:T.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:At(r,le=>{var ye;(ye=T.trigger)==null||ye.focus({preventScroll:!0}),le.preventDefault()}),children:t.jsx(nm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:t.jsx(ce,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:le=>le.preventDefault(),...E,...pe,onPlaced:()=>H(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:At(E.onKeyDown,le=>{const ye=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ye&&le.key.length===1&&M(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Y=J().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ge=le.target,je=Y.indexOf(ge);Y=Y.slice(je+1)}setTimeout(()=>F(Y)),le.preventDefault()}})})})})})})});yI.displayName=F$;var V$="SelectItemAlignedPosition",vI=x.forwardRef((e,s)=>{const{__scopeSelect:n,onPlaced:a,...r}=e,l=yl(wc,n),c=vl(wc,n),[u,m]=x.useState(null),[f,p]=x.useState(null),g=Ms(s,R=>p(R)),v=Ag(n),w=x.useRef(!1),N=x.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:E,focusSelectedItem:T}=c,C=x.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&f&&j&&S&&E){const R=l.trigger.getBoundingClientRect(),L=f.getBoundingClientRect(),z=l.valueNode.getBoundingClientRect(),Q=E.getBoundingClientRect();if(l.dir!=="rtl"){const ge=Q.left-L.left,je=z.left-ge,Oe=R.left-je,_e=R.width+Oe,Pe=Math.max(_e,L.width),ze=window.innerWidth-_r,Ue=p2(je,[_r,Math.max(_r,ze-Pe)]);u.style.minWidth=_e+"px",u.style.left=Ue+"px"}else{const ge=L.right-Q.right,je=window.innerWidth-z.right-ge,Oe=window.innerWidth-R.right-je,_e=R.width+Oe,Pe=Math.max(_e,L.width),ze=window.innerWidth-_r,Ue=p2(je,[_r,Math.max(_r,ze-Pe)]);u.style.minWidth=_e+"px",u.style.right=Ue+"px"}const K=v(),J=window.innerHeight-_r*2,de=j.scrollHeight,H=window.getComputedStyle(f),ie=parseInt(H.borderTopWidth,10),F=parseInt(H.paddingTop,10),q=parseInt(H.borderBottomWidth,10),W=parseInt(H.paddingBottom,10),he=ie+F+de+W+q,$=Math.min(S.offsetHeight*5,he),M=window.getComputedStyle(j),V=parseInt(M.paddingTop,10),G=parseInt(M.paddingBottom,10),B=R.top+R.height/2-_r,ce=J-B,pe=S.offsetHeight/2,le=S.offsetTop+pe,ye=ie+F+le,ke=he-ye;if(ye<=B){const ge=K.length>0&&S===K[K.length-1].ref.current;u.style.bottom="0px";const je=f.clientHeight-j.offsetTop-j.offsetHeight,Oe=Math.max(ce,pe+(ge?G:0)+je+q),_e=ye+Oe;u.style.height=_e+"px"}else{const ge=K.length>0&&S===K[0].ref.current;u.style.top="0px";const Oe=Math.max(B,ie+j.offsetTop+(ge?V:0)+pe)+ke;u.style.height=Oe+"px",j.scrollTop=ye-B+j.offsetTop}u.style.margin=`${_r}px 0`,u.style.minHeight=$+"px",u.style.maxHeight=J+"px",a==null||a(),requestAnimationFrame(()=>w.current=!0)}},[v,l.trigger,l.valueNode,u,f,j,S,E,l.dir,a]);Oa(()=>C(),[C]);const[I,D]=x.useState();Oa(()=>{f&&D(window.getComputedStyle(f).zIndex)},[f]);const A=x.useCallback(R=>{R&&N.current===!0&&(C(),T==null||T(),N.current=!1)},[C,T]);return t.jsx(z$,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:w,onScrollButtonChange:A,children:t.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:t.jsx(Ot.div,{...r,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});vI.displayName=V$;var B$="SelectPopperPosition",mb=x.forwardRef((e,s)=>{const{__scopeSelect:n,align:a="start",collisionPadding:r=_r,...l}=e,c=Dg(n);return t.jsx(iI,{...c,...l,ref:s,align:a,collisionPadding:r,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mb.displayName=B$;var[z$,sj]=pu(wc,{}),fb="SelectViewport",bI=x.forwardRef((e,s)=>{const{__scopeSelect:n,nonce:a,...r}=e,l=vl(fb,n),c=sj(fb,n),u=Ms(s,l.onViewportChange),m=x.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(Eg.Slot,{scope:n,children:t.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:At(r.onScroll,f=>{const p=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&g){const w=Math.abs(m.current-p.scrollTop);if(w>0){const N=window.innerHeight-_r*2,j=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),E=Math.max(j,S);if(E<N){const T=E+w,C=Math.min(N,T),I=T-C;g.style.height=C+"px",g.style.bottom==="0px"&&(p.scrollTop=I>0?I:0,g.style.justifyContent="flex-end")}}}m.current=p.scrollTop})})})]})});bI.displayName=fb;var wI="SelectGroup",[q$,$$]=pu(wI),H$=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e,r=Zi();return t.jsx(q$,{scope:n,id:r,children:t.jsx(Ot.div,{role:"group","aria-labelledby":r,...a,ref:s})})});H$.displayName=wI;var jI="SelectLabel",G$=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e,r=$$(jI,n);return t.jsx(Ot.div,{id:r.id,...a,ref:s})});G$.displayName=jI;var Zp="SelectItem",[Y$,NI]=pu(Zp),SI=x.forwardRef((e,s)=>{const{__scopeSelect:n,value:a,disabled:r=!1,textValue:l,...c}=e,u=yl(Zp,n),m=vl(Zp,n),f=u.value===a,[p,g]=x.useState(l??""),[v,w]=x.useState(!1),N=Ms(s,T=>{var C;return(C=m.itemRefCallback)==null?void 0:C.call(m,T,a,r)}),j=Zi(),S=x.useRef("touch"),E=()=>{r||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(Y$,{scope:n,value:a,disabled:r,textId:j,isSelected:f,onItemTextChange:x.useCallback(T=>{g(C=>C||((T==null?void 0:T.textContent)??"").trim())},[]),children:t.jsx(Eg.ItemSlot,{scope:n,value:a,disabled:r,textValue:p,children:t.jsx(Ot.div,{role:"option","aria-labelledby":j,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...c,ref:N,onFocus:At(c.onFocus,()=>w(!0)),onBlur:At(c.onBlur,()=>w(!1)),onClick:At(c.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:At(c.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:At(c.onPointerDown,T=>{S.current=T.pointerType}),onPointerMove:At(c.onPointerMove,T=>{var C;S.current=T.pointerType,r?(C=m.onItemLeave)==null||C.call(m):S.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:At(c.onPointerLeave,T=>{var C;T.currentTarget===document.activeElement&&((C=m.onItemLeave)==null||C.call(m))}),onKeyDown:At(c.onKeyDown,T=>{var I;((I=m.searchRef)==null?void 0:I.current)!==""&&T.key===" "||(P$.includes(T.key)&&E(),T.key===" "&&T.preventDefault())})})})})});SI.displayName=Zp;var Nh="SelectItemText",CI=x.forwardRef((e,s)=>{const{__scopeSelect:n,className:a,style:r,...l}=e,c=yl(Nh,n),u=vl(Nh,n),m=NI(Nh,n),f=M$(Nh,n),[p,g]=x.useState(null),v=Ms(s,E=>g(E),m.onItemTextChange,E=>{var T;return(T=u.itemTextRefCallback)==null?void 0:T.call(u,E,m.value,m.disabled)}),w=p==null?void 0:p.textContent,N=x.useMemo(()=>t.jsx("option",{value:m.value,disabled:m.disabled,children:w},m.value),[m.disabled,m.value,w]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=f;return Oa(()=>(j(N),()=>S(N)),[j,S,N]),t.jsxs(t.Fragment,{children:[t.jsx(Ot.span,{id:m.textId,...l,ref:v}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?nu.createPortal(l.children,c.valueNode):null]})});CI.displayName=Nh;var TI="SelectItemIndicator",kI=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e;return NI(TI,n).isSelected?t.jsx(Ot.span,{"aria-hidden":!0,...a,ref:s}):null});kI.displayName=TI;var pb="SelectScrollUpButton",EI=x.forwardRef((e,s)=>{const n=vl(pb,e.__scopeSelect),a=sj(pb,e.__scopeSelect),[r,l]=x.useState(!1),c=Ms(s,a.onScrollButtonChange);return Oa(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollTop>0;l(f)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),r?t.jsx(DI,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop-m.offsetHeight)}}):null});EI.displayName=pb;var gb="SelectScrollDownButton",AI=x.forwardRef((e,s)=>{const n=vl(gb,e.__scopeSelect),a=sj(gb,e.__scopeSelect),[r,l]=x.useState(!1),c=Ms(s,a.onScrollButtonChange);return Oa(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollHeight-m.clientHeight,p=Math.ceil(m.scrollTop)<f;l(p)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),r?t.jsx(DI,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop+m.offsetHeight)}}):null});AI.displayName=gb;var DI=x.forwardRef((e,s)=>{const{__scopeSelect:n,onAutoScroll:a,...r}=e,l=vl("SelectScrollButton",n),c=x.useRef(null),u=Ag(n),m=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>m(),[m]),Oa(()=>{var p;const f=u().find(g=>g.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),t.jsx(Ot.div,{"aria-hidden":!0,...r,ref:s,style:{flexShrink:0,...r.style},onPointerDown:At(r.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:At(r.onPointerMove,()=>{var f;(f=l.onItemLeave)==null||f.call(l),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:At(r.onPointerLeave,()=>{m()})})}),W$="SelectSeparator",K$=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e;return t.jsx(Ot.div,{"aria-hidden":!0,...a,ref:s})});K$.displayName=W$;var xb="SelectArrow",Q$=x.forwardRef((e,s)=>{const{__scopeSelect:n,...a}=e,r=Dg(n),l=yl(xb,n),c=vl(xb,n);return l.open&&c.position==="popper"?t.jsx(oI,{...r,...a,ref:s}):null});Q$.displayName=xb;var J$="SelectBubbleInput",PI=x.forwardRef(({__scopeSelect:e,value:s,...n},a)=>{const r=x.useRef(null),l=Ms(a,r),c=lI(s);return x.useEffect(()=>{const u=r.current;if(!u)return;const m=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==s&&p){const g=new Event("change",{bubbles:!0});p.call(u,s),u.dispatchEvent(g)}},[c,s]),t.jsx(Ot.select,{...n,style:{...SE,...n.style},ref:l,defaultValue:s})});PI.displayName=J$;function II(e){return e===""||e===void 0}function RI(e){const s=tr(e),n=x.useRef(""),a=x.useRef(0),r=x.useCallback(c=>{const u=n.current+c;s(u),(function m(f){n.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>m(""),1e3))})(u)},[s]),l=x.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,r,l]}function OI(e,s,n){const r=s.length>1&&Array.from(s).every(f=>f===s[0])?s[0]:s,l=n?e.indexOf(n):-1;let c=X$(e,Math.max(l,0));r.length===1&&(c=c.filter(f=>f!==n));const m=c.find(f=>f.textValue.toLowerCase().startsWith(r.toLowerCase()));return m!==n?m:void 0}function X$(e,s){return e.map((n,a)=>e[(s+a)%e.length])}var Z$=cI,e9=uI,t9=mI,s9=fI,a9=pI,n9=gI,r9=bI,i9=SI,o9=CI,l9=kI,c9=EI,d9=AI;function st({...e}){return t.jsx(Z$,{"data-slot":"select",...e})}function at({...e}){return t.jsx(t9,{"data-slot":"select-value",...e})}function nt({className:e,size:s="default",children:n,...a}){return t.jsxs(e9,{"data-slot":"select-trigger","data-size":s,className:Xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[n,t.jsx(s9,{asChild:!0,children:t.jsx(Lh,{className:"size-4 opacity-50"})})]})}function rt({className:e,children:s,position:n="popper",...a}){return t.jsx(a9,{children:t.jsxs(n9,{"data-slot":"select-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-[100001] max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[t.jsx(u9,{}),t.jsx(r9,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),t.jsx(h9,{})]})})}function me({className:e,children:s,...n}){return t.jsxs(i9,{"data-slot":"select-item",className:Xe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[t.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:t.jsx(l9,{children:t.jsx(nn,{className:"size-4"})})}),t.jsx(o9,{children:s})]})}function u9({className:e,...s}){return t.jsx(c9,{"data-slot":"select-scroll-up-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(Hb,{className:"size-4"})})}function h9({className:e,...s}){return t.jsx(d9,{"data-slot":"select-scroll-down-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(Lh,{className:"size-4"})})}function m9(){const{user:e}=$s(),{setPageTitle:s}=Er(),{toast:n}=da(),a=za(),{markEssentialStepCompleted:r}=Hw();x.useEffect(()=>{s("Properties","Manage your portfolio")},[s]),x.useEffect(()=>{(e==null?void 0:e.role)==="MANAGER"&&r("view-assigned-properties")},[e==null?void 0:e.role,r]);const[l,c]=x.useState(""),[u,m]=x.useState("all"),[f,p]=x.useState(!1),[g,v]=x.useState(!1),[w,N]=x.useState(!1),[j,S]=x.useState(null),[E,T]=x.useState(null),[C,I]=x.useState(null),[D,A]=x.useState({name:"",type:"hotel",mobileNumber:"",address:{street:"",city:"",state:"",country:"",zipCode:""},amenities:[],capacity:{totalRooms:"",totalBeds:"",maxGuests:""}}),{data:R,isLoading:L,error:z,refetch:Q}=Fr(Ke.PROPERTIES,Sd.PROPERTIES,{staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),K=Dd(Sd.PROPERTIES,"POST",{invalidateQueries:[Ke.PROPERTIES,Ke.DASHBOARD,Ke.ANALYTICS],refetchQueries:[Ke.PROPERTIES],successMessage:"Property created successfully.",errorMessage:"Failed to create property.",onSuccess:()=>{p(!1),he(),a.invalidateQueries({queryKey:[Ke.PROPERTIES]})}}),J=Dd("/properties/:id","PATCH",{invalidateQueries:[Ke.PROPERTIES,Ke.DASHBOARD,Ke.ANALYTICS],refetchQueries:[Ke.PROPERTIES],successMessage:"Property updated successfully.",errorMessage:"Failed to update property.",onSuccess:()=>{v(!1),S(null),a.invalidateQueries({queryKey:[Ke.PROPERTIES]})}}),de=Dd("/properties/:id","DELETE",{invalidateQueries:[Ke.PROPERTIES,Ke.DASHBOARD,Ke.ANALYTICS],refetchQueries:[Ke.PROPERTIES],successMessage:"Property deleted successfully.",onSuccess:()=>{N(!1),T(null),a.invalidateQueries({queryKey:[Ke.PROPERTIES]})}});x.useEffect(()=>{const $=M=>{const V=M.target;!V.closest(".property-menu-trigger")&&!V.closest(".property-menu-content")&&I(null)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]);const ie=((R==null?void 0:R.properties)||[]).filter($=>{var G;if(!$||typeof $!="object")return!1;const M=((G=$.name)==null?void 0:G.toLowerCase().includes(l.toLowerCase()))??!1,V=u==="all"||$.type===u;return M&&V}),F=($,M)=>{const V=String(M||""),G=V.length>0?V.charCodeAt(V.length-1)%4:0;switch($==null?void 0:$.toLowerCase()){case"hostel":return["https://images.unsplash.com/photo-1555854743-e3c2f6a581a?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1596276020587-8044fe049813?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1520277739336-7bf67edfa6c4?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1623625434462-e5e42318ae49?auto=format&fit=crop&q=80&w=800"][G];case"apartment":return["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1493809842364-78817add7ffb?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1512918760383-ed54412dcc55?auto=format&fit=crop&q=80&w=800"][G];case"resort":return"https://images.unsplash.com/photo-1582719508461-905c673771fd?auto=format&fit=crop&q=80&w=800";case"hotel":default:return["https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1596436802099-f722e831847e?auto=format&fit=crop&q=80&w=800"][G]}},q=$=>{if(!$||Object.keys($).length===0)return"No address provided";const{street:M,city:V,state:G}=$;return[M,V,G].filter(Boolean).join(", ")},W=()=>{if(!D.name||!D.type){n({variant:"destructive",title:"Missing fields",description:"Name and Type are required."});return}const $={...D.capacity.totalRooms&&D.capacity.totalRooms!=="0"?{totalRooms:parseInt(D.capacity.totalRooms)}:{},...D.capacity.totalBeds&&D.capacity.totalBeds!=="0"?{totalBeds:parseInt(D.capacity.totalBeds)}:{},...D.capacity.maxGuests&&D.capacity.maxGuests!=="0"?{maxGuests:parseInt(D.capacity.maxGuests)}:{}},M={name:D.name.trim(),type:D.type,mobileNumber:D.mobileNumber.trim(),address:D.address,...D.amenities.length>0?{amenities:D.amenities}:{},...Object.keys($).length>0?{capacity:$}:{}};K.mutate(M)},he=()=>{A({name:"",type:"hotel",mobileNumber:"",address:{street:"",city:"",state:"",country:"",zipCode:""},amenities:[],capacity:{totalRooms:"",totalBeds:"",maxGuests:""}})};return wr("properties",$=>{let M=!1;for(const V of $)(V.eventType==="property_created"||V.eventType==="property_deleted")&&(M=!0),V.eventType==="property_updated"&&a.setQueryData(Ke.PROPERTIES,G=>G!=null&&G.properties?{...G,properties:G.properties.map(B=>{var ce,pe;return B.id===V.entityId?{...B,name:((ce=V.metadata)==null?void 0:ce.name)??B.name,status:((pe=V.metadata)==null?void 0:pe.status)??B.status}:B})}:G);M&&a.invalidateQueries({queryKey:Ke.PROPERTIES})},Os("PROPERTIES_REALTIME_V1",!0)),L?t.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):z?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-red-600"})}),t.jsx("h3",{className:"text-lg font-medium text-red-900",children:"Failed to load properties"}),t.jsxs(se,{onClick:()=>Q(),variant:"outline",className:"mt-4",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"})," Try Again"]})]}):t.jsxs("div",{className:"w-full max-w-full mx-auto pb-24",children:[t.jsxs("div",{className:"pt-safe pt-2 pb-4 md:pb-6 space-y-4 md:space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center px-1",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Properties"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Manage your portfolio"})]})}),t.jsxs("div",{className:"space-y-3 px-1",children:[(e==null?void 0:e.role)==="ADMIN"&&t.jsxs(se,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white h-12 md:h-14 rounded-2xl shadow-lg shadow-blue-500/20 active:scale-[0.98] transition-all duration-200 font-semibold text-base md:text-lg flex items-center justify-center gap-2",onClick:()=>p(!0),children:[t.jsx(r_,{className:"h-5 w-5 md:h-6 md:w-6"}),"Add New Property"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Mp,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx(ve,{id:"search-properties",value:l,onChange:$=>c($.target.value),placeholder:"Filter properties by name...",className:"pl-12 bg-white border-gray-200 shadow-sm rounded-2xl h-12 text-base focus-visible:ring-blue-500/20"})]})]}),t.jsx("div",{className:"flex space-x-2 overflow-x-auto no-scrollbar py-2 px-1 -mx-4 sm:mx-0 px-4 sm:px-1",children:["all","hotel","hostel","apartment","resort"].map($=>t.jsx("button",{onClick:()=>m($),className:`flex-none px-6 py-2.5 rounded-full text-sm font-medium shadow-sm whitespace-nowrap transition-colors duration-200 ${u===$?"bg-gray-900 text-white dark:bg-white dark:text-gray-900 ring-2 ring-gray-900 dark:ring-white ring-offset-2":"bg-white text-gray-600 ring-1 ring-inset ring-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:ring-gray-700 dark:text-gray-300"}`,children:$==="all"?"All":$.charAt(0).toUpperCase()+$.slice(1)+"s"},$))})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 px-1 pb-safe",children:ie.length===0?t.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-3xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(KE,{className:"h-8 w-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No properties found"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Try adjusting your filters"})]}):ie.map($=>{var M,V,G;return t.jsxs("article",{className:"bg-white dark:bg-gray-900 rounded-3xl overflow-hidden shadow-card border border-gray-100 dark:border-gray-800 group hover:shadow-soft active:scale-[0.99] transition-all duration-200 relative flex flex-col",children:[t.jsxs("div",{className:"relative h-40 sm:h-48 w-full overflow-hidden",children:[t.jsx("img",{src:F($.type,$.id),alt:$.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md shadow-sm ${$.status==="active"?"bg-white/90 text-green-700":"bg-white/90 text-gray-600"}`,children:[t.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${$.status==="active"?"bg-green-500":"bg-gray-400"}`}),((M=$.status)==null?void 0:M.toUpperCase())||"INACTIVE"]})}),t.jsxs("div",{className:"absolute bottom-4 left-5 right-5 z-10",children:[t.jsx("span",{className:"text-xs font-bold text-white/90 uppercase tracking-wider mb-1 block shadow-black/50 drop-shadow-sm",children:$.type}),t.jsx("h2",{className:"text-2xl font-bold text-white leading-tight drop-shadow-md",children:$.name})]})]}),t.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex items-start gap-2.5 text-gray-500 dark:text-gray-400",children:[t.jsx(QE,{className:"h-5 w-5 mt-0.5 text-gray-400 flex-shrink-0"}),t.jsx("p",{className:"text-sm font-medium leading-relaxed line-clamp-2",children:q($.addressJson)})]}),t.jsxs("div",{className:"relative property-menu-trigger",children:[t.jsx("button",{onClick:B=>{B.stopPropagation(),I(C===$.id?null:$.id)},className:"p-2 -mr-2 -mt-2 text-gray-400 hover:text-gray-700 rounded-full hover:bg-gray-100 transition-colors",children:t.jsx(av,{className:"h-5 w-5"})}),C===$.id&&t.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white rounded-xl shadow-xl border border-gray-100 py-1 z-30 property-menu-content animate-in fade-in zoom-in-95 duration-100",children:[t.jsxs("button",{onClick:B=>{B.stopPropagation(),S($),v(!0),I(null)},className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[t.jsx(pp,{className:"h-4 w-4 text-blue-500"})," Edit"]}),(e==null?void 0:e.role)==="ADMIN"&&t.jsxs("button",{onClick:B=>{B.stopPropagation(),T($),N(!0),I(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[t.jsx(jn,{className:"h-4 w-4"})," Delete"]})]})]})]}),t.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-100 dark:border-gray-800 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-600 dark:text-gray-300",children:[$.type==="hostel"?t.jsx(F6,{className:"h-5 w-5 text-gray-400"}):t.jsx(ca,{className:"h-5 w-5 text-gray-400"}),t.jsxs("span",{children:[((V=$.capacityJson)==null?void 0:V.totalBeds)||((G=$.capacityJson)==null?void 0:G.totalRooms)||0," ",$.type==="hostel"?"Beds":"Rooms"]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-bold text-gray-700 dark:text-gray-200",children:[t.jsx(eA,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"}),t.jsx("span",{children:Math.max(4.5,4+$.name.length%10/10).toFixed(1)})]})]})]})]},$.id)})}),L&&t.jsx("div",{className:"flex justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),t.jsx(bs,{open:f,onOpenChange:p,children:t.jsxs(Es,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(ia,{children:[t.jsx(Bs,{children:"Add New Property"}),t.jsx(xa,{children:"Create a new property for your portfolio"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Property Name *"}),t.jsx(ve,{value:D.name,onChange:$=>A(M=>({...M,name:$.target.value})),placeholder:"Grand Hotel"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Type *"}),t.jsxs(st,{value:D.type,onValueChange:$=>A(M=>({...M,type:$})),children:[t.jsx(nt,{children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"hotel",children:"Hotel"}),t.jsx(me,{value:"hostel",children:"Hostel"}),t.jsx(me,{value:"resort",children:"Resort"}),t.jsx(me,{value:"apartment",children:"Apartment"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Mobile Number *"}),t.jsx(ve,{value:D.mobileNumber,onChange:$=>A(M=>({...M,mobileNumber:$.target.value})),placeholder:"+91..."})]}),t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsx(ee,{className:"font-semibold text-base",children:"Address"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(ve,{placeholder:"Street",value:D.address.street,onChange:$=>A(M=>({...M,address:{...M.address,street:$.target.value}}))}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(ve,{placeholder:"City",value:D.address.city,onChange:$=>A(M=>({...M,address:{...M.address,city:$.target.value}}))}),t.jsx(ve,{placeholder:"State",value:D.address.state,onChange:$=>A(M=>({...M,address:{...M.address,state:$.target.value}}))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(ve,{placeholder:"Country",value:D.address.country,onChange:$=>A(M=>({...M,address:{...M.address,country:$.target.value}}))}),t.jsx(ve,{placeholder:"ZIP",value:D.address.zipCode,onChange:$=>A(M=>({...M,address:{...M.address,zipCode:$.target.value}}))})]})]})]}),t.jsxs("div",{className:"space-y-2 pt-2",children:[t.jsx(ee,{children:"Capacity"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(ve,{type:"number",placeholder:"Rooms",value:D.capacity.totalRooms,onChange:$=>A(M=>({...M,capacity:{...M.capacity,totalRooms:$.target.value}}))}),t.jsx(ve,{type:"number",placeholder:"Beds",value:D.capacity.totalBeds,onChange:$=>A(M=>({...M,capacity:{...M.capacity,totalBeds:$.target.value}}))}),t.jsx(ve,{type:"number",placeholder:"Max Guests",value:D.capacity.maxGuests,onChange:$=>A(M=>({...M,capacity:{...M.capacity,maxGuests:$.target.value}}))})]})]})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),t.jsx(se,{onClick:W,className:"bg-blue-600 hover:bg-blue-700",children:"Create Property"})]})]})}),t.jsx(bs,{open:g,onOpenChange:v,children:t.jsxs(Es,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(ia,{children:t.jsx(Bs,{children:"Edit Property"})}),j&&t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Name"}),t.jsx(ve,{value:j.name,onChange:$=>S(M=>({...M,name:$.target.value}))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Status"}),t.jsxs(st,{value:j.status,onValueChange:$=>S(M=>({...M,status:$})),children:[t.jsx(nt,{children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"active",children:"Active"}),t.jsx(me,{value:"inactive",children:"Inactive"}),t.jsx(me,{value:"archived",children:"Archived"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Mobile"}),t.jsx(ve,{value:j.mobileNumber||"",onChange:$=>S(M=>({...M,mobileNumber:$.target.value}))})]})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),t.jsx(se,{onClick:()=>J.mutate(j),className:"bg-blue-600",children:"Save Changes"})]})]})}),t.jsx(bs,{open:w,onOpenChange:N,children:t.jsxs(Es,{children:[t.jsxs(ia,{children:[t.jsx(Bs,{children:"Delete Property"}),t.jsxs(xa,{children:["Are you sure you want to delete ",t.jsx("strong",{children:E==null?void 0:E.name}),"? This cannot be undone."]})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),t.jsx(se,{variant:"destructive",onClick:()=>de.mutate({id:E==null?void 0:E.id}),children:"Delete"})]})]})})]})}function Br({className:e,...s}){return t.jsx("textarea",{"data-slot":"textarea",className:Xe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}function aj({...e}){return t.jsx(QA,{"data-slot":"sheet",...e})}function MI({...e}){return t.jsx(JA,{"data-slot":"sheet-trigger",...e})}function f9({...e}){return t.jsx(nw,{"data-slot":"sheet-close",...e})}function p9({...e}){return t.jsx(XA,{"data-slot":"sheet-portal",...e})}function g9({className:e,...s}){return t.jsx(ZA,{"data-slot":"sheet-overlay",className:Xe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/20 backdrop-blur-sm",e),...s})}function nj({className:e,children:s,side:n="right",...a}){return t.jsxs(p9,{children:[t.jsx(g9,{}),t.jsxs(eD,{"data-slot":"sheet-content",className:Xe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-2xl transition ease-[cubic-bezier(0.32,0.72,0,1)] data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t shadow-[0_-8px_30px_rgba(0,0,0,0.12)] rounded-t-[26px] max-h-[96vh]",e),...a,children:[s,t.jsx(nw,{asChild:!0,className:"absolute top-4 right-4 focus:outline-hidden disabled:pointer-events-none data-[state=open]:bg-secondary",children:t.jsx(rw,{})})]})]})}function rj({className:e,...s}){return t.jsx("div",{"data-slot":"sheet-header",className:Xe("flex flex-col gap-1.5 p-4",e),...s})}function x9({className:e,...s}){return t.jsx("div",{"data-slot":"sheet-footer",className:Xe("mt-auto flex flex-col gap-2 p-4",e),...s})}function eg({className:e,...s}){return t.jsx(tD,{"data-slot":"sheet-title",className:Xe("text-foreground font-semibold",e),...s})}function ij({className:e,...s}){return t.jsx(sD,{"data-slot":"sheet-description",className:Xe("text-muted-foreground text-sm",e),...s})}var y0={exports:{}},v0,k2;function y9(){if(k2)return v0;k2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return v0=e,v0}var b0,E2;function v9(){if(E2)return b0;E2=1;var e=y9();function s(){}function n(){}return n.resetWarningCache=s,b0=function(){function a(c,u,m,f,p,g){if(g!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}a.isRequired=a;function r(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:r,element:a,elementType:a,instanceOf:r,node:a,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:s};return l.PropTypes=l,l},b0}var A2;function b9(){return A2||(A2=1,y0.exports=v9()()),y0.exports}var w9=b9();const Us=tm(w9),j9=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Jd(e,s,n){const a=N9(e),{webkitRelativePath:r}=e,l=typeof s=="string"?s:typeof r=="string"&&r.length>0?r:`./${e.name}`;return typeof a.path!="string"&&D2(a,"path",l),D2(a,"relativePath",l),a}function N9(e){const{name:s}=e;if(s&&s.lastIndexOf(".")!==-1&&!e.type){const a=s.split(".").pop().toLowerCase(),r=j9.get(a);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function D2(e,s,n){Object.defineProperty(e,s,{value:n,writable:!1,configurable:!1,enumerable:!0})}const S9=[".DS_Store","Thumbs.db"];function C9(e){return Sc(this,void 0,void 0,function*(){return tg(e)&&T9(e.dataTransfer)?D9(e.dataTransfer,e.type):k9(e)?E9(e):Array.isArray(e)&&e.every(s=>"getFile"in s&&typeof s.getFile=="function")?A9(e):[]})}function T9(e){return tg(e)}function k9(e){return tg(e)&&tg(e.target)}function tg(e){return typeof e=="object"&&e!==null}function E9(e){return yb(e.target.files).map(s=>Jd(s))}function A9(e){return Sc(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Jd(n))})}function D9(e,s){return Sc(this,void 0,void 0,function*(){if(e.items){const n=yb(e.items).filter(r=>r.kind==="file");if(s!=="drop")return n;const a=yield Promise.all(n.map(P9));return P2(_I(a))}return P2(yb(e.files).map(n=>Jd(n)))})}function P2(e){return e.filter(s=>S9.indexOf(s.name)===-1)}function yb(e){if(e===null)return[];const s=[];for(let n=0;n<e.length;n++){const a=e[n];s.push(a)}return s}function P9(e){if(typeof e.webkitGetAsEntry!="function")return I2(e);const s=e.webkitGetAsEntry();return s&&s.isDirectory?LI(s):I2(e,s)}function _I(e){return e.reduce((s,n)=>[...s,...Array.isArray(n)?_I(n):[n]],[])}function I2(e,s){return Sc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const l=yield e.getAsFileSystemHandle();if(l===null)throw new Error(`${e} is not a File`);if(l!==void 0){const c=yield l.getFile();return c.handle=l,Jd(c)}}const a=e.getAsFile();if(!a)throw new Error(`${e} is not a File`);return Jd(a,(n=s==null?void 0:s.fullPath)!==null&&n!==void 0?n:void 0)})}function I9(e){return Sc(this,void 0,void 0,function*(){return e.isDirectory?LI(e):R9(e)})}function LI(e){const s=e.createReader();return new Promise((n,a)=>{const r=[];function l(){s.readEntries(c=>Sc(this,void 0,void 0,function*(){if(c.length){const u=Promise.all(c.map(I9));r.push(u),l()}else try{const u=yield Promise.all(r);n(u)}catch(u){a(u)}}),c=>{a(c)})}l()})}function R9(e){return Sc(this,void 0,void 0,function*(){return new Promise((s,n)=>{e.file(a=>{const r=Jd(a,e.fullPath);s(r)},a=>{n(a)})})})}var rp={},R2;function O9(){return R2||(R2=1,rp.__esModule=!0,rp.default=function(e,s){if(e&&s){var n=Array.isArray(s)?s:s.split(",");if(n.length===0)return!0;var a=e.name||"",r=(e.type||"").toLowerCase(),l=r.replace(/\/.*$/,"");return n.some(function(c){var u=c.trim().toLowerCase();return u.charAt(0)==="."?a.toLowerCase().endsWith(u):u.endsWith("/*")?l===u.replace(/\/.*$/,""):r===u})}return!0}),rp}var M9=O9();const w0=tm(M9);function O2(e){return F9(e)||L9(e)||UI(e)||_9()}function _9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F9(e){if(Array.isArray(e))return vb(e)}function M2(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function _2(e){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?M2(Object(n),!0).forEach(function(a){FI(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function FI(e,s,n){return s in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}function Wh(e,s){return B9(e)||V9(e,s)||UI(e,s)||U9()}function U9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UI(e,s){if(e){if(typeof e=="string")return vb(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vb(e,s)}}function vb(e,s){(s==null||s>e.length)&&(s=e.length);for(var n=0,a=new Array(s);n<s;n++)a[n]=e[n];return a}function V9(e,s){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],r=!0,l=!1,c,u;try{for(n=n.call(e);!(r=(c=n.next()).done)&&(a.push(c.value),!(s&&a.length===s));r=!0);}catch(m){l=!0,u=m}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw u}}return a}}function B9(e){if(Array.isArray(e))return e}var z9=typeof w0=="function"?w0:w0.default,q9="file-invalid-type",$9="file-too-large",H9="file-too-small",G9="too-many-files",Y9=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=s.split(","),a=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:q9,message:"File type must be ".concat(a)}},L2=function(s){return{code:$9,message:"File is larger than ".concat(s," ").concat(s===1?"byte":"bytes")}},F2=function(s){return{code:H9,message:"File is smaller than ".concat(s," ").concat(s===1?"byte":"bytes")}},W9={code:G9,message:"Too many files"};function VI(e,s){var n=e.type==="application/x-moz-file"||z9(e,s);return[n,n?null:Y9(s)]}function BI(e,s,n){if(Jl(e.size))if(Jl(s)&&Jl(n)){if(e.size>n)return[!1,L2(n)];if(e.size<s)return[!1,F2(s)]}else{if(Jl(s)&&e.size<s)return[!1,F2(s)];if(Jl(n)&&e.size>n)return[!1,L2(n)]}return[!0,null]}function Jl(e){return e!=null}function K9(e){var s=e.files,n=e.accept,a=e.minSize,r=e.maxSize,l=e.multiple,c=e.maxFiles,u=e.validator;return!l&&s.length>1||l&&c>=1&&s.length>c?!1:s.every(function(m){var f=VI(m,n),p=Wh(f,1),g=p[0],v=BI(m,a,r),w=Wh(v,1),N=w[0],j=u?u(m):null;return g&&N&&!j})}function sg(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ip(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(s){return s==="Files"||s==="application/x-moz-file"}):!!e.target&&!!e.target.files}function U2(e){e.preventDefault()}function Q9(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function J9(e){return e.indexOf("Edge/")!==-1}function X9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Q9(e)||J9(e)}function Zr(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return function(a){for(var r=arguments.length,l=new Array(r>1?r-1:0),c=1;c<r;c++)l[c-1]=arguments[c];return s.some(function(u){return!sg(a)&&u&&u.apply(void 0,[a].concat(l)),sg(a)})}}function Z9(){return"showOpenFilePicker"in window}function eH(e){if(Jl(e)){var s=Object.entries(e).filter(function(n){var a=Wh(n,2),r=a[0],l=a[1],c=!0;return zI(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(l)||!l.every(qI))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,a){var r=Wh(a,2),l=r[0],c=r[1];return _2(_2({},n),{},FI({},l,c))},{});return[{description:"Files",accept:s}]}return e}function tH(e){if(Jl(e))return Object.entries(e).reduce(function(s,n){var a=Wh(n,2),r=a[0],l=a[1];return[].concat(O2(s),[r],O2(l))},[]).filter(function(s){return zI(s)||qI(s)}).join(",")}function sH(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function aH(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function zI(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function qI(e){return/^.*\.[\w]+$/.test(e)}var nH=["children"],rH=["open"],iH=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],oH=["refKey","onChange","onClick"];function lH(e){return uH(e)||dH(e)||$I(e)||cH()}function cH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uH(e){if(Array.isArray(e))return bb(e)}function j0(e,s){return fH(e)||mH(e,s)||$I(e,s)||hH()}function hH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $I(e,s){if(e){if(typeof e=="string")return bb(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bb(e,s)}}function bb(e,s){(s==null||s>e.length)&&(s=e.length);for(var n=0,a=new Array(s);n<s;n++)a[n]=e[n];return a}function mH(e,s){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],r=!0,l=!1,c,u;try{for(n=n.call(e);!(r=(c=n.next()).done)&&(a.push(c.value),!(s&&a.length===s));r=!0);}catch(m){l=!0,u=m}finally{try{!r&&n.return!=null&&n.return()}finally{if(l)throw u}}return a}}function fH(e){if(Array.isArray(e))return e}function V2(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function aa(e){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?V2(Object(n),!0).forEach(function(a){wb(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function wb(e,s,n){return s in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}function ag(e,s){if(e==null)return{};var n=pH(e,s),a,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pH(e,s){if(e==null)return{};var n={},a=Object.keys(e),r,l;for(l=0;l<a.length;l++)r=a[l],!(s.indexOf(r)>=0)&&(n[r]=e[r]);return n}var oj=x.forwardRef(function(e,s){var n=e.children,a=ag(e,nH),r=GI(a),l=r.open,c=ag(r,rH);return x.useImperativeHandle(s,function(){return{open:l}},[l]),qe.createElement(x.Fragment,null,n(aa(aa({},c),{},{open:l})))});oj.displayName="Dropzone";var HI={disabled:!1,getFilesFromEvent:C9,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};oj.defaultProps=HI;oj.propTypes={children:Us.func,accept:Us.objectOf(Us.arrayOf(Us.string)),multiple:Us.bool,preventDropOnDocument:Us.bool,noClick:Us.bool,noKeyboard:Us.bool,noDrag:Us.bool,noDragEventsBubbling:Us.bool,minSize:Us.number,maxSize:Us.number,maxFiles:Us.number,disabled:Us.bool,getFilesFromEvent:Us.func,onFileDialogCancel:Us.func,onFileDialogOpen:Us.func,useFsAccessApi:Us.bool,autoFocus:Us.bool,onDragEnter:Us.func,onDragLeave:Us.func,onDragOver:Us.func,onDrop:Us.func,onDropAccepted:Us.func,onDropRejected:Us.func,onError:Us.func,validator:Us.func};var jb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function GI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=aa(aa({},HI),e),n=s.accept,a=s.disabled,r=s.getFilesFromEvent,l=s.maxSize,c=s.minSize,u=s.multiple,m=s.maxFiles,f=s.onDragEnter,p=s.onDragLeave,g=s.onDragOver,v=s.onDrop,w=s.onDropAccepted,N=s.onDropRejected,j=s.onFileDialogCancel,S=s.onFileDialogOpen,E=s.useFsAccessApi,T=s.autoFocus,C=s.preventDropOnDocument,I=s.noClick,D=s.noKeyboard,A=s.noDrag,R=s.noDragEventsBubbling,L=s.onError,z=s.validator,Q=x.useMemo(function(){return tH(n)},[n]),K=x.useMemo(function(){return eH(n)},[n]),J=x.useMemo(function(){return typeof S=="function"?S:B2},[S]),de=x.useMemo(function(){return typeof j=="function"?j:B2},[j]),H=x.useRef(null),ie=x.useRef(null),F=x.useReducer(gH,jb),q=j0(F,2),W=q[0],he=q[1],$=W.isFocused,M=W.isFileDialogActive,V=x.useRef(typeof window<"u"&&window.isSecureContext&&E&&Z9()),G=function(){!V.current&&M&&setTimeout(function(){if(ie.current){var lt=ie.current.files;lt.length||(he({type:"closeDialog"}),de())}},300)};x.useEffect(function(){return window.addEventListener("focus",G,!1),function(){window.removeEventListener("focus",G,!1)}},[ie,M,de,V]);var B=x.useRef([]),ce=function(lt){H.current&&H.current.contains(lt.target)||(lt.preventDefault(),B.current=[])};x.useEffect(function(){return C&&(document.addEventListener("dragover",U2,!1),document.addEventListener("drop",ce,!1)),function(){C&&(document.removeEventListener("dragover",U2),document.removeEventListener("drop",ce))}},[H,C]),x.useEffect(function(){return!a&&T&&H.current&&H.current.focus(),function(){}},[H,T,a]);var pe=x.useCallback(function(Fe){L?L(Fe):console.error(Fe)},[L]),le=x.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),Tt(Fe),B.current=[].concat(lH(B.current),[Fe.target]),ip(Fe)&&Promise.resolve(r(Fe)).then(function(lt){if(!(sg(Fe)&&!R)){var Zt=lt.length,as=Zt>0&&K9({files:lt,accept:Q,minSize:c,maxSize:l,multiple:u,maxFiles:m,validator:z}),es=Zt>0&&!as;he({isDragAccept:as,isDragReject:es,isDragActive:!0,type:"setDraggedFiles"}),f&&f(Fe)}}).catch(function(lt){return pe(lt)})},[r,f,pe,R,Q,c,l,u,m,z]),ye=x.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),Tt(Fe);var lt=ip(Fe);if(lt&&Fe.dataTransfer)try{Fe.dataTransfer.dropEffect="copy"}catch{}return lt&&g&&g(Fe),!1},[g,R]),ke=x.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),Tt(Fe);var lt=B.current.filter(function(as){return H.current&&H.current.contains(as)}),Zt=lt.indexOf(Fe.target);Zt!==-1&&lt.splice(Zt,1),B.current=lt,!(lt.length>0)&&(he({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ip(Fe)&&p&&p(Fe))},[H,p,R]),Y=x.useCallback(function(Fe,lt){var Zt=[],as=[];Fe.forEach(function(es){var ae=VI(es,Q),Ye=j0(ae,2),vt=Ye[0],St=Ye[1],cs=BI(es,c,l),ys=j0(cs,2),Ks=ys[0],bt=ys[1],on=z?z(es):null;if(vt&&Ks&&!on)Zt.push(es);else{var La=[St,bt];on&&(La=La.concat(on)),as.push({file:es,errors:La.filter(function(ln){return ln})})}}),(!u&&Zt.length>1||u&&m>=1&&Zt.length>m)&&(Zt.forEach(function(es){as.push({file:es,errors:[W9]})}),Zt.splice(0)),he({acceptedFiles:Zt,fileRejections:as,isDragReject:as.length>0,type:"setFiles"}),v&&v(Zt,as,lt),as.length>0&&N&&N(as,lt),Zt.length>0&&w&&w(Zt,lt)},[he,u,Q,c,l,m,v,w,N,z]),ge=x.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),Tt(Fe),B.current=[],ip(Fe)&&Promise.resolve(r(Fe)).then(function(lt){sg(Fe)&&!R||Y(lt,Fe)}).catch(function(lt){return pe(lt)}),he({type:"reset"})},[r,Y,pe,R]),je=x.useCallback(function(){if(V.current){he({type:"openDialog"}),J();var Fe={multiple:u,types:K};window.showOpenFilePicker(Fe).then(function(lt){return r(lt)}).then(function(lt){Y(lt,null),he({type:"closeDialog"})}).catch(function(lt){sH(lt)?(de(lt),he({type:"closeDialog"})):aH(lt)?(V.current=!1,ie.current?(ie.current.value=null,ie.current.click()):pe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):pe(lt)});return}ie.current&&(he({type:"openDialog"}),J(),ie.current.value=null,ie.current.click())},[he,J,de,E,Y,pe,K,u]),Oe=x.useCallback(function(Fe){!H.current||!H.current.isEqualNode(Fe.target)||(Fe.key===" "||Fe.key==="Enter"||Fe.keyCode===32||Fe.keyCode===13)&&(Fe.preventDefault(),je())},[H,je]),_e=x.useCallback(function(){he({type:"focus"})},[]),Pe=x.useCallback(function(){he({type:"blur"})},[]),ze=x.useCallback(function(){I||(X9()?setTimeout(je,0):je())},[I,je]),Ue=function(lt){return a?null:lt},He=function(lt){return D?null:Ue(lt)},it=function(lt){return A?null:Ue(lt)},Tt=function(lt){R&&lt.stopPropagation()},yt=x.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},lt=Fe.refKey,Zt=lt===void 0?"ref":lt,as=Fe.role,es=Fe.onKeyDown,ae=Fe.onFocus,Ye=Fe.onBlur,vt=Fe.onClick,St=Fe.onDragEnter,cs=Fe.onDragOver,ys=Fe.onDragLeave,Ks=Fe.onDrop,bt=ag(Fe,iH);return aa(aa(wb({onKeyDown:He(Zr(es,Oe)),onFocus:He(Zr(ae,_e)),onBlur:He(Zr(Ye,Pe)),onClick:Ue(Zr(vt,ze)),onDragEnter:it(Zr(St,le)),onDragOver:it(Zr(cs,ye)),onDragLeave:it(Zr(ys,ke)),onDrop:it(Zr(Ks,ge)),role:typeof as=="string"&&as!==""?as:"presentation"},Zt,H),!a&&!D?{tabIndex:0}:{}),bt)}},[H,Oe,_e,Pe,ze,le,ye,ke,ge,D,A,a]),xs=x.useCallback(function(Fe){Fe.stopPropagation()},[]),va=x.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},lt=Fe.refKey,Zt=lt===void 0?"ref":lt,as=Fe.onChange,es=Fe.onClick,ae=ag(Fe,oH),Ye=wb({accept:Q,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ue(Zr(as,ge)),onClick:Ue(Zr(es,xs)),tabIndex:-1},Zt,ie);return aa(aa({},Ye),ae)}},[ie,n,u,ge,a]);return aa(aa({},W),{},{isFocused:$&&!a,getRootProps:yt,getInputProps:va,rootRef:H,inputRef:ie,open:Ue(je)})}function gH(e,s){switch(s.type){case"focus":return aa(aa({},e),{},{isFocused:!0});case"blur":return aa(aa({},e),{},{isFocused:!1});case"openDialog":return aa(aa({},jb),{},{isFileDialogActive:!0});case"closeDialog":return aa(aa({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return aa(aa({},e),{},{isDragActive:s.isDragActive,isDragAccept:s.isDragAccept,isDragReject:s.isDragReject});case"setFiles":return aa(aa({},e),{},{acceptedFiles:s.acceptedFiles,fileRejections:s.fileRejections,isDragReject:s.isDragReject});case"reset":return aa({},jb);default:return e}}function B2(){}const gd=new Map,xd=new Map,xH=e=>{gd.delete(e),xd.delete(e)};function yH({taskId:e,existingImages:s=[],onImageUpload:n,onImageDelete:a,onImageClick:r,maxImages:l=5,maxSize:c=5,disabled:u=!1,className:m="",compact:f=!1}){const[p,g]=x.useState([]),[v,w]=x.useState(null),[N,j]=x.useState(!1),[S,E]=x.useState(!1),{toast:T}=da(),C=x.useRef(null);x.useEffect(()=>{const H=ie=>{ie.key==="Escape"&&N&&j(!1)};return N&&(document.addEventListener("keydown",H),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",H),document.body.style.overflow="unset"}},[N]);const I=l-s.length-p.length,D=I>0&&!u;x.useEffect(()=>()=>{C.current&&C.current.abort()},[]);const A=x.useCallback(H=>{if(console.log("onDrop called with files:",H.length,"canUpload:",D,"availableSlots:",I,"existingImages:",s.length),!D||H.length===0){console.log("Upload not allowed - canUpload:",D,"files:",H.length),T({variant:"destructive",title:"Upload not allowed",description:`Maximum ${l} images allowed. ${I} slots remaining.`});return}const ie=H.slice(0,I);ie.length<H.length&&T({variant:"destructive",title:"Some files skipped",description:`Only ${ie.length} files uploaded. Maximum ${l} images allowed.`});const F=ie.filter(W=>{const he=W.size/1048576;return he>c?(T({variant:"destructive",title:"File too large",description:`${W.name} is ${he.toFixed(1)}MB. Maximum size is ${c}MB.`}),!1):!0});if(F.length===0)return;const q=F.map(W=>({id:Math.random().toString(36).substr(2,9),file:W,progress:0}));g(W=>[...W,...q]),R(F,q)},[D,I,l,c,n,T]),R=async(H,ie)=>{console.log("handleUpload called with files:",H.length,"uploadingFiles:",ie.length);try{g(q=>q.map(W=>ie.some($=>$.id===W.id)?{...W,progress:5}:W));const F=[];ie.forEach(q=>{const W=setInterval(()=>{g(he=>he.map($=>{if($.id===q.id&&$.progress<85){const M=Math.random()*8+2;return{...$,progress:Math.min($.progress+M,85)}}return $}))},150+Math.random()*100);F.push(W)}),g(q=>q.map(W=>ie.some($=>$.id===W.id)?{...W,progress:15}:W)),await n(e,H),F.forEach(q=>clearInterval(q)),g(q=>q.map(W=>ie.some($=>$.id===W.id)?{...W,progress:100}:W)),setTimeout(()=>{g(q=>q.filter(W=>!ie.some(he=>he.id===W.id)))},2e3),T({title:"Images uploaded successfully",description:`${H.length} image(s) uploaded to task.`})}catch(F){console.error("Upload failed:",F),document.querySelectorAll("[data-progress-interval]").forEach(W=>clearInterval(W)),g(W=>W.map(he=>ie.some(M=>M.id===he.id)?{...he,error:F.message||"Upload failed",progress:0}:he)),T({variant:"destructive",title:"Upload failed",description:F.message||"Failed to upload images. Please try again."})}},L=async H=>{try{await a(e,H),xH(H),T({title:"Image deleted",description:"Image has been removed from task."})}catch(ie){console.error("Delete failed:",ie),T({variant:"destructive",title:"Delete failed",description:ie.message||"Failed to delete image. Please try again."})}},z=(H,ie)=>{console.log("Image clicked:",H,ie),r?r(H,ie):(w({id:H,url:ie}),j(!0),E(!0))},{getRootProps:Q,getInputProps:K,isDragActive:J,open:de}=GI({onDrop:A,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:I,disabled:!D,multiple:!0,noClick:!0,noKeyboard:!1});return f?t.jsxs("div",{className:`space-y-2 ${m}`,children:[D&&t.jsxs("div",{...Q(),className:`
              border-2 border-dashed rounded-lg p-3 text-center cursor-pointer transition-all duration-200
              ${J?"border-blue-400 bg-blue-50 scale-105":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
              ${u?"opacity-50 cursor-not-allowed":""}
            `,onClick:H=>{console.log("Upload area clicked, canUpload:",D,"disabled:",u),!u&&D&&(console.log("Opening file picker..."),de())},children:[t.jsx("input",{...K()}),t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(ul,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm text-gray-600",children:J?"Drop images here":"Click to add images"})]}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[I," of ",l," slots available"]})]}),(s.length>0||p.length>0)&&t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.map(H=>t.jsx(z2,{imageId:H.id,imageName:H.originalName,onImageClick:z,onDelete:()=>L(H.id),isExisting:!0},H.id)),p.map(H=>t.jsx(q2,{file:H,onRemove:()=>{g(ie=>ie.filter(F=>F.id!==H.id))}},H.id))]}),N&&v&&t.jsx(bs,{open:N,onOpenChange:j,children:t.jsx(Es,{className:"max-w-6xl max-h-[95vh] p-0 bg-black/95",children:t.jsxs("div",{className:"relative flex items-center justify-center min-h-[80vh]",children:[t.jsx(se,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 z-20 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",onClick:()=>j(!1),children:t.jsx(Ws,{className:"h-5 w-5"})}),t.jsxs("div",{className:"absolute top-4 left-4 z-20 bg-black/50 text-white px-3 py-2 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium",children:"Task Reference Image"}),t.jsxs("p",{className:"text-xs opacity-75",children:["ID: ",v.id]})]}),t.jsx("div",{className:"relative max-w-full max-h-full",children:t.jsx("img",{src:v.url,alt:"Task reference",className:"max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl",onError:H=>{const ie=H.target;ie.src="/placeholder-image.png"},onLoad:()=>{console.log("Image loaded successfully")}})}),t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-lg text-sm",children:"Click outside or press ESC to close"})]})})})]}):t.jsxs("div",{className:`space-y-4 ${m}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nv,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Reference Images"})]}),t.jsxs(Lt,{variant:"outline",className:"text-xs",children:[s.length+p.length,"/",l]})]}),D&&t.jsxs("div",{...Q(),className:`
            border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all duration-200
            ${J?"border-blue-400 bg-blue-50 scale-105":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
            ${u?"opacity-50 cursor-not-allowed":""}
          `,onClick:H=>{console.log("Full upload area clicked, canUpload:",D,"disabled:",u),!u&&D&&(console.log("Opening file picker from full interface..."),de())},children:[t.jsx("input",{...K()}),t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(ul,{className:"h-8 w-8 text-gray-400"}),t.jsx("div",{className:"text-sm text-gray-600",children:J?"Drop images here":"Drag & drop images or click to select"}),t.jsxs("div",{className:"text-xs text-gray-500",children:[c,"MB max  ",I," of ",l," slots available"]})]})]}),(s.length>0||p.length>0)&&t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.map(H=>t.jsx(z2,{imageId:H.id,imageName:H.originalName,onImageClick:z,onDelete:()=>L(H.id),isExisting:!0},H.id)),p.map(H=>t.jsx(q2,{file:H,onRemove:()=>{g(ie=>ie.filter(F=>F.id!==H.id))}},H.id))]}),N&&v&&t.jsx(bs,{open:N,onOpenChange:j,children:t.jsx(Es,{className:"max-w-7xl max-h-[98vh] p-0 bg-black/98 border-0",children:t.jsxs("div",{className:"relative flex items-center justify-center min-h-[90vh] w-full",children:[t.jsx(se,{variant:"ghost",size:"sm",className:"absolute top-6 right-6 z-30 bg-black/60 text-white hover:bg-black/80 rounded-full w-12 h-12 transition-all duration-200 hover:scale-110",onClick:()=>j(!1),"aria-label":"Close image preview",children:t.jsx(Ws,{className:"h-6 w-6"})}),t.jsxs("div",{className:"absolute top-6 left-6 z-30 bg-black/60 text-white px-4 py-3 rounded-xl backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(nv,{className:"h-4 w-4 text-blue-400"}),t.jsx("p",{className:"text-sm font-semibold",children:"Task Reference Image"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("p",{className:"text-xs text-gray-300",children:["Image ID: ",t.jsx("span",{className:"text-white font-mono",children:v.id})]}),t.jsxs("p",{className:"text-xs text-gray-300",children:["Task ID: ",t.jsx("span",{className:"text-white font-mono",children:e})]})]})]}),t.jsx("div",{className:"relative max-w-full max-h-full flex items-center justify-center p-8",children:t.jsxs("div",{className:"relative group",children:[S&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-xl z-10",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Tn,{className:"h-8 w-8 animate-spin text-white mx-auto mb-2"}),t.jsx("p",{className:"text-white text-sm",children:"Loading image..."})]})}),t.jsx("img",{src:v.url,alt:"Task reference",className:"max-w-full max-h-[85vh] object-contain rounded-xl shadow-2xl transition-all duration-300 group-hover:shadow-3xl cursor-pointer",onError:H=>{const ie=H.target;ie.src="/placeholder-image.png",E(!1)},onLoad:()=>{console.log("Image loaded successfully in preview"),E(!1)},onClick:()=>{const H=document.createElement("a");H.href=v.url,H.download=`task-${e}-image-${v.id}.jpg`,document.body.appendChild(H),H.click(),document.body.removeChild(H)}}),!S&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("div",{className:"bg-black/60 text-white px-3 py-2 rounded-lg text-sm",children:"Click to download"})})]})}),t.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-black/60 text-white px-6 py-3 rounded-xl backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("kbd",{className:"px-2 py-1 bg-white/20 rounded text-xs",children:"ESC"}),t.jsx("span",{children:"Close"})]}),t.jsx("div",{className:"w-px h-4 bg-white/30"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("kbd",{className:"px-2 py-1 bg-white/20 rounded text-xs",children:"Click"}),t.jsx("span",{children:"Outside to close"})]})]})})]})})})]})}function z2({imageId:e,imageName:s,onImageClick:n,onDelete:a,isExisting:r}){const[l,c]=x.useState("/placeholder-image.png"),[u,m]=x.useState(!0),[f,p]=x.useState(!1),[g,v]=x.useState(!1),[w,N]=x.useState(null),j=x.useCallback(async()=>{try{if(console.log("ImageThumbnail: Starting load for imageId:",e),m(!0),p(!1),gd.has(e)){const I=gd.get(e);console.log("ImageThumbnail: Using cached image URL for imageId:",e),c(I),v(!0),m(!1);return}if(xd.has(e)){console.log("ImageThumbnail: Image already being loaded, waiting for existing promise...");const I=await xd.get(e);console.log("ImageThumbnail: Got URL from existing promise:",I),c(I),v(!0),m(!1);return}const{getTaskImageUrl:E}=await Cr(async()=>{const{getTaskImageUrl:I}=await import("./task-images-DdlRgNKv.js");return{getTaskImageUrl:I}},[]),T=E(e);xd.set(e,T),console.log("ImageThumbnail: Calling getTaskImageUrl for imageId:",e);const C=await T;console.log("ImageThumbnail: Successfully loaded image URL for imageId:",e,"URL length:",C.length),gd.set(e,C),console.log("ImageThumbnail: Cached image for imageId:",e,"cache size:",gd.size),xd.delete(e),w&&w.startsWith("blob:")&&URL.revokeObjectURL(w),console.log("ImageThumbnail: Setting image URL and loaded state for imageId:",e),c(C),v(!0),console.log("ImageThumbnail: Image state updated for imageId:",e)}catch(E){console.error("ImageThumbnail: Failed to load image:",E),p(!0),xd.delete(e)}finally{console.log("ImageThumbnail: Finally block reached for imageId:",e,"setting isLoading to false"),m(!1),console.log("ImageThumbnail: isLoading set to false for imageId:",e)}},[e,w]);x.useEffect(()=>{console.log("ImageThumbnail useEffect: isExisting:",r,"loaded:",g,"isLoading:",u,"imageId:",e,"cached:",gd.has(e)),r&&!g?(console.log("ImageThumbnail: Triggering loadImageUrl for imageId:",e),j()):r||(console.log("ImageThumbnail: Not existing image, setting loading to false"),m(!1))},[r,g,e]),x.useEffect(()=>()=>{w&&w.startsWith("blob:")&&URL.revokeObjectURL(w)},[w]);const S=()=>{console.log("Image clicked:",e,l,"hasError:",f,"loaded:",g),!f&&l&&l!=="/placeholder-image.png"&&g?(console.log("Calling onImageClick with:",e,l),n(e,l)):console.log("Image click ignored - hasError:",f,"url:",l,"loaded:",g)};return t.jsxs("div",{className:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[u?t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Tn,{className:"h-6 w-6 animate-spin text-gray-400"})}):f?t.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-red-50",children:[t.jsx(is,{className:"h-6 w-6 text-red-400 mb-1"}),t.jsx("span",{className:"text-xs text-red-600",children:"Error"})]}):t.jsxs(t.Fragment,{children:[t.jsx("img",{src:l,alt:s,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105 cursor-pointer",onError:()=>p(!0),onClick:S}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:S,children:t.jsx(un,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200"})})]}),t.jsx(se,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200",onClick:E=>{E.stopPropagation(),a()},children:t.jsx(jn,{className:"h-3 w-3"})})]})}function q2({file:e,onRemove:s}){const[n,a]=x.useState(""),[r,l]=x.useState(!1),[c,u]=x.useState(""),[m,f]=x.useState("");x.useEffect(()=>{if(e.file){const g=URL.createObjectURL(e.file);return a(g),()=>{URL.revokeObjectURL(g)}}},[e.file]),x.useEffect(()=>{if(e.progress>0&&e.progress<100){const g=e.file.size/1024,v=g*e.progress/100,w=v/2;u(`${w.toFixed(1)} KB/s`);const j=(g-v)/w;f(`${j.toFixed(0)}s`)}},[e.progress,e.file.size]),x.useEffect(()=>{e.progress===100&&!e.error&&(l(!0),setTimeout(()=>l(!1),2e3))},[e.progress,e.error]);const p=g=>{if(g===0)return"0 Bytes";const v=1024,w=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(g)/Math.log(v));return parseFloat((g/Math.pow(v,N)).toFixed(2))+" "+w[N]};return t.jsxs("div",{className:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[n?t.jsx("img",{src:n,alt:e.file.name,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:t.jsx(Tn,{className:"h-6 w-6 animate-spin text-gray-400"})}),t.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center",children:[t.jsx("div",{className:"w-3/4 mb-3",children:t.jsx("div",{className:"bg-white/20 rounded-full h-2 overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-300 ease-out relative",style:{width:`${e.progress}%`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})})}),t.jsxs("div",{className:"text-center text-white",children:[e.progress===100&&r?t.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-2 animate-bounce",children:t.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):t.jsx(Tn,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),t.jsxs("div",{className:"text-sm font-semibold mb-1",children:[e.progress,"%"]}),t.jsx("div",{className:"text-xs text-white/80 mb-1",children:e.file.name}),t.jsx("div",{className:"text-xs text-white/60",children:p(e.file.size)}),e.progress>0&&e.progress<100&&t.jsxs("div",{className:"text-xs text-white/70 mt-2",children:[t.jsx("div",{children:c}),t.jsxs("div",{children:["ETA: ",m]})]}),t.jsx("div",{className:"text-xs text-white/80 mt-2",children:e.progress===100?"Upload complete!":"Uploading..."})]})]}),e.error&&t.jsx("div",{className:"absolute inset-0 bg-red-500/90 backdrop-blur-sm flex flex-col items-center justify-center text-white",children:t.jsxs("div",{className:"text-center",children:[t.jsx(is,{className:"h-8 w-8 mx-auto mb-2 text-red-200"}),t.jsx("div",{className:"text-sm font-medium mb-2",children:"Upload Failed"}),t.jsx("div",{className:"text-xs text-center px-3 mb-3",children:e.error}),t.jsx(se,{variant:"outline",size:"sm",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 text-xs",onClick:g=>{g.stopPropagation(),e.file,console.log("Retry upload for file:",e.file.name)},children:"Retry"})]})}),t.jsx(se,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-7 w-7 rounded-full p-0 opacity-0 group-hover:opacity-100 transition-all duration-200 hover:scale-110",onClick:g=>{g.stopPropagation(),s()},children:t.jsx(Ws,{className:"h-4 w-4"})})]})}const vH="Asia/Kolkata",ph=e=>{if(!e||typeof e!="string")return console.error("formatDateForAPI received invalid input:",e,"Type:",typeof e),new Date().toISOString();if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return console.error("formatDateForAPI received invalid date format:",e),new Date().toISOString();try{const[s,n,a]=e.split("-").map(Number);if(isNaN(s)||isNaN(n)||isNaN(a))return console.error("formatDateForAPI failed to parse date components:",{year:s,month:n,day:a}),new Date().toISOString();const r=new Date(Date.UTC(s,n-1,a,0,0,0,0));return isNaN(r.getTime())?(console.error("formatDateForAPI created invalid date:",r),new Date().toISOString()):r.toISOString()}catch(s){return console.error("formatDateForAPI error:",s,"Input:",e),new Date().toISOString()}},$2=e=>e?new Date(e).toISOString():new Date().toISOString(),ac=()=>{const e=new Date,s=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${s}-${n}-${a}`},N0=e=>{if(!e||typeof e!="string")return console.error("formatDateForInput received invalid input:",e,"Type:",typeof e),new Date().toISOString().split("T")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;try{const s=new Date(e);if(isNaN(s.getTime()))return console.error("formatDateForInput failed to parse date:",e),new Date().toISOString().split("T")[0];const n=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`${n}-${a}-${r}`}catch(s){return console.error("formatDateForInput error:",s,"Input:",e),new Date().toISOString().split("T")[0]}},H2=e=>{if(!e)return"";try{const s=new Date(e);return isNaN(s.getTime())?"Invalid Date":s.toLocaleDateString("en-IN",{timeZone:vH,year:"numeric",month:"2-digit",day:"2-digit"})}catch(s){return console.error("Error formatting date:",s),"Invalid Date"}};function bH({isOpen:e,onOpenChange:s,initialStatus:n="open",onTaskCreated:a,trigger:r}){const{getAuthenticatedBackend:l}=$s(),{toast:c}=da(),u=za(),[m,f]=x.useState({propertyId:"",type:"maintenance",title:"",description:"",priority:"med",dueAt:"",estimatedHours:"",assigneeStaffId:"none"}),[p,g]=x.useState([]);x.useEffect(()=>{e&&(f({propertyId:"",type:"maintenance",title:"",description:"",priority:"med",dueAt:"",estimatedHours:"",assigneeStaffId:"none"}),g([]))},[e]);const{data:v}=Fr(["properties"],"/properties",{staleTime:3e4,gcTime:3e5}),{data:w,isLoading:N}=Fr(["staff","by-property",m.propertyId||"none"],`/staff?propertyId=${m.propertyId}`,{enabled:!!m.propertyId}),j=vs({mutationFn:async T=>{console.log("Creating task with data:",T);const I=await l().tasks.create({propertyId:parseInt(T.propertyId),type:T.type,title:T.title,description:T.description||void 0,priority:T.priority,dueAt:T.dueAt?$2(T.dueAt):void 0,estimatedHours:T.estimatedHours?parseFloat(T.estimatedHours):void 0,assigneeStaffId:T.assigneeStaffId&&T.assigneeStaffId!=="none"?parseInt(T.assigneeStaffId):void 0});if(p.length>0){const D=p.map(A=>A.file);console.log("Images to upload:",D)}return I},onSuccess:T=>{console.log("Task creation successful:",T),u.invalidateQueries({queryKey:["tasks"]}),s(!1),g([]),a&&a(T),c({title:"Task created",description:"The task has been created successfully."})},onError:T=>{console.error("Task creation failed:",T),c({variant:"destructive",title:"Failed to create task",description:T.message||"Please try again."})}}),S=async()=>{if(!m.propertyId||!m.title){c({variant:"destructive",title:"Missing fields",description:"Please fill in the required fields."});return}const T={propertyId:parseInt(m.propertyId),type:m.type,title:m.title,description:m.description||void 0,priority:m.priority,dueAt:m.dueAt?$2(m.dueAt):void 0,estimatedHours:m.estimatedHours?parseFloat(m.estimatedHours):void 0,assigneeStaffId:m.assigneeStaffId&&m.assigneeStaffId!=="none"?parseInt(m.assigneeStaffId):void 0};try{await j.mutateAsync(T)}catch(C){console.error("Failed to create task:",C)}},E=t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(ra,{className:"h-5 w-5 text-blue-600"})}),"Create New Task"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Create a new task for your property operations"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:m.propertyId,onValueChange:T=>f(C=>({...C,propertyId:T,assigneeStaffId:"none"})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:v==null?void 0:v.properties.map(T=>t.jsx(me,{value:T.id.toString(),children:T.name},T.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Assignee"}),t.jsxs(st,{value:m.assigneeStaffId,onValueChange:T=>f(C=>({...C,assigneeStaffId:T})),disabled:!m.propertyId||N,children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:N?"Loading staff...":"Select assignee (optional)"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"none",children:"Unassigned"}),((w==null?void 0:w.staff)||[]).map(T=>t.jsxs(me,{value:T.id.toString(),children:[T.userName," ",T.department?` ${T.department}`:""]},T.id))]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"type",className:"text-sm font-medium text-gray-700",children:"Type"}),t.jsxs(st,{value:m.type,onValueChange:T=>f(C=>({...C,type:T})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"maintenance",children:"Maintenance"}),t.jsx(me,{value:"housekeeping",children:"Housekeeping"}),t.jsx(me,{value:"service",children:"Service"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"priority",className:"text-sm font-medium text-gray-700",children:"Priority"}),t.jsxs(st,{value:m.priority,onValueChange:T=>f(C=>({...C,priority:T})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"low",children:"Low"}),t.jsx(me,{value:"med",children:"Medium"}),t.jsx(me,{value:"high",children:"High"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"title",className:"text-sm font-medium text-gray-700",children:"Title *"}),t.jsx(ve,{id:"title",value:m.title,onChange:T=>f(C=>({...C,title:T.target.value})),placeholder:"Enter task title",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Br,{id:"description",value:m.description,onChange:T=>f(C=>({...C,description:T.target.value})),placeholder:"Enter task description",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"dueAt",className:"text-sm font-medium text-gray-700",children:"Due Date"}),t.jsx(ve,{id:"dueAt",type:"datetime-local",value:m.dueAt,onChange:T=>f(C=>({...C,dueAt:T.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"estimatedHours",className:"text-sm font-medium text-gray-700",children:"Estimated Hours"}),t.jsx(ve,{id:"estimatedHours",type:"number",step:"0.5",value:m.estimatedHours,onChange:T=>f(C=>({...C,estimatedHours:T.target.value})),placeholder:"0",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Reference Images"}),t.jsx(yH,{taskId:0,existingImages:[],onImageUpload:async(T,C)=>{const I=C.map(D=>({id:Math.random().toString(36).substr(2,9),file:D,preview:URL.createObjectURL(D)}));g(I)},onImageDelete:async()=>{},maxImages:5,maxSize:5,disabled:j.isPending,className:"!space-y-2"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),t.jsx(se,{onClick:S,disabled:j.isPending||!m.propertyId||!m.title,className:"bg-blue-600 hover:bg-blue-700",children:j.isPending?t.jsxs(t.Fragment,{children:[t.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Task"})]})})]});return r?t.jsxs(bs,{open:e,onOpenChange:s,children:[t.jsx(qp,{asChild:!0,children:r}),E]}):t.jsx(bs,{open:e,onOpenChange:s,children:E})}function Yi({title:e,value:s,subtitle:n,icon:a,iconColor:r="text-blue-500",iconBgColor:l="bg-blue-50",valueColor:c="text-gray-900",className:u,compact:m=!1}){return t.jsx(Te,{className:Xe("border-none shadow-[0_2px_8px_rgba(0,0,0,0.04)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.06)] transition-all duration-300 bg-white backdrop-blur-xl rounded-3xl",m?"min-w-[85vw] sm:min-w-[240px] flex-shrink-0 snap-center":"",u),children:t.jsxs(Ee,{className:Xe("flex flex-col h-full justify-between",m?"p-5":"p-6"),children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h3",{className:"text-[13px] font-medium text-gray-400 uppercase tracking-wide",children:e}),t.jsx("div",{className:Xe("font-semibold tracking-tighter leading-none",c,m?"text-3xl":"text-4xl"),children:s})]}),t.jsx("div",{className:Xe("p-2 rounded-full flex-shrink-0 opacity-80",l),children:t.jsx(a,{className:Xe("h-5 w-5",r)})})]}),n&&t.jsx("div",{className:"mt-auto pt-2",children:t.jsx("p",{className:"text-xs font-medium text-gray-400 flex items-center gap-1",children:n})})]})})}function wH(){const{getAuthenticatedBackend:e,user:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=Er(),{toast:r}=da(),l=za();x.useEffect(()=>{a("Task Management","Manage and track tasks across properties")},[a]);const[c,u]=x.useState("kanban"),[m,f]=x.useState(!1),[p,g]=x.useState(!1),[v,w]=x.useState(!1),[N,j]=x.useState(null),[S,E]=x.useState(null),[T,C]=x.useState(!1),[I,D]=x.useState(window.innerWidth<768),[A,R]=x.useState({propertyId:"all",type:"all",priority:"all",assignee:"all",search:""}),[L,z]=x.useState({title:"",description:"",priority:"med",status:"open",assigneeStaffId:"none",dueAt:""});x.useEffect(()=>{const Y=()=>D(window.innerWidth<768);return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]);const{data:Q,isLoading:K,refetch:J}=Xt({queryKey:["tasks",A.propertyId,A.type,A.priority,A.assignee],queryFn:async()=>e().tasks.list({propertyId:A.propertyId!=="all"?parseInt(A.propertyId):void 0,type:A.type!=="all"?A.type:void 0,priority:A.priority!=="all"?A.priority:void 0,assignee:A.assignee==="me"?"me":A.assignee!=="all"?parseInt(A.assignee):void 0}),staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:de}=Xt({queryKey:["properties"],queryFn:async()=>e().properties.list({}),staleTime:3e5,gcTime:6e5}),{data:H}=Xt({queryKey:["staff"],queryFn:async()=>e().staff.list({}),staleTime:3e5,gcTime:6e5}),ie=vs({mutationFn:async Y=>e().tasks.update(Y.id,Y.updates),onSuccess:()=>{l.invalidateQueries({queryKey:["tasks"]}),g(!1),j(null),r({title:"Task updated",description:"The task has been updated successfully."})},onError:Y=>{r({variant:"destructive",title:"Failed to update task",description:Y.message||"Please try again."})}}),F=vs({mutationFn:async Y=>e().tasks.deleteTask(Y),onSuccess:()=>{l.invalidateQueries({queryKey:["tasks"]}),w(!1),E(null),r({title:"Task deleted",description:"The task has been deleted successfully."})},onError:Y=>{r({variant:"destructive",title:"Failed to delete task",description:Y.message||"Please try again."})}});vs({mutationFn:async Y=>e().tasks.updateStatus(Y.id,{status:Y.status}),onSuccess:()=>{l.invalidateQueries({queryKey:["tasks"]}),r({title:"Status updated",description:"Task status has been updated."})},onError:Y=>{r({variant:"destructive",title:"Failed to update status",description:Y.message||"Please try again."})}});const q=(Q==null?void 0:Q.tasks)||[],W=q.filter(Y=>{var ge,je;if(A.search){const Oe=A.search.toLowerCase();return Y.title.toLowerCase().includes(Oe)||((ge=Y.description)==null?void 0:ge.toLowerCase().includes(Oe))||Y.propertyName.toLowerCase().includes(Oe)||((je=Y.assigneeName)==null?void 0:je.toLowerCase().includes(Oe))}return!0}),he={open:W.filter(Y=>Y.status==="open"),in_progress:W.filter(Y=>Y.status==="in_progress"),blocked:W.filter(Y=>Y.status==="blocked"),done:W.filter(Y=>Y.status==="done")},$={total:q.length,open:q.filter(Y=>Y.status==="open").length,inProgress:q.filter(Y=>Y.status==="in_progress").length,overdue:q.filter(Y=>Y.dueAt&&new Date(Y.dueAt)<new Date&&Y.status!=="done").length,highPriority:q.filter(Y=>Y.priority==="high"&&Y.status!=="done").length},M=Y=>{switch(Y){case"open":return t.jsx(Rp,{className:"h-4 w-4"});case"in_progress":return t.jsx(PC,{className:"h-4 w-4"});case"blocked":return t.jsx(mg,{className:"h-4 w-4"});case"done":return t.jsx(Fh,{className:"h-4 w-4"})}},V=Y=>{switch(Y){case"open":return"bg-blue-100 text-blue-700 border-blue-200";case"in_progress":return"bg-purple-100 text-purple-700 border-purple-200";case"blocked":return"bg-red-100 text-red-700 border-red-200";case"done":return"bg-green-100 text-green-700 border-green-200"}},G=Y=>{switch(Y){case"maintenance":return"";case"housekeeping":return"";case"service":return""}},B=Y=>Y.dueAt&&new Date(Y.dueAt)<new Date&&Y.status!=="done",ce=Y=>Y?new Date(Y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No due date",pe=Y=>{var ge;j(Y),z({title:Y.title,description:Y.description||"",priority:Y.priority,status:Y.status,assigneeStaffId:((ge=Y.assigneeStaffId)==null?void 0:ge.toString())||"none",dueAt:Y.dueAt?new Date(Y.dueAt).toISOString().slice(0,16):""}),g(!0)},le=()=>{N&&ie.mutate({id:N.id,updates:{title:L.title,description:L.description||void 0,priority:L.priority,status:L.status,assigneeStaffId:L.assigneeStaffId!=="none"?parseInt(L.assigneeStaffId):void 0,dueAt:L.dueAt||void 0}})},ye=Y=>t.jsxs(Te,{onClick:()=>pe(Y),className:`group relative overflow-hidden transition-all duration-200 
        rounded-2xl border-0 shadow-sm ring-1 ring-gray-100
        active:scale-[0.98] active:shadow-md touch-manipulation
        bg-white
      `,children:[t.jsx("div",{className:`absolute top-3 right-3 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider
        ${Y.priority==="high"?"bg-red-50 text-red-600":Y.priority==="med"?"bg-amber-50 text-amber-600":"bg-emerald-50 text-emerald-600"}`,children:Y.priority}),t.jsxs(Ee,{className:"p-4 pt-5",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2 pr-12",children:[" ",t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`
              flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center text-lg shadow-sm
              ${Y.type==="maintenance"?"bg-blue-50 text-blue-600":Y.type==="housekeeping"?"bg-purple-50 text-purple-600":"bg-orange-50 text-orange-600"}
            `,children:G(Y.type)}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h3",{className:"font-bold text-gray-900 leading-tight truncate text-[17px] mb-1",children:Y.title}),t.jsxs("p",{className:"text-xs font-medium text-gray-500 flex items-center gap-1",children:[t.jsx(ca,{className:"h-3 w-3 text-gray-400"}),Y.propertyName]})]})]})]}),Y.description&&t.jsx("p",{className:"text-[13px] leading-relaxed text-gray-600 mb-3 line-clamp-2 pl-[52px]",children:Y.description}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-50 mt-2 pl-[52px]",children:[t.jsx("div",{className:"flex items-center gap-3",children:Y.assigneeName?t.jsxs("div",{className:"flex items-center gap-1.5 p-1 -ml-1 rounded-md bg-gray-50/50",children:[t.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-[10px] font-bold text-gray-600",children:Y.assigneeName.substring(0,2).toUpperCase()}),t.jsx("span",{className:"text-xs font-medium text-gray-600 max-w-[80px] truncate",children:Y.assigneeName})]}):t.jsx("span",{className:"text-xs text-gray-400 italic",children:"Unassigned"})}),t.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-medium ${B(Y)?"text-red-500 bg-red-50 px-2 py-1 rounded-md":"text-gray-400"}`,children:[t.jsx(Zn,{className:"h-3.5 w-3.5"}),ce(Y.dueAt)]})]})]})]},Y.id),ke=(Y,ge,je)=>t.jsxs("div",{className:"min-w-[85vw] md:min-w-[320px] md:flex-1 flex flex-col snap-center h-full",children:[t.jsxs("div",{className:"mb-4 sticky top-0 bg-transparent z-10 px-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 bg-white/50 backdrop-blur-sm p-3 rounded-2xl border border-white/20 shadow-sm",children:[t.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2.5",children:[M(Y),t.jsx("span",{className:"text-lg",children:ge})]}),t.jsx(Lt,{variant:"secondary",className:`${V(Y)} rounded-lg px-2.5`,children:je.length})]}),t.jsx("div",{className:"h-1.5 rounded-full bg-gray-100 overflow-hidden mx-1",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${Y==="done"?"bg-green-500":Y==="in_progress"?"bg-purple-500":Y==="blocked"?"bg-red-500":"bg-blue-500"}`,style:{width:`${je.length>0?Math.min(je.length/W.length*100,100):0}%`}})})]}),t.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 pb-20 md:pb-0 flex-1 px-1",children:je.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mb-3",children:t.jsx(wh,{className:"h-8 w-8 text-gray-300"})}),t.jsxs("p",{className:"text-gray-400 text-sm font-medium",children:["No tasks in ",ge]})]}):je.map(ye)})]});return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30 pb-20 md:pb-8",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:bg-[#F5F7FA]",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-600 rounded-xl shadow-lg shadow-blue-200",children:t.jsx(wh,{className:"h-5 w-5 md:h-6 md:w-6 text-white"})}),"Tasks"]}),t.jsx("p",{className:"text-gray-600 mt-1 hidden md:block",children:"Manage and track tasks across properties"})]}),t.jsxs(se,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 shadow-xl shadow-blue-200 rounded-xl h-11 px-6 active:scale-95 transition-transform",children:[t.jsx(ra,{className:"h-4 w-4 mr-2"}),"New Task"]})]}),t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory gap-3 pb-4 -mx-4 px-4 no-scrollbar md:grid md:grid-cols-5 md:gap-4 md:overflow-visible md:px-0 md:pb-0",children:[t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"Total Tasks",value:$.total.toString(),icon:wh,iconColor:"text-blue-600",iconBgColor:"bg-blue-100",className:"bg-white rounded-xl border-gray-100 shadow-sm"})}),t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"Open",value:$.open.toString(),icon:Rp,iconColor:"text-blue-600",iconBgColor:"bg-blue-100",className:"bg-blue-50/50 border-blue-100 rounded-xl shadow-sm"})}),t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"In Progress",value:$.inProgress.toString(),icon:PC,iconColor:"text-purple-600",iconBgColor:"bg-purple-100",className:"bg-purple-50/50 border-purple-100 rounded-xl shadow-sm"})}),t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"Overdue",value:$.overdue.toString(),icon:Kb,iconColor:"text-red-600",iconBgColor:"bg-red-100",className:"bg-red-50/50 border-red-100 rounded-xl shadow-sm"})}),t.jsx("div",{className:"min-w-[40vw] max-w-[150px] snap-center",children:t.jsx(Yi,{title:"High Priority",value:$.highPriority.toString(),icon:is,iconColor:"text-yellow-600",iconBgColor:"bg-yellow-100",className:"bg-yellow-50/50 border-yellow-100 rounded-xl shadow-sm"})})]})]}),t.jsxs("div",{className:"md:hidden flex overflow-x-auto gap-2 pb-4 -mx-4 px-4 no-scrollbar mb-4",children:[t.jsxs(aj,{children:[t.jsx(MI,{asChild:!0,children:t.jsxs(se,{variant:"outline",size:"sm",className:`rounded-full border-dashed flex-shrink-0 ${Object.values(A).some(Y=>Y!=="all"&&Y!=="")?"bg-blue-50 border-blue-200 text-blue-700":"border-gray-300"}`,children:[t.jsx(gp,{className:"h-3.5 w-3.5 mr-2"}),"Filters ",Object.values(A).filter(Y=>Y!=="all"&&Y!=="").length>0&&`(${Object.values(A).filter(Y=>Y!=="all"&&Y!=="").length})`]})}),t.jsxs(nj,{side:"bottom",className:"h-[80vh] rounded-t-3xl",children:[t.jsxs(rj,{className:"mb-6 text-left",children:[t.jsx(eg,{children:"Filter Tasks"}),t.jsx(ij,{children:"Narrow down your tasks by property, type, and more."})]}),t.jsxs("div",{className:"grid gap-6 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Mp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(ve,{placeholder:"Search tasks...",value:A.search,onChange:Y=>R({...A,search:Y.target.value}),className:"pl-10 h-11"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Property"}),t.jsxs(st,{value:A.propertyId,onValueChange:Y=>R({...A,propertyId:Y}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Properties"}),de==null?void 0:de.properties.map(Y=>t.jsx(me,{value:Y.id.toString(),children:Y.name},Y.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Type"}),t.jsxs(st,{value:A.type,onValueChange:Y=>R({...A,type:Y}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Types"}),t.jsx(me,{value:"maintenance",children:"Maintenance"}),t.jsx(me,{value:"housekeeping",children:"Housekeeping"}),t.jsx(me,{value:"service",children:"Service"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Priority"}),t.jsxs(st,{value:A.priority,onValueChange:Y=>R({...A,priority:Y}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Priorities"}),t.jsx(me,{value:"high",children:"High"}),t.jsx(me,{value:"med",children:"Medium"}),t.jsx(me,{value:"low",children:"Low"})]})]})]})]})]})]}),t.jsx(se,{variant:A.type==="maintenance"?"default":"outline",size:"sm",onClick:()=>R({...A,type:A.type==="maintenance"?"all":"maintenance"}),className:`rounded-full whitespace-nowrap flex-shrink-0 ${A.type==="maintenance"?"bg-blue-600":"border-gray-200"}`,children:" Maintenance"}),t.jsx(se,{variant:A.type==="housekeeping"?"default":"outline",size:"sm",onClick:()=>R({...A,type:A.type==="housekeeping"?"all":"housekeeping"}),className:`rounded-full whitespace-nowrap flex-shrink-0 ${A.type==="housekeeping"?"bg-purple-600":"border-gray-200"}`,children:" Housekeeping"}),t.jsx(se,{variant:A.priority==="high"?"default":"outline",size:"sm",onClick:()=>R({...A,priority:A.priority==="high"?"all":"high"}),className:`rounded-full whitespace-nowrap flex-shrink-0 ${A.priority==="high"?"bg-red-600 hover:bg-red-700":"border-gray-200 text-red-600 bg-red-50"}`,children:" High Priority"})]}),t.jsx(Te,{className:"mb-6 shadow-sm hidden md:block",children:t.jsxs(Ee,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(w_,{className:"h-4 w-4 text-gray-600"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>J(),className:"h-8",children:t.jsx(mt,{className:"h-4 w-4"})}),t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>C(!T),className:"h-8",children:T?t.jsx(Hb,{className:"h-4 w-4"}):t.jsx(Lh,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(Mp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(ve,{placeholder:"Search tasks...",value:A.search,onChange:Y=>R({...A,search:Y.target.value}),className:"pl-10"})]}),T&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-xs text-gray-600 mb-1.5 block",children:"Property"}),t.jsxs(st,{value:A.propertyId,onValueChange:Y=>R({...A,propertyId:Y}),children:[t.jsx(nt,{className:"h-9",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Properties"}),de==null?void 0:de.properties.map(Y=>t.jsx(me,{value:Y.id.toString(),children:Y.name},Y.id))]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-xs text-gray-600 mb-1.5 block",children:"Type"}),t.jsxs(st,{value:A.type,onValueChange:Y=>R({...A,type:Y}),children:[t.jsx(nt,{className:"h-9",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Types"}),t.jsx(me,{value:"maintenance",children:"Maintenance"}),t.jsx(me,{value:"housekeeping",children:"Housekeeping"}),t.jsx(me,{value:"service",children:"Service"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-xs text-gray-600 mb-1.5 block",children:"Priority"}),t.jsxs(st,{value:A.priority,onValueChange:Y=>R({...A,priority:Y}),children:[t.jsx(nt,{className:"h-9",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Priorities"}),t.jsx(me,{value:"high",children:"High"}),t.jsx(me,{value:"med",children:"Medium"}),t.jsx(me,{value:"low",children:"Low"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-xs text-gray-600 mb-1.5 block",children:"Assignee"}),t.jsxs(st,{value:A.assignee,onValueChange:Y=>R({...A,assignee:Y}),children:[t.jsx(nt,{className:"h-9",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Assignees"}),t.jsx(me,{value:"me",children:"My Tasks"}),H==null?void 0:H.staff.map(Y=>t.jsx(me,{value:Y.id.toString(),children:Y.userName},Y.id))]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t",children:[t.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"View:"}),t.jsxs(se,{variant:c==="kanban"?"default":"outline",size:"sm",onClick:()=>u("kanban"),className:"h-8",children:[t.jsx(KE,{className:"h-4 w-4 mr-2"}),"Kanban"]}),t.jsxs(se,{variant:c==="list"?"default":"outline",size:"sm",onClick:()=>u("list"),className:"h-8",children:[t.jsx(__,{className:"h-4 w-4 mr-2"}),"List"]})]})]})}),K?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(qw,{})}):W.length===0?t.jsx(MP,{icon:t.jsx(wh,{className:"h-12 w-12"}),title:"No tasks found",description:"Create your first task to get started",action:t.jsxs(se,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(ra,{className:"h-4 w-4 mr-2"}),"Create Task"]})}):c==="kanban"?t.jsxs("div",{className:"flex overflow-x-auto snap-x snap-mandatory gap-4 pb-4 -mx-4 px-4 h-[calc(100vh-280px)] md:h-auto md:overflow-visible md:px-0 md:mx-0",children:[ke("open","Open",he.open),ke("in_progress","In Progress",he.in_progress),ke("blocked","Blocked",he.blocked),ke("done","Done",he.done)]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(ye)})]}),t.jsx(bH,{isOpen:m,onOpenChange:f,onTaskCreated:()=>{l.invalidateQueries({queryKey:["tasks"]})}}),t.jsx(bs,{open:p,onOpenChange:g,children:t.jsxs(Es,{className:"max-w-2xl",children:[t.jsxs(ia,{children:[t.jsx(Bs,{children:"Edit Task"}),t.jsx(xa,{children:"Update task details"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{children:"Title"}),t.jsx(ve,{value:L.title,onChange:Y=>z({...L,title:Y.target.value}),placeholder:"Task title"})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"Description"}),t.jsx(Br,{value:L.description,onChange:Y=>z({...L,description:Y.target.value}),placeholder:"Task description",rows:3})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{children:"Priority"}),t.jsxs(st,{value:L.priority,onValueChange:Y=>z({...L,priority:Y}),children:[t.jsx(nt,{children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"low",children:"Low"}),t.jsx(me,{value:"med",children:"Medium"}),t.jsx(me,{value:"high",children:"High"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"Status"}),t.jsxs(st,{value:L.status,onValueChange:Y=>z({...L,status:Y}),children:[t.jsx(nt,{children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"open",children:"Open"}),t.jsx(me,{value:"in_progress",children:"In Progress"}),t.jsx(me,{value:"blocked",children:"Blocked"}),t.jsx(me,{value:"done",children:"Done"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{children:"Due Date"}),t.jsx(ve,{type:"datetime-local",value:L.dueAt,onChange:Y=>z({...L,dueAt:Y.target.value})})]})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),t.jsx(se,{onClick:le,disabled:ie.isPending,className:"bg-blue-600 hover:bg-blue-700",children:ie.isPending?"Updating...":"Update Task"})]})]})}),t.jsx(bs,{open:v,onOpenChange:w,children:t.jsxs(Es,{children:[t.jsxs(ia,{children:[t.jsx(Bs,{children:"Delete Task"}),t.jsxs(xa,{children:['Are you sure you want to delete "',S==null?void 0:S.title,'"? This action cannot be undone.']})]}),t.jsxs(ga,{children:[t.jsx(se,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),t.jsx(se,{variant:"destructive",onClick:()=>S&&F.mutate(S.id),disabled:F.isPending,children:F.isPending?"Deleting...":"Delete"})]})]})})]})}const G2={INR:{code:"INR",symbol:"",locale:"en-IN",decimals:2},USD:{code:"USD",symbol:"$",locale:"en-US",decimals:2},EUR:{code:"EUR",symbol:"",locale:"de-DE",decimals:2},GBP:{code:"GBP",symbol:"",locale:"en-GB",decimals:2},CAD:{code:"CAD",symbol:"C$",locale:"en-CA",decimals:2},AUD:{code:"AUD",symbol:"A$",locale:"en-AU",decimals:2}};function gu(e,s="INR"){const n=G2[s]||G2.INR,a=e/100;try{return new Intl.NumberFormat(n.locale,{style:"currency",currency:n.code,minimumFractionDigits:n.decimals,maximumFractionDigits:n.decimals}).format(a)}catch{return`${n.symbol}${a.toLocaleString(n.locale,{minimumFractionDigits:n.decimals,maximumFractionDigits:n.decimals})}`}}function jH(e,s={}){if(!e)return"N/A";const{includeTime:n=!0,includeSeconds:a=!1,includeTimezone:r=!1,format:l="medium"}=s;try{const c=typeof e=="string"?new Date(e):e;if(isNaN(c.getTime()))return"Invalid Date";let u={timeZone:"Asia/Kolkata"};switch(l){case"short":u={...u,year:"2-digit",month:"short",day:"numeric"};break;case"medium":u={...u,year:"numeric",month:"short",day:"numeric"};break;case"long":u={...u,year:"numeric",month:"long",day:"numeric"};break;case"full":u={...u,year:"numeric",month:"long",day:"numeric",weekday:"long"};break}return n&&(u.hour="2-digit",u.minute="2-digit",u.hour12=!1,a&&(u.second="2-digit"),r&&(u.timeZoneName="short")),new Intl.DateTimeFormat("en-IN",u).format(c)}catch(c){return console.error("Error formatting date:",c),"Invalid Date"}}function NH(e,s="DD/MM/YYYY"){if(!e)return"N/A";try{const n=typeof e=="string"?new Date(e):e;return isNaN(n.getTime())?"Invalid Date":s==="DD/MM/YYYY"?new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",timeZone:"Asia/Kolkata"}).format(n):s==="DD MMM YYYY"?new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric",timeZone:"Asia/Kolkata"}).format(n):new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"long",year:"numeric",timeZone:"Asia/Kolkata"}).format(n)}catch(n){return console.error("Error formatting date:",n),"Invalid Date"}}function SH(e){if(!e)return"N/A";try{const s=typeof e=="string"?new Date(e):e;if(isNaN(s.getTime()))return"Invalid Date";const n=NH(s,"DD/MM/YYYY"),a=new Intl.DateTimeFormat("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Kolkata"}).format(s);return`${n} ${a}`}catch(s){return console.error("Error formatting date time:",s),"Invalid Date"}}function Nb(e){return SH(e)}function CH(e){return jH(e,{includeTime:!0,includeSeconds:!0,format:"medium"})}function ng(e){if(!e)return"N/A";const s=typeof e=="string"?new Date(e):e,n=new Date,a=new Date(n);return a.setDate(a.getDate()-1),s.toDateString()===n.toDateString()?`Today, ${s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`:s.toDateString()===a.toDateString()?`Yesterday, ${s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}`:Nb(e)}async function Y2(e,s={}){const{maxSize:n=10*1024*1024,quality:a=.8,maxWidth:r=2048,maxHeight:l=2048}=s,c=e.size;if(!e.type.startsWith("image/")||c<=n)return{file:e,originalSize:c,compressedSize:c,compressionRatio:1,wasCompressed:!1};try{console.log(`Compressing image: ${e.name} (${S0(c)})`);const u=await TH(e,a,r,l),m=u.size,f=c/m;return console.log(`Compression complete: ${S0(c)}  ${S0(m)} (${f.toFixed(1)}x reduction)`),{file:u,originalSize:c,compressedSize:m,compressionRatio:f,wasCompressed:!0}}catch(u){return console.error("Image compression failed:",u),{file:e,originalSize:c,compressedSize:c,compressionRatio:1,wasCompressed:!1}}}async function TH(e,s,n,a){return new Promise((r,l)=>{const c=document.createElement("canvas"),u=c.getContext("2d"),m=new Image;m.onload=()=>{try{let{width:f,height:p}=kH(m.width,m.height,n,a);if(c.width=f,c.height=p,!u)throw new Error("Canvas context not available");u.drawImage(m,0,0,f,p),c.toBlob(g=>{if(!g){l(new Error("Failed to compress image"));return}const v=new File([g],e.name,{type:e.type,lastModified:e.lastModified});r(v)},e.type,s)}catch(f){l(f)}},m.onerror=()=>{l(new Error("Failed to load image for compression"))},m.src=URL.createObjectURL(e)})}function kH(e,s,n,a){let r=e,l=s;if(r>n||l>a){const c=r/l;r>n&&(r=n,l=r/c),l>a&&(l=a,r=l*c)}return{width:Math.round(r),height:Math.round(l)}}function W2(e){let n="";for(let a=0;a<e.length;a+=8192){const r=e.slice(a,a+8192);n+=String.fromCharCode.apply(null,Array.from(r))}return btoa(n)}function S0(e){if(e===0)return"0 Bytes";const s=1024,n=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(s));return parseFloat((e/Math.pow(s,a)).toFixed(2))+" "+n[a]}function EH(){return Xt({queryKey:["daily-approval-check"],queryFn:async()=>{const e={Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"};let s=await fetch(`${xt.BASE_URL}/finance/check-daily-approval`,{method:"POST",headers:e,body:JSON.stringify({})});if(s.status===404&&(s=await fetch(`${xt.BASE_URL}/v1/finance/check-daily-approval`,{method:"POST",headers:e,body:JSON.stringify({})})),!s.ok)throw new Error(`daily-approval-check ${s.status}`);return await s.json()},staleTime:12e4,refetchOnWindowFocus:!1})}function op({onFileUpload:e,accept:s="image/*,.pdf",maxSize:n=100*1024*1024,className:a,label:r="Upload File",description:l="Upload images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",value:c,onClear:u}){const[m,f]=x.useState(!1),[p,g]=x.useState(!1),[v,w]=x.useState(null),N=x.useRef(null),j=async A=>{if(w(null),A.size>n){w(`File size too large. Maximum size is ${Math.round(n/(1024*1024))}MB`);return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/pdf"].includes(A.type)){w("File type not supported. Please upload images or PDF files.");return}g(!0);try{await e(A)}catch(L){console.error("Upload error:",L),w(L instanceof Error?L.message:"Upload failed")}finally{g(!1)}},S=A=>{A.preventDefault(),f(!1);const R=Array.from(A.dataTransfer.files);R.length>0&&j(R[0])},E=A=>{A.preventDefault(),f(!0)},T=A=>{A.preventDefault(),f(!1)},C=A=>{const R=Array.from(A.target.files||[]);R.length>0&&j(R[0])},I=()=>{var A;(A=N.current)==null||A.click()},D=()=>{w(null),N.current&&(N.current.value=""),u==null||u()};return t.jsxs("div",{className:Xe("space-y-2",a),children:[r&&t.jsx(ee,{children:r}),!c&&t.jsxs("div",{className:Xe("border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors",m&&"border-blue-500 bg-blue-50",!m&&"hover:border-gray-400"),onDrop:S,onDragOver:E,onDragLeave:T,children:[t.jsx(ve,{ref:N,type:"file",accept:s,onChange:C,className:"hidden"}),p?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx(ul,{className:"h-8 w-8 text-gray-400 mx-auto"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Drag and drop your file here, or"," ",t.jsx("button",{type:"button",onClick:I,className:"text-blue-500 hover:text-blue-600 underline",children:"browse"})]}),l&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l})]})]})]}),c&&t.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-gray-50",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ca,{className:"h-5 w-5 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.filename}),t.jsx("p",{className:"text-xs text-gray-500",children:"File uploaded successfully"})]})]}),t.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:D,className:"text-gray-400 hover:text-red-500",children:t.jsx(Ws,{className:"h-4 w-4"})})]}),v&&t.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-red-200 rounded-lg bg-red-50",children:[t.jsx(is,{className:"h-5 w-5 text-red-500"}),t.jsx("p",{className:"text-sm text-red-600",children:v})]})]})}var C0="rovingFocusGroup.onEntryFocus",AH={bubbles:!1,cancelable:!0},hm="RovingFocusGroup",[Sb,YI,DH]=Vb(hm),[PH,WI]=xi(hm,[DH]),[IH,RH]=PH(hm),KI=x.forwardRef((e,s)=>t.jsx(Sb.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Sb.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(OH,{...e,ref:s})})}));KI.displayName=hm;var OH=x.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:r=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...g}=e,v=x.useRef(null),w=Ms(s,v),N=Gw(l),[j,S]=dl({prop:c,defaultProp:u??null,onChange:m,caller:hm}),[E,T]=x.useState(!1),C=tr(f),I=YI(n),D=x.useRef(!1),[A,R]=x.useState(0);return x.useEffect(()=>{const L=v.current;if(L)return L.addEventListener(C0,C),()=>L.removeEventListener(C0,C)},[C]),t.jsx(IH,{scope:n,orientation:a,dir:N,loop:r,currentTabStopId:j,onItemFocus:x.useCallback(L=>S(L),[S]),onItemShiftTab:x.useCallback(()=>T(!0),[]),onFocusableItemAdd:x.useCallback(()=>R(L=>L+1),[]),onFocusableItemRemove:x.useCallback(()=>R(L=>L-1),[]),children:t.jsx(Ot.div,{tabIndex:E||A===0?-1:0,"data-orientation":a,...g,ref:w,style:{outline:"none",...e.style},onMouseDown:At(e.onMouseDown,()=>{D.current=!0}),onFocus:At(e.onFocus,L=>{const z=!D.current;if(L.target===L.currentTarget&&z&&!E){const Q=new CustomEvent(C0,AH);if(L.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const K=I().filter(F=>F.focusable),J=K.find(F=>F.active),de=K.find(F=>F.id===j),ie=[J,de,...K].filter(Boolean).map(F=>F.ref.current);XI(ie,p)}}D.current=!1}),onBlur:At(e.onBlur,()=>T(!1))})})}),QI="RovingFocusGroupItem",JI=x.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:r=!1,tabStopId:l,children:c,...u}=e,m=Zi(),f=l||m,p=RH(QI,n),g=p.currentTabStopId===f,v=YI(n),{onFocusableItemAdd:w,onFocusableItemRemove:N,currentTabStopId:j}=p;return x.useEffect(()=>{if(a)return w(),()=>N()},[a,w,N]),t.jsx(Sb.ItemSlot,{scope:n,id:f,focusable:a,active:r,children:t.jsx(Ot.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:s,onMouseDown:At(e.onMouseDown,S=>{a?p.onItemFocus(f):S.preventDefault()}),onFocus:At(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:At(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const E=LH(S,p.orientation,p.dir);if(E!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=v().filter(I=>I.focusable).map(I=>I.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const I=C.indexOf(S.currentTarget);C=p.loop?FH(C,I+1):C.slice(I+1)}setTimeout(()=>XI(C))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:j!=null}):c})})});JI.displayName=QI;var MH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _H(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function LH(e,s,n){const a=_H(e.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return MH[a]}function XI(e,s=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:s}),document.activeElement!==n))return}function FH(e,s){return e.map((n,a)=>e[(s+a)%e.length])}var UH=KI,VH=JI,Pg="Tabs",[BH,OX]=xi(Pg,[WI]),ZI=WI(),[zH,lj]=BH(Pg),eR=x.forwardRef((e,s)=>{const{__scopeTabs:n,value:a,onValueChange:r,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:m="automatic",...f}=e,p=Gw(u),[g,v]=dl({prop:a,onChange:r,defaultProp:l??"",caller:Pg});return t.jsx(zH,{scope:n,baseId:Zi(),value:g,onValueChange:v,orientation:c,dir:p,activationMode:m,children:t.jsx(Ot.div,{dir:p,"data-orientation":c,...f,ref:s})})});eR.displayName=Pg;var tR="TabsList",sR=x.forwardRef((e,s)=>{const{__scopeTabs:n,loop:a=!0,...r}=e,l=lj(tR,n),c=ZI(n);return t.jsx(UH,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:a,children:t.jsx(Ot.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:s})})});sR.displayName=tR;var aR="TabsTrigger",nR=x.forwardRef((e,s)=>{const{__scopeTabs:n,value:a,disabled:r=!1,...l}=e,c=lj(aR,n),u=ZI(n),m=oR(c.baseId,a),f=lR(c.baseId,a),p=a===c.value;return t.jsx(VH,{asChild:!0,...u,focusable:!r,active:p,children:t.jsx(Ot.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:m,...l,ref:s,onMouseDown:At(e.onMouseDown,g=>{!r&&g.button===0&&g.ctrlKey===!1?c.onValueChange(a):g.preventDefault()}),onKeyDown:At(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(a)}),onFocus:At(e.onFocus,()=>{const g=c.activationMode!=="manual";!p&&!r&&g&&c.onValueChange(a)})})})});nR.displayName=aR;var rR="TabsContent",iR=x.forwardRef((e,s)=>{const{__scopeTabs:n,value:a,forceMount:r,children:l,...c}=e,u=lj(rR,n),m=oR(u.baseId,a),f=lR(u.baseId,a),p=a===u.value,g=x.useRef(p);return x.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),t.jsx(lo,{present:r||p,children:({present:v})=>t.jsx(Ot.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!v,id:f,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:g.current?"0s":void 0},children:v&&l})})});iR.displayName=rR;function oR(e,s){return`${e}-trigger-${s}`}function lR(e,s){return`${e}-content-${s}`}var qH=eR,$H=sR,HH=nR,GH=iR;function cj({className:e,...s}){return t.jsx(qH,{"data-slot":"tabs",className:Xe("flex flex-col gap-2",e),...s})}function cR({className:e,...s}){return t.jsx($H,{"data-slot":"tabs-list",className:Xe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...s})}function dR({className:e,...s}){return t.jsx(HH,{"data-slot":"tabs-trigger",className:Xe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function ks({className:e,...s}){return t.jsx(GH,{"data-slot":"tabs-content",className:Xe("flex-1 outline-none",e),...s})}const YH=e=>{const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null},WH=e=>{if(!e)return{containerBg:"bg-gray-100",containerBorder:"border-gray-200",activeBg:"bg-white",activeText:"text-blue-600",activeBorder:"border-blue-600",activeShadow:"shadow-sm",inactiveText:"text-gray-600",inactiveHoverText:"text-gray-800",inactiveHoverBg:"bg-gray-50",primaryColor:"#3b82f6"};const s=YH(e.primaryColor);return{containerBg:"bg-gray-100",containerBorder:"border-gray-200",activeBg:"bg-white",activeText:`text-[${e.primaryColor}]`,activeBorder:`border-[${e.primaryColor}]`,activeShadow:"shadow-sm",inactiveText:"text-gray-600",inactiveHoverText:"text-gray-800",inactiveHoverBg:"bg-gray-50",primaryColor:e.primaryColor,primaryRgb:s}};function jc({children:e,className:s,theme:n,...a}){return t.jsx(cj,{className:Xe("space-y-0",s),...a,children:e})}function ll({children:e,className:s,theme:n,containerClassName:a,...r}){return WH(n),t.jsx("div",{className:Xe("mb-0",a),children:t.jsx("div",{className:"bg-gray-100/80 backdrop-blur-sm rounded-full p-1.5",children:t.jsx(cR,{className:Xe("w-full bg-transparent h-auto p-0 gap-0 flex",s),...r,children:e})})})}function Vs({children:e,className:s,theme:n,...a}){const r=n!=null&&n.primaryColor?{"--theme-primary":n.primaryColor,"--theme-primary-10":`${n.primaryColor}1a`,"--theme-primary-20":`${n.primaryColor}33`}:{};return t.jsx(dR,{style:r,className:Xe("theme-tabs-trigger flex-1 px-6 py-2.5 text-sm font-medium transition-all duration-300 rounded-full relative","data-[state=active]:text-gray-900 data-[state=active]:bg-white data-[state=active]:shadow-[0_2px_8px_rgba(0,0,0,0.08)]","data-[state=inactive]:text-gray-500 data-[state=inactive]:hover:text-gray-700 data-[state=inactive]:hover:bg-white/50","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",s),...a,children:e})}function KH({isOpen:e,onClose:s,transaction:n}){const{getAuthenticatedBackend:a}=$s(),{theme:r}=_a(),[l,c]=x.useState(!1),[u,m]=x.useState(100);x.useEffect(()=>{n&&console.log("ReceiptViewer transaction data:",{id:n.id,type:n.type,status:n.status,date:n.date,createdAt:n.createdAt,approvedByName:n.approvedByName,approvedAt:n.approvedAt,createdByName:n.createdByName,amountCents:n.amountCents})},[n]),x.useEffect(()=>{if(e){try{window.dispatchEvent(new CustomEvent("realtime:suspend"))}catch{}return()=>{try{window.dispatchEvent(new CustomEvent("realtime:resume"))}catch{}}}},[e]);const f=()=>{m(R=>Math.min(R+25,300))},p=()=>{m(R=>Math.max(R-25,50))},g=()=>{m(100)},w=(()=>{if(n!=null&&n.receiptFileId)return n.receiptFileId;if(n!=null&&n.receiptUrl){const R=n.receiptUrl.match(/\/uploads\/file\/(\d+)/);if(R)return parseInt(R[1])}return null})(),{data:N,isLoading:j}=Xt({queryKey:["file-info",w],queryFn:async()=>{if(!w)return null;const R=await fetch(`${xt.BASE_URL}/uploads/${w}/info`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!R.ok)throw new Error(`Failed to fetch file info: ${R.statusText}`);return R.json()},enabled:!!w&&e}),{data:S,isLoading:E}=Xt({queryKey:["file-data",w],queryFn:async()=>{if(!w)return null;const R=await fetch(`${xt.BASE_URL}/uploads/${w}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!R.ok)throw new Error(`Failed to fetch file: ${R.statusText}`);return R.json()},enabled:!!w&&e}),T=()=>{if(S){const R=atob(S.fileData),L=new Array(R.length);for(let de=0;de<R.length;de++)L[de]=R.charCodeAt(de);const z=new Uint8Array(L),Q=new Blob([z],{type:S.mimeType}),K=window.URL.createObjectURL(Q),J=document.createElement("a");J.style.display="none",J.href=K,J.download=S.filename,document.body.appendChild(J),J.click(),window.URL.revokeObjectURL(K),document.body.removeChild(J)}else if(n!=null&&n.receiptUrl){if(n.receiptUrl.startsWith("file://")){alert("This receipt is stored locally on your computer. Please open it directly from your file system.");return}window.open(n.receiptUrl,"_blank")}},C=R=>{switch(R){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=R=>{switch(R){case"room":return"bg-blue-100 text-blue-800";case"addon":return"bg-purple-100 text-purple-800";case"other":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},D=R=>(R==null?void 0:R.startsWith("image/"))||!1,A=R=>R==="application/pdf";return n?t.jsx(bs,{open:e,onOpenChange:s,children:t.jsx(iw,{children:t.jsxs(Es,{className:"max-w-6xl max-h-[98vh] w-[95vw] border-0 shadow-2xl bg-gradient-to-br from-slate-50 via-white to-blue-50 flex flex-col rounded-3xl overflow-hidden",showCloseButton:!1,children:[t.jsx("div",{className:"sticky top-0 z-[60] bg-gradient-to-r from-white via-blue-50 to-indigo-50 border-b border-blue-200/50 shadow-xl backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:`p-3 rounded-2xl shadow-lg ${n.type==="expense"?"bg-gradient-to-br from-red-100 to-red-200":"bg-gradient-to-br from-green-100 to-green-200"}`,children:t.jsx("div",{className:"text-2xl",children:n.type==="expense"?"":""})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs(Bs,{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent truncate",children:[n.type==="expense"?"Expense":"Revenue"," Receipt"]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.status&&t.jsx(Lt,{className:`${C(n.status)} text-xs sm:text-sm font-bold px-3 py-1 shadow-md rounded-full`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)}),t.jsx("div",{className:"text-xs sm:text-sm text-gray-600 bg-white/50 px-2 py-1 rounded-full",children:gu(n.amountCents)})]})]})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:s,className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-110 flex-shrink-0",children:t.jsx(Ws,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})}),t.jsxs("div",{className:"flex-1 overflow-auto px-6 pb-6",children:[t.jsxs("div",{className:"space-y-6 p-2",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6 border-2 border-blue-100 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 shadow-lg",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:t.jsx(ca,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm text-gray-600 block",children:"Property"}),t.jsx("span",{className:"font-semibold text-gray-800",children:n.propertyName})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:t.jsx(qs,{className:"h-4 w-4 text-purple-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm text-gray-600 block",children:n.type==="expense"?"Expense Date":"Revenue Date"}),t.jsx("span",{className:"font-semibold text-gray-800",children:Nb(n.date)})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:t.jsx(Ya,{className:"h-4 w-4 text-orange-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm text-gray-600 block",children:"Created By"}),t.jsx("span",{className:"font-semibold text-gray-800",children:n.createdByName})]})]}),n.createdAt&&t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"p-2 rounded-full bg-indigo-100",children:t.jsx(qs,{className:"h-4 w-4 text-indigo-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-sm text-gray-600 block",children:"Created At"}),t.jsx("span",{className:"font-semibold text-gray-800",children:Nb(n.createdAt)})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[n.category&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Category"}),t.jsx(Lt,{variant:"outline",className:"bg-gray-50 text-gray-800 font-semibold px-3 py-1",children:n.category})]}),n.source&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Source"}),t.jsx(Lt,{className:`${I(n.source)} font-semibold px-3 py-1 shadow-sm`,children:n.source})]}),n.paymentMode&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Payment Mode"}),t.jsx(Lt,{className:`${n.paymentMode==="cash"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"} font-semibold px-3 py-1 shadow-sm`,children:n.paymentMode==="cash"?"Cash":"Bank/UPI/Online"})]}),n.bankReference&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Bank Reference"}),t.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:n.bankReference})]}),n.description&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-2",children:"Description"}),t.jsx("p",{className:"text-gray-800 font-medium",children:n.description})]}),(n.status==="approved"||n.status==="rejected")&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:n.status==="approved"?"Approved By":"Rejected By"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`p-1 rounded-full ${n.status==="approved"?"bg-green-100":"bg-red-100"}`,children:t.jsx(nn,{className:`h-3 w-3 ${n.status==="approved"?"text-green-600":"text-red-600"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:n.approvedByName||"System Action"}),n.approvedAt?t.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(n.approvedAt).toLocaleDateString()," at ",new Date(n.approvedAt).toLocaleTimeString()]}):t.jsxs("p",{className:"text-xs text-gray-500",children:["Auto-",n.status]})]})]})]}),n.status==="pending"&&t.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Status"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-1 rounded-full bg-yellow-100",children:t.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500 animate-pulse"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Pending Approval"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Awaiting admin review"})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-lg border-2 border-indigo-200",children:[t.jsx("h3",{className:"text-xl font-bold text-indigo-800 flex items-center gap-2",children:" Receipt Document"}),t.jsx("div",{className:"flex items-center gap-2",children:(S||n.receiptUrl)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-lg px-3 py-1 border border-indigo-200",children:[t.jsx(se,{size:"sm",variant:"ghost",onClick:p,disabled:u<=50,className:"h-8 w-8 p-0 hover:bg-indigo-100",children:""}),t.jsxs("span",{className:"text-sm font-medium text-indigo-700 min-w-[3rem] text-center",children:[u,"%"]}),t.jsx(se,{size:"sm",variant:"ghost",onClick:f,disabled:u>=300,className:"h-8 w-8 p-0 hover:bg-indigo-100",children:"+"}),t.jsx(se,{size:"sm",variant:"ghost",onClick:g,className:"h-8 px-2 text-xs hover:bg-indigo-100",children:"Reset"})]}),t.jsx(se,{onClick:T,size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold px-3 py-2 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",title:"Download Receipt",children:t.jsx(Ln,{className:"h-4 w-4"})})]})})]}),!w&&!n.receiptUrl?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-gray-400 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-gray-200 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-gray-500"})}),t.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:" No Receipt Available"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"No receipt was uploaded for this transaction"})]})}):j||E?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-blue-300 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-blue-700 font-semibold",children:"Loading receipt..."}),t.jsx("p",{className:"text-blue-600 text-sm",children:"Please wait while we fetch your document"})]})}):S&&N?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 bg-white shadow-lg",children:[D(N.mimeType)&&!l?t.jsx("div",{className:"flex justify-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200 overflow-auto mb-6",children:t.jsx("img",{src:`data:${N.mimeType};base64,${S.fileData}`,alt:"Receipt",className:"rounded-lg shadow-lg border border-gray-300 hover:shadow-xl transition-shadow duration-300",style:{width:`${u}%`,height:"auto",maxWidth:"100%",objectFit:"contain"},onError:()=>c(!0)})}):A(N.mimeType)?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-blue-300 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 mb-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-blue-100 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-blue-600"})}),t.jsx("p",{className:"text-blue-800 font-bold text-lg mb-2",children:" PDF Document"}),t.jsx("p",{className:"text-blue-600 text-sm mb-4",children:"This is a PDF file. Click the download button to view."}),t.jsx("div",{className:"bg-white/50 rounded-lg px-4 py-2 inline-block",children:t.jsx("span",{className:"text-blue-700 font-medium",children:N==null?void 0:N.originalName})})]})}):t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-amber-300 rounded-xl bg-gradient-to-br from-amber-50 to-orange-50 mb-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-amber-100 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-amber-600"})}),t.jsx("p",{className:"text-amber-800 font-bold text-lg mb-2",children:" Document File"}),t.jsx("p",{className:"text-amber-600 text-sm mb-4",children:"This file type is not previewable. Click download to view."}),t.jsx("div",{className:"bg-white/50 rounded-lg px-4 py-2 inline-block",children:t.jsx("span",{className:"text-amber-700 font-medium",children:N==null?void 0:N.originalName})})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Filename"}),t.jsx("p",{className:"font-semibold text-gray-800",children:N.originalName})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Size"}),t.jsxs("p",{className:"font-semibold text-gray-800",children:[(N.fileSize/1024).toFixed(2)," KB"]})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Type"}),t.jsx("p",{className:"font-semibold text-gray-800",children:N.mimeType})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Uploaded"}),t.jsx("p",{className:"font-semibold text-gray-800",children:new Date(N.uploadedAt).toLocaleDateString()})]})]})]})}):n.receiptUrl?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-blue-300 rounded-xl bg-gradient-to-br from-blue-50 to-cyan-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-blue-100 rounded-full inline-block mb-4",children:t.jsx(nv,{className:"h-12 w-12 text-blue-600"})}),n.receiptUrl.startsWith("file://")?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-orange-700 font-semibold text-lg",children:" Local File Receipt"}),t.jsx("p",{className:"text-orange-600 text-sm mb-4",children:"This receipt is stored locally on your computer"}),t.jsxs("p",{className:"text-gray-600 text-xs mb-4",children:["File path: ",n.receiptUrl.replace("file:///","")]}),t.jsx(se,{onClick:()=>alert("Please open this file directly from your file system: "+(n.receiptUrl||"").replace("file:///","")),className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white font-semibold px-6 py-2 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:" Open Local File"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-blue-700 font-semibold text-lg",children:" External Receipt"}),t.jsx("p",{className:"text-blue-600 text-sm mb-4",children:"Receipt is stored at an external location"}),t.jsx(se,{onClick:()=>window.open(n.receiptUrl,"_blank"),className:"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white font-semibold px-6 py-2 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:" View External Receipt"})]})]})}):null]})]})," "]})," "]})})}):null}var Ig="Checkbox",[QH,MX]=xi(Ig),[JH,dj]=QH(Ig);function XH(e){const{__scopeCheckbox:s,checked:n,children:a,defaultChecked:r,disabled:l,form:c,name:u,onCheckedChange:m,required:f,value:p="on",internal_do_not_use_render:g}=e,[v,w]=dl({prop:n,defaultProp:r??!1,onChange:m,caller:Ig}),[N,j]=x.useState(null),[S,E]=x.useState(null),T=x.useRef(!1),C=N?!!c||!!N.closest("form"):!0,I={checked:v,disabled:l,setChecked:w,control:N,setControl:j,name:u,form:c,value:p,hasConsumerStoppedPropagationRef:T,required:f,defaultChecked:cl(r)?!1:r,isFormControl:C,bubbleInput:S,setBubbleInput:E};return t.jsx(JH,{scope:s,...I,children:ZH(g)?g(I):a})}var uR="CheckboxTrigger",hR=x.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:n,...a},r)=>{const{control:l,value:c,disabled:u,checked:m,required:f,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:N}=dj(uR,e),j=Ms(r,p),S=x.useRef(m);return x.useEffect(()=>{const E=l==null?void 0:l.form;if(E){const T=()=>g(S.current);return E.addEventListener("reset",T),()=>E.removeEventListener("reset",T)}},[l,g]),t.jsx(Ot.button,{type:"button",role:"checkbox","aria-checked":cl(m)?"mixed":m,"aria-required":f,"data-state":xR(m),"data-disabled":u?"":void 0,disabled:u,value:c,...a,ref:j,onKeyDown:At(s,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:At(n,E=>{g(T=>cl(T)?!0:!T),N&&w&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})})});hR.displayName=uR;var uj=x.forwardRef((e,s)=>{const{__scopeCheckbox:n,name:a,checked:r,defaultChecked:l,required:c,disabled:u,value:m,onCheckedChange:f,form:p,...g}=e;return t.jsx(XH,{__scopeCheckbox:n,checked:r,defaultChecked:l,disabled:u,required:c,onCheckedChange:f,name:a,form:p,value:m,internal_do_not_use_render:({isFormControl:v})=>t.jsxs(t.Fragment,{children:[t.jsx(hR,{...g,ref:s,__scopeCheckbox:n}),v&&t.jsx(gR,{__scopeCheckbox:n})]})})});uj.displayName=Ig;var mR="CheckboxIndicator",fR=x.forwardRef((e,s)=>{const{__scopeCheckbox:n,forceMount:a,...r}=e,l=dj(mR,n);return t.jsx(lo,{present:a||cl(l.checked)||l.checked===!0,children:t.jsx(Ot.span,{"data-state":xR(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...e.style}})})});fR.displayName=mR;var pR="CheckboxBubbleInput",gR=x.forwardRef(({__scopeCheckbox:e,...s},n)=>{const{control:a,hasConsumerStoppedPropagationRef:r,checked:l,defaultChecked:c,required:u,disabled:m,name:f,value:p,form:g,bubbleInput:v,setBubbleInput:w}=dj(pR,e),N=Ms(n,w),j=lI(l),S=KP(a);x.useEffect(()=>{const T=v;if(!T)return;const C=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(C,"checked").set,A=!r.current;if(j!==l&&D){const R=new Event("click",{bubbles:A});T.indeterminate=cl(l),D.call(T,cl(l)?!1:l),T.dispatchEvent(R)}},[v,j,l,r]);const E=x.useRef(cl(l)?!1:l);return t.jsx(Ot.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??E.current,required:u,disabled:m,name:f,value:p,form:g,...s,tabIndex:-1,ref:N,style:{...s.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});gR.displayName=pR;function ZH(e){return typeof e=="function"}function cl(e){return e==="indeterminate"}function xR(e){return cl(e)?"indeterminate":e?"checked":"unchecked"}const yR=x.forwardRef(({className:e,...s},n)=>t.jsx(uj,{ref:n,className:Xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(fR,{className:Xe("flex items-center justify-center text-current"),children:t.jsx(nn,{className:"h-4 w-4"})})}));yR.displayName=uj.displayName;function eG({className:e,propertyId:s,startDate:n,endDate:a}){var I,D;const{getAuthenticatedBackend:r,user:l}=$s(),{toast:c}=da(),u=za(),[m,f]=x.useState(new Set),{data:p,isLoading:g,error:v}=Xt({queryKey:["today-pending-transactions",s,n,a],queryFn:async()=>{const A=new URLSearchParams;s&&s!=="all"&&A.append("propertyId",s),n&&A.append("startDate",n),a&&A.append("endDate",a);const R=r();if(!R)throw new Error("Not authenticated");return await R.finance.getTodayPendingTransactions({propertyId:s&&s!=="all"?parseInt(s):void 0,startDate:n,endDate:a})},refetchInterval:!1,staleTime:0,gcTime:3e5,refetchOnMount:!0}),w=vs({mutationFn:async({transactionIds:A,action:R})=>{const L=r();if(!L)throw new Error("Not authenticated");try{return await L.finance.bulkApproveTransactions({transactionIds:A,transactionType:"all",action:R})}catch(z){throw console.error("Bulk approval error:",z),new Error(z.message||`Failed to ${R} transactions`)}},onMutate:async({transactionIds:A,action:R})=>{await u.cancelQueries({queryKey:["today-pending-transactions"]});const L=u.getQueryData(["today-pending-transactions"]);return u.setQueryData(["today-pending-transactions"],z=>z!=null&&z.transactions?{...z,transactions:z.transactions.filter(Q=>!A.includes(Q.id))}:z),{previousTransactions:L}},onSuccess:(A,R)=>{const L=R.action==="approve"?"approved":"rejected",z=R.action==="approve"?A.results.approved:A.results.rejected,Q=R.action==="approve"?"approved":"rejected";c({title:`Transactions ${L}`,description:`${z} transactions have been ${L} successfully.`}),f(new Set),u.setQueriesData({queryKey:["revenues"]},K=>K!=null&&K.revenues?{...K,revenues:K.revenues.map(J=>R.transactionIds.includes(J.id)?{...J,status:Q,approvedAt:new Date().toISOString()}:J)}:K),u.setQueriesData({queryKey:["expenses"]},K=>K!=null&&K.expenses?{...K,expenses:K.expenses.map(J=>R.transactionIds.includes(J.id)?{...J,status:Q,approvedAt:new Date().toISOString()}:J)}:K),u.invalidateQueries({queryKey:["today-pending-transactions"]}),u.invalidateQueries({queryKey:["daily-approval-check"]})},onError:(A,R,L)=>{L!=null&&L.previousTransactions&&u.setQueryData(["today-pending-transactions"],L.previousTransactions),c({variant:"destructive",title:"Error",description:A.message||"Failed to process transactions"})}}),N=()=>{if(!(p!=null&&p.transactions))return;const A=p.transactions.map(R=>R.id);f(new Set(A))},j=()=>{f(new Set)},S=(A,R)=>{const L=new Set(m);R?L.add(A):L.delete(A),f(L)},E=A=>{if(m.size===0){c({variant:"destructive",title:"No transactions selected",description:"Please select transactions to approve or reject."});return}w.mutate({transactionIds:Array.from(m),action:A})},T=A=>gu(A,"INR"),C=A=>A==="revenue"?"text-green-600":"text-red-600";return v?t.jsx(Te,{className:`border-l-4 border-l-red-500 ${e}`,children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(is,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error loading pending transactions"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:v.message}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):t.jsx("div",{className:e,children:t.jsxs(Te,{className:"border-none shadow-sm bg-white rounded-3xl lg:bg-white/70 lg:backdrop-blur-xl lg:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.1)] lg:border-white/20 transition-all duration-300",children:[t.jsxs(Qe,{className:"pb-2 pt-6 px-6 lg:px-8 lg:pt-8",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-1",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full shadow-sm animate-pulse lg:w-4 lg:h-4"}),t.jsxs("h2",{className:"text-xl lg:text-2xl font-bold text-gray-900 tracking-tight",children:["Daily Approval",t.jsx("span",{className:"lg:hidden",children:t.jsx("br",{})}),t.jsx("span",{className:"lg:ml-2",children:"Manager"})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsx(Lt,{variant:"secondary",className:"bg-blue-50 text-blue-600 hover:bg-blue-100 border-none rounded-full px-3 py-1 text-xs font-semibold tracking-wide lg:text-sm lg:px-4 lg:py-1.5 transition-colors",children:"Admin Only"})})]}),t.jsxs(Dt,{className:"text-gray-500 text-sm leading-relaxed mt-2 max-w-sm lg:max-w-none lg:text-base",children:["Review and approve pending transactions from managers and staff",s&&s!=="all"||n||a?t.jsxs("span",{className:"block mt-2 text-xs font-medium text-blue-600 bg-blue-50 p-2 rounded-lg lg:inline-block lg:ml-2 lg:mt-0",children:["Filtered by: ",s&&s!=="all"?`Property ${s}`:"",n&&a?`  ${n} to ${a}`:"",n&&!a?`  From ${n}`:"",!n&&a?`  Until ${a}`:""]}):null]})]}),t.jsxs(Ee,{className:"px-6 pb-6 space-y-8 lg:px-8 lg:pb-8",children:[t.jsxs("div",{className:"flex flex-col gap-3 mt-4 lg:flex-row lg:items-center lg:bg-white/50 lg:p-1.5 lg:rounded-2xl lg:border lg:border-gray-100/50",children:[t.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[t.jsxs(se,{variant:"outline",onClick:N,disabled:g||!((I=p==null?void 0:p.transactions)!=null&&I.length),className:"h-12 flex-1 lg:flex-none lg:h-10 lg:px-4 justify-center lg:justify-start font-medium text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900 hover:border-gray-300 rounded-xl lg:rounded-xl transition-all duration-200 lg:bg-white lg:shadow-sm",children:[t.jsx(Fh,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2 text-gray-400"}),t.jsx("span",{className:"lg:hidden",children:"Select All"}),t.jsx("span",{className:"hidden lg:inline",children:"All"})]}),t.jsxs(se,{variant:"outline",onClick:j,disabled:m.size===0,className:"h-12 flex-1 lg:flex-none lg:h-10 lg:px-4 justify-center lg:justify-start font-medium text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900 hover:border-gray-300 rounded-xl lg:rounded-xl transition-all duration-200 lg:bg-white lg:shadow-sm",children:[t.jsx(Ws,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2 text-gray-400"}),t.jsx("span",{className:"lg:hidden",children:"Clear"}),t.jsx("span",{className:"hidden lg:inline",children:"Clear"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 lg:pt-0 lg:flex lg:ml-auto w-full lg:w-auto",children:[t.jsxs(se,{onClick:()=>E("approve"),disabled:m.size===0||w.isPending,className:"h-12 lg:h-10 w-full lg:w-auto font-semibold text-white bg-green-500 hover:bg-green-600 shadow-sm active:scale-[0.98] rounded-xl transition-all duration-200 lg:px-6",children:[w.isPending?t.jsx(mt,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2 animate-spin"}):t.jsx(nn,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2"}),t.jsxs("span",{className:"lg:hidden",children:["Approve (",m.size,")"]}),t.jsxs("span",{className:"hidden lg:inline",children:["Approve Selected (",m.size,")"]})]}),t.jsxs(se,{onClick:()=>E("reject"),disabled:m.size===0||w.isPending,className:"h-12 lg:h-10 w-full lg:w-auto font-semibold text-white bg-red-500 hover:bg-red-600 shadow-sm active:scale-[0.98] rounded-xl transition-all duration-200 lg:px-6",children:[w.isPending?t.jsx(mt,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2 animate-spin"}):t.jsx(Ws,{className:"h-5 w-5 lg:h-4 lg:w-4 mr-2"}),t.jsxs("span",{className:"lg:hidden",children:["Reject (",m.size,")"]}),t.jsxs("span",{className:"hidden lg:inline",children:["Reject Selected (",m.size,")"]})]})]})]}),g?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-16 text-center bg-gray-50 lg:bg-gray-50/50 rounded-2xl border border-gray-100 lg:border-dashed",children:[t.jsx(mt,{className:"h-8 w-8 lg:h-10 lg:w-10 animate-spin text-blue-500 mb-3"}),t.jsx("p",{className:"text-sm lg:text-base font-medium text-gray-900",children:"Loading transactions..."})]}):(D=p==null?void 0:p.transactions)!=null&&D.length?t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-between px-1",children:t.jsxs("h3",{className:"text-sm lg:text-base font-semibold text-gray-900",children:["Pending Transactions (",p.transactions.length,")"]})}),t.jsxs("div",{className:"hidden lg:grid grid-cols-12 gap-4 px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[t.jsx("div",{className:"col-span-1",children:"Select"}),t.jsx("div",{className:"col-span-4",children:"Details"}),t.jsx("div",{className:"col-span-3",children:"Property"}),t.jsx("div",{className:"col-span-2",children:"Submitted By"}),t.jsx("div",{className:"col-span-2 text-right",children:"Amount"})]}),t.jsx("div",{className:"space-y-3",children:p.transactions.map(A=>t.jsx("div",{className:`
                      relative group border rounded-2xl p-4 transition-all duration-300
                      ${m.has(A.id)?"bg-blue-50/50 border-blue-200 shadow-sm lg:bg-blue-50/30":"bg-white border-gray-100 hover:border-gray-200 lg:hover:bg-white/60 lg:hover:shadow-md lg:hover:-translate-y-0.5"}
                      /* Desktop Grid Layout Override */
                      lg:grid lg:grid-cols-12 lg:gap-4 lg:items-center lg:py-3 lg:px-4
                    `,children:t.jsxs("div",{className:"flex items-start gap-4 lg:contents",children:[t.jsx("div",{className:"lg:col-span-1 flex items-center",children:t.jsx(yR,{checked:m.has(A.id),onCheckedChange:R=>S(A.id,R),className:"mt-1 lg:mt-0 h-5 w-5 border-2 border-gray-300 data-[state=checked]:border-blue-500 data-[state=checked]:bg-blue-500 rounded-md transition-all"})}),t.jsxs("div",{className:"flex-1 min-w-0 lg:col-span-4 lg:flex lg:flex-col lg:justify-center",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1.5 lg:mb-0.5",children:[t.jsx("h4",{className:"font-semibold text-gray-900 capitalize truncate text-sm lg:text-base",children:A.category||A.source}),t.jsx("span",{className:`text-[10px] lg:text-[11px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded ${A.type==="revenue"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:A.type})]}),t.jsx("p",{className:"text-xs text-gray-500 mb-2 truncate font-medium lg:hidden",children:A.propertyName})]}),t.jsxs("div",{className:"hidden lg:col-span-3 lg:flex items-center text-sm text-gray-600 font-medium",children:[t.jsx(ca,{className:"h-3.5 w-3.5 mr-2 text-gray-400"}),A.propertyName]}),t.jsxs("div",{className:"hidden lg:col-span-2 lg:flex flex-col justify-center text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center mb-1",children:[t.jsx(Ya,{className:"h-3 w-3 mr-1.5 text-gray-400"}),A.createdByName]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1.5 text-gray-400"}),ng(A.createdAt).split(" ")[0]]})]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400 lg:hidden",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Ya,{className:"h-3 w-3 mr-1"}),A.createdByName]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1"}),ng(A.createdAt).split(" ")[0]]})]}),t.jsxs("div",{className:"text-right lg:col-span-2 lg:flex lg:flex-col lg:items-end lg:justify-center",children:[t.jsx("span",{className:`block font-bold ${C(A.type)} lg:text-base`,children:T(A.amountCents)}),A.receiptUrl&&t.jsxs("span",{className:"inline-flex items-center text-[10px] font-medium text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded mt-1 lg:mt-0.5",children:[t.jsx(Cn,{className:"h-3 w-3 mr-1"}),"Receipt"]})]})]})},`${A.type}-${A.id}`))})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 lg:py-16 text-center bg-green-50/50 lg:bg-green-50/30 rounded-2xl border border-green-100/50 lg:border-green-100/30",children:[t.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-green-100 rounded-full flex items-center justify-center mb-3",children:t.jsx(Fh,{className:"h-6 w-6 lg:h-8 lg:w-8 text-green-600"})}),t.jsx("p",{className:"text-sm lg:text-lg font-medium text-gray-900",children:"All Clear!"}),t.jsx("p",{className:"text-xs lg:text-sm text-gray-500 mt-1 max-w-[200px] lg:max-w-md",children:"No pending transactions to review right now. Great job!"})]})]})]})})}function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},oo(e)}function Un(e){if(e===null||e===!0||e===!1)return NaN;var s=Number(e);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}function Zs(e,s){if(s.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+s.length+" present")}function Ea(e){Zs(1,arguments);var s=Object.prototype.toString.call(e);return e instanceof Date||oo(e)==="object"&&s==="[object Date]"?new Date(e.getTime()):typeof e=="number"||s==="[object Number]"?new Date(e):((typeof e=="string"||s==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function tG(e,s){Zs(2,arguments);var n=Ea(e).getTime(),a=Un(s);return new Date(n+a)}var sG={};function xu(){return sG}function vR(e){var s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),e.getTime()-s.getTime()}function K2(e){Zs(1,arguments);var s=Ea(e);return s.setHours(0,0,0,0),s}var aG=6e4,nG=36e5,rG=1e3;function Q2(e,s){Zs(2,arguments);var n=K2(e),a=K2(s);return n.getTime()===a.getTime()}function iG(e){return Zs(1,arguments),e instanceof Date||oo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bR(e){if(Zs(1,arguments),!iG(e)&&typeof e!="number")return!1;var s=Ea(e);return!isNaN(Number(s))}function wR(e,s){Zs(2,arguments);var n=Un(s);return tG(e,-n)}var oG=864e5;function lG(e){Zs(1,arguments);var s=Ea(e),n=s.getTime();s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0);var a=s.getTime(),r=n-a;return Math.floor(r/oG)+1}function Xd(e){Zs(1,arguments);var s=1,n=Ea(e),a=n.getUTCDay(),r=(a<s?7:0)+a-s;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function jR(e){Zs(1,arguments);var s=Ea(e),n=s.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var r=Xd(a),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=Xd(l);return s.getTime()>=r.getTime()?n+1:s.getTime()>=c.getTime()?n:n-1}function cG(e){Zs(1,arguments);var s=jR(e),n=new Date(0);n.setUTCFullYear(s,0,4),n.setUTCHours(0,0,0,0);var a=Xd(n);return a}var dG=6048e5;function NR(e){Zs(1,arguments);var s=Ea(e),n=Xd(s).getTime()-cG(s).getTime();return Math.round(n/dG)+1}function Nc(e,s){var n,a,r,l,c,u,m,f;Zs(1,arguments);var p=xu(),g=Un((n=(a=(r=(l=s==null?void 0:s.weekStartsOn)!==null&&l!==void 0?l:s==null||(c=s.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:p.weekStartsOn)!==null&&a!==void 0?a:(m=p.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&n!==void 0?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Ea(e),w=v.getUTCDay(),N=(w<g?7:0)+w-g;return v.setUTCDate(v.getUTCDate()-N),v.setUTCHours(0,0,0,0),v}function hj(e,s){var n,a,r,l,c,u,m,f;Zs(1,arguments);var p=Ea(e),g=p.getUTCFullYear(),v=xu(),w=Un((n=(a=(r=(l=s==null?void 0:s.firstWeekContainsDate)!==null&&l!==void 0?l:s==null||(c=s.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:v.firstWeekContainsDate)!==null&&a!==void 0?a:(m=v.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=new Date(0);N.setUTCFullYear(g+1,0,w),N.setUTCHours(0,0,0,0);var j=Nc(N,s),S=new Date(0);S.setUTCFullYear(g,0,w),S.setUTCHours(0,0,0,0);var E=Nc(S,s);return p.getTime()>=j.getTime()?g+1:p.getTime()>=E.getTime()?g:g-1}function uG(e,s){var n,a,r,l,c,u,m,f;Zs(1,arguments);var p=xu(),g=Un((n=(a=(r=(l=s==null?void 0:s.firstWeekContainsDate)!==null&&l!==void 0?l:s==null||(c=s.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:p.firstWeekContainsDate)!==null&&a!==void 0?a:(m=p.locale)===null||m===void 0||(f=m.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&n!==void 0?n:1),v=hj(e,s),w=new Date(0);w.setUTCFullYear(v,0,g),w.setUTCHours(0,0,0,0);var N=Nc(w,s);return N}var hG=6048e5;function SR(e,s){Zs(1,arguments);var n=Ea(e),a=Nc(n,s).getTime()-uG(n,s).getTime();return Math.round(a/hG)+1}function Cs(e,s){for(var n=e<0?"-":"",a=Math.abs(e).toString();a.length<s;)a="0"+a;return n+a}var zo={y:function(s,n){var a=s.getUTCFullYear(),r=a>0?a:1-a;return Cs(n==="yy"?r%100:r,n.length)},M:function(s,n){var a=s.getUTCMonth();return n==="M"?String(a+1):Cs(a+1,2)},d:function(s,n){return Cs(s.getUTCDate(),n.length)},a:function(s,n){var a=s.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(s,n){return Cs(s.getUTCHours()%12||12,n.length)},H:function(s,n){return Cs(s.getUTCHours(),n.length)},m:function(s,n){return Cs(s.getUTCMinutes(),n.length)},s:function(s,n){return Cs(s.getUTCSeconds(),n.length)},S:function(s,n){var a=n.length,r=s.getUTCMilliseconds(),l=Math.floor(r*Math.pow(10,a-3));return Cs(l,n.length)}},hd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mG={G:function(s,n,a){var r=s.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(s,n,a){if(n==="yo"){var r=s.getUTCFullYear(),l=r>0?r:1-r;return a.ordinalNumber(l,{unit:"year"})}return zo.y(s,n)},Y:function(s,n,a,r){var l=hj(s,r),c=l>0?l:1-l;if(n==="YY"){var u=c%100;return Cs(u,2)}return n==="Yo"?a.ordinalNumber(c,{unit:"year"}):Cs(c,n.length)},R:function(s,n){var a=jR(s);return Cs(a,n.length)},u:function(s,n){var a=s.getUTCFullYear();return Cs(a,n.length)},Q:function(s,n,a){var r=Math.ceil((s.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Cs(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(s,n,a){var r=Math.ceil((s.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Cs(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(s,n,a){var r=s.getUTCMonth();switch(n){case"M":case"MM":return zo.M(s,n);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(s,n,a){var r=s.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return Cs(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(s,n,a,r){var l=SR(s,r);return n==="wo"?a.ordinalNumber(l,{unit:"week"}):Cs(l,n.length)},I:function(s,n,a){var r=NR(s);return n==="Io"?a.ordinalNumber(r,{unit:"week"}):Cs(r,n.length)},d:function(s,n,a){return n==="do"?a.ordinalNumber(s.getUTCDate(),{unit:"date"}):zo.d(s,n)},D:function(s,n,a){var r=lG(s);return n==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):Cs(r,n.length)},E:function(s,n,a){var r=s.getUTCDay();switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(s,n,a,r){var l=s.getUTCDay(),c=(l-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(c);case"ee":return Cs(c,2);case"eo":return a.ordinalNumber(c,{unit:"day"});case"eee":return a.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"});case"eeee":default:return a.day(l,{width:"wide",context:"formatting"})}},c:function(s,n,a,r){var l=s.getUTCDay(),c=(l-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(c);case"cc":return Cs(c,n.length);case"co":return a.ordinalNumber(c,{unit:"day"});case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"});case"cccc":default:return a.day(l,{width:"wide",context:"standalone"})}},i:function(s,n,a){var r=s.getUTCDay(),l=r===0?7:r;switch(n){case"i":return String(l);case"ii":return Cs(l,n.length);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(s,n,a){var r=s.getUTCHours(),l=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(s,n,a){var r=s.getUTCHours(),l;switch(r===12?l=hd.noon:r===0?l=hd.midnight:l=r/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(s,n,a){var r=s.getUTCHours(),l;switch(r>=17?l=hd.evening:r>=12?l=hd.afternoon:r>=4?l=hd.morning:l=hd.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(s,n,a){if(n==="ho"){var r=s.getUTCHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return zo.h(s,n)},H:function(s,n,a){return n==="Ho"?a.ordinalNumber(s.getUTCHours(),{unit:"hour"}):zo.H(s,n)},K:function(s,n,a){var r=s.getUTCHours()%12;return n==="Ko"?a.ordinalNumber(r,{unit:"hour"}):Cs(r,n.length)},k:function(s,n,a){var r=s.getUTCHours();return r===0&&(r=24),n==="ko"?a.ordinalNumber(r,{unit:"hour"}):Cs(r,n.length)},m:function(s,n,a){return n==="mo"?a.ordinalNumber(s.getUTCMinutes(),{unit:"minute"}):zo.m(s,n)},s:function(s,n,a){return n==="so"?a.ordinalNumber(s.getUTCSeconds(),{unit:"second"}):zo.s(s,n)},S:function(s,n){return zo.S(s,n)},X:function(s,n,a,r){var l=r._originalDate||s,c=l.getTimezoneOffset();if(c===0)return"Z";switch(n){case"X":return X2(c);case"XXXX":case"XX":return Wl(c);case"XXXXX":case"XXX":default:return Wl(c,":")}},x:function(s,n,a,r){var l=r._originalDate||s,c=l.getTimezoneOffset();switch(n){case"x":return X2(c);case"xxxx":case"xx":return Wl(c);case"xxxxx":case"xxx":default:return Wl(c,":")}},O:function(s,n,a,r){var l=r._originalDate||s,c=l.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+J2(c,":");case"OOOO":default:return"GMT"+Wl(c,":")}},z:function(s,n,a,r){var l=r._originalDate||s,c=l.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+J2(c,":");case"zzzz":default:return"GMT"+Wl(c,":")}},t:function(s,n,a,r){var l=r._originalDate||s,c=Math.floor(l.getTime()/1e3);return Cs(c,n.length)},T:function(s,n,a,r){var l=r._originalDate||s,c=l.getTime();return Cs(c,n.length)}};function J2(e,s){var n=e>0?"-":"+",a=Math.abs(e),r=Math.floor(a/60),l=a%60;if(l===0)return n+String(r);var c=s;return n+String(r)+c+Cs(l,2)}function X2(e,s){if(e%60===0){var n=e>0?"-":"+";return n+Cs(Math.abs(e)/60,2)}return Wl(e,s)}function Wl(e,s){var n=s||"",a=e>0?"-":"+",r=Math.abs(e),l=Cs(Math.floor(r/60),2),c=Cs(r%60,2);return a+l+n+c}var Z2=function(s,n){switch(s){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},CR=function(s,n){switch(s){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},fG=function(s,n){var a=s.match(/(P+)(p+)?/)||[],r=a[1],l=a[2];if(!l)return Z2(s,n);var c;switch(r){case"P":c=n.dateTime({width:"short"});break;case"PP":c=n.dateTime({width:"medium"});break;case"PPP":c=n.dateTime({width:"long"});break;case"PPPP":default:c=n.dateTime({width:"full"});break}return c.replace("{{date}}",Z2(r,n)).replace("{{time}}",CR(l,n))},Cb={p:CR,P:fG},pG=["D","DD"],gG=["YY","YYYY"];function TR(e){return pG.indexOf(e)!==-1}function kR(e){return gG.indexOf(e)!==-1}function rg(e,s,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(s,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(s,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(s,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(s,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var xG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yG=function(s,n,a){var r,l=xG[s];return typeof l=="string"?r=l:n===1?r=l.one:r=l.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function T0(e){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=s.width?String(s.width):e.defaultWidth,a=e.formats[n]||e.formats[e.defaultWidth];return a}}var vG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jG={date:T0({formats:vG,defaultWidth:"full"}),time:T0({formats:bG,defaultWidth:"full"}),dateTime:T0({formats:wG,defaultWidth:"full"})},NG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},SG=function(s,n,a,r){return NG[s]};function gh(e){return function(s,n){var a=n!=null&&n.context?String(n.context):"standalone",r;if(a==="formatting"&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;r=e.formattingValues[c]||e.formattingValues[l]}else{var u=e.defaultWidth,m=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[m]||e.values[u]}var f=e.argumentCallback?e.argumentCallback(s):s;return r[f]}}var CG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PG=function(s,n){var a=Number(s),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},IG={ordinalNumber:PG,era:gh({values:CG,defaultWidth:"wide"}),quarter:gh({values:TG,defaultWidth:"wide",argumentCallback:function(s){return s-1}}),month:gh({values:kG,defaultWidth:"wide"}),day:gh({values:EG,defaultWidth:"wide"}),dayPeriod:gh({values:AG,defaultWidth:"wide",formattingValues:DG,defaultFormattingWidth:"wide"})};function xh(e){return function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],l=s.match(r);if(!l)return null;var c=l[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(u)?OG(u,function(g){return g.test(c)}):RG(u,function(g){return g.test(c)}),f;f=e.valueCallback?e.valueCallback(m):m,f=n.valueCallback?n.valueCallback(f):f;var p=s.slice(c.length);return{value:f,rest:p}}}function RG(e,s){for(var n in e)if(e.hasOwnProperty(n)&&s(e[n]))return n}function OG(e,s){for(var n=0;n<e.length;n++)if(s(e[n]))return n}function MG(e){return function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.match(e.matchPattern);if(!a)return null;var r=a[0],l=s.match(e.parsePattern);if(!l)return null;var c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;var u=s.slice(r.length);return{value:c,rest:u}}}var _G=/^(\d+)(th|st|nd|rd)?/i,LG=/\d+/i,FG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UG={any:[/^b/i,/^(a|c)/i]},VG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BG={any:[/1/i,/2/i,/3/i,/4/i]},zG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$G={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WG={ordinalNumber:MG({matchPattern:_G,parsePattern:LG,valueCallback:function(s){return parseInt(s,10)}}),era:xh({matchPatterns:FG,defaultMatchWidth:"wide",parsePatterns:UG,defaultParseWidth:"any"}),quarter:xh({matchPatterns:VG,defaultMatchWidth:"wide",parsePatterns:BG,defaultParseWidth:"any",valueCallback:function(s){return s+1}}),month:xh({matchPatterns:zG,defaultMatchWidth:"wide",parsePatterns:qG,defaultParseWidth:"any"}),day:xh({matchPatterns:$G,defaultMatchWidth:"wide",parsePatterns:HG,defaultParseWidth:"any"}),dayPeriod:xh({matchPatterns:GG,defaultMatchWidth:"any",parsePatterns:YG,defaultParseWidth:"any"})},ER={code:"en-US",formatDistance:yG,formatLong:jG,formatRelative:SG,localize:IG,match:WG,options:{weekStartsOn:0,firstWeekContainsDate:1}},KG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JG=/^'([^]*?)'?$/,XG=/''/g,ZG=/[a-zA-Z]/;function kp(e,s,n){var a,r,l,c,u,m,f,p,g,v,w,N,j,S;Zs(2,arguments);var E=String(s),T=xu(),C=(a=(r=void 0)!==null&&r!==void 0?r:T.locale)!==null&&a!==void 0?a:ER,I=Un((l=(c=(u=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&u!==void 0?u:T.firstWeekContainsDate)!==null&&c!==void 0?c:(f=T.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=Un((g=(v=(w=(N=void 0)!==null&&N!==void 0?N:void 0)!==null&&w!==void 0?w:T.weekStartsOn)!==null&&v!==void 0?v:(j=T.locale)===null||j===void 0||(S=j.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&g!==void 0?g:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var A=Ea(e);if(!bR(A))throw new RangeError("Invalid time value");var R=vR(A),L=wR(A,R),z={firstWeekContainsDate:I,weekStartsOn:D,locale:C,_originalDate:A},Q=E.match(QG).map(function(K){var J=K[0];if(J==="p"||J==="P"){var de=Cb[J];return de(K,C.formatLong)}return K}).join("").match(KG).map(function(K){if(K==="''")return"'";var J=K[0];if(J==="'")return eY(K);var de=mG[J];if(de)return kR(K)&&rg(K,s,String(e)),TR(K)&&rg(K,s,String(e)),de(L,K,C.localize,z);if(J.match(ZG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");return K}).join("");return Q}function eY(e){var s=e.match(JG);return s?s[1].replace(XG,"'"):e}function tY(e,s){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);return e}function sY(e,s){Zs(2,arguments);var n=Ea(e),a=Ea(s);return n.getTime()>a.getTime()}function aY(e,s){Zs(2,arguments);var n=Ea(e),a=Ea(s);return n.getTime()<a.getTime()}function ek(e,s){(s==null||s>e.length)&&(s=e.length);for(var n=0,a=Array(s);n<s;n++)a[n]=e[n];return a}function nY(e,s){if(e){if(typeof e=="string")return ek(e,s);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ek(e,s):void 0}}function tk(e,s){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=nY(e))||s){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(f){throw f},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var f=n.next();return c=f.done,f},e:function(f){u=!0,l=f},f:function(){try{c||n.return==null||n.return()}finally{if(u)throw l}}}}function ot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tb(e,s){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tb(e,s)}function ds(e,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&Tb(e,s)}function ig(e){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ig(e)}function AR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AR=function(){return!!e})()}function rY(e,s){if(s&&(oo(s)=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ot(e)}function us(e){var s=AR();return function(){var n,a=ig(e);if(s){var r=ig(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return rY(this,n)}}function os(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function iY(e,s){if(oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,s);if(oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(e)}function DR(e){var s=iY(e,"string");return oo(s)=="symbol"?s:s+""}function oY(e,s){for(var n=0;n<s.length;n++){var a=s[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DR(a.key),a)}}function ls(e,s,n){return s&&oY(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ze(e,s,n){return(s=DR(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}var lY=10,PR=(function(){function e(){os(this,e),Ze(this,"priority",void 0),Ze(this,"subPriority",0)}return ls(e,[{key:"validate",value:function(n,a){return!0}}]),e})(),cY=(function(e){ds(n,e);var s=us(n);function n(a,r,l,c,u){var m;return os(this,n),m=s.call(this),m.value=a,m.validateValue=r,m.setValue=l,m.priority=c,u&&(m.subPriority=u),m}return ls(n,[{key:"validate",value:function(r,l){return this.validateValue(r,this.value,l)}},{key:"set",value:function(r,l,c){return this.setValue(r,l,this.value,c)}}]),n})(PR),dY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",lY),Ze(ot(a),"subPriority",-1),a}return ls(n,[{key:"set",value:function(r,l){if(l.timestampIsSet)return r;var c=new Date(0);return c.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),c.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),c}}]),n})(PR),gs=(function(){function e(){os(this,e),Ze(this,"incompatibleTokens",void 0),Ze(this,"priority",void 0),Ze(this,"subPriority",void 0)}return ls(e,[{key:"run",value:function(n,a,r,l){var c=this.parse(n,a,r,l);return c?{setter:new cY(c.value,this.validate,this.set,this.priority,this.subPriority),rest:c.rest}:null}},{key:"validate",value:function(n,a,r){return!0}}]),e})(),uY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",140),Ze(ot(a),"incompatibleTokens",["R","u","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"G":case"GG":case"GGG":return c.era(r,{width:"abbreviated"})||c.era(r,{width:"narrow"});case"GGGGG":return c.era(r,{width:"narrow"});case"GGGG":default:return c.era(r,{width:"wide"})||c.era(r,{width:"abbreviated"})||c.era(r,{width:"narrow"})}}},{key:"set",value:function(r,l,c){return l.era=c,r.setUTCFullYear(c,0,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),Ta={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ri={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ka(e,s){return e&&{value:s(e.value),rest:e.rest}}function la(e,s){var n=s.match(e);return n?{value:parseInt(n[0],10),rest:s.slice(n[0].length)}:null}function ii(e,s){var n=s.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:s.slice(1)};var a=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,l=n[3]?parseInt(n[3],10):0,c=n[5]?parseInt(n[5],10):0;return{value:a*(r*nG+l*aG+c*rG),rest:s.slice(n[0].length)}}function IR(e){return la(Ta.anyDigitsSigned,e)}function ya(e,s){switch(e){case 1:return la(Ta.singleDigit,s);case 2:return la(Ta.twoDigits,s);case 3:return la(Ta.threeDigits,s);case 4:return la(Ta.fourDigits,s);default:return la(new RegExp("^\\d{1,"+e+"}"),s)}}function og(e,s){switch(e){case 1:return la(Ta.singleDigitSigned,s);case 2:return la(Ta.twoDigitsSigned,s);case 3:return la(Ta.threeDigitsSigned,s);case 4:return la(Ta.fourDigitsSigned,s);default:return la(new RegExp("^-?\\d{1,"+e+"}"),s)}}function mj(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function RR(e,s){var n=s>0,a=n?s:1-s,r;if(a<=50)r=e||100;else{var l=a+50,c=Math.floor(l/100)*100,u=e>=l%100;r=e+c-(u?100:0)}return n?r:1-r}function OR(e){return e%400===0||e%4===0&&e%100!==0}var hY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",130),Ze(ot(a),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(f){return{year:f,isTwoDigitYear:l==="yy"}};switch(l){case"y":return ka(ya(4,r),u);case"yo":return ka(c.ordinalNumber(r,{unit:"year"}),u);default:return ka(ya(l.length,r),u)}}},{key:"validate",value:function(r,l){return l.isTwoDigitYear||l.year>0}},{key:"set",value:function(r,l,c){var u=r.getUTCFullYear();if(c.isTwoDigitYear){var m=RR(c.year,u);return r.setUTCFullYear(m,0,1),r.setUTCHours(0,0,0,0),r}var f=!("era"in l)||l.era===1?c.year:1-c.year;return r.setUTCFullYear(f,0,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),mY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",130),Ze(ot(a),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(f){return{year:f,isTwoDigitYear:l==="YY"}};switch(l){case"Y":return ka(ya(4,r),u);case"Yo":return ka(c.ordinalNumber(r,{unit:"year"}),u);default:return ka(ya(l.length,r),u)}}},{key:"validate",value:function(r,l){return l.isTwoDigitYear||l.year>0}},{key:"set",value:function(r,l,c,u){var m=hj(r,u);if(c.isTwoDigitYear){var f=RR(c.year,m);return r.setUTCFullYear(f,0,u.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Nc(r,u)}var p=!("era"in l)||l.era===1?c.year:1-c.year;return r.setUTCFullYear(p,0,u.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Nc(r,u)}}]),n})(gs),fY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",130),Ze(ot(a),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l){return og(l==="R"?4:l.length,r)}},{key:"set",value:function(r,l,c){var u=new Date(0);return u.setUTCFullYear(c,0,4),u.setUTCHours(0,0,0,0),Xd(u)}}]),n})(gs),pY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",130),Ze(ot(a),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l){return og(l==="u"?4:l.length,r)}},{key:"set",value:function(r,l,c){return r.setUTCFullYear(c,0,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),gY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",120),Ze(ot(a),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"Q":case"QQ":return ya(l.length,r);case"Qo":return c.ordinalNumber(r,{unit:"quarter"});case"QQQ":return c.quarter(r,{width:"abbreviated",context:"formatting"})||c.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return c.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return c.quarter(r,{width:"wide",context:"formatting"})||c.quarter(r,{width:"abbreviated",context:"formatting"})||c.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,l){return l>=1&&l<=4}},{key:"set",value:function(r,l,c){return r.setUTCMonth((c-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),xY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",120),Ze(ot(a),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"q":case"qq":return ya(l.length,r);case"qo":return c.ordinalNumber(r,{unit:"quarter"});case"qqq":return c.quarter(r,{width:"abbreviated",context:"standalone"})||c.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return c.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return c.quarter(r,{width:"wide",context:"standalone"})||c.quarter(r,{width:"abbreviated",context:"standalone"})||c.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,l){return l>=1&&l<=4}},{key:"set",value:function(r,l,c){return r.setUTCMonth((c-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),yY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ze(ot(a),"priority",110),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(f){return f-1};switch(l){case"M":return ka(la(Ta.month,r),u);case"MM":return ka(ya(2,r),u);case"Mo":return ka(c.ordinalNumber(r,{unit:"month"}),u);case"MMM":return c.month(r,{width:"abbreviated",context:"formatting"})||c.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return c.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return c.month(r,{width:"wide",context:"formatting"})||c.month(r,{width:"abbreviated",context:"formatting"})||c.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=11}},{key:"set",value:function(r,l,c){return r.setUTCMonth(c,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs),vY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",110),Ze(ot(a),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(f){return f-1};switch(l){case"L":return ka(la(Ta.month,r),u);case"LL":return ka(ya(2,r),u);case"Lo":return ka(c.ordinalNumber(r,{unit:"month"}),u);case"LLL":return c.month(r,{width:"abbreviated",context:"standalone"})||c.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return c.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return c.month(r,{width:"wide",context:"standalone"})||c.month(r,{width:"abbreviated",context:"standalone"})||c.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=11}},{key:"set",value:function(r,l,c){return r.setUTCMonth(c,1),r.setUTCHours(0,0,0,0),r}}]),n})(gs);function bY(e,s,n){Zs(2,arguments);var a=Ea(e),r=Un(s),l=SR(a,n)-r;return a.setUTCDate(a.getUTCDate()-l*7),a}var wY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",100),Ze(ot(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"w":return la(Ta.week,r);case"wo":return c.ordinalNumber(r,{unit:"week"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=1&&l<=53}},{key:"set",value:function(r,l,c,u){return Nc(bY(r,c,u),u)}}]),n})(gs);function jY(e,s){Zs(2,arguments);var n=Ea(e),a=Un(s),r=NR(n)-a;return n.setUTCDate(n.getUTCDate()-r*7),n}var NY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",100),Ze(ot(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"I":return la(Ta.week,r);case"Io":return c.ordinalNumber(r,{unit:"week"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=1&&l<=53}},{key:"set",value:function(r,l,c){return Xd(jY(r,c))}}]),n})(gs),SY=[31,28,31,30,31,30,31,31,30,31,30,31],CY=[31,29,31,30,31,30,31,31,30,31,30,31],TY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"subPriority",1),Ze(ot(a),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"d":return la(Ta.date,r);case"do":return c.ordinalNumber(r,{unit:"date"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){var c=r.getUTCFullYear(),u=OR(c),m=r.getUTCMonth();return u?l>=1&&l<=CY[m]:l>=1&&l<=SY[m]}},{key:"set",value:function(r,l,c){return r.setUTCDate(c),r.setUTCHours(0,0,0,0),r}}]),n})(gs),kY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"subpriority",1),Ze(ot(a),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"D":case"DD":return la(Ta.dayOfYear,r);case"Do":return c.ordinalNumber(r,{unit:"date"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){var c=r.getUTCFullYear(),u=OR(c);return u?l>=1&&l<=366:l>=1&&l<=365}},{key:"set",value:function(r,l,c){return r.setUTCMonth(0,c),r.setUTCHours(0,0,0,0),r}}]),n})(gs);function fj(e,s,n){var a,r,l,c,u,m,f,p;Zs(2,arguments);var g=xu(),v=Un((a=(r=(l=(c=n==null?void 0:n.weekStartsOn)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(m=u.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&l!==void 0?l:g.weekStartsOn)!==null&&r!==void 0?r:(f=g.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&a!==void 0?a:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Ea(e),N=Un(s),j=w.getUTCDay(),S=N%7,E=(S+7)%7,T=(E<v?7:0)+N-j;return w.setUTCDate(w.getUTCDate()+T),w}var EY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"incompatibleTokens",["D","i","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"E":case"EE":case"EEE":return c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return c.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return c.day(r,{width:"wide",context:"formatting"})||c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=6}},{key:"set",value:function(r,l,c,u){return r=fj(r,c,u),r.setUTCHours(0,0,0,0),r}}]),n})(gs),AY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c,u){var m=function(p){var g=Math.floor((p-1)/7)*7;return(p+u.weekStartsOn+6)%7+g};switch(l){case"e":case"ee":return ka(ya(l.length,r),m);case"eo":return ka(c.ordinalNumber(r,{unit:"day"}),m);case"eee":return c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"});case"eeeee":return c.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return c.day(r,{width:"wide",context:"formatting"})||c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=6}},{key:"set",value:function(r,l,c,u){return r=fj(r,c,u),r.setUTCHours(0,0,0,0),r}}]),n})(gs),DY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c,u){var m=function(p){var g=Math.floor((p-1)/7)*7;return(p+u.weekStartsOn+6)%7+g};switch(l){case"c":case"cc":return ka(ya(l.length,r),m);case"co":return ka(c.ordinalNumber(r,{unit:"day"}),m);case"ccc":return c.day(r,{width:"abbreviated",context:"standalone"})||c.day(r,{width:"short",context:"standalone"})||c.day(r,{width:"narrow",context:"standalone"});case"ccccc":return c.day(r,{width:"narrow",context:"standalone"});case"cccccc":return c.day(r,{width:"short",context:"standalone"})||c.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return c.day(r,{width:"wide",context:"standalone"})||c.day(r,{width:"abbreviated",context:"standalone"})||c.day(r,{width:"short",context:"standalone"})||c.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,l){return l>=0&&l<=6}},{key:"set",value:function(r,l,c,u){return r=fj(r,c,u),r.setUTCHours(0,0,0,0),r}}]),n})(gs);function PY(e,s){Zs(2,arguments);var n=Un(s);n%7===0&&(n=n-7);var a=1,r=Ea(e),l=r.getUTCDay(),c=n%7,u=(c+7)%7,m=(u<a?7:0)+n-l;return r.setUTCDate(r.getUTCDate()+m),r}var IY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",90),Ze(ot(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){var u=function(f){return f===0?7:f};switch(l){case"i":case"ii":return ya(l.length,r);case"io":return c.ordinalNumber(r,{unit:"day"});case"iii":return ka(c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"}),u);case"iiiii":return ka(c.day(r,{width:"narrow",context:"formatting"}),u);case"iiiiii":return ka(c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"}),u);case"iiii":default:return ka(c.day(r,{width:"wide",context:"formatting"})||c.day(r,{width:"abbreviated",context:"formatting"})||c.day(r,{width:"short",context:"formatting"})||c.day(r,{width:"narrow",context:"formatting"}),u)}}},{key:"validate",value:function(r,l){return l>=1&&l<=7}},{key:"set",value:function(r,l,c){return r=PY(r,c),r.setUTCHours(0,0,0,0),r}}]),n})(gs),RY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",80),Ze(ot(a),"incompatibleTokens",["b","B","H","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"a":case"aa":case"aaa":return c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return c.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return c.dayPeriod(r,{width:"wide",context:"formatting"})||c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,l,c){return r.setUTCHours(mj(c),0,0,0),r}}]),n})(gs),OY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",80),Ze(ot(a),"incompatibleTokens",["a","B","H","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"b":case"bb":case"bbb":return c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return c.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return c.dayPeriod(r,{width:"wide",context:"formatting"})||c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,l,c){return r.setUTCHours(mj(c),0,0,0),r}}]),n})(gs),MY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",80),Ze(ot(a),"incompatibleTokens",["a","b","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"B":case"BB":case"BBB":return c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return c.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return c.dayPeriod(r,{width:"wide",context:"formatting"})||c.dayPeriod(r,{width:"abbreviated",context:"formatting"})||c.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,l,c){return r.setUTCHours(mj(c),0,0,0),r}}]),n})(gs),_Y=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",70),Ze(ot(a),"incompatibleTokens",["H","K","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"h":return la(Ta.hour12h,r);case"ho":return c.ordinalNumber(r,{unit:"hour"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=1&&l<=12}},{key:"set",value:function(r,l,c){var u=r.getUTCHours()>=12;return u&&c<12?r.setUTCHours(c+12,0,0,0):!u&&c===12?r.setUTCHours(0,0,0,0):r.setUTCHours(c,0,0,0),r}}]),n})(gs),LY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",70),Ze(ot(a),"incompatibleTokens",["a","b","h","K","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"H":return la(Ta.hour23h,r);case"Ho":return c.ordinalNumber(r,{unit:"hour"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=0&&l<=23}},{key:"set",value:function(r,l,c){return r.setUTCHours(c,0,0,0),r}}]),n})(gs),FY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",70),Ze(ot(a),"incompatibleTokens",["h","H","k","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"K":return la(Ta.hour11h,r);case"Ko":return c.ordinalNumber(r,{unit:"hour"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=0&&l<=11}},{key:"set",value:function(r,l,c){var u=r.getUTCHours()>=12;return u&&c<12?r.setUTCHours(c+12,0,0,0):r.setUTCHours(c,0,0,0),r}}]),n})(gs),UY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",70),Ze(ot(a),"incompatibleTokens",["a","b","h","H","K","t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"k":return la(Ta.hour24h,r);case"ko":return c.ordinalNumber(r,{unit:"hour"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=1&&l<=24}},{key:"set",value:function(r,l,c){var u=c<=24?c%24:c;return r.setUTCHours(u,0,0,0),r}}]),n})(gs),VY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",60),Ze(ot(a),"incompatibleTokens",["t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"m":return la(Ta.minute,r);case"mo":return c.ordinalNumber(r,{unit:"minute"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=0&&l<=59}},{key:"set",value:function(r,l,c){return r.setUTCMinutes(c,0,0),r}}]),n})(gs),BY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",50),Ze(ot(a),"incompatibleTokens",["t","T"]),a}return ls(n,[{key:"parse",value:function(r,l,c){switch(l){case"s":return la(Ta.second,r);case"so":return c.ordinalNumber(r,{unit:"second"});default:return ya(l.length,r)}}},{key:"validate",value:function(r,l){return l>=0&&l<=59}},{key:"set",value:function(r,l,c){return r.setUTCSeconds(c,0),r}}]),n})(gs),zY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",30),Ze(ot(a),"incompatibleTokens",["t","T"]),a}return ls(n,[{key:"parse",value:function(r,l){var c=function(m){return Math.floor(m*Math.pow(10,-l.length+3))};return ka(ya(l.length,r),c)}},{key:"set",value:function(r,l,c){return r.setUTCMilliseconds(c),r}}]),n})(gs),qY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",10),Ze(ot(a),"incompatibleTokens",["t","T","x"]),a}return ls(n,[{key:"parse",value:function(r,l){switch(l){case"X":return ii(ri.basicOptionalMinutes,r);case"XX":return ii(ri.basic,r);case"XXXX":return ii(ri.basicOptionalSeconds,r);case"XXXXX":return ii(ri.extendedOptionalSeconds,r);case"XXX":default:return ii(ri.extended,r)}}},{key:"set",value:function(r,l,c){return l.timestampIsSet?r:new Date(r.getTime()-c)}}]),n})(gs),$Y=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",10),Ze(ot(a),"incompatibleTokens",["t","T","X"]),a}return ls(n,[{key:"parse",value:function(r,l){switch(l){case"x":return ii(ri.basicOptionalMinutes,r);case"xx":return ii(ri.basic,r);case"xxxx":return ii(ri.basicOptionalSeconds,r);case"xxxxx":return ii(ri.extendedOptionalSeconds,r);case"xxx":default:return ii(ri.extended,r)}}},{key:"set",value:function(r,l,c){return l.timestampIsSet?r:new Date(r.getTime()-c)}}]),n})(gs),HY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",40),Ze(ot(a),"incompatibleTokens","*"),a}return ls(n,[{key:"parse",value:function(r){return IR(r)}},{key:"set",value:function(r,l,c){return[new Date(c*1e3),{timestampIsSet:!0}]}}]),n})(gs),GY=(function(e){ds(n,e);var s=us(n);function n(){var a;os(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=s.call.apply(s,[this].concat(l)),Ze(ot(a),"priority",20),Ze(ot(a),"incompatibleTokens","*"),a}return ls(n,[{key:"parse",value:function(r){return IR(r)}},{key:"set",value:function(r,l,c){return[new Date(c),{timestampIsSet:!0}]}}]),n})(gs),YY={G:new uY,y:new hY,Y:new mY,R:new fY,u:new pY,Q:new gY,q:new xY,M:new yY,L:new vY,w:new wY,I:new NY,d:new TY,D:new kY,E:new EY,e:new AY,c:new DY,i:new IY,a:new RY,b:new OY,B:new MY,h:new _Y,H:new LY,K:new FY,k:new UY,m:new VY,s:new BY,S:new zY,X:new qY,x:new $Y,t:new HY,T:new GY},WY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QY=/^'([^]*?)'?$/,JY=/''/g,XY=/\S/,ZY=/[a-zA-Z]/;function eW(e,s,n,a){var r,l,c,u,m,f,p,g,v,w,N,j,S,E;Zs(3,arguments);var T=String(e),C=String(s),I=xu(),D=(r=(l=void 0)!==null&&l!==void 0?l:I.locale)!==null&&r!==void 0?r:ER;if(!D.match)throw new RangeError("locale must contain match property");var A=Un((c=(u=(m=(f=void 0)!==null&&f!==void 0?f:void 0)!==null&&m!==void 0?m:I.firstWeekContainsDate)!==null&&u!==void 0?u:(p=I.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&c!==void 0?c:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=Un((v=(w=(N=(j=void 0)!==null&&j!==void 0?j:void 0)!==null&&N!==void 0?N:I.weekStartsOn)!==null&&w!==void 0?w:(S=I.locale)===null||S===void 0||(E=S.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&v!==void 0?v:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(C==="")return T===""?Ea(n):new Date(NaN);var L={firstWeekContainsDate:A,weekStartsOn:R,locale:D},z=[new dY],Q=C.match(KY).map(function(B){var ce=B[0];if(ce in Cb){var pe=Cb[ce];return pe(B,D.formatLong)}return B}).join("").match(WY),K=[],J=tk(Q),de;try{var H=function(){var ce=de.value;!(a!=null&&a.useAdditionalWeekYearTokens)&&kR(ce)&&rg(ce,C,e),!(a!=null&&a.useAdditionalDayOfYearTokens)&&TR(ce)&&rg(ce,C,e);var pe=ce[0],le=YY[pe];if(le){var ye=le.incompatibleTokens;if(Array.isArray(ye)){var ke=K.find(function(ge){return ye.includes(ge.token)||ge.token===pe});if(ke)throw new RangeError("The format string mustn't contain `".concat(ke.fullToken,"` and `").concat(ce,"` at the same time"))}else if(le.incompatibleTokens==="*"&&K.length>0)throw new RangeError("The format string mustn't contain `".concat(ce,"` and any other token at the same time"));K.push({token:pe,fullToken:ce});var Y=le.run(T,ce,D.match,L);if(!Y)return{v:new Date(NaN)};z.push(Y.setter),T=Y.rest}else{if(pe.match(ZY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pe+"`");if(ce==="''"?ce="'":pe==="'"&&(ce=tW(ce)),T.indexOf(ce)===0)T=T.slice(ce.length);else return{v:new Date(NaN)}}};for(J.s();!(de=J.n()).done;){var ie=H();if(oo(ie)==="object")return ie.v}}catch(B){J.e(B)}finally{J.f()}if(T.length>0&&XY.test(T))return new Date(NaN);var F=z.map(function(B){return B.priority}).sort(function(B,ce){return ce-B}).filter(function(B,ce,pe){return pe.indexOf(B)===ce}).map(function(B){return z.filter(function(ce){return ce.priority===B}).sort(function(ce,pe){return pe.subPriority-ce.subPriority})}).map(function(B){return B[0]}),q=Ea(n);if(isNaN(q.getTime()))return new Date(NaN);var W=wR(q,vR(q)),he={},$=tk(F),M;try{for($.s();!(M=$.n()).done;){var V=M.value;if(!V.validate(W,L))return new Date(NaN);var G=V.set(W,he,L);Array.isArray(G)?(W=G[0],tY(he,G[1])):W=G}}catch(B){$.e(B)}finally{$.f()}return W}function tW(e){return e.match(QY)[1].replace(JY,"'")}function sW(e,s,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(s).split(/\s/g).slice(2).join(" ")}const k0={},Sh={};function nc(e,s){try{const a=(k0[e]||(k0[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(s).split("GMT")[1];return a in Sh?Sh[a]:sk(a,a.split(":"))}catch{if(e in Sh)return Sh[e];const n=e==null?void 0:e.match(aW);return n?sk(e,n.slice(1)):NaN}}const aW=/([+-]\d\d):?(\d\d)?/;function sk(e,s){const n=+(s[0]||0),a=+(s[1]||0),r=+(s[2]||0)/60;return Sh[e]=n*60+a>0?n*60+a+r:n*60-a-r}class ci extends Date{constructor(...s){super(),s.length>1&&typeof s[s.length-1]=="string"&&(this.timeZone=s.pop()),this.internal=new Date,isNaN(nc(this.timeZone,this))?this.setTime(NaN):s.length?typeof s[0]=="number"&&(s.length===1||s.length===2&&typeof s[1]!="number")?this.setTime(s[0]):typeof s[0]=="string"?this.setTime(+new Date(s[0])):s[0]instanceof Date?this.setTime(+s[0]):(this.setTime(+new Date(...s)),MR(this),kb(this)):this.setTime(Date.now())}static tz(s,...n){return n.length?new ci(...n,s):new ci(Date.now(),s)}withTimeZone(s){return new ci(+this,s)}getTimezoneOffset(){const s=-nc(this.timeZone,this);return s>0?Math.floor(s):Math.ceil(s)}setTime(s){return Date.prototype.setTime.apply(this,arguments),kb(this),+this}[Symbol.for("constructDateFrom")](s){return new ci(+new Date(s),this.timeZone)}}const ak=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!ak.test(e))return;const s=e.replace(ak,"$1UTC");ci.prototype[s]&&(e.startsWith("get")?ci.prototype[e]=function(){return this.internal[s]()}:(ci.prototype[e]=function(){return Date.prototype[s].apply(this.internal,arguments),nW(this),+this},ci.prototype[s]=function(){return Date.prototype[s].apply(this,arguments),kb(this),+this}))});function kb(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-nc(e.timeZone,e)*60))}function nW(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),MR(e)}function MR(e){const s=nc(e.timeZone,e),n=s>0?Math.floor(s):Math.ceil(s),a=new Date(+e);a.setUTCHours(a.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),l=-new Date(+a).getTimezoneOffset(),c=r-l,u=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();c&&u&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+c);const m=r-n;m&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m);const f=new Date(+e);f.setUTCSeconds(0);const p=r>0?f.getSeconds():(f.getSeconds()-60)%60,g=Math.round(-(nc(e.timeZone,e)*60))%60;(g||p)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+g+p));const v=nc(e.timeZone,e),w=v>0?Math.floor(v):Math.ceil(v),j=-new Date(+e).getTimezoneOffset()-w,S=w!==n,E=j-m;if(S&&E){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+E);const T=nc(e.timeZone,e),C=T>0?Math.floor(T):Math.ceil(T),I=w-C;I&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+I))}}class Ki extends ci{static tz(s,...n){return n.length?new Ki(...n,s):new Ki(Date.now(),s)}toISOString(){const[s,n,a]=this.tzComponents(),r=`${s}${n}:${a}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[s,n,a,r]=this.internal.toUTCString().split(" ");return`${s==null?void 0:s.slice(0,-1)} ${a} ${n} ${r}`}toTimeString(){const s=this.internal.toUTCString().split(" ")[4],[n,a,r]=this.tzComponents();return`${s} GMT${n}${a}${r} (${sW(this.timeZone,this)})`}toLocaleString(s,n){return Date.prototype.toLocaleString.call(this,s,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(s,n){return Date.prototype.toLocaleDateString.call(this,s,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(s,n){return Date.prototype.toLocaleTimeString.call(this,s,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const s=this.getTimezoneOffset(),n=s>0?"-":"+",a=String(Math.floor(Math.abs(s)/60)).padStart(2,"0"),r=String(Math.abs(s)%60).padStart(2,"0");return[n,a,r]}withTimeZone(s){return new Ki(+this,s)}[Symbol.for("constructDateFrom")](s){return new Ki(+new Date(s),this.timeZone)}}const _R=6048e5,rW=864e5,nk=Symbol.for("constructDateFrom");function Ma(e,s){return typeof e=="function"?e(s):e&&typeof e=="object"&&nk in e?e[nk](s):e instanceof Date?new e.constructor(s):new Date(s)}function _s(e,s){return Ma(s||e,e)}function LR(e,s,n){const a=_s(e,n==null?void 0:n.in);return isNaN(s)?Ma(e,NaN):(s&&a.setDate(a.getDate()+s),a)}function FR(e,s,n){const a=_s(e,n==null?void 0:n.in);if(isNaN(s))return Ma(e,NaN);if(!s)return a;const r=a.getDate(),l=Ma(e,a.getTime());l.setMonth(a.getMonth()+s+1,0);const c=l.getDate();return r>=c?l:(a.setFullYear(l.getFullYear(),l.getMonth(),r),a)}let iW={};function mm(){return iW}function Zd(e,s){var u,m,f,p;const n=mm(),a=(s==null?void 0:s.weekStartsOn)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,r=_s(e,s==null?void 0:s.in),l=r.getDay(),c=(l<a?7:0)+l-a;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function Kh(e,s){return Zd(e,{...s,weekStartsOn:1})}function UR(e,s){const n=_s(e,s==null?void 0:s.in),a=n.getFullYear(),r=Ma(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const l=Kh(r),c=Ma(n,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const u=Kh(c);return n.getTime()>=l.getTime()?a+1:n.getTime()>=u.getTime()?a:a-1}function rk(e){const s=_s(e),n=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return n.setUTCFullYear(s.getFullYear()),+e-+n}function yu(e,...s){const n=Ma.bind(null,s.find(a=>typeof a=="object"));return s.map(n)}function Qh(e,s){const n=_s(e,s==null?void 0:s.in);return n.setHours(0,0,0,0),n}function VR(e,s,n){const[a,r]=yu(n==null?void 0:n.in,e,s),l=Qh(a),c=Qh(r),u=+l-rk(l),m=+c-rk(c);return Math.round((u-m)/rW)}function oW(e,s){const n=UR(e,s),a=Ma(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Kh(a)}function lW(e,s,n){return LR(e,s*7,n)}function cW(e,s,n){return FR(e,s*12,n)}function dW(e,s){let n,a=s==null?void 0:s.in;return e.forEach(r=>{!a&&typeof r=="object"&&(a=Ma.bind(null,r));const l=_s(r,a);(!n||n<l||isNaN(+l))&&(n=l)}),Ma(a,n||NaN)}function uW(e,s){let n,a=s==null?void 0:s.in;return e.forEach(r=>{!a&&typeof r=="object"&&(a=Ma.bind(null,r));const l=_s(r,a);(!n||n>l||isNaN(+l))&&(n=l)}),Ma(a,n||NaN)}function hW(e,s,n){const[a,r]=yu(n==null?void 0:n.in,e,s);return+Qh(a)==+Qh(r)}function BR(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function mW(e){return!(!BR(e)&&typeof e!="number"||isNaN(+_s(e)))}function fW(e,s,n){const[a,r]=yu(n==null?void 0:n.in,e,s),l=a.getFullYear()-r.getFullYear(),c=a.getMonth()-r.getMonth();return l*12+c}function pW(e,s){const n=_s(e,s==null?void 0:s.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function zR(e,s){const[n,a]=yu(e,s.start,s.end);return{start:n,end:a}}function gW(e,s){const{start:n,end:a}=zR(s==null?void 0:s.in,e);let r=+n>+a;const l=r?+n:+a,c=r?a:n;c.setHours(0,0,0,0),c.setDate(1);let u=1;const m=[];for(;+c<=l;)m.push(Ma(n,c)),c.setMonth(c.getMonth()+u);return r?m.reverse():m}function xW(e,s){const n=_s(e,s==null?void 0:s.in);return n.setDate(1),n.setHours(0,0,0,0),n}function yW(e,s){const n=_s(e,s==null?void 0:s.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function qR(e,s){const n=_s(e,s==null?void 0:s.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function vW(e,s){const{start:n,end:a}=zR(s==null?void 0:s.in,e);let r=+n>+a;const l=r?+n:+a,c=r?a:n;c.setHours(0,0,0,0),c.setMonth(0,1);let u=1;const m=[];for(;+c<=l;)m.push(Ma(n,c)),c.setFullYear(c.getFullYear()+u);return r?m.reverse():m}function $R(e,s){var u,m,f,p;const n=mm(),a=(s==null?void 0:s.weekStartsOn)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,r=_s(e,s==null?void 0:s.in),l=r.getDay(),c=(l<a?-7:0)+6-(l-a);return r.setDate(r.getDate()+c),r.setHours(23,59,59,999),r}function bW(e,s){return $R(e,{...s,weekStartsOn:1})}const wW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jW=(e,s,n)=>{let a;const r=wW[e];return typeof r=="string"?a=r:s===1?a=r.one:a=r.other.replace("{{count}}",s.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function E0(e){return(s={})=>{const n=s.width?String(s.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const NW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TW={date:E0({formats:NW,defaultWidth:"full"}),time:E0({formats:SW,defaultWidth:"full"}),dateTime:E0({formats:CW,defaultWidth:"full"})},kW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},EW=(e,s,n,a)=>kW[e];function yh(e){return(s,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let r;if(a==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):c;r=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[u]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(s):s;return r[l]}}const AW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MW=(e,s)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_W={ordinalNumber:MW,era:yh({values:AW,defaultWidth:"wide"}),quarter:yh({values:DW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yh({values:PW,defaultWidth:"wide"}),day:yh({values:IW,defaultWidth:"wide"}),dayPeriod:yh({values:RW,defaultWidth:"wide",formattingValues:OW,defaultFormattingWidth:"wide"})};function vh(e){return(s,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],l=s.match(r);if(!l)return null;const c=l[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(u)?FW(u,g=>g.test(c)):LW(u,g=>g.test(c));let f;f=e.valueCallback?e.valueCallback(m):m,f=n.valueCallback?n.valueCallback(f):f;const p=s.slice(c.length);return{value:f,rest:p}}}function LW(e,s){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s(e[n]))return n}function FW(e,s){for(let n=0;n<e.length;n++)if(s(e[n]))return n}function UW(e){return(s,n={})=>{const a=s.match(e.matchPattern);if(!a)return null;const r=a[0],l=s.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const u=s.slice(r.length);return{value:c,rest:u}}}const VW=/^(\d+)(th|st|nd|rd)?/i,BW=/\d+/i,zW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qW={any:[/^b/i,/^(a|c)/i]},$W={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HW={any:[/1/i,/2/i,/3/i,/4/i]},GW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XW={ordinalNumber:UW({matchPattern:VW,parsePattern:BW,valueCallback:e=>parseInt(e,10)}),era:vh({matchPatterns:zW,defaultMatchWidth:"wide",parsePatterns:qW,defaultParseWidth:"any"}),quarter:vh({matchPatterns:$W,defaultMatchWidth:"wide",parsePatterns:HW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vh({matchPatterns:GW,defaultMatchWidth:"wide",parsePatterns:YW,defaultParseWidth:"any"}),day:vh({matchPatterns:WW,defaultMatchWidth:"wide",parsePatterns:KW,defaultParseWidth:"any"}),dayPeriod:vh({matchPatterns:QW,defaultMatchWidth:"any",parsePatterns:JW,defaultParseWidth:"any"})},yd={code:"en-US",formatDistance:jW,formatLong:TW,formatRelative:EW,localize:_W,match:XW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZW(e,s){const n=_s(e,s==null?void 0:s.in);return VR(n,qR(n))+1}function HR(e,s){const n=_s(e,s==null?void 0:s.in),a=+Kh(n)-+oW(n);return Math.round(a/_R)+1}function GR(e,s){var p,g,v,w;const n=_s(e,s==null?void 0:s.in),a=n.getFullYear(),r=mm(),l=(s==null?void 0:s.firstWeekContainsDate)??((g=(p=s==null?void 0:s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(v=r.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,c=Ma((s==null?void 0:s.in)||e,0);c.setFullYear(a+1,0,l),c.setHours(0,0,0,0);const u=Zd(c,s),m=Ma((s==null?void 0:s.in)||e,0);m.setFullYear(a,0,l),m.setHours(0,0,0,0);const f=Zd(m,s);return+n>=+u?a+1:+n>=+f?a:a-1}function eK(e,s){var u,m,f,p;const n=mm(),a=(s==null?void 0:s.firstWeekContainsDate)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,r=GR(e,s),l=Ma((s==null?void 0:s.in)||e,0);return l.setFullYear(r,0,a),l.setHours(0,0,0,0),Zd(l,s)}function YR(e,s){const n=_s(e,s==null?void 0:s.in),a=+Zd(n,s)-+eK(n,s);return Math.round(a/_R)+1}function Ts(e,s){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(s,"0");return n+a}const qo={y(e,s){const n=e.getFullYear(),a=n>0?n:1-n;return Ts(s==="yy"?a%100:a,s.length)},M(e,s){const n=e.getMonth();return s==="M"?String(n+1):Ts(n+1,2)},d(e,s){return Ts(e.getDate(),s.length)},a(e,s){const n=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,s){return Ts(e.getHours()%12||12,s.length)},H(e,s){return Ts(e.getHours(),s.length)},m(e,s){return Ts(e.getMinutes(),s.length)},s(e,s){return Ts(e.getSeconds(),s.length)},S(e,s){const n=s.length,a=e.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return Ts(r,s.length)}},md={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ik={G:function(e,s,n){const a=e.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,s,n){if(s==="yo"){const a=e.getFullYear(),r=a>0?a:1-a;return n.ordinalNumber(r,{unit:"year"})}return qo.y(e,s)},Y:function(e,s,n,a){const r=GR(e,a),l=r>0?r:1-r;if(s==="YY"){const c=l%100;return Ts(c,2)}return s==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ts(l,s.length)},R:function(e,s){const n=UR(e);return Ts(n,s.length)},u:function(e,s){const n=e.getFullYear();return Ts(n,s.length)},Q:function(e,s,n){const a=Math.ceil((e.getMonth()+1)/3);switch(s){case"Q":return String(a);case"QQ":return Ts(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,s,n){const a=Math.ceil((e.getMonth()+1)/3);switch(s){case"q":return String(a);case"qq":return Ts(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,s,n){const a=e.getMonth();switch(s){case"M":case"MM":return qo.M(e,s);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,s,n){const a=e.getMonth();switch(s){case"L":return String(a+1);case"LL":return Ts(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,s,n,a){const r=YR(e,a);return s==="wo"?n.ordinalNumber(r,{unit:"week"}):Ts(r,s.length)},I:function(e,s,n){const a=HR(e);return s==="Io"?n.ordinalNumber(a,{unit:"week"}):Ts(a,s.length)},d:function(e,s,n){return s==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):qo.d(e,s)},D:function(e,s,n){const a=ZW(e);return s==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ts(a,s.length)},E:function(e,s,n){const a=e.getDay();switch(s){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,s,n,a){const r=e.getDay(),l=(r-a.weekStartsOn+8)%7||7;switch(s){case"e":return String(l);case"ee":return Ts(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,s,n,a){const r=e.getDay(),l=(r-a.weekStartsOn+8)%7||7;switch(s){case"c":return String(l);case"cc":return Ts(l,s.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,s,n){const a=e.getDay(),r=a===0?7:a;switch(s){case"i":return String(r);case"ii":return Ts(r,s.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,s,n){const r=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,s,n){const a=e.getHours();let r;switch(a===12?r=md.noon:a===0?r=md.midnight:r=a/12>=1?"pm":"am",s){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,s,n){const a=e.getHours();let r;switch(a>=17?r=md.evening:a>=12?r=md.afternoon:a>=4?r=md.morning:r=md.night,s){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,s,n){if(s==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return qo.h(e,s)},H:function(e,s,n){return s==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):qo.H(e,s)},K:function(e,s,n){const a=e.getHours()%12;return s==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ts(a,s.length)},k:function(e,s,n){let a=e.getHours();return a===0&&(a=24),s==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ts(a,s.length)},m:function(e,s,n){return s==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):qo.m(e,s)},s:function(e,s,n){return s==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):qo.s(e,s)},S:function(e,s){return qo.S(e,s)},X:function(e,s,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(s){case"X":return lk(a);case"XXXX":case"XX":return Kl(a);case"XXXXX":case"XXX":default:return Kl(a,":")}},x:function(e,s,n){const a=e.getTimezoneOffset();switch(s){case"x":return lk(a);case"xxxx":case"xx":return Kl(a);case"xxxxx":case"xxx":default:return Kl(a,":")}},O:function(e,s,n){const a=e.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+ok(a,":");case"OOOO":default:return"GMT"+Kl(a,":")}},z:function(e,s,n){const a=e.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+ok(a,":");case"zzzz":default:return"GMT"+Kl(a,":")}},t:function(e,s,n){const a=Math.trunc(+e/1e3);return Ts(a,s.length)},T:function(e,s,n){return Ts(+e,s.length)}};function ok(e,s=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),l=a%60;return l===0?n+String(r):n+String(r)+s+Ts(l,2)}function lk(e,s){return e%60===0?(e>0?"-":"+")+Ts(Math.abs(e)/60,2):Kl(e,s)}function Kl(e,s=""){const n=e>0?"-":"+",a=Math.abs(e),r=Ts(Math.trunc(a/60),2),l=Ts(a%60,2);return n+r+s+l}const ck=(e,s)=>{switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},WR=(e,s)=>{switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},tK=(e,s)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return ck(e,s);let l;switch(a){case"P":l=s.dateTime({width:"short"});break;case"PP":l=s.dateTime({width:"medium"});break;case"PPP":l=s.dateTime({width:"long"});break;case"PPPP":default:l=s.dateTime({width:"full"});break}return l.replace("{{date}}",ck(a,s)).replace("{{time}}",WR(r,s))},sK={p:WR,P:tK},aK=/^D+$/,nK=/^Y+$/,rK=["D","DD","YY","YYYY"];function iK(e){return aK.test(e)}function oK(e){return nK.test(e)}function lK(e,s,n){const a=cK(e,s,n);if(console.warn(a),rK.includes(e))throw new RangeError(a)}function cK(e,s,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${s}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hK=/^'([^]*?)'?$/,mK=/''/g,fK=/[a-zA-Z]/;function Ch(e,s,n){var p,g,v,w,N,j,S,E;const a=mm(),r=(n==null?void 0:n.locale)??a.locale??yd,l=(n==null?void 0:n.firstWeekContainsDate)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(v=a.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((j=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:j.weekStartsOn)??a.weekStartsOn??((E=(S=a.locale)==null?void 0:S.options)==null?void 0:E.weekStartsOn)??0,u=_s(e,n==null?void 0:n.in);if(!mW(u))throw new RangeError("Invalid time value");let m=s.match(uK).map(T=>{const C=T[0];if(C==="p"||C==="P"){const I=sK[C];return I(T,r.formatLong)}return T}).join("").match(dK).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const C=T[0];if(C==="'")return{isToken:!1,value:pK(T)};if(ik[C])return{isToken:!0,value:T};if(C.match(fK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:T}});r.localize.preprocessor&&(m=r.localize.preprocessor(u,m));const f={firstWeekContainsDate:l,weekStartsOn:c,locale:r};return m.map(T=>{if(!T.isToken)return T.value;const C=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&oK(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&iK(C))&&lK(C,s,String(e));const I=ik[C[0]];return I(u,C,r.localize,f)}).join("")}function pK(e){const s=e.match(hK);return s?s[1].replace(mK,"'"):e}function gK(e,s){const n=_s(e,s==null?void 0:s.in),a=n.getFullYear(),r=n.getMonth(),l=Ma(n,0);return l.setFullYear(a,r+1,0),l.setHours(0,0,0,0),l.getDate()}function xK(e,s){return _s(e,s==null?void 0:s.in).getMonth()}function yK(e,s){return _s(e,s==null?void 0:s.in).getFullYear()}function vK(e,s){return+_s(e)>+_s(s)}function bK(e,s){return+_s(e)<+_s(s)}function wK(e,s,n){const[a,r]=yu(n==null?void 0:n.in,e,s);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function jK(e,s,n){const[a,r]=yu(n==null?void 0:n.in,e,s);return a.getFullYear()===r.getFullYear()}function NK(e,s,n){const a=_s(e,n==null?void 0:n.in),r=a.getFullYear(),l=a.getDate(),c=Ma(e,0);c.setFullYear(r,s,15),c.setHours(0,0,0,0);const u=gK(c);return a.setMonth(s,Math.min(l,u)),a}function SK(e,s,n){const a=_s(e,n==null?void 0:n.in);return isNaN(+a)?Ma(e,NaN):(a.setFullYear(s),a)}const dk=5,CK=4;function TK(e,s){const n=s.startOfMonth(e),a=n.getDay()>0?n.getDay():7,r=s.addDays(e,-a+1),l=s.addDays(r,dk*7-1);return s.getMonth(e)===s.getMonth(l)?dk:CK}function KR(e,s){const n=s.startOfMonth(e),a=n.getDay();return a===1?n:a===0?s.addDays(n,-6):s.addDays(n,-1*(a-1))}function kK(e,s){const n=KR(e,s),a=TK(e,s);return s.addDays(n,a*7-1)}const QR={...yd,labels:{labelDayButton:(e,s,n,a)=>{let r;a&&typeof a.format=="function"?r=a.format.bind(a):r=(c,u)=>Ch(c,u,{locale:yd,...n});let l=r(e,"PPPP");return s.today&&(l=`Today, ${l}`),s.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,s,n)=>{let a;return n&&typeof n.format=="function"?a=n.format.bind(n):a=(r,l)=>Ch(r,l,{locale:yd,...s}),a(e,"LLLL yyyy")},labelGridcell:(e,s,n,a)=>{let r;a&&typeof a.format=="function"?r=a.format.bind(a):r=(c,u)=>Ch(c,u,{locale:yd,...n});let l=r(e,"PPPP");return s!=null&&s.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,s,n)=>{let a;return n&&typeof n.format=="function"?a=n.format.bind(n):a=(r,l)=>Ch(r,l,{locale:yd,...s}),a(e,"cccc")}}};class sr{constructor(s,n){this.Date=Date,this.today=()=>{var a;return(a=this.overrides)!=null&&a.today?this.overrides.today():this.options.timeZone?Ki.tz(this.options.timeZone):new this.Date},this.newDate=(a,r,l)=>{var c;return(c=this.overrides)!=null&&c.newDate?this.overrides.newDate(a,r,l):this.options.timeZone?new Ki(a,r,l,this.options.timeZone):new Date(a,r,l)},this.addDays=(a,r)=>{var l;return(l=this.overrides)!=null&&l.addDays?this.overrides.addDays(a,r):LR(a,r)},this.addMonths=(a,r)=>{var l;return(l=this.overrides)!=null&&l.addMonths?this.overrides.addMonths(a,r):FR(a,r)},this.addWeeks=(a,r)=>{var l;return(l=this.overrides)!=null&&l.addWeeks?this.overrides.addWeeks(a,r):lW(a,r)},this.addYears=(a,r)=>{var l;return(l=this.overrides)!=null&&l.addYears?this.overrides.addYears(a,r):cW(a,r)},this.differenceInCalendarDays=(a,r)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarDays?this.overrides.differenceInCalendarDays(a,r):VR(a,r)},this.differenceInCalendarMonths=(a,r)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(a,r):fW(a,r)},this.eachMonthOfInterval=a=>{var r;return(r=this.overrides)!=null&&r.eachMonthOfInterval?this.overrides.eachMonthOfInterval(a):gW(a)},this.eachYearOfInterval=a=>{var u;const r=(u=this.overrides)!=null&&u.eachYearOfInterval?this.overrides.eachYearOfInterval(a):vW(a),l=new Set(r.map(m=>this.getYear(m)));if(l.size===r.length)return r;const c=[];return l.forEach(m=>{c.push(new Date(m,0,1))}),c},this.endOfBroadcastWeek=a=>{var r;return(r=this.overrides)!=null&&r.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(a):kK(a,this)},this.endOfISOWeek=a=>{var r;return(r=this.overrides)!=null&&r.endOfISOWeek?this.overrides.endOfISOWeek(a):bW(a)},this.endOfMonth=a=>{var r;return(r=this.overrides)!=null&&r.endOfMonth?this.overrides.endOfMonth(a):pW(a)},this.endOfWeek=(a,r)=>{var l;return(l=this.overrides)!=null&&l.endOfWeek?this.overrides.endOfWeek(a,r):$R(a,this.options)},this.endOfYear=a=>{var r;return(r=this.overrides)!=null&&r.endOfYear?this.overrides.endOfYear(a):yW(a)},this.format=(a,r,l)=>{var u;const c=(u=this.overrides)!=null&&u.format?this.overrides.format(a,r,this.options):Ch(a,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=a=>{var r;return(r=this.overrides)!=null&&r.getISOWeek?this.overrides.getISOWeek(a):HR(a)},this.getMonth=(a,r)=>{var l;return(l=this.overrides)!=null&&l.getMonth?this.overrides.getMonth(a,this.options):xK(a,this.options)},this.getYear=(a,r)=>{var l;return(l=this.overrides)!=null&&l.getYear?this.overrides.getYear(a,this.options):yK(a,this.options)},this.getWeek=(a,r)=>{var l;return(l=this.overrides)!=null&&l.getWeek?this.overrides.getWeek(a,this.options):YR(a,this.options)},this.isAfter=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isAfter?this.overrides.isAfter(a,r):vK(a,r)},this.isBefore=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isBefore?this.overrides.isBefore(a,r):bK(a,r)},this.isDate=a=>{var r;return(r=this.overrides)!=null&&r.isDate?this.overrides.isDate(a):BR(a)},this.isSameDay=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isSameDay?this.overrides.isSameDay(a,r):hW(a,r)},this.isSameMonth=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isSameMonth?this.overrides.isSameMonth(a,r):wK(a,r)},this.isSameYear=(a,r)=>{var l;return(l=this.overrides)!=null&&l.isSameYear?this.overrides.isSameYear(a,r):jK(a,r)},this.max=a=>{var r;return(r=this.overrides)!=null&&r.max?this.overrides.max(a):dW(a)},this.min=a=>{var r;return(r=this.overrides)!=null&&r.min?this.overrides.min(a):uW(a)},this.setMonth=(a,r)=>{var l;return(l=this.overrides)!=null&&l.setMonth?this.overrides.setMonth(a,r):NK(a,r)},this.setYear=(a,r)=>{var l;return(l=this.overrides)!=null&&l.setYear?this.overrides.setYear(a,r):SK(a,r)},this.startOfBroadcastWeek=(a,r)=>{var l;return(l=this.overrides)!=null&&l.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(a,this):KR(a,this)},this.startOfDay=a=>{var r;return(r=this.overrides)!=null&&r.startOfDay?this.overrides.startOfDay(a):Qh(a)},this.startOfISOWeek=a=>{var r;return(r=this.overrides)!=null&&r.startOfISOWeek?this.overrides.startOfISOWeek(a):Kh(a)},this.startOfMonth=a=>{var r;return(r=this.overrides)!=null&&r.startOfMonth?this.overrides.startOfMonth(a):xW(a)},this.startOfWeek=(a,r)=>{var l;return(l=this.overrides)!=null&&l.startOfWeek?this.overrides.startOfWeek(a,this.options):Zd(a,this.options)},this.startOfYear=a=>{var r;return(r=this.overrides)!=null&&r.startOfYear?this.overrides.startOfYear(a):qR(a)},this.options={locale:QR,...s},this.overrides=n}getDigitMap(){const{numerals:s="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:s}),a={};for(let r=0;r<10;r++)a[r.toString()]=n.format(r);return a}replaceDigits(s){const n=this.getDigitMap();return s.replace(/\d/g,a=>n[a]||a)}formatNumber(s){return this.replaceDigits(s.toString())}getMonthYearOrder(){var n;const s=(n=this.options.locale)==null?void 0:n.code;return s&&sr.yearFirstLocales.has(s)?"year-first":"month-first"}formatMonthYear(s){const{locale:n,timeZone:a,numerals:r}=this.options,l=n==null?void 0:n.code;if(l&&sr.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:a,numberingSystem:r}).format(s)}catch{}const c=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(s,c)}}sr.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const vi=new sr;class JR{constructor(s,n,a=vi){this.date=s,this.displayMonth=n,this.outside=!!(n&&!a.isSameMonth(s,n)),this.dateLib=a,this.isoDate=a.format(s,"yyyy-MM-dd"),this.displayMonthId=a.format(n,"yyyy-MM"),this.dateMonthId=a.format(s,"yyyy-MM")}isEqualTo(s){return this.dateLib.isSameDay(s.date,this.date)&&this.dateLib.isSameMonth(s.displayMonth,this.displayMonth)}}class EK{constructor(s,n){this.date=s,this.weeks=n}}class AK{constructor(s,n){this.days=n,this.weekNumber=s}}function DK(e){return qe.createElement("button",{...e})}function PK(e){return qe.createElement("span",{...e})}function IK(e){const{size:s=24,orientation:n="left",className:a}=e;return qe.createElement("svg",{className:a,width:s,height:s,viewBox:"0 0 24 24"},n==="up"&&qe.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&qe.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&qe.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&qe.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function RK(e){const{day:s,modifiers:n,...a}=e;return qe.createElement("td",{...a})}function OK(e){const{day:s,modifiers:n,...a}=e,r=qe.useRef(null);return qe.useEffect(()=>{var l;n.focused&&((l=r.current)==null||l.focus())},[n.focused]),qe.createElement("button",{ref:r,...a})}var wt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(wt||(wt={}));var na;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(na||(na={}));var zr;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(zr||(zr={}));var Jn;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Jn||(Jn={}));function MK(e){const{options:s,className:n,components:a,classNames:r,...l}=e,c=[r[wt.Dropdown],n].join(" "),u=s==null?void 0:s.find(({value:m})=>m===l.value);return qe.createElement("span",{"data-disabled":l.disabled,className:r[wt.DropdownRoot]},qe.createElement(a.Select,{className:c,...l},s==null?void 0:s.map(({value:m,label:f,disabled:p})=>qe.createElement(a.Option,{key:m,value:m,disabled:p},f))),qe.createElement("span",{className:r[wt.CaptionLabel],"aria-hidden":!0},u==null?void 0:u.label,qe.createElement(a.Chevron,{orientation:"down",size:18,className:r[wt.Chevron]})))}function _K(e){return qe.createElement("div",{...e})}function LK(e){return qe.createElement("div",{...e})}function FK(e){const{calendarMonth:s,displayIndex:n,...a}=e;return qe.createElement("div",{...a},e.children)}function UK(e){const{calendarMonth:s,displayIndex:n,...a}=e;return qe.createElement("div",{...a})}function VK(e){return qe.createElement("table",{...e})}function BK(e){return qe.createElement("div",{...e})}const XR=x.createContext(void 0);function fm(){const e=x.useContext(XR);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function zK(e){const{components:s}=fm();return qe.createElement(s.Dropdown,{...e})}function qK(e){const{onPreviousClick:s,onNextClick:n,previousMonth:a,nextMonth:r,...l}=e,{components:c,classNames:u,labels:{labelPrevious:m,labelNext:f}}=fm(),p=x.useCallback(v=>{r&&(n==null||n(v))},[r,n]),g=x.useCallback(v=>{a&&(s==null||s(v))},[a,s]);return qe.createElement("nav",{...l},qe.createElement(c.PreviousMonthButton,{type:"button",className:u[wt.PreviousMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":m(a),onClick:g},qe.createElement(c.Chevron,{disabled:a?void 0:!0,className:u[wt.Chevron],orientation:"left"})),qe.createElement(c.NextMonthButton,{type:"button",className:u[wt.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":f(r),onClick:p},qe.createElement(c.Chevron,{disabled:r?void 0:!0,orientation:"right",className:u[wt.Chevron]})))}function $K(e){const{components:s}=fm();return qe.createElement(s.Button,{...e})}function HK(e){return qe.createElement("option",{...e})}function GK(e){const{components:s}=fm();return qe.createElement(s.Button,{...e})}function YK(e){const{rootRef:s,...n}=e;return qe.createElement("div",{...n,ref:s})}function WK(e){return qe.createElement("select",{...e})}function KK(e){const{week:s,...n}=e;return qe.createElement("tr",{...n})}function QK(e){return qe.createElement("th",{...e})}function JK(e){return qe.createElement("thead",{"aria-hidden":!0},qe.createElement("tr",{...e}))}function XK(e){const{week:s,...n}=e;return qe.createElement("th",{...n})}function ZK(e){return qe.createElement("th",{...e})}function eQ(e){return qe.createElement("tbody",{...e})}function tQ(e){const{components:s}=fm();return qe.createElement(s.Dropdown,{...e})}const sQ=Object.freeze(Object.defineProperty({__proto__:null,Button:DK,CaptionLabel:PK,Chevron:IK,Day:RK,DayButton:OK,Dropdown:MK,DropdownNav:_K,Footer:LK,Month:FK,MonthCaption:UK,MonthGrid:VK,Months:BK,MonthsDropdown:zK,Nav:qK,NextMonthButton:$K,Option:HK,PreviousMonthButton:GK,Root:YK,Select:WK,Week:KK,WeekNumber:XK,WeekNumberHeader:ZK,Weekday:QK,Weekdays:JK,Weeks:eQ,YearsDropdown:tQ},Symbol.toStringTag,{value:"Module"}));function Qi(e,s,n=!1,a=vi){let{from:r,to:l}=e;const{differenceInCalendarDays:c,isSameDay:u}=a;return r&&l?(c(l,r)<0&&([r,l]=[l,r]),c(s,r)>=(n?1:0)&&c(l,s)>=(n?1:0)):!n&&l?u(l,s):!n&&r?u(r,s):!1}function pj(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Rg(e){return!!(e&&typeof e=="object"&&"from"in e)}function gj(e){return!!(e&&typeof e=="object"&&"after"in e)}function xj(e){return!!(e&&typeof e=="object"&&"before"in e)}function ZR(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function eO(e,s){return Array.isArray(e)&&e.every(s.isDate)}function Ji(e,s,n=vi){const a=Array.isArray(s)?s:[s],{isSameDay:r,differenceInCalendarDays:l,isAfter:c}=n;return a.some(u=>{if(typeof u=="boolean")return u;if(n.isDate(u))return r(e,u);if(eO(u,n))return u.some(m=>r(e,m));if(Rg(u))return Qi(u,e,!1,n);if(ZR(u))return Array.isArray(u.dayOfWeek)?u.dayOfWeek.includes(e.getDay()):u.dayOfWeek===e.getDay();if(pj(u)){const m=l(u.before,e),f=l(u.after,e),p=m>0,g=f<0;return c(u.before,u.after)?g&&p:p||g}return gj(u)?l(e,u.after)>0:xj(u)?l(u.before,e)>0:typeof u=="function"?u(e):!1})}function aQ(e,s,n,a,r){const{disabled:l,hidden:c,modifiers:u,showOutsideDays:m,broadcastCalendar:f,today:p=r.today()}=s,{isSameDay:g,isSameMonth:v,startOfMonth:w,isBefore:N,endOfMonth:j,isAfter:S}=r,E=n&&w(n),T=a&&j(a),C={[na.focused]:[],[na.outside]:[],[na.disabled]:[],[na.hidden]:[],[na.today]:[]},I={};for(const D of e){const{date:A,displayMonth:R}=D,L=!!(R&&!v(A,R)),z=!!(E&&N(A,E)),Q=!!(T&&S(A,T)),K=!!(l&&Ji(A,l,r)),J=!!(c&&Ji(A,c,r))||z||Q||!f&&!m&&L||f&&m===!1&&L,de=g(A,p);L&&C.outside.push(D),K&&C.disabled.push(D),J&&C.hidden.push(D),de&&C.today.push(D),u&&Object.keys(u).forEach(H=>{const ie=u==null?void 0:u[H];ie&&Ji(A,ie,r)&&(I[H]?I[H].push(D):I[H]=[D])})}return D=>{const A={[na.focused]:!1,[na.disabled]:!1,[na.hidden]:!1,[na.outside]:!1,[na.today]:!1},R={};for(const L in C){const z=C[L];A[L]=z.some(Q=>Q===D)}for(const L in I)R[L]=I[L].some(z=>z===D);return{...A,...R}}}function nQ(e,s,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[l])=>(n[l]?r.push(n[l]):s[na[l]]?r.push(s[na[l]]):s[zr[l]]&&r.push(s[zr[l]]),r),[s[wt.Day]])}function rQ(e){return{...sQ,...e}}function iQ(e){const s={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,a])=>{n.startsWith("data-")&&(s[n]=a)}),s}function oQ(){const e={};for(const s in wt)e[wt[s]]=`rdp-${wt[s]}`;for(const s in na)e[na[s]]=`rdp-${na[s]}`;for(const s in zr)e[zr[s]]=`rdp-${zr[s]}`;for(const s in Jn)e[Jn[s]]=`rdp-${Jn[s]}`;return e}function tO(e,s,n){return(n??new sr(s)).formatMonthYear(e)}const lQ=tO;function cQ(e,s,n){return(n??new sr(s)).format(e,"d")}function dQ(e,s=vi){return s.format(e,"LLLL")}function uQ(e,s,n){return(n??new sr(s)).format(e,"cccccc")}function hQ(e,s=vi){return e<10?s.formatNumber(`0${e.toLocaleString()}`):s.formatNumber(`${e.toLocaleString()}`)}function mQ(){return""}function sO(e,s=vi){return s.format(e,"yyyy")}const fQ=sO,pQ=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:tO,formatDay:cQ,formatMonthCaption:lQ,formatMonthDropdown:dQ,formatWeekNumber:hQ,formatWeekNumberHeader:mQ,formatWeekdayName:uQ,formatYearCaption:fQ,formatYearDropdown:sO},Symbol.toStringTag,{value:"Module"}));function gQ(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...pQ,...e}}function yj(e,s,n,a){let r=(a??new sr(n)).format(e,"PPPP");return s.today&&(r=`Today, ${r}`),s.selected&&(r=`${r}, selected`),r}const xQ=yj;function vj(e,s,n){return(n??new sr(s)).formatMonthYear(e)}const yQ=vj;function aO(e,s,n,a){let r=(a??new sr(n)).format(e,"PPPP");return s!=null&&s.today&&(r=`Today, ${r}`),r}function nO(e){return"Choose the Month"}function rO(){return""}const vQ="Go to the Next Month";function iO(e,s){return vQ}function oO(e){return"Go to the Previous Month"}function lO(e,s,n){return(n??new sr(s)).format(e,"cccc")}function cO(e,s){return`Week ${e}`}function dO(e){return"Week Number"}function uO(e){return"Choose the Year"}const bQ=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:yQ,labelDay:xQ,labelDayButton:yj,labelGrid:vj,labelGridcell:aO,labelMonthDropdown:nO,labelNav:rO,labelNext:iO,labelPrevious:oO,labelWeekNumber:cO,labelWeekNumberHeader:dO,labelWeekday:lO,labelYearDropdown:uO},Symbol.toStringTag,{value:"Module"})),Or=(e,s,n)=>s||(n?typeof n=="function"?n:(...a)=>n:e);function wQ(e,s){var a;const n=((a=s.locale)==null?void 0:a.labels)??{};return{...bQ,...e??{},labelDayButton:Or(yj,e==null?void 0:e.labelDayButton,n.labelDayButton),labelMonthDropdown:Or(nO,e==null?void 0:e.labelMonthDropdown,n.labelMonthDropdown),labelNext:Or(iO,e==null?void 0:e.labelNext,n.labelNext),labelPrevious:Or(oO,e==null?void 0:e.labelPrevious,n.labelPrevious),labelWeekNumber:Or(cO,e==null?void 0:e.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:Or(uO,e==null?void 0:e.labelYearDropdown,n.labelYearDropdown),labelGrid:Or(vj,e==null?void 0:e.labelGrid,n.labelGrid),labelGridcell:Or(aO,e==null?void 0:e.labelGridcell,n.labelGridcell),labelNav:Or(rO,e==null?void 0:e.labelNav,n.labelNav),labelWeekNumberHeader:Or(dO,e==null?void 0:e.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:Or(lO,e==null?void 0:e.labelWeekday,n.labelWeekday)}}function jQ(e,s,n,a,r){const{startOfMonth:l,startOfYear:c,endOfYear:u,eachMonthOfInterval:m,getMonth:f}=r;return m({start:c(e),end:u(e)}).map(v=>{const w=a.formatMonthDropdown(v,r),N=f(v),j=s&&v<l(s)||n&&v>l(n)||!1;return{value:N,label:w,disabled:j}})}function NQ(e,s={},n={}){let a={...s==null?void 0:s[wt.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{a={...a,...n==null?void 0:n[r]}}),a}function SQ(e,s,n,a){const r=a??e.today(),l=n?e.startOfBroadcastWeek(r,e):s?e.startOfISOWeek(r):e.startOfWeek(r),c=[];for(let u=0;u<7;u++){const m=e.addDays(l,u);c.push(m)}return c}function CQ(e,s,n,a,r=!1){if(!e||!s)return;const{startOfYear:l,endOfYear:c,eachYearOfInterval:u,getYear:m}=a,f=l(e),p=c(s),g=u({start:f,end:p});return r&&g.reverse(),g.map(v=>{const w=n.formatYearDropdown(v,a);return{value:m(v),label:w,disabled:!1}})}const pm=e=>e instanceof HTMLElement?e:null,A0=e=>[...e.querySelectorAll("[data-animated-month]")??[]],TQ=e=>pm(e.querySelector("[data-animated-month]")),D0=e=>pm(e.querySelector("[data-animated-caption]")),P0=e=>pm(e.querySelector("[data-animated-weeks]")),kQ=e=>pm(e.querySelector("[data-animated-nav]")),EQ=e=>pm(e.querySelector("[data-animated-weekdays]"));function AQ(e,s,{classNames:n,months:a,focused:r,dateLib:l}){const c=x.useRef(null),u=x.useRef(a),m=x.useRef(!1);x.useLayoutEffect(()=>{const f=u.current;if(u.current=a,!s||!e.current||!(e.current instanceof HTMLElement)||a.length===0||f.length===0||a.length!==f.length)return;const p=l.isSameMonth(a[0].date,f[0].date),g=l.isAfter(a[0].date,f[0].date),v=g?n[Jn.caption_after_enter]:n[Jn.caption_before_enter],w=g?n[Jn.weeks_after_enter]:n[Jn.weeks_before_enter],N=c.current,j=e.current.cloneNode(!0);if(j instanceof HTMLElement?(A0(j).forEach(C=>{if(!(C instanceof HTMLElement))return;const I=TQ(C);I&&C.contains(I)&&C.removeChild(I);const D=D0(C);D&&D.classList.remove(v);const A=P0(C);A&&A.classList.remove(w)}),c.current=j):c.current=null,m.current||p||r)return;const S=N instanceof HTMLElement?A0(N):[],E=A0(e.current);if(E!=null&&E.every(T=>T instanceof HTMLElement)&&S&&S.every(T=>T instanceof HTMLElement)){m.current=!0,e.current.style.isolation="isolate";const T=kQ(e.current);T&&(T.style.zIndex="1"),E.forEach((C,I)=>{const D=S[I];if(!D)return;C.style.position="relative",C.style.overflow="hidden";const A=D0(C);A&&A.classList.add(v);const R=P0(C);R&&R.classList.add(w);const L=()=>{m.current=!1,e.current&&(e.current.style.isolation=""),T&&(T.style.zIndex=""),A&&A.classList.remove(v),R&&R.classList.remove(w),C.style.position="",C.style.overflow="",C.contains(D)&&C.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const z=EQ(D);z&&(z.style.opacity="0");const Q=D0(D);Q&&(Q.classList.add(g?n[Jn.caption_before_exit]:n[Jn.caption_after_exit]),Q.addEventListener("animationend",L));const K=P0(D);K&&K.classList.add(g?n[Jn.weeks_before_exit]:n[Jn.weeks_after_exit]),C.insertBefore(D,C.firstChild)})}})}function DQ(e,s,n,a){const r=e[0],l=e[e.length-1],{ISOWeek:c,fixedWeeks:u,broadcastCalendar:m}=n??{},{addDays:f,differenceInCalendarDays:p,differenceInCalendarMonths:g,endOfBroadcastWeek:v,endOfISOWeek:w,endOfMonth:N,endOfWeek:j,isAfter:S,startOfBroadcastWeek:E,startOfISOWeek:T,startOfWeek:C}=a,I=m?E(r,a):c?T(r):C(r),D=m?v(l):c?w(N(l)):j(N(l)),A=s&&(m?v(s):c?w(s):j(s)),R=A&&S(D,A)?A:D,L=p(R,I),z=g(l,r)+1,Q=[];for(let de=0;de<=L;de++){const H=f(I,de);Q.push(H)}const J=(m?35:42)*z;if(u&&Q.length<J){const de=J-Q.length;for(let H=0;H<de;H++){const ie=f(Q[Q.length-1],1);Q.push(ie)}}return Q}function PQ(e){const s=[];return e.reduce((n,a)=>{const r=a.weeks.reduce((l,c)=>l.concat(c.days.slice()),s.slice());return n.concat(r.slice())},s.slice())}function IQ(e,s,n,a){const{numberOfMonths:r=1}=n,l=[];for(let c=0;c<r;c++){const u=a.addMonths(e,c);if(s&&u>s)break;l.push(u)}return l}function uk(e,s,n,a){const{month:r,defaultMonth:l,today:c=a.today(),numberOfMonths:u=1}=e;let m=r||l||c;const{differenceInCalendarMonths:f,addMonths:p,startOfMonth:g}=a;if(n&&f(n,m)<u-1){const v=-1*(u-1);m=p(n,v)}return s&&f(m,s)<0&&(m=s),g(m)}function RQ(e,s,n,a){const{addDays:r,endOfBroadcastWeek:l,endOfISOWeek:c,endOfMonth:u,endOfWeek:m,getISOWeek:f,getWeek:p,startOfBroadcastWeek:g,startOfISOWeek:v,startOfWeek:w}=a,N=e.reduce((j,S)=>{const E=n.broadcastCalendar?g(S,a):n.ISOWeek?v(S):w(S),T=n.broadcastCalendar?l(S):n.ISOWeek?c(u(S)):m(u(S)),C=s.filter(R=>R>=E&&R<=T),I=n.broadcastCalendar?35:42;if(n.fixedWeeks&&C.length<I){const R=s.filter(L=>{const z=I-C.length;return L>T&&L<=r(T,z)});C.push(...R)}const D=C.reduce((R,L)=>{const z=n.ISOWeek?f(L):p(L),Q=R.find(J=>J.weekNumber===z),K=new JR(L,S,a);return Q?Q.days.push(K):R.push(new AK(z,[K])),R},[]),A=new EK(S,D);return j.push(A),j},[]);return n.reverseMonths?N.reverse():N}function OQ(e,s){let{startMonth:n,endMonth:a}=e;const{startOfYear:r,startOfDay:l,startOfMonth:c,endOfMonth:u,addYears:m,endOfYear:f,newDate:p,today:g}=s,{fromYear:v,toYear:w,fromMonth:N,toMonth:j}=e;!n&&N&&(n=N),!n&&v&&(n=s.newDate(v,0,1)),!a&&j&&(a=j),!a&&w&&(a=p(w,11,31));const S=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=c(n):v?n=p(v,0,1):!n&&S&&(n=r(m(e.today??g(),-100))),a?a=u(a):w?a=p(w,11,31):!a&&S&&(a=f(e.today??g())),[n&&l(n),a&&l(a)]}function MQ(e,s,n,a){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:l=1}=n,{startOfMonth:c,addMonths:u,differenceInCalendarMonths:m}=a,f=r?l:1,p=c(e);if(!s)return u(p,f);if(!(m(s,e)<l))return u(p,f)}function _Q(e,s,n,a){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:l}=n,{startOfMonth:c,addMonths:u,differenceInCalendarMonths:m}=a,f=r?l??1:1,p=c(e);if(!s)return u(p,-f);if(!(m(p,s)<=0))return u(p,-f)}function LQ(e){const s=[];return e.reduce((n,a)=>n.concat(a.weeks.slice()),s.slice())}function Og(e,s){const[n,a]=x.useState(e);return[s===void 0?n:s,a]}function FQ(e,s){var I;const[n,a]=OQ(e,s),{startOfMonth:r,endOfMonth:l}=s,c=uk(e,n,a,s),[u,m]=Og(c,e.month?c:void 0);x.useEffect(()=>{const D=uk(e,n,a,s);m(D)},[e.timeZone]);const{months:f,weeks:p,days:g,previousMonth:v,nextMonth:w}=x.useMemo(()=>{const D=IQ(u,a,{numberOfMonths:e.numberOfMonths},s),A=DQ(D,e.endMonth?l(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},s),R=RQ(D,A,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},s),L=LQ(R),z=PQ(R),Q=_Q(u,n,e,s),K=MQ(u,a,e,s);return{months:R,weeks:L,days:z,previousMonth:Q,nextMonth:K}},[s,u.getTime(),a==null?void 0:a.getTime(),n==null?void 0:n.getTime(),e.disableNavigation,e.broadcastCalendar,(I=e.endMonth)==null?void 0:I.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:N,onMonthChange:j}=e,S=D=>p.some(A=>A.days.some(R=>R.isEqualTo(D))),E=D=>{if(N)return;let A=r(D);n&&A<r(n)&&(A=r(n)),a&&A>r(a)&&(A=r(a)),m(A),j==null||j(A)};return{months:f,weeks:p,days:g,navStart:n,navEnd:a,previousMonth:v,nextMonth:w,goToMonth:E,goToDay:D=>{S(D)||E(D.date)}}}var ei;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ei||(ei={}));function hk(e){return!e[na.disabled]&&!e[na.hidden]&&!e[na.outside]}function UQ(e,s,n,a){let r,l=-1;for(const c of e){const u=s(c);hk(u)&&(u[na.focused]&&l<ei.FocusedModifier?(r=c,l=ei.FocusedModifier):a!=null&&a.isEqualTo(c)&&l<ei.LastFocused?(r=c,l=ei.LastFocused):n(c.date)&&l<ei.Selected?(r=c,l=ei.Selected):u[na.today]&&l<ei.Today&&(r=c,l=ei.Today))}return r||(r=e.find(c=>hk(s(c)))),r}function VQ(e,s,n,a,r,l,c){const{ISOWeek:u,broadcastCalendar:m}=l,{addDays:f,addMonths:p,addWeeks:g,addYears:v,endOfBroadcastWeek:w,endOfISOWeek:N,endOfWeek:j,max:S,min:E,startOfBroadcastWeek:T,startOfISOWeek:C,startOfWeek:I}=c;let A={day:f,week:g,month:p,year:v,startOfWeek:R=>m?T(R,c):u?C(R):I(R),endOfWeek:R=>m?w(R):u?N(R):j(R)}[e](n,s==="after"?1:-1);return s==="before"&&a?A=S([a,A]):s==="after"&&r&&(A=E([r,A])),A}function hO(e,s,n,a,r,l,c,u=0){if(u>365)return;const m=VQ(e,s,n.date,a,r,l,c),f=!!(l.disabled&&Ji(m,l.disabled,c)),p=!!(l.hidden&&Ji(m,l.hidden,c)),g=m,v=new JR(m,g,c);return!f&&!p?v:hO(e,s,v,a,r,l,c,u+1)}function BQ(e,s,n,a,r){const{autoFocus:l}=e,[c,u]=x.useState(),m=UQ(s.days,n,a||(()=>!1),c),[f,p]=x.useState(l?m:void 0);return{isFocusTarget:j=>!!(m!=null&&m.isEqualTo(j)),setFocused:p,focused:f,blur:()=>{u(f),p(void 0)},moveFocus:(j,S)=>{if(!f)return;const E=hO(j,S,f,s.navStart,s.navEnd,e,r);E&&(e.disableNavigation&&!s.days.some(C=>C.isEqualTo(E))||(s.goToDay(E),p(E)))}}}function zQ(e,s){const{selected:n,required:a,onSelect:r}=e,[l,c]=Og(n,r?n:void 0),u=r?n:l,{isSameDay:m}=s,f=w=>(u==null?void 0:u.some(N=>m(N,w)))??!1,{min:p,max:g}=e;return{selected:u,select:(w,N,j)=>{let S=[...u??[]];if(f(w)){if((u==null?void 0:u.length)===p||a&&(u==null?void 0:u.length)===1)return;S=u==null?void 0:u.filter(E=>!m(E,w))}else(u==null?void 0:u.length)===g?S=[w]:S=[...S,w];return r||c(S),r==null||r(S,w,N,j),S},isSelected:f}}function qQ(e,s,n=0,a=0,r=!1,l=vi){const{from:c,to:u}=s||{},{isSameDay:m,isAfter:f,isBefore:p}=l;let g;if(!c&&!u)g={from:e,to:n>0?void 0:e};else if(c&&!u)m(c,e)?n===0?g={from:c,to:e}:r?g={from:c,to:void 0}:g=void 0:p(e,c)?g={from:e,to:c}:g={from:c,to:e};else if(c&&u)if(m(c,e)&&m(u,e))r?g={from:c,to:u}:g=void 0;else if(m(c,e))g={from:c,to:n>0?void 0:e};else if(m(u,e))g={from:e,to:n>0?void 0:e};else if(p(e,c))g={from:e,to:u};else if(f(e,c))g={from:c,to:e};else if(f(e,u))g={from:c,to:e};else throw new Error("Invalid range");if(g!=null&&g.from&&(g!=null&&g.to)){const v=l.differenceInCalendarDays(g.to,g.from);a>0&&v>a?g={from:e,to:void 0}:n>1&&v<n&&(g={from:e,to:void 0})}return g}function $Q(e,s,n=vi){const a=Array.isArray(s)?s:[s];let r=e.from;const l=n.differenceInCalendarDays(e.to,e.from),c=Math.min(l,6);for(let u=0;u<=c;u++){if(a.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function mk(e,s,n=vi){return Qi(e,s.from,!1,n)||Qi(e,s.to,!1,n)||Qi(s,e.from,!1,n)||Qi(s,e.to,!1,n)}function HQ(e,s,n=vi){const a=Array.isArray(s)?s:[s];if(a.filter(u=>typeof u!="function").some(u=>typeof u=="boolean"?u:n.isDate(u)?Qi(e,u,!1,n):eO(u,n)?u.some(m=>Qi(e,m,!1,n)):Rg(u)?u.from&&u.to?mk(e,{from:u.from,to:u.to},n):!1:ZR(u)?$Q(e,u.dayOfWeek,n):pj(u)?n.isAfter(u.before,u.after)?mk(e,{from:n.addDays(u.after,1),to:n.addDays(u.before,-1)},n):Ji(e.from,u,n)||Ji(e.to,u,n):gj(u)||xj(u)?Ji(e.from,u,n)||Ji(e.to,u,n):!1))return!0;const c=a.filter(u=>typeof u=="function");if(c.length){let u=e.from;const m=n.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=m;f++){if(c.some(p=>p(u)))return!0;u=n.addDays(u,1)}}return!1}function GQ(e,s){const{disabled:n,excludeDisabled:a,selected:r,required:l,onSelect:c}=e,[u,m]=Og(r,c?r:void 0),f=c?r:u;return{selected:f,select:(v,w,N)=>{const{min:j,max:S}=e,E=v?qQ(v,f,j,S,l,s):void 0;return a&&n&&(E!=null&&E.from)&&E.to&&HQ({from:E.from,to:E.to},n,s)&&(E.from=v,E.to=void 0),c||m(E),c==null||c(E,v,w,N),E},isSelected:v=>f&&Qi(f,v,!1,s)}}function YQ(e,s){const{selected:n,required:a,onSelect:r}=e,[l,c]=Og(n,r?n:void 0),u=r?n:l,{isSameDay:m}=s;return{selected:u,select:(g,v,w)=>{let N=g;return!a&&u&&u&&m(g,u)&&(N=void 0),r||c(N),r==null||r(N,g,v,w),N},isSelected:g=>u?m(u,g):!1}}function WQ(e,s){const n=YQ(e,s),a=zQ(e,s),r=GQ(e,s);switch(e.mode){case"single":return n;case"multiple":return a;case"range":return r;default:return}}function an(e,s){return e instanceof Ki&&e.timeZone===s?e:new Ki(e,s)}function fk(e,s){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?an(e,s):Array.isArray(e)?e.map(n=>n instanceof Date?an(n,s):n):Rg(e)?{...e,from:e.from?an(e.from,s):e.from,to:e.to?an(e.to,s):e.to}:pj(e)?{before:an(e.before,s),after:an(e.after,s)}:gj(e)?{after:an(e.after,s)}:xj(e)?{before:an(e.before,s)}:e}function I0(e,s){return e&&(Array.isArray(e)?e.map(n=>fk(n,s)):fk(e,s))}function KQ(e){var ln;let s=e;const n=s.timeZone;if(n&&(s={...e,timeZone:n},s.today&&(s.today=an(s.today,n)),s.month&&(s.month=an(s.month,n)),s.defaultMonth&&(s.defaultMonth=an(s.defaultMonth,n)),s.startMonth&&(s.startMonth=an(s.startMonth,n)),s.endMonth&&(s.endMonth=an(s.endMonth,n)),s.mode==="single"&&s.selected?s.selected=an(s.selected,n):s.mode==="multiple"&&s.selected?s.selected=(ln=s.selected)==null?void 0:ln.map(jt=>an(jt,n)):s.mode==="range"&&s.selected&&(s.selected={from:s.selected.from?an(s.selected.from,n):s.selected.from,to:s.selected.to?an(s.selected.to,n):s.selected.to}),s.disabled!==void 0&&(s.disabled=I0(s.disabled,n)),s.hidden!==void 0&&(s.hidden=I0(s.hidden,n)),s.modifiers)){const jt={};Object.keys(s.modifiers).forEach(Ft=>{var k;jt[Ft]=I0((k=s.modifiers)==null?void 0:k[Ft],n)}),s.modifiers=jt}const{components:a,formatters:r,labels:l,dateLib:c,locale:u,classNames:m}=x.useMemo(()=>{const jt={...QR,...s.locale},Ft=new sr({locale:jt,weekStartsOn:s.broadcastCalendar?1:s.weekStartsOn,firstWeekContainsDate:s.firstWeekContainsDate,useAdditionalWeekYearTokens:s.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:s.useAdditionalDayOfYearTokens,timeZone:s.timeZone,numerals:s.numerals},s.dateLib);return{dateLib:Ft,components:rQ(s.components),formatters:gQ(s.formatters),labels:wQ(s.labels,Ft.options),locale:jt,classNames:{...oQ(),...s.classNames}}},[s.locale,s.broadcastCalendar,s.weekStartsOn,s.firstWeekContainsDate,s.useAdditionalWeekYearTokens,s.useAdditionalDayOfYearTokens,s.timeZone,s.numerals,s.dateLib,s.components,s.formatters,s.labels,s.classNames]);s.today||(s={...s,today:c.today()});const{captionLayout:f,mode:p,navLayout:g,numberOfMonths:v=1,onDayBlur:w,onDayClick:N,onDayFocus:j,onDayKeyDown:S,onDayMouseEnter:E,onDayMouseLeave:T,onNextClick:C,onPrevClick:I,showWeekNumber:D,styles:A}=s,{formatCaption:R,formatDay:L,formatMonthDropdown:z,formatWeekNumber:Q,formatWeekNumberHeader:K,formatWeekdayName:J,formatYearDropdown:de}=r,H=FQ(s,c),{days:ie,months:F,navStart:q,navEnd:W,previousMonth:he,nextMonth:$,goToMonth:M}=H,V=aQ(ie,s,q,W,c),{isSelected:G,select:B,selected:ce}=WQ(s,c)??{},{blur:pe,focused:le,isFocusTarget:ye,moveFocus:ke,setFocused:Y}=BQ(s,H,V,G??(()=>!1),c),{labelDayButton:ge,labelGridcell:je,labelGrid:Oe,labelMonthDropdown:_e,labelNav:Pe,labelPrevious:ze,labelNext:Ue,labelWeekday:He,labelWeekNumber:it,labelWeekNumberHeader:Tt,labelYearDropdown:yt}=l,xs=x.useMemo(()=>SQ(c,s.ISOWeek,s.broadcastCalendar,s.today),[c,s.ISOWeek,s.broadcastCalendar,s.today]),va=p!==void 0||N!==void 0,Fe=x.useCallback(()=>{he&&(M(he),I==null||I(he))},[he,M,I]),lt=x.useCallback(()=>{$&&(M($),C==null||C($))},[M,$,C]),Zt=x.useCallback((jt,Ft)=>k=>{k.preventDefault(),k.stopPropagation(),Y(jt),!Ft.disabled&&(B==null||B(jt.date,Ft,k),N==null||N(jt.date,Ft,k))},[B,N,Y]),as=x.useCallback((jt,Ft)=>k=>{Y(jt),j==null||j(jt.date,Ft,k)},[j,Y]),es=x.useCallback((jt,Ft)=>k=>{pe(),w==null||w(jt.date,Ft,k)},[pe,w]),ae=x.useCallback((jt,Ft)=>k=>{const te={ArrowLeft:[k.shiftKey?"month":"day",s.dir==="rtl"?"after":"before"],ArrowRight:[k.shiftKey?"month":"day",s.dir==="rtl"?"before":"after"],ArrowDown:[k.shiftKey?"year":"week","after"],ArrowUp:[k.shiftKey?"year":"week","before"],PageUp:[k.shiftKey?"year":"month","before"],PageDown:[k.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(te[k.key]){k.preventDefault(),k.stopPropagation();const[ue,Se]=te[k.key];ke(ue,Se)}S==null||S(jt.date,Ft,k)},[ke,S,s.dir]),Ye=x.useCallback((jt,Ft)=>k=>{E==null||E(jt.date,Ft,k)},[E]),vt=x.useCallback((jt,Ft)=>k=>{T==null||T(jt.date,Ft,k)},[T]),St=x.useCallback(jt=>Ft=>{const k=Number(Ft.target.value),te=c.setMonth(c.startOfMonth(jt),k);M(te)},[c,M]),cs=x.useCallback(jt=>Ft=>{const k=Number(Ft.target.value),te=c.setYear(c.startOfMonth(jt),k);M(te)},[c,M]),{className:ys,style:Ks}=x.useMemo(()=>({className:[m[wt.Root],s.className].filter(Boolean).join(" "),style:{...A==null?void 0:A[wt.Root],...s.style}}),[m,s.className,s.style,A]),bt=iQ(s),on=x.useRef(null);AQ(on,!!s.animate,{classNames:m,months:F,focused:le,dateLib:c});const La={dayPickerProps:s,selected:ce,select:B,isSelected:G,months:F,nextMonth:$,previousMonth:he,goToMonth:M,getModifiers:V,components:a,classNames:m,styles:A,labels:l,formatters:r};return qe.createElement(XR.Provider,{value:La},qe.createElement(a.Root,{rootRef:s.animate?on:void 0,className:ys,style:Ks,dir:s.dir,id:s.id,lang:s.lang,nonce:s.nonce,title:s.title,role:s.role,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"],...bt},qe.createElement(a.Months,{className:m[wt.Months],style:A==null?void 0:A[wt.Months]},!s.hideNavigation&&!g&&qe.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:m[wt.Nav],style:A==null?void 0:A[wt.Nav],"aria-label":Pe(),onPreviousClick:Fe,onNextClick:lt,previousMonth:he,nextMonth:$}),F.map((jt,Ft)=>qe.createElement(a.Month,{"data-animated-month":s.animate?"true":void 0,className:m[wt.Month],style:A==null?void 0:A[wt.Month],key:Ft,displayIndex:Ft,calendarMonth:jt},g==="around"&&!s.hideNavigation&&Ft===0&&qe.createElement(a.PreviousMonthButton,{type:"button",className:m[wt.PreviousMonthButton],tabIndex:he?void 0:-1,"aria-disabled":he?void 0:!0,"aria-label":ze(he),onClick:Fe,"data-animated-button":s.animate?"true":void 0},qe.createElement(a.Chevron,{disabled:he?void 0:!0,className:m[wt.Chevron],orientation:s.dir==="rtl"?"right":"left"})),qe.createElement(a.MonthCaption,{"data-animated-caption":s.animate?"true":void 0,className:m[wt.MonthCaption],style:A==null?void 0:A[wt.MonthCaption],calendarMonth:jt,displayIndex:Ft},f!=null&&f.startsWith("dropdown")?qe.createElement(a.DropdownNav,{className:m[wt.Dropdowns],style:A==null?void 0:A[wt.Dropdowns]},(()=>{const k=f==="dropdown"||f==="dropdown-months"?qe.createElement(a.MonthsDropdown,{key:"month",className:m[wt.MonthsDropdown],"aria-label":_e(),classNames:m,components:a,disabled:!!s.disableNavigation,onChange:St(jt.date),options:jQ(jt.date,q,W,r,c),style:A==null?void 0:A[wt.Dropdown],value:c.getMonth(jt.date)}):qe.createElement("span",{key:"month"},z(jt.date,c)),te=f==="dropdown"||f==="dropdown-years"?qe.createElement(a.YearsDropdown,{key:"year",className:m[wt.YearsDropdown],"aria-label":yt(c.options),classNames:m,components:a,disabled:!!s.disableNavigation,onChange:cs(jt.date),options:CQ(q,W,r,c,!!s.reverseYears),style:A==null?void 0:A[wt.Dropdown],value:c.getYear(jt.date)}):qe.createElement("span",{key:"year"},de(jt.date,c));return c.getMonthYearOrder()==="year-first"?[te,k]:[k,te]})(),qe.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},R(jt.date,c.options,c))):qe.createElement(a.CaptionLabel,{className:m[wt.CaptionLabel],role:"status","aria-live":"polite"},R(jt.date,c.options,c))),g==="around"&&!s.hideNavigation&&Ft===v-1&&qe.createElement(a.NextMonthButton,{type:"button",className:m[wt.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":Ue($),onClick:lt,"data-animated-button":s.animate?"true":void 0},qe.createElement(a.Chevron,{disabled:$?void 0:!0,className:m[wt.Chevron],orientation:s.dir==="rtl"?"left":"right"})),Ft===v-1&&g==="after"&&!s.hideNavigation&&qe.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:m[wt.Nav],style:A==null?void 0:A[wt.Nav],"aria-label":Pe(),onPreviousClick:Fe,onNextClick:lt,previousMonth:he,nextMonth:$}),qe.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":p==="multiple"||p==="range","aria-label":Oe(jt.date,c.options,c)||void 0,className:m[wt.MonthGrid],style:A==null?void 0:A[wt.MonthGrid]},!s.hideWeekdays&&qe.createElement(a.Weekdays,{"data-animated-weekdays":s.animate?"true":void 0,className:m[wt.Weekdays],style:A==null?void 0:A[wt.Weekdays]},D&&qe.createElement(a.WeekNumberHeader,{"aria-label":Tt(c.options),className:m[wt.WeekNumberHeader],style:A==null?void 0:A[wt.WeekNumberHeader],scope:"col"},K()),xs.map(k=>qe.createElement(a.Weekday,{"aria-label":He(k,c.options,c),className:m[wt.Weekday],key:String(k),style:A==null?void 0:A[wt.Weekday],scope:"col"},J(k,c.options,c)))),qe.createElement(a.Weeks,{"data-animated-weeks":s.animate?"true":void 0,className:m[wt.Weeks],style:A==null?void 0:A[wt.Weeks]},jt.weeks.map(k=>qe.createElement(a.Week,{className:m[wt.Week],key:k.weekNumber,style:A==null?void 0:A[wt.Week],week:k},D&&qe.createElement(a.WeekNumber,{week:k,style:A==null?void 0:A[wt.WeekNumber],"aria-label":it(k.weekNumber,{locale:u}),className:m[wt.WeekNumber],scope:"row",role:"rowheader"},Q(k.weekNumber,c)),k.days.map(te=>{const{date:ue}=te,Se=V(te);if(Se[na.focused]=!Se.hidden&&!!(le!=null&&le.isEqualTo(te)),Se[zr.selected]=(G==null?void 0:G(ue))||Se.selected,Rg(ce)){const{from:Be,to:kt}=ce;Se[zr.range_start]=!!(Be&&kt&&c.isSameDay(ue,Be)),Se[zr.range_end]=!!(Be&&kt&&c.isSameDay(ue,kt)),Se[zr.range_middle]=Qi(ce,ue,!0,c)}const dt=NQ(Se,A,s.modifiersStyles),_=nQ(Se,m,s.modifiersClassNames),xe=!va&&!Se.hidden?je(ue,Se,c.options,c):void 0;return qe.createElement(a.Day,{key:`${te.isoDate}_${te.displayMonthId}`,day:te,modifiers:Se,className:_.join(" "),style:dt,role:"gridcell","aria-selected":Se.selected||void 0,"aria-label":xe,"data-day":te.isoDate,"data-month":te.outside?te.dateMonthId:void 0,"data-selected":Se.selected||void 0,"data-disabled":Se.disabled||void 0,"data-hidden":Se.hidden||void 0,"data-outside":te.outside||void 0,"data-focused":Se.focused||void 0,"data-today":Se.today||void 0},!Se.hidden&&va?qe.createElement(a.DayButton,{className:m[wt.DayButton],style:A==null?void 0:A[wt.DayButton],type:"button",day:te,modifiers:Se,disabled:!Se.focused&&Se.disabled||void 0,"aria-disabled":Se.focused&&Se.disabled||void 0,tabIndex:ye(te)?0:-1,"aria-label":ge(ue,Se,c.options,c),onClick:Zt(te,Se),onBlur:es(te,Se),onFocus:as(te,Se),onKeyDown:ae(te,Se),onMouseEnter:Ye(te,Se),onMouseLeave:vt(te,Se)},L(ue,c.options,c)):!Se.hidden&&L(te.date,c.options,c))})))))))),s.footer&&qe.createElement(a.Footer,{className:m[wt.Footer],style:A==null?void 0:A[wt.Footer],role:"status","aria-live":"polite"},s.footer)))}function mO({className:e,classNames:s,showOutsideDays:n=!0,...a}){return t.jsx(KQ,{showOutsideDays:n,className:Xe("p-4 bg-white rounded-2xl",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:flex-x-4 sm:space-y-0",month:"space-y-4 w-full",month_caption:"flex justify-between items-center mb-4 px-1",caption_label:"text-lg font-bold text-gray-900 pl-1",nav:"flex items-center gap-1",button_previous:Xe(vp({variant:"ghost"}),"h-8 w-8 bg-transparent p-0 text-gray-400 hover:text-gray-900 hover:bg-gray-50 transition-colors"),button_next:Xe(vp({variant:"ghost"}),"h-8 w-8 bg-transparent p-0 text-gray-400 hover:text-gray-900 hover:bg-gray-50 transition-colors"),month_grid:"w-full border-collapse space-y-1 block",weekdays:"grid grid-cols-7 w-full mb-1",weekday:"text-gray-400 font-medium text-[0.8rem] h-9 flex items-center justify-center",week:"grid grid-cols-7 w-full mt-1",weeks:"block w-full",day_button:Xe(vp({variant:"ghost"}),"h-10 w-10 p-0 font-normal aria-selected:opacity-100 rounded-full mx-auto relative text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-transparent"),range_end:"day-range-end",selected:"bg-transparent border-[2.5px] border-blue-500 text-blue-600 hover:bg-blue-50 hover:text-blue-600 focus:bg-blue-50 focus:text-blue-600 font-semibold",today:"text-red-500 font-bold relative after:content-[''] after:absolute after:bottom-[3px] after:left-1/2 after:-translate-x-1/2 after:w-1 after:h-1 after:bg-red-500 after:rounded-full",outside:"text-gray-300 opacity-50 aria-selected:bg-transparent aria-selected:text-gray-300 aria-selected:opacity-30",disabled:"text-gray-300 opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...s},...a})}mO.displayName="Calendar";var Mg="Popover",[fO,_X]=xi(Mg,[kg]),gm=kg(),[QQ,bl]=fO(Mg),pO=e=>{const{__scopePopover:s,children:n,open:a,defaultOpen:r,onOpenChange:l,modal:c=!1}=e,u=gm(s),m=x.useRef(null),[f,p]=x.useState(!1),[g,v]=dl({prop:a,defaultProp:r??!1,onChange:l,caller:Mg});return t.jsx(rI,{...u,children:t.jsx(QQ,{scope:s,contentId:Zi(),triggerRef:m,open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(w=>!w),[v]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>p(!0),[]),onCustomAnchorRemove:x.useCallback(()=>p(!1),[]),modal:c,children:n})})};pO.displayName=Mg;var gO="PopoverAnchor",JQ=x.forwardRef((e,s)=>{const{__scopePopover:n,...a}=e,r=bl(gO,n),l=gm(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=r;return x.useEffect(()=>(c(),()=>u()),[c,u]),t.jsx(tj,{...l,...a,ref:s})});JQ.displayName=gO;var xO="PopoverTrigger",yO=x.forwardRef((e,s)=>{const{__scopePopover:n,...a}=e,r=bl(xO,n),l=gm(n),c=Ms(s,r.triggerRef),u=t.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":NO(r.open),...a,ref:c,onClick:At(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?u:t.jsx(tj,{asChild:!0,...l,children:u})});yO.displayName=xO;var bj="PopoverPortal",[XQ,ZQ]=fO(bj,{forceMount:void 0}),vO=e=>{const{__scopePopover:s,forceMount:n,children:a,container:r}=e,l=bl(bj,s);return t.jsx(XQ,{scope:s,forceMount:n,children:t.jsx(lo,{present:n||l.open,children:t.jsx(rm,{asChild:!0,container:r,children:a})})})};vO.displayName=bj;var eu="PopoverContent",bO=x.forwardRef((e,s)=>{const n=ZQ(eu,e.__scopePopover),{forceMount:a=n.forceMount,...r}=e,l=bl(eu,e.__scopePopover);return t.jsx(lo,{present:a||l.open,children:l.modal?t.jsx(tJ,{...r,ref:s}):t.jsx(sJ,{...r,ref:s})})});bO.displayName=eu;var eJ=xc("PopoverContent.RemoveScroll"),tJ=x.forwardRef((e,s)=>{const n=bl(eu,e.__scopePopover),a=x.useRef(null),r=Ms(s,a),l=x.useRef(!1);return x.useEffect(()=>{const c=a.current;if(c)return ew(c)},[]),t.jsx(xg,{as:eJ,allowPinchZoom:!0,children:t.jsx(wO,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),l.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,f=u.button===2||m;l.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:At(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),sJ=x.forwardRef((e,s)=>{const n=bl(eu,e.__scopePopover),a=x.useRef(!1),r=x.useRef(!1);return t.jsx(wO,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(a.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:l=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=l.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),wO=x.forwardRef((e,s)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:p,...g}=e,v=bl(eu,n),w=gm(n);return Zb(),t.jsx(pg,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:l,children:t.jsx(nm,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:t.jsx(iI,{"data-state":NO(v.open),role:"dialog",id:v.contentId,...w,...g,ref:s,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),jO="PopoverClose",aJ=x.forwardRef((e,s)=>{const{__scopePopover:n,...a}=e,r=bl(jO,n);return t.jsx(Ot.button,{type:"button",...a,ref:s,onClick:At(e.onClick,()=>r.onOpenChange(!1))})});aJ.displayName=jO;var nJ="PopoverArrow",rJ=x.forwardRef((e,s)=>{const{__scopePopover:n,...a}=e,r=gm(n);return t.jsx(oI,{...r,...a,ref:s})});rJ.displayName=nJ;function NO(e){return e?"open":"closed"}var iJ=pO,oJ=yO,lJ=vO,SO=bO;const cJ=iJ,dJ=oJ,CO=x.forwardRef(({className:e,align:s="center",sideOffset:n=4,...a},r)=>t.jsx(lJ,{children:t.jsx(SO,{ref:r,align:s,sideOffset:n,className:Xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));CO.displayName=SO.displayName;function pk({date:e,setDate:s,className:n,placeholder:a="MM/DD/YYYY",disabledDates:r,minDate:l,maxDate:c}){const[u,m]=x.useState(""),[f,p]=x.useState(null),[g,v]=x.useState(!1),[w,N]=x.useState({hour:12,minute:0,period:"PM"});x.useEffect(()=>{if(e){m(kp(e,"MM/dd/yyyy")),p(null);const T=e.getHours(),C=e.getMinutes();N({hour:T%12||12,minute:C,period:T>=12?"PM":"AM"})}else m("")},[e]);const j=T=>{let C=T.target.value;if(C=C.replace(/[^0-9/]/g,""),C.length===2&&u.length===1?C+="/":C.length===2&&u.length===3?C=C.substring(0,1):C.length===5&&u.length===4?C+="/":C.length===5&&u.length===6&&(C=C.substring(0,4)),!(C.length>10))if(m(C),C.length===10){const I=eW(C,"MM/dd/yyyy",new Date);if(!bR(I)){p("Invalid date"),s(void 0);return}if(kp(I,"MM/dd/yyyy")!==C){p("Date does not exist"),s(void 0);return}if(r&&r(I)){p("Date is disabled"),s(void 0);return}if(l&&aY(I,l)&&!Q2(I,l)){p("Date is too early"),s(void 0);return}if(c&&sY(I,c)&&!Q2(I,c)){p("Date is too late"),s(void 0);return}p(null);const D=new Date(I),A=w.period==="PM"?w.hour%12+12:w.hour%12;D.setHours(A,w.minute,0,0),s(D)}else e&&s(void 0),p(null)},S=T=>{if(T){const C=new Date(T),I=w.period==="PM"?w.hour%12+12:w.hour%12;C.setHours(I,w.minute,0,0),s(C),m(kp(C,"MM/dd/yyyy")),p(null),v(!1)}else s(void 0),m("")},E=(T,C)=>{const I={...w};if(T==="hour"&&(I.hour=C),T==="minute"&&(I.minute=C),T==="period"&&(I.period=C),N(I),e){const D=new Date(e),A=I.period==="PM"?I.hour%12+12:I.hour%12;D.setHours(A,I.minute,0,0),s(D)}};return t.jsx("div",{className:Xe("relative w-full max-w-[300px]",n),children:t.jsxs(cJ,{open:g,onOpenChange:v,children:[t.jsxs("div",{className:"relative group",children:[t.jsx(ve,{type:"text",placeholder:a,value:u,onChange:j,className:Xe("pr-10 h-11 text-base transition-all duration-200","border-gray-200 focus:border-blue-500 hover:border-gray-300","placeholder:text-gray-400",f?"border-red-500 focus:border-red-500 ring-red-100":"")}),t.jsx(dJ,{asChild:!0,children:t.jsx(se,{variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-11 text-gray-500 hover:text-blue-600 hover:bg-transparent","aria-label":"Open calendar",children:t.jsx(qs,{className:"h-5 w-5"})})})]}),f&&t.jsxs("div",{className:"absolute -bottom-6 left-0 text-xs text-red-500 flex items-center gap-1 animate-in slide-in-from-left-1 fade-in duration-200",children:[t.jsx(is,{className:"h-3 w-3"}),f]}),t.jsx(CO,{className:"w-[min(340px,calc(100vw-2rem))] p-0 border-0 bg-transparent shadow-none",align:"start",children:t.jsxs("div",{className:"bg-white rounded-[13px] shadow-[0_8px_30px_rgba(0,0,0,0.12)] p-2.5 sm:p-3 pt-3 sm:pt-4 pb-2",children:[t.jsx(mO,{mode:"single",selected:e,onSelect:S,initialFocus:!0,disabled:r,defaultMonth:e||new Date,captionLayout:"dropdown",fromYear:2020,toYear:2030,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-1.5 sm:space-y-2 w-full",month_caption:"flex justify-center relative items-center h-[36px] sm:h-[40px] mb-2",caption_label:"hidden",dropdowns:"flex gap-1 sm:gap-1.5 items-center justify-center relative z-10",dropdown:"appearance-none bg-white/95 border border-gray-200/60 rounded-md px-1.5 sm:px-2 py-0.5 sm:py-1 text-[12px] sm:text-[13px] font-[600] text-black cursor-pointer hover:bg-white hover:border-gray-300 transition-all shadow-sm max-h-[32px] leading-tight",dropdown_month:"w-[85px] sm:w-[95px] order-2",dropdown_year:"w-[60px] sm:w-[65px] order-1",nav:"flex items-center absolute w-full justify-between left-0 top-1 px-1 z-20 pointer-events-none",button_previous:"h-[30px] w-[30px] bg-transparent p-0 text-gray-900/80 hover:text-black active:scale-95 active:bg-gray-200 transition-all flex items-center justify-center touch-manipulation pointer-events-auto hover:bg-gray-100/80 rounded-full disabled:opacity-30 disabled:pointer-events-none",button_next:"h-[30px] w-[30px] bg-transparent p-0 text-gray-900/80 hover:text-black active:scale-95 active:bg-gray-200 transition-all flex items-center justify-center touch-manipulation pointer-events-auto hover:bg-gray-100/80 rounded-full disabled:opacity-30 disabled:pointer-events-none",month_grid:"w-full border-collapse block",weeks:"w-full block space-y-0",weekdays:"grid grid-cols-7 w-full mb-1 gap-0",weekday:"text-[9px] sm:text-[10px] font-[600] text-[rgba(60,60,67,0.4)] w-[34px] sm:w-[42px] h-[14px] sm:h-[16px] flex items-center justify-center uppercase tracking-wider",week:"grid grid-cols-7 w-full gap-0",day_button:"h-[32px] w-[32px] sm:h-[38px] sm:w-[38px] p-0 font-[400] text-[14px] sm:text-[16px] text-black aria-selected:opacity-100 rounded-full hover:bg-black/5 active:bg-black/10 flex items-center justify-center transition-all duration-150 tracking-[-0.3px] relative text-center touch-manipulation",selected:"bg-[#0088FF] text-white hover:bg-[#0088FF] hover:text-white focus:bg-[#0088FF] focus:text-white active:bg-[#0077EE] font-[510] shadow-md shadow-blue-200/50",today:"text-red-500 font-[600] relative after:content-[''] after:absolute after:bottom-[3px] after:left-1/2 after:-translate-x-1/2 after:w-1 after:h-1 after:bg-red-500 after:rounded-full",outside:"text-gray-300 opacity-40 aria-selected:bg-transparent aria-selected:text-gray-300 aria-selected:opacity-30",disabled:"text-gray-300 opacity-40 line-through decoration-gray-300",hidden:"invisible"}}),t.jsxs("div",{className:"px-1.5 sm:px-2 mt-1.5 sm:mt-2",children:[t.jsx("div",{className:"h-[0.5px] bg-[#000000]/12 w-full mb-1.5 sm:mb-2"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-[14px] sm:text-[15px] text-black tracking-[-0.43px] font-[400]",children:"Time"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("select",{value:w.hour,onChange:T=>E("hour",parseInt(T.target.value)),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-[#767680]/12 rounded-lg text-[14px] sm:text-[15px] text-black border-0 cursor-pointer hover:bg-[#767680]/20 transition-colors appearance-none text-center w-[42px] sm:w-[48px] [&::-webkit-scrollbar]:w-0 [&::-webkit-scrollbar]:hidden scrollbar-width-none",children:Array.from({length:12},(T,C)=>C+1).map(T=>t.jsx("option",{value:T,children:T.toString().padStart(2,"0")},T))}),t.jsx("span",{className:"text-[14px] sm:text-[15px] text-black",children:":"}),t.jsx("select",{value:w.minute,onChange:T=>E("minute",parseInt(T.target.value)),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-[#767680]/12 rounded-lg text-[14px] sm:text-[15px] text-black border-0 cursor-pointer hover:bg-[#767680]/20 transition-colors appearance-none text-center w-[50px] sm:w-[56px] [&::-webkit-scrollbar]:w-0 [&::-webkit-scrollbar]:hidden scrollbar-width-none",children:Array.from({length:60},(T,C)=>C).map(T=>t.jsx("option",{value:T,children:T.toString().padStart(2,"0")},T))}),t.jsxs("select",{value:w.period,onChange:T=>E("period",T.target.value),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-[#767680]/12 rounded-lg text-[14px] sm:text-[15px] text-black border-0 cursor-pointer hover:bg-[#767680]/20 transition-colors appearance-none text-center w-[48px] sm:w-[52px] [&::-webkit-scrollbar]:w-0 [&::-webkit-scrollbar]:hidden scrollbar-width-none",children:[t.jsx("option",{value:"AM",children:"AM"}),t.jsx("option",{value:"PM",children:"PM"})]})]})]})]})]})})]})})}function uJ({selectedPropertyId:e,onPropertyChange:s,dateRange:n,onDateRangeChange:a,properties:r,onReset:l,className:c}){const[u,m]=x.useState(!0),[f,p]=x.useState(null),g=(N,j)=>{if(!N){a(j,"");return}const S=kp(N,"yyyy-MM-dd");a(j,S),f&&p(null)},v=({label:N,field:j,value:S,mobile:E})=>{const T=S?new Date(S):void 0;return t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-semibold text-gray-700 ml-1",children:N}),t.jsx(pk,{date:T,setDate:C=>g(C,j),placeholder:j==="startDate"?"Start date":"End date",className:"max-w-full"})]})},w=({mobile:N=!1})=>t.jsxs("div",{className:Xe("space-y-4",N?"":"pt-2 sm:pt-0"),children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"property-filter",className:"text-sm font-semibold text-gray-700 ml-1",children:"Property"}),t.jsxs(st,{value:e,onValueChange:s,children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/80 border-0 rounded-2xl focus:ring-2 focus:ring-blue-500/20 hover:bg-gray-100 transition-all shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-2.5 overflow-hidden",children:[t.jsx(WE,{className:"h-4 w-4 text-gray-400 shrink-0"}),t.jsx(at,{placeholder:"All properties"})]})}),t.jsxs(rt,{className:"rounded-2xl border-none shadow-xl",children:[t.jsx(me,{value:"all",className:"rounded-lg h-10 cursor-pointer",children:"All properties"}),r==null?void 0:r.map(j=>t.jsx(me,{value:j.id.toString(),className:"rounded-lg h-10 cursor-pointer",children:j.name},j.id))]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(v,{label:"Start",field:"startDate",value:n.startDate,mobile:N}),t.jsx(v,{label:"End",field:"endDate",value:n.endDate,mobile:N})]}),t.jsx(se,{variant:"ghost",onClick:l,className:"w-full h-12 text-sm font-semibold text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-2xl transition-all duration-200 mt-2",children:"Reset Filters"})]});return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"sm:hidden",children:t.jsxs(aj,{children:[t.jsx(MI,{asChild:!0,children:t.jsx(Te,{className:"rounded-3xl border-none shadow-xl shadow-gray-200/50 bg-white overflow-hidden transition-all duration-300 active:scale-[0.98] cursor-pointer",children:t.jsx("div",{className:"p-5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2.5 bg-blue-50 rounded-2xl",children:t.jsx(gp,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold tracking-tight text-gray-900 leading-none",children:"Money Matters"}),t.jsx("p",{className:"text-xs font-medium text-gray-400 mt-1",children:"Filter your transaction data"})]})]}),t.jsx(Lh,{className:"h-5 w-5 text-gray-300"})]})})})}),t.jsxs(nj,{side:"bottom",className:"flex flex-col h-[85vh] p-0 overflow-hidden",children:[t.jsxs("div",{className:"shrink-0 bg-white border-b border-gray-100/50",children:[t.jsx("div",{className:"w-full flex justify-center pt-3 pb-1",children:t.jsx("div",{className:"w-12 h-1.5 bg-gray-200 rounded-full"})}),t.jsx(rj,{className:"px-6 pb-4 pt-2 text-left min-h-[80px] justify-center",children:f?t.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-5 duration-200",children:[t.jsx(se,{variant:"ghost",size:"icon",className:"-ml-2 h-10 w-10 text-gray-500 rounded-full",onClick:()=>p(null),children:t.jsx(Pp,{className:"h-6 w-6"})}),t.jsx(eg,{className:"text-2xl font-bold text-gray-900",children:f==="startDate"?"Select Start Date":"Select End Date"})]}):t.jsxs("div",{className:"animate-in slide-in-from-right-5 duration-200",children:[t.jsxs(eg,{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:t.jsx(gp,{className:"h-5 w-5 text-blue-600"})}),"Money Matters"]}),t.jsx(ij,{className:"mt-1",children:"Filter transactions by property and date range."})]})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 bg-white",children:f?t.jsx("div",{className:"flex justify-center animate-in zoom-in-95 duration-200",children:t.jsx("div",{className:"w-full max-w-[340px]",children:t.jsx(pk,{date:f==="startDate"&&n.startDate?new Date(n.startDate):f==="endDate"&&n.endDate?new Date(n.endDate):void 0,setDate:N=>{f&&g(N,f)},placeholder:f==="startDate"?"Start date":"End date",className:"max-w-full"})})}):t.jsx("div",{className:"animate-in fade-in duration-200",children:t.jsx(w,{mobile:!0})})}),!f&&t.jsx(x9,{className:"shrink-0 p-6 bg-white border-t border-gray-100 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] sm:flex-row gap-3",children:t.jsx(f9,{asChild:!0,children:t.jsx(se,{className:"w-full h-12 text-base rounded-xl font-bold bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-200 active:scale-[0.98] transition-all",children:"Apply Filters"})})})]})]})}),t.jsxs(Te,{className:Xe("hidden sm:block rounded-3xl border-none shadow-xl shadow-gray-200/50 bg-white overflow-hidden transition-all duration-300 lg:bg-white/70 lg:backdrop-blur-xl lg:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.1)] lg:border-white/20",c),children:[t.jsx("div",{className:"p-5 cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:N=>{N.target.closest("button")||m(!u)},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2.5 bg-blue-50 rounded-2xl",children:t.jsx(gp,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold tracking-tight text-gray-900 leading-none",children:"Money Matters"}),t.jsx("p",{className:"text-xs font-medium text-gray-400 mt-1",children:"Filter your transaction data"})]})]}),t.jsx(se,{variant:"ghost",size:"icon",className:"h-10 w-10 bg-gray-50 text-gray-400 rounded-full active:scale-95 transition-transform active:bg-gray-100 hover:bg-gray-100",onClick:N=>{N.stopPropagation(),m(!u)},children:u?t.jsx(Hb,{className:"h-5 w-5"}):t.jsx(Lh,{className:"h-5 w-5"})})]})}),t.jsx("div",{className:Xe("px-5 pb-6 pt-0 duration-300 ease-in-out",u?"block animate-in slide-in-from-top-2":"hidden"),children:t.jsx(w,{})})]})]})}const $o=!1;function hJ(){const{getAuthenticatedBackend:e,user:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=Er(),{toast:r}=da(),l=$w(["/finance"]);x.useEffect(()=>{a("Financial Management","Track expenses, revenues, and financial performance")},[a]);const[c,u]=x.useState("all"),[m,f]=x.useState(!1),p=za(),g=x.useRef(new Set),v=x.useRef(null),[w,N]=x.useState({isLive:!0});x.useEffect(()=>{const k=te=>{const ue=(te==null?void 0:te.detail)||{};N(ue)};return window.addEventListener("finance-stream-health",k),()=>window.removeEventListener("finance-stream-health",k)},[]);const j=(k,te)=>{if(!so.isProduction())try{const ue=localStorage.getItem("accessToken")||"";if(!ue)return;const Se=`${xt.BASE_URL}/telemetry/client`,dt=(Array.isArray(te)?te:[]).map(_=>({type:"derived_debounce_fired",coalescedCount:1,ts:new Date().toISOString()}));fetch(Se,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ue}`},body:JSON.stringify({events:dt}),keepalive:!0}).catch(()=>{})}catch{}};x.useEffect(()=>{try{const k=c==="all"?null:Number(c);hu(k)}catch{}},[c]);const S=k=>!!k&&typeof k.eventId=="string"&&typeof k.eventType=="string"&&typeof k.entityId=="number"&&(typeof k.timestamp=="string"||k.timestamp instanceof Date)&&typeof k.propertyId=="number"&&typeof k.orgId=="number"&&typeof k.userId=="number"&&typeof k.entityType=="string",E=(k,te,ue,Se)=>{const dt=p.getQueriesData({queryKey:[k]});for(const[_,xe]of dt){const Be=Array.isArray(_)?_:[_];if(Be[0]!==k)continue;const Ht=Be[1],Wt=Be[2],ea=te==null?!0:!Ht||Ht==="all"||String(te)===String(Ht);let qt=!0;if(Wt&&(Wt.startDate||Wt.endDate)&&ue){const Le=new Date(ue),Hs=Wt.startDate?new Date(Wt.startDate):void 0,ba=Wt.endDate?new Date(Wt.endDate):void 0;Hs&&Le<Hs&&(qt=!1),ba&&Le>ba&&(qt=!1)}ea&&qt&&p.setQueryData(_,Le=>Se(Le))}},[T,C]=x.useState({cashRevenue:0,bankRevenue:0,cashExpense:0,bankExpense:0}),I=x.useRef({profitLoss:!1,approvals:!1,todayPending:!1}),D=x.useRef(null),A=k=>{if(I.current={profitLoss:I.current.profitLoss||!!k.profitLoss,approvals:I.current.approvals||!!k.approvals,todayPending:I.current.todayPending||!!k.todayPending},D.current)return;const te=_P("FIN_DERIVED_DEBOUNCE_MS",1e3);D.current=setTimeout(()=>{const ue=I.current;D.current=null,I.current={profitLoss:!1,approvals:!1,todayPending:!1},ue.profitLoss&&p.invalidateQueries({queryKey:["profit-loss"]}),ue.approvals&&p.invalidateQueries({queryKey:["daily-approval-check"]}),ue.todayPending&&p.invalidateQueries({queryKey:["today-pending-transactions"]})},Math.max(50,te))};x.useEffect(()=>{const k=te=>{var ue;try{const Se=((ue=te==null?void 0:te.detail)==null?void 0:ue.events)||[];if(!Array.isArray(Se)||Se.length===0)return;const _=Se.filter(Ht=>!(Ht!=null&&Ht.eventId)||g.current.has(Ht.eventId)?!1:(g.current.add(Ht.eventId),!0)).filter(S).sort((Ht,Wt)=>{const ea=new Date(Ht.timestamp).getTime(),qt=new Date(Wt.timestamp).getTime();return ea!==qt?ea-qt:String(Ht.eventId).localeCompare(String(Wt.eventId))});C(Ht=>{var ea,qt;let Wt={...Ht};for(const Le of _){const Hs=(Le==null?void 0:Le.eventType)||"",ba=(ea=Le==null?void 0:Le.metadata)==null?void 0:ea.amountCents,As=(qt=Le==null?void 0:Le.metadata)==null?void 0:qt.paymentMode;if(!Hs||typeof ba!="number"||!As)continue;const zs=Hs.startsWith("revenue_"),Gt=Hs.startsWith("expense_"),Ut=Hs.endsWith("_approved"),Kt=Hs.endsWith("_deleted"),Bt=zs?As==="cash"?"cashRevenue":"bankRevenue":As==="cash"?"cashExpense":"bankExpense";Ut?Wt[Bt]=Math.max(0,(Wt[Bt]||0)+ba):Kt&&(Wt[Bt]=Math.max(0,(Wt[Bt]||0)-ba))}return Wt});let xe=!1,Be=!1,kt=!1;for(const Ht of _)try{const{eventType:Wt,entityId:ea,entityType:qt,metadata:Le,propertyId:Hs}=Ht;if(!Wt||!ea||!qt)continue;const ba=(Le==null?void 0:Le.transactionDate)||(typeof Ht.timestamp=="string"?Ht.timestamp:void 0),As=qt==="expense",zs=qt==="revenue",Gt=As?"expenses":zs?"revenues":null;if(!Gt){if(Wt==="daily_approval_granted"){kt=!0;const Ut=Le==null?void 0:Le.transactionIds,Kt=(Le==null?void 0:Le.newStatus)||"approved";console.log("[Finance] daily_approval_granted received",{transactionIds:Ut,newStatus:Kt,userId:Ht.userId,metadata:Le}),Ut&&Ut.length>0?(p.setQueriesData({queryKey:["revenues"]},Bt=>{if(!(Bt!=null&&Bt.revenues))return Bt;const fs={...Bt,revenues:Bt.revenues.map(ta=>Ut.includes(ta.id)?{...ta,status:Kt,approvedByUserId:Ht.userId,approvedAt:Ht.timestamp||new Date().toISOString()}:ta)};return console.log("[Finance] Updated revenues cache",{affected:Ut.length,newStatus:Kt}),fs}),p.setQueriesData({queryKey:["expenses"]},Bt=>{if(!(Bt!=null&&Bt.expenses))return Bt;const fs={...Bt,expenses:Bt.expenses.map(ta=>Ut.includes(ta.id)?{...ta,status:Kt,approvedByUserId:Ht.userId,approvedAt:Ht.timestamp||new Date().toISOString()}:ta)};return console.log("[Finance] Updated expenses cache",{affected:Ut.length,newStatus:Kt}),fs}),xe=!0,Be=!0):(console.log("[Finance] daily_approval_granted without transactionIds - forcing invalidation"),p.invalidateQueries({queryKey:["revenues"]}),p.invalidateQueries({queryKey:["expenses"]}),xe=!0,Be=!0)}continue}As&&(xe=!0),zs&&(Be=!0),(Wt.includes("approved")||Wt.includes("rejected"))&&(kt=!0),Wt.endsWith("_added")?(((Le==null?void 0:Le.newStatus)==="pending"||!(Le!=null&&Le.newStatus))&&(kt=!0),E(Gt,Hs,ba,Kt=>{if(!Kt||!Array.isArray(Kt[Gt]))return Kt;const Bt=Kt[Gt],fs={id:ea,propertyId:Hs,propertyName:(Le==null?void 0:Le.propertyName)||(Hs!=null?Pe(Hs):"Property"),amountCents:(Le==null?void 0:Le.amountCents)||0,currency:(Le==null?void 0:Le.currency)||"INR",paymentMode:(Le==null?void 0:Le.paymentMode)||"cash",status:(Le==null?void 0:Le.newStatus)||"pending",createdAt:Ht.timestamp||new Date().toISOString(),createdByName:(Le==null?void 0:Le.createdByName)||"Unknown User",createdByUserId:(Le==null?void 0:Le.createdByUserId)||Ht.userId,description:(Le==null?void 0:Le.description)||""};if(As?(fs.category=(Le==null?void 0:Le.category)||"other",fs.expenseDate=(Le==null?void 0:Le.transactionDate)||new Date().toISOString().split("T")[0]):(fs.source=(Le==null?void 0:Le.source)||"other",fs.occurredAt=(Le==null?void 0:Le.transactionDate)||new Date().toISOString()),Bt.find(js=>js.id===ea))return Kt;const ta=Bt.findIndex(js=>!(js!=null&&js.isOptimistic)||js.propertyId!==Hs||js.amountCents!==fs.amountCents||js.paymentMode!==fs.paymentMode?!1:As?js.category===fs.category&&String(js.expenseDate).slice(0,10)===String(fs.expenseDate).slice(0,10):js.source===fs.source&&String(js.occurredAt).slice(0,10)===String(fs.occurredAt).slice(0,10));if(ta>=0){const js=[...Bt];return js[ta]={...fs},{...Kt,[Gt]:js}}return{...Kt,[Gt]:[fs,...Bt]}})):Wt.endsWith("_updated")?E(Gt,Hs,ba,Ut=>{if(!Ut||!Array.isArray(Ut[Gt]))return Ut;const Kt=Ut[Gt],Bt=Kt.findIndex(js=>js.id===ea);if(Bt===-1)return Ut;const fs={...Kt[Bt],amountCents:(Le==null?void 0:Le.amountCents)??Kt[Bt].amountCents,currency:(Le==null?void 0:Le.currency)??Kt[Bt].currency,paymentMode:(Le==null?void 0:Le.paymentMode)??Kt[Bt].paymentMode,status:(Le==null?void 0:Le.newStatus)??Kt[Bt].status,updatedAt:new Date().toISOString()};As&&(Le!=null&&Le.category)&&(fs.category=Le.category),zs&&(Le!=null&&Le.source)&&(fs.source=Le.source),Le!=null&&Le.transactionDate&&(As?fs.expenseDate=Le.transactionDate:fs.occurredAt=Le.transactionDate);const ta=[...Kt];return ta[Bt]=fs,{...Ut,[Gt]:ta}}):Wt.endsWith("_approved")||Wt.endsWith("_rejected")?E(Gt,Hs,ba,Ut=>{if(!Ut||!Array.isArray(Ut[Gt]))return Ut;const Kt=Ut[Gt],Bt=Kt.findIndex(js=>js.id===ea);if(Bt===-1)return Ut;const fs={...Kt[Bt],status:(Le==null?void 0:Le.newStatus)||(Wt.endsWith("_approved")?"approved":"rejected"),approvedByUserId:Ht.userId,approvedAt:Ht.timestamp||new Date().toISOString()},ta=[...Kt];return ta[Bt]=fs,{...Ut,[Gt]:ta}}):Wt.endsWith("_deleted")&&E(Gt,Hs,ba,Ut=>!Ut||!Array.isArray(Ut[Gt])?Ut:{...Ut,[Gt]:Ut[Gt].filter(Kt=>Kt.id!==ea)})}catch(Wt){console.error("[Finance] Event processing error",Wt)}A({profitLoss:xe||Be,approvals:kt,todayPending:kt}),v.current&&clearTimeout(v.current),Os("REALTIME_PATCH_MODE",!0)||(v.current=setTimeout(()=>{p.invalidateQueries({queryKey:["revenues"]}),p.invalidateQueries({queryKey:["expenses"]})},5e3))}catch(Se){console.error("[Finance] Event batch failed",Se)}};return window.addEventListener("finance-stream-events",k),()=>window.removeEventListener("finance-stream-events",k)},[p]);const R=k=>{if(!k)return"";const te=k instanceof Date?k:new Date(k);if(!(te instanceof Date)||isNaN(te.getTime()))return"";const ue=Math.floor((Date.now()-te.getTime())/1e3);return ue<=0?"now":`${ue}s ago`},[L,z]=x.useState(!1),[Q,K]=x.useState(!1),[J,de]=x.useState(!1),[H,ie]=x.useState(!1),[F,q]=x.useState(null),[W,he]=x.useState(null),[$,M]=x.useState(!1),[V,G]=x.useState(null),[B,ce]=x.useState({startDate:"",endDate:""});qe.useEffect(()=>{},[B]);const pe=(k,te)=>{if(k&&te){const ue=new Date(k),Se=new Date(te);if(ue>Se)return r({variant:"destructive",title:"Invalid date range",description:"Start date must be before or equal to end date."}),!1}return!0},le=(k,te)=>{const ue={...B,[k]:te};k==="startDate"&&te&&!ue.endDate&&(ue.endDate=te),k==="endDate"&&te&&!ue.startDate&&(ue.startDate=te),k==="startDate"&&ue.endDate&&te>ue.endDate&&(ue.endDate=te),pe(ue.startDate,ue.endDate)&&ce(ue)},[ye,ke]=x.useState({propertyId:"",category:"",amountCents:"",description:"",receiptUrl:"",receiptFile:null,expenseDate:ac(),paymentMode:"cash",bankReference:""}),[Y,ge]=x.useState({propertyId:"",source:"other",amountCents:"",description:"",receiptUrl:"",receiptFile:null,occurredAt:ac(),paymentMode:"cash",bankReference:""}),[je,Oe]=x.useState(null),{data:_e}=Xt({queryKey:["properties"],queryFn:async()=>e().properties.list({}),enabled:l,staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),Pe=k=>{var ue,Se,dt;const te=(ue=((_e==null?void 0:_e.properties)||[]).find(_=>_.id===k))==null?void 0:ue.name;if(te)return te;try{const _=p.getQueriesData({queryKey:["revenues"]});for(const[,xe]of _){const Be=(Se=xe==null?void 0:xe.revenues)==null?void 0:Se.find(kt=>kt.propertyId===k);if(Be!=null&&Be.propertyName)return Be.propertyName}}catch{}try{const _=p.getQueriesData({queryKey:["expenses"]});for(const[,xe]of _){const Be=(dt=xe==null?void 0:xe.expenses)==null?void 0:dt.find(kt=>kt.propertyId===k);if(Be!=null&&Be.propertyName)return Be.propertyName}}catch{}return`Property #${k}`},{data:ze,isLoading:Ue}=Xt({queryKey:["expenses",c,B],queryFn:async()=>await e().finance.listExpenses({propertyId:c&&c!=="all"?parseInt(c):void 0,startDate:B.startDate||void 0,endDate:B.endDate||void 0,limit:100,offset:0}),enabled:l,...Os("REALTIME_PATCH_MODE",!0)?dn["realtime-connected"]:dn.expenses}),{data:He,isLoading:it}=Xt({queryKey:["revenues",c,B],queryFn:async()=>await e().finance.listRevenues({propertyId:c&&c!=="all"?parseInt(c):void 0,startDate:B.startDate||void 0,endDate:B.endDate||void 0}),enabled:l,...Os("REALTIME_PATCH_MODE",!0)?dn["realtime-connected"]:dn.revenues});x.useEffect(()=>{var dt,_,xe,Be,kt,Ht,Wt,ea;const k=((_=(dt=He==null?void 0:He.revenues)==null?void 0:dt.filter(qt=>qt.paymentMode==="cash"&&qt.status==="approved"))==null?void 0:_.reduce((qt,Le)=>qt+Le.amountCents,0))||0,te=((Be=(xe=He==null?void 0:He.revenues)==null?void 0:xe.filter(qt=>qt.paymentMode==="bank"&&qt.status==="approved"))==null?void 0:Be.reduce((qt,Le)=>qt+Le.amountCents,0))||0,ue=((Ht=(kt=ze==null?void 0:ze.expenses)==null?void 0:kt.filter(qt=>qt.paymentMode==="cash"&&qt.status==="approved"))==null?void 0:Ht.reduce((qt,Le)=>qt+Le.amountCents,0))||0,Se=((ea=(Wt=ze==null?void 0:ze.expenses)==null?void 0:Wt.filter(qt=>qt.paymentMode==="bank"&&qt.status==="approved"))==null?void 0:ea.reduce((qt,Le)=>qt+Le.amountCents,0))||0;C({cashRevenue:k,bankRevenue:te,cashExpense:ue,bankExpense:Se})},[ze,He]);const{data:Tt}=Xt({queryKey:["profit-loss",c,B],queryFn:async()=>e().reports.getMonthlyYearlyReport({propertyId:c&&c!=="all"?parseInt(c):void 0,startDate:B.startDate||void 0,endDate:B.endDate||void 0}),enabled:l,...dn.analytics}),{data:yt}=EH(),xs=vs({mutationFn:async k=>{var Se;return await e().finance.addExpense({...k,propertyId:parseInt(k.propertyId),amountCents:parseInt(k.amountCents),receiptFileId:((Se=k.receiptFile)==null?void 0:Se.fileId)||void 0,expenseDate:ph(k.expenseDate),paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||void 0})},onMutate:async k=>{await p.cancelQueries({queryKey:["expenses"]});const te=p.getQueryData(["expenses"]),ue=`temp_${Date.now()}_${Math.random()}`;return E("expenses",parseInt(k.propertyId),ph(k.expenseDate),Se=>{if(!(Se!=null&&Se.expenses))return Se;const dt=(s==null?void 0:s.role)==="ADMIN"?"approved":"pending",_=(s==null?void 0:s.role)==="ADMIN"?{approvedByUserId:parseInt(s.userID),approvedAt:new Date().toISOString()}:{},xe={id:ue,...k,amountCents:parseInt(k.amountCents),propertyId:parseInt(k.propertyId),propertyName:Pe(parseInt(k.propertyId)),status:dt,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isOptimistic:!0,..._};return{...Se,expenses:[xe,...Se.expenses],totalAmount:(Se.totalAmount||0)+parseInt(k.amountCents)}}),k.tempId=ue,{previousExpenses:te}},onSuccess:(k,te)=>{E("expenses",k.propertyId,k.expenseDate?new Date(k.expenseDate).toISOString():void 0,ue=>{if(!(ue!=null&&ue.expenses))return ue;const Se=te.tempId,dt=Se?ue.expenses.filter(xe=>xe.id!==Se):[...ue.expenses];if(dt.some(xe=>xe.id===k.id))return{...ue,expenses:dt};const _={id:k.id,propertyId:k.propertyId,propertyName:k.propertyName||Pe(k.propertyId),category:k.category,amountCents:k.amountCents,currency:k.currency,description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,expenseDate:k.expenseDate,status:k.status||"pending",createdByUserId:k.createdByUserId,createdByName:k.createdByName||"Current User",approvedByUserId:k.approvedByUserId,approvedByName:k.approvedByName,approvedAt:k.approvedAt,createdAt:k.createdAt,paymentMode:k.paymentMode,bankReference:k.bankReference};return{...ue,expenses:[_,...dt],totalAmount:(ue.totalAmount||0)+k.amountCents}}),z(!1),ke({propertyId:"",category:"",amountCents:"",description:"",receiptUrl:"",receiptFile:null,expenseDate:ac(),paymentMode:"cash",bankReference:""}),r({title:"Expense added",description:"The expense has been recorded successfully."})},onError:(k,te,ue)=>{var Se,dt,_;if(ue!=null&&ue.previousExpenses&&p.setQueryData(["expenses"],ue.previousExpenses),console.error("Add expense error:",k),(Se=k.message)!=null&&Se.includes("Invalid token")||(dt=k.message)!=null&&dt.includes("Unauthorized")||(_=k.message)!=null&&_.includes("401")){r({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again to continue."}),setTimeout(()=>{window.location.href="/login"},2e3);return}r({variant:"destructive",title:"Failed to add expense",description:k.message||"Please try again."})}}),va=vs({mutationFn:async k=>{var Se;return await e().finance.addRevenue({...k,propertyId:parseInt(k.propertyId),amountCents:parseInt(k.amountCents),receiptFileId:((Se=k.receiptFile)==null?void 0:Se.fileId)||void 0,occurredAt:ph(k.occurredAt),paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||void 0})},onMutate:async k=>{await p.cancelQueries({queryKey:["revenues"]});const te=p.getQueryData(["revenues"]);return E("revenues",parseInt(k.propertyId),ph(k.occurredAt),ue=>{if(!(ue!=null&&ue.revenues))return ue;const Se=(s==null?void 0:s.role)==="ADMIN"?"approved":"pending",dt=(s==null?void 0:s.role)==="ADMIN"?{approvedByUserId:parseInt(s.userID),approvedAt:new Date().toISOString()}:{},_={id:Date.now(),...k,amountCents:parseInt(k.amountCents),propertyId:parseInt(k.propertyId),propertyName:Pe(parseInt(k.propertyId)),status:Se,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isOptimistic:!0,...dt};return{...ue,revenues:[_,...ue.revenues]}}),{previousRevenues:te}},onSuccess:k=>{E("revenues",k.propertyId,k.occurredAt?new Date(k.occurredAt).toISOString():void 0,te=>{if(!(te!=null&&te.revenues))return te;const ue=[...te.revenues];if(ue.some(_=>_.id===k.id)){const _=ue.filter(xe=>!(xe.isOptimistic&&typeof xe.id=="number"&&xe.id>9e11));return{...te,revenues:_}}const Se=ue.findIndex(_=>_.isOptimistic&&typeof _.id=="number"&&_.id>9e11),dt=k&&k.id?{id:k.id,propertyId:k.propertyId,propertyName:k.propertyName||Pe(k.propertyId),source:k.source,amountCents:k.amountCents,currency:k.currency,description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,occurredAt:k.occurredAt,status:k.status||"pending",createdByUserId:k.createdByUserId,createdByName:k.createdByName||"Current User",approvedByUserId:k.approvedByUserId,approvedByName:k.approvedByName,approvedAt:k.approvedAt,createdAt:k.createdAt,paymentMode:k.paymentMode,bankReference:k.bankReference}:null;return dt&&Se>=0?ue[Se]=dt:dt&&ue.unshift(dt),{...te,revenues:ue}}),K(!1),ge({propertyId:"",source:"other",amountCents:"",description:"",receiptUrl:"",receiptFile:null,occurredAt:ac(),paymentMode:"cash",bankReference:""}),r({title:"Revenue added",description:"The revenue has been recorded successfully."})},onError:(k,te,ue)=>{ue!=null&&ue.previousRevenues&&p.setQueryData(["revenues"],ue.previousRevenues),console.error("Add revenue error:",k),r({variant:"destructive",title:"Failed to add revenue",description:k.message||"Please try again."})}}),Fe=vs({mutationFn:async({id:k,approved:te})=>{const ue=e();if(!ue)throw new Error("Not authenticated");try{return await ue.finance.approveExpenseById(k,{approved:te})}catch(Se){throw console.error("Approve expense error:",Se),new Error(Se.message||"Failed to approve expense")}},onMutate:async({id:k,approved:te})=>{await p.cancelQueries({queryKey:["expenses"]});const ue=p.getQueryData(["expenses"]);return E("expenses",void 0,void 0,Se=>Se!=null&&Se.expenses?{...Se,expenses:Se.expenses.map(dt=>dt.id===k?{...dt,status:te?"approved":"rejected"}:dt)}:Se),{previousExpenses:ue}},onSuccess:(k,te)=>{E("expenses",k.propertyId,k.expenseDate?new Date(k.expenseDate).toISOString():void 0,ue=>ue!=null&&ue.expenses?{...ue,expenses:ue.expenses.map(Se=>Se.id===te.id?{...Se,status:te.approved?"approved":"rejected",approvedByUserId:k.approvedByUserId,approvedByName:k.approvedByName,approvedAt:k.approvedAt}:Se)}:ue),r({title:"Expense updated",description:"The expense status has been updated."})},onError:(k,{id:te,approved:ue},Se)=>{Se!=null&&Se.previousExpenses&&p.setQueryData(["expenses"],Se.previousExpenses),console.error("Approve expense error:",k),r({variant:"destructive",title:"Failed to update expense",description:k.message||"Please try again."})}}),lt=vs({mutationFn:async({id:k,approved:te})=>{const ue=e();if(!ue)throw new Error("Not authenticated");try{return await ue.finance.approveRevenueById(k,{approved:te})}catch(Se){throw console.error("Approve revenue error:",Se),new Error(Se.message||"Failed to approve revenue")}},onMutate:async({id:k,approved:te})=>{await p.cancelQueries({queryKey:["revenues"]});const ue=p.getQueryData(["revenues"]);return E("revenues",void 0,void 0,Se=>Se!=null&&Se.revenues?{...Se,revenues:Se.revenues.map(dt=>dt.id===k?{...dt,status:te?"approved":"rejected"}:dt)}:Se),{previousRevenues:ue}},onSuccess:()=>{r({title:"Revenue updated",description:"The revenue status has been updated."})},onError:(k,{id:te,approved:ue},Se)=>{Se!=null&&Se.previousRevenues&&p.setQueryData(["revenues"],Se.previousRevenues),console.error("Approve revenue error:",k),r({variant:"destructive",title:"Failed to update revenue",description:k.message||"Please try again."})}}),Zt=vs({mutationFn:async k=>{const te=e(),ue=parseInt(k.id);if(isNaN(ue)||ue<=0)throw new Error("Invalid expense ID");return te.finance.updateExpense(ue,{propertyId:parseInt(k.propertyId),category:k.category,amountCents:parseInt(k.amountCents),description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,expenseDate:new Date(k.expenseDate),paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||void 0})},onMutate:async k=>{await p.cancelQueries({queryKey:["expenses"]});const te=p.getQueryData(["expenses"]);return E("expenses",parseInt(k.propertyId),k.expenseDate,ue=>{if(!(ue!=null&&ue.expenses))return ue;const Se=parseInt(k.id);if(!ue.expenses.find(Be=>Be.id===Se))return ue;const _=ue.expenses.map(Be=>{var kt;return Be.id===Se?{...Be,propertyId:parseInt(k.propertyId),category:k.category,amountCents:parseInt(k.amountCents),description:k.description,receiptUrl:k.receiptUrl,receiptFileId:((kt=k.receiptFile)==null?void 0:kt.fileId)||Be.receiptFileId,expenseDate:new Date(k.expenseDate),paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||Be.bankReference,status:(s==null?void 0:s.role)==="MANAGER"?"pending":Be.status,updatedAt:new Date().toISOString()}:Be}),xe=_.reduce((Be,kt)=>Be+kt.amountCents,0);return{...ue,expenses:_,totalAmount:xe}}),{previousExpenses:te}},onSuccess:k=>{E("expenses",k.propertyId,k.expenseDate?new Date(k.expenseDate).toISOString():void 0,te=>{if(!(te!=null&&te.expenses))return te;const ue=te.expenses.map(dt=>dt.id===k.id?{...dt,...k}:dt),Se=ue.reduce((dt,_)=>dt+_.amountCents,0);return{...te,expenses:ue,totalAmount:Se}}),de(!1),q(null),r({title:"Expense updated",description:(s==null?void 0:s.role)==="MANAGER"?"The expense has been updated and is pending approval.":"The expense has been updated successfully."})},onError:(k,te,ue)=>{ue!=null&&ue.previousExpenses&&p.setQueryData(["expenses"],ue.previousExpenses),console.error("Update expense error:",k),r({variant:"destructive",title:"Failed to update expense",description:k.message||"Please try again."})}}),as=vs({mutationFn:async k=>{const te=e(),ue=parseInt(k.id);if(isNaN(ue)||ue<=0)throw new Error("Invalid revenue ID");return te.finance.updateRevenue(ue,{propertyId:parseInt(k.propertyId),source:k.source,amountCents:parseInt(k.amountCents),description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,occurredAt:k.occurredAt,paymentMode:k.paymentMode||"cash",bankReference:k.bankReference||void 0})},onSuccess:k=>{E("revenues",k.propertyId,k.occurredAt?new Date(k.occurredAt).toISOString():void 0,te=>{if(!(te!=null&&te.revenues))return te;const ue=te.revenues.map(Se=>Se.id===k.id?{...Se,...k}:Se);return{...te,revenues:ue}}),ie(!1),he(null),r({title:"Revenue updated",description:(s==null?void 0:s.role)==="MANAGER"?"The revenue has been updated and is pending approval.":"The revenue has been updated successfully."})},onError:k=>{console.error("Update revenue error:",k),r({variant:"destructive",title:"Failed to update revenue",description:k.message||"Please try again."})}}),es=vs({mutationFn:async k=>{const te=e();if(!te)throw new Error("Not authenticated");try{return await te.finance.deleteExpense(k)}catch(ue){throw console.error("Delete expense error:",ue),new Error(ue.message||"Failed to delete expense")}},onMutate:async k=>{await p.cancelQueries({queryKey:["expenses"]});const te=p.getQueryData(["expenses"]);return p.setQueryData(["expenses"],ue=>{if(!(ue!=null&&ue.expenses))return ue;const Se=ue.expenses.find(_=>_.id===k),dt=ue.expenses.filter(_=>_.id!==k);return{...ue,expenses:dt,totalCount:ue.totalCount-1,totalAmount:Se?(ue.totalAmount||0)-Se.amountCents:ue.totalAmount}}),{previousExpenses:te}},onSuccess:k=>{try{p.invalidateQueries({queryKey:["expenses"]})}catch{}try{const te={type:"expense_deleted",id:(k==null?void 0:k.id)??null,ts:new Date().toISOString()};j(1,[te])}catch{}r({title:k.deleted?"Expense deleted":"Deletion requested",description:k.deleted?"The expense has been deleted successfully.":"Expense deletion has been requested and is pending approval."})},onError:(k,te,ue)=>{ue!=null&&ue.previousExpenses&&p.setQueryData(["expenses"],ue.previousExpenses),console.error("Delete expense error:",k),r({variant:"destructive",title:"Failed to delete expense",description:k.message||"Please try again."})}}),ae=vs({mutationFn:async k=>{const te=e();if(!te)throw new Error("Not authenticated");try{return await te.finance.deleteRevenue(k)}catch(ue){throw console.error("Delete revenue error:",ue),new Error(ue.message||"Failed to delete revenue")}},onMutate:async k=>{await p.cancelQueries({queryKey:["revenues"]});const te=p.getQueryData(["revenues"]);return p.setQueryData(["revenues"],ue=>ue!=null&&ue.revenues?{...ue,revenues:ue.revenues.filter(Se=>Se.id!==k)}:ue),{previousRevenues:te}},onSuccess:k=>{try{p.invalidateQueries({queryKey:["revenues"]})}catch{}try{const te={type:"revenue_deleted",id:(k==null?void 0:k.id)??null,ts:new Date().toISOString()};j(1,[te])}catch{}r({title:k.deleted?"Revenue deleted":"Deletion requested",description:k.deleted?"The revenue has been deleted successfully.":"Revenue deletion has been requested and is pending approval."})},onError:(k,te,ue)=>{ue!=null&&ue.previousRevenues&&p.setQueryData(["revenues"],ue.previousRevenues),console.error("Delete revenue error:",k),r({variant:"destructive",title:"Failed to delete revenue",description:k.message||"Please try again."})}}),Ye=k=>gu(k,n.currency),vt=async k=>{if($)throw new Error("Upload in progress, please wait...");M(!0);try{const te=await Y2(k,{maxSize:10*1024*1024,quality:.8});$o&&te.wasCompressed;const ue=await te.file.arrayBuffer(),Se=new Uint8Array(ue),dt=W2(Se),_=await fetch(`${xt.BASE_URL}/uploads/file`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({fileData:dt,filename:te.file.name,mimeType:te.file.type})});if(!_.ok)throw new Error(`Upload failed: ${_.statusText}`);const xe=await _.json(),Be={fileId:xe.fileId,filename:xe.filename,url:xe.url};return ge(kt=>({...kt,receiptFile:{fileId:Be.fileId,filename:Be.filename}})),Be}catch(te){throw console.error("Revenue file upload error:",te),new Error(te instanceof Error?te.message:"Failed to upload file")}finally{M(!1)}},St=async k=>{if($)throw new Error("Upload in progress, please wait...");M(!0);try{const te=await Y2(k,{maxSize:10*1024*1024,quality:.8});$o&&te.wasCompressed;const ue=await te.file.arrayBuffer(),Se=new Uint8Array(ue),dt=W2(Se),_=await fetch(`${xt.BASE_URL}/uploads/file`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({fileData:dt,filename:te.file.name,mimeType:te.file.type})});if(!_.ok)throw new Error(`Upload failed: ${_.statusText}`);const xe=await _.json(),Be={fileId:xe.fileId,filename:xe.filename,url:xe.url};return ke(kt=>({...kt,receiptFile:{fileId:Be.fileId,filename:Be.filename}})),Be}catch(te){throw console.error("Expense file upload error:",te),new Error(te instanceof Error?te.message:"Failed to upload file")}finally{M(!1)}},cs=k=>{switch(k){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ys=()=>{Oe(null);const k=[];if(ye.propertyId||k.push("Property"),ye.category||k.push("Category"),ye.amountCents||k.push("Amount"),ye.expenseDate||k.push("Date"),k.length>0){Oe(`Missing required fields: ${k.join(", ")}`);return}xs.mutate(ye)},Ks=()=>{Oe(null);const k=[];if(Y.propertyId||k.push("Property"),Y.amountCents||k.push("Amount"),Y.occurredAt||k.push("Date"),k.length>0){Oe(`Missing required fields: ${k.join(", ")}`);return}va.mutate(Y)},bt=k=>{if(console.log("=== EDIT EXPENSE DEBUG ==="),console.log("Expense object:",k),console.log("Expense ID:",k.id,"Type:",typeof k.id),console.log("Expense ID parsed:",parseInt(k.id),"Is NaN:",isNaN(parseInt(k.id))),!k){console.error("Expense object is null or undefined"),r({variant:"destructive",title:"Invalid expense",description:"Cannot edit expense: expense data is missing."});return}if(!k.id){console.error("Expense ID is missing:",k),r({variant:"destructive",title:"Invalid expense",description:"Cannot edit expense: missing expense ID."});return}if(typeof k.id=="object"){console.error("Expense ID is an object instead of a number:",k.id),console.error("Expense ID stringified:",JSON.stringify(k.id)),r({variant:"destructive",title:"Invalid expense ID",description:"Cannot edit expense: ID is in wrong format. Please refresh and try again."});return}const te=String(k.id),ue=parseInt(te);if(console.log("Expense ID conversion:",{original:k.id,stringified:te,parsed:ue,isNaN:isNaN(ue)}),isNaN(ue)||ue<=0){console.error("Expense ID is not a valid number after conversion:",{original:k.id,stringified:te,parsed:ue,type:typeof k.id}),r({variant:"destructive",title:"Invalid expense ID",description:`Cannot edit expense: invalid ID "${k.id}". Please refresh and try again.`});return}if(!k.propertyId||!k.category||!k.amountCents){console.error("Expense missing required fields:",{propertyId:k.propertyId,category:k.category,amountCents:k.amountCents}),r({variant:"destructive",title:"Incomplete expense data",description:"Cannot edit expense: missing required information. Please refresh and try again."});return}console.log("Expense validation passed, proceeding with edit");const Se={...k,id:ue};q(Se),ke({propertyId:k.propertyId.toString(),category:k.category,amountCents:k.amountCents.toString(),description:k.description||"",receiptUrl:k.receiptUrl||"",receiptFile:k.receiptFileId?{fileId:k.receiptFileId,filename:"Existing file"}:null,expenseDate:N0(k.expenseDate),paymentMode:k.paymentMode,bankReference:k.bankReference||""}),de(!0)},on=k=>{if(console.log("=== EDIT REVENUE DEBUG ==="),console.log("Revenue object:",k),console.log("Revenue ID:",k.id,"Type:",typeof k.id),console.log("Revenue ID parsed:",parseInt(k.id),"Is NaN:",isNaN(parseInt(k.id))),console.log("Revenue occurredAt:",k.occurredAt,"Type:",typeof k.occurredAt),console.log("Formatted for input:",N0(k.occurredAt)),!k||!k.id){console.error("Invalid revenue object or missing ID:",k),r({variant:"destructive",title:"Invalid revenue",description:"Cannot edit revenue: missing ID."});return}he(k),ge({propertyId:k.propertyId.toString(),source:k.source,amountCents:k.amountCents.toString(),description:k.description||"",receiptUrl:k.receiptUrl||"",receiptFile:k.receiptFileId?{fileId:k.receiptFileId,filename:"Existing file"}:null,occurredAt:N0(k.occurredAt),paymentMode:k.paymentMode,bankReference:k.bankReference||""}),ie(!0)},La=()=>{var _;if(console.log("=== UPDATE EXPENSE SUBMIT DEBUG ==="),console.log("Expense form:",ye),console.log("Editing expense:",F),!ye.propertyId||!ye.category||!ye.amountCents){r({variant:"destructive",title:"Missing fields",description:"Please fill in all required fields."});return}if(!F||!F.id){console.error("Expense ID validation failed:",{editingExpense:F}),r({variant:"destructive",title:"Invalid expense",description:"Cannot update expense: missing expense ID. Please refresh and try again."});return}if(console.log("=== UPDATE EXPENSE ID DEBUG ==="),console.log("Editing expense:",F),console.log("Editing expense ID:",F.id,"Type:",typeof F.id),typeof F.id=="object"){console.error("CRITICAL: Editing expense ID is still an object:",F.id),r({variant:"destructive",title:"Invalid expense ID",description:"Cannot update expense: ID is in wrong format. Please refresh and try again."});return}const k=String(F.id),te=parseInt(k);if(console.log("Update expense ID conversion:",{original:F.id,stringified:k,parsed:te,isNaN:isNaN(te)}),isNaN(te)||te<=0){console.error("Expense ID is not a valid number during update:",{original:F.id,stringified:k,parsed:te,type:typeof F.id}),r({variant:"destructive",title:"Invalid expense ID",description:`Cannot update expense: invalid ID "${F.id}". Please refresh and try again.`});return}const ue=parseInt(ye.amountCents);if(isNaN(ue)||ue<=0){r({variant:"destructive",title:"Invalid amount",description:"Please enter a valid amount greater than zero."});return}const Se=parseInt(ye.propertyId);if(isNaN(Se)||Se<=0){r({variant:"destructive",title:"Invalid property",description:"Please select a valid property."});return}console.log("All validations passed, submitting expense update with ID:",te);const dt={id:te,propertyId:Se,category:ye.category,amountCents:ue,description:ye.description||void 0,receiptUrl:ye.receiptUrl||void 0,receiptFileId:((_=ye.receiptFile)==null?void 0:_.fileId)||void 0,expenseDate:ye.expenseDate,paymentMode:ye.paymentMode||"cash",bankReference:ye.bankReference||void 0};console.log("Update data being sent:",dt),Zt.mutate(dt)},ln=()=>{var xe;if(console.log("=== UPDATE REVENUE SUBMIT DEBUG ==="),console.log("Revenue form:",Y),console.log("Editing revenue:",W),!Y.propertyId||!Y.amountCents){r({variant:"destructive",title:"Missing fields",description:"Please fill in all required fields."});return}if(!Y.occurredAt){r({variant:"destructive",title:"Missing date",description:"Please select a date for the revenue."});return}if(typeof Y.occurredAt!="string"){console.error("Revenue occurredAt is not a string:",Y.occurredAt,"Type:",typeof Y.occurredAt),r({variant:"destructive",title:"Invalid date type",description:"Date field contains invalid data. Please refresh and try again."});return}if(!/^\d{4}-\d{2}-\d{2}$/.test(Y.occurredAt)){r({variant:"destructive",title:"Invalid date format",description:"Please enter a valid date in YYYY-MM-DD format."});return}const k=new Date(Y.occurredAt);if(isNaN(k.getTime())){r({variant:"destructive",title:"Invalid date",description:"The selected date is not valid. Please choose a different date."});return}if(!W||!W.id){console.error("Revenue ID validation failed: editingRevenue or ID is missing",{editingRevenue:W}),r({variant:"destructive",title:"Invalid revenue",description:"Cannot update revenue: ID is missing or invalid."});return}const te=parseInt(W.id);if(isNaN(te)){console.error("Revenue ID is not a valid number:",{editingRevenue:W,revenueId:W.id,type:typeof W.id}),r({variant:"destructive",title:"Invalid revenue ID",description:"The revenue ID is not a valid number. Please try again."});return}const ue=parseInt(Y.amountCents);if(isNaN(ue)||ue<=0){r({variant:"destructive",title:"Invalid amount",description:"Please enter a valid amount greater than zero."});return}const Se=parseInt(Y.propertyId);if(isNaN(Se)||Se<=0){r({variant:"destructive",title:"Invalid property",description:"Please select a valid property."});return}console.log("All validations passed, submitting revenue update with ID:",te);const dt=ph(Y.occurredAt);if(console.log("Date formatting debug:",{originalDate:Y.occurredAt,formattedDate:dt,isValidDate:!isNaN(new Date(dt).getTime())}),!dt||isNaN(new Date(dt).getTime())){r({variant:"destructive",title:"Invalid date",description:"Please enter a valid date for the revenue."});return}const _={id:te,propertyId:Se,source:Y.source,amountCents:ue,description:Y.description||void 0,receiptUrl:Y.receiptUrl||void 0,receiptFileId:((xe=Y.receiptFile)==null?void 0:xe.fileId)||void 0,occurredAt:new Date(dt),paymentMode:Y.paymentMode||"cash",bankReference:Y.bankReference||void 0};console.log("Update data being sent:",_),as.mutate(_)},jt=k=>{window.confirm("Are you sure you want to delete this expense?")&&es.mutate(k)},Ft=k=>{window.confirm("Are you sure you want to delete this revenue?")&&ae.mutate(k)};return t.jsx("div",{className:"w-full min-h-screen bg-gray-50 pt-safe pb-safe",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6 pb-20 sm:pb-0 lg:bg-[#F5F7FA]",children:[t.jsxs("div",{className:"hidden sm:flex items-center justify-between bg-white/50 backdrop-blur-sm sticky top-14 lg:top-20 z-10 p-2 -mx-2 mb-4 rounded-xl border border-gray-100/50 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 px-2",children:[t.jsx("div",{className:"h-8 w-1 bg-blue-600 rounded-full"}),t.jsx("h2",{className:"text-xl font-bold tracking-tight text-gray-900",children:"Financial Overview"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(bs,{open:Q,onOpenChange:K,children:[t.jsx(qp,{asChild:!0,children:t.jsxs(se,{className:"bg-green-600 hover:bg-green-700 shadow-sm hover:shadow text-white transition-all duration-200",children:[t.jsx(Lr,{className:"mr-2 h-4 w-4"}),"Add Revenue"]})}),t.jsxs(Es,{className:"w-screen h-screen max-w-none m-0 rounded-none border-0 sm:h-auto sm:max-w-lg sm:rounded-2xl flex flex-col overflow-hidden bg-white",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Lr,{className:"h-5 w-5 text-green-600"})}),"Add Revenue"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Record new revenue for your property"}),je&&t.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[t.jsx(is,{className:"h-4 w-4 shrink-0"}),je]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-0",children:t.jsxs("div",{className:"space-y-6 px-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:Y.propertyId,onValueChange:k=>ge(te=>({...te,propertyId:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:_e==null?void 0:_e.properties.map(k=>t.jsx(me,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-source",className:"text-sm font-medium text-gray-700",children:"Source"}),t.jsxs(st,{value:Y.source,onValueChange:k=>ge(te=>({...te,source:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"room",children:"Room Revenue"}),t.jsx(me,{value:"addon",children:"Add-on Services"}),t.jsx(me,{value:"other",children:"Other Revenue"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-payment-mode",className:"text-sm font-medium text-gray-700",children:"Payment Mode *"}),t.jsxs(st,{value:Y.paymentMode,onValueChange:k=>ge(te=>({...te,paymentMode:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"cash",children:"Cash"}),t.jsx(me,{value:"bank",children:"Bank (UPI/Net Banking/Online)"})]})]})]})]}),Y.paymentMode==="bank"&&t.jsx("div",{className:"space-y-2 w-full",children:t.jsx(op,{label:"Receipt Upload",description:"Upload receipt images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",onFileUpload:vt,value:Y.receiptFile,onClear:()=>ge(k=>({...k,receiptFile:null}))})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-amount",className:"text-sm font-medium text-gray-700",children:"Amount *"}),t.jsx(ve,{id:"revenue-amount",type:"number",step:"0.01",value:Y.amountCents?(parseInt(Y.amountCents)/100).toString():"",onChange:k=>ge(te=>({...te,amountCents:(parseFloat(k.target.value)*100).toString()})),placeholder:"0.00",className:"h-14 text-lg font-medium bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]}),Y.paymentMode==="bank"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-bank-reference",className:"text-sm font-medium text-gray-700",children:"Bank Reference"}),t.jsx(ve,{id:"revenue-bank-reference",value:Y.bankReference,onChange:k=>ge(te=>({...te,bankReference:k.target.value})),placeholder:"Transaction ID, UPI reference, etc.",className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Br,{id:"revenue-description",value:Y.description,onChange:k=>ge(te=>({...te,description:k.target.value})),placeholder:"Revenue description",className:"min-h-[100px] text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm resize-none"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"revenue-date",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ve,{id:"revenue-date",type:"date",value:Y.occurredAt,onChange:k=>ge(te=>({...te,occurredAt:k.target.value})),className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]})]})}),t.jsx(ga,{className:"border-t border-gray-100 bg-white/80 backdrop-blur p-4 sm:p-6 sm:bg-gray-50 sticky bottom-0 z-10",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>{K(!1),Oe(null)},className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:Ks,disabled:va.isPending,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:va.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"mr-2 h-4 w-4"}),"Add Revenue"]})})]})})]})]}),t.jsxs(bs,{open:L,onOpenChange:z,children:[t.jsx(qp,{asChild:!0,children:t.jsxs(se,{className:"bg-red-600 hover:bg-red-700 shadow-sm hover:shadow text-white transition-all duration-200",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add Expense"]})}),t.jsxs(Es,{className:"w-screen h-screen max-w-none m-0 rounded-none border-0 sm:h-auto sm:max-w-lg sm:rounded-2xl flex flex-col overflow-hidden bg-white",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(ra,{className:"h-5 w-5 text-red-600"})}),"Add Expense"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Record a new expense for your property"}),je&&t.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm font-medium flex items-center gap-2 animate-in fade-in slide-in-from-top-2",children:[t.jsx(is,{className:"h-4 w-4 shrink-0"}),je]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-0",children:t.jsxs("div",{className:"space-y-6 px-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:ye.propertyId,onValueChange:k=>ke(te=>({...te,propertyId:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:_e==null?void 0:_e.properties.map(k=>t.jsx(me,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-category",className:"text-sm font-medium text-gray-700",children:"Category *"}),t.jsxs(st,{value:ye.category,onValueChange:k=>ke(te=>({...te,category:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select category"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"supplies",children:"Supplies"}),t.jsx(me,{value:"maintenance",children:"Maintenance"}),t.jsx(me,{value:"utilities",children:"Utilities"}),t.jsx(me,{value:"marketing",children:"Marketing"}),t.jsx(me,{value:"staff",children:"Staff"}),t.jsx(me,{value:"insurance",children:"Insurance"}),t.jsx(me,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-payment-mode",className:"text-sm font-medium text-gray-700",children:"Payment Mode *"}),t.jsxs(st,{value:ye.paymentMode,onValueChange:k=>ke(te=>({...te,paymentMode:k})),children:[t.jsx(nt,{className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"cash",children:"Cash"}),t.jsx(me,{value:"bank",children:"Bank (UPI/Net Banking/Online)"})]})]})]})]}),t.jsx("div",{className:"space-y-2 w-full",children:t.jsx(op,{label:"Receipt Upload",description:"Upload receipt images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",onFileUpload:St,value:ye.receiptFile,onClear:()=>ke(k=>({...k,receiptFile:null}))})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-amount",className:"text-sm font-medium text-gray-700",children:"Amount *"}),t.jsx(ve,{id:"expense-amount",type:"number",step:"0.01",value:ye.amountCents?(parseInt(ye.amountCents)/100).toString():"",onChange:k=>ke(te=>({...te,amountCents:(parseFloat(k.target.value)*100).toString()})),placeholder:"0.00",className:"h-14 text-lg font-medium bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]}),ye.paymentMode==="bank"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-bank-reference",className:"text-sm font-medium text-gray-700",children:"Bank Reference"}),t.jsx(ve,{id:"expense-bank-reference",value:ye.bankReference,onChange:k=>ke(te=>({...te,bankReference:k.target.value})),placeholder:"Transaction ID, UPI reference, etc.",className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Br,{id:"expense-description",value:ye.description,onChange:k=>ke(te=>({...te,description:k.target.value})),placeholder:"Expense description",className:"min-h-[100px] text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm resize-none"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expense-date",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ve,{id:"expense-date",type:"date",value:ye.expenseDate,onChange:k=>ke(te=>({...te,expenseDate:k.target.value})),className:"h-14 text-base bg-gray-50/50 border-gray-200 focus:bg-white focus:border-blue-500 rounded-xl transition-all shadow-sm"})]})]})}),t.jsx(ga,{className:"border-t border-gray-100 bg-white/80 backdrop-blur p-4 sm:p-6 sm:bg-gray-50 sticky bottom-0 z-10",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>{z(!1),Oe(null)},className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:ys,disabled:xs.isPending,className:"bg-red-600 hover:bg-red-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:xs.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add Expense"]})})]})})]})]})]})]}),(s==null?void 0:s.role)==="MANAGER"&&yt&&t.jsx(Te,{className:`border-l-4 ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"border-l-yellow-500 bg-yellow-50 border-yellow-200":"border-l-green-500 bg-green-50 border-green-200":"border-l-red-500 bg-red-50 border-red-200"} shadow-sm hover:shadow-md transition-shadow duration-200`,children:t.jsx(Ee,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-2 rounded-full ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"bg-yellow-100":"bg-green-100":"bg-red-100"}`,children:t.jsx(qs,{className:`h-5 w-5 ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"text-yellow-600":"text-green-600":"text-red-600"}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:`text-lg font-bold ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"text-yellow-800":"text-green-800":"text-red-800"}`,children:yt.canAddTransactions?yt.hasUnapprovedTransactions?"Pending Approval":"Approved":"Approval Required"}),yt.message&&t.jsx("p",{className:`text-sm mt-1 ${yt.canAddTransactions?yt.hasUnapprovedTransactions?"text-yellow-700":"text-green-700":"text-red-700"}`,children:yt.message})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${w!=null&&w.isLive?"bg-green-500 animate-pulse":"bg-gray-400"}`}),t.jsxs("span",{className:"text-xs text-gray-600",children:[w!=null&&w.isLive?"Live":"Reconnecting","  ",R((w==null?void 0:w.lastEventAt)||(w==null?void 0:w.lastSuccessAt))]})]})]})})}),t.jsx(uJ,{selectedPropertyId:c,onPropertyChange:u,dateRange:B,onDateRangeChange:le,properties:(_e==null?void 0:_e.properties)||[],onReset:()=>{u("all"),ce({startDate:"",endDate:""})}}),t.jsx(bs,{open:J,onOpenChange:de,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(jr,{className:"h-5 w-5 text-orange-600"})}),"Edit Expense"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Update the expense details"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:ye.propertyId,onValueChange:k=>ke(te=>({...te,propertyId:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:_e==null?void 0:_e.properties.map(k=>t.jsx(me,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-category",className:"text-sm font-medium text-gray-700",children:"Category *"}),t.jsxs(st,{value:ye.category,onValueChange:k=>ke(te=>({...te,category:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select category"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"supplies",children:"Supplies"}),t.jsx(me,{value:"maintenance",children:"Maintenance"}),t.jsx(me,{value:"utilities",children:"Utilities"}),t.jsx(me,{value:"marketing",children:"Marketing"}),t.jsx(me,{value:"staff",children:"Staff"}),t.jsx(me,{value:"insurance",children:"Insurance"}),t.jsx(me,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-amount",className:"text-sm font-medium text-gray-700",children:"Amount *"}),t.jsx(ve,{id:"edit-expense-amount",type:"number",step:"0.01",value:ye.amountCents?(parseInt(ye.amountCents)/100).toString():"",onChange:k=>ke(te=>({...te,amountCents:(parseFloat(k.target.value)*100).toString()})),placeholder:"0.00",className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Br,{id:"edit-expense-description",value:ye.description,onChange:k=>ke(te=>({...te,description:k.target.value})),placeholder:"Expense description",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsx("div",{className:"space-y-2",children:t.jsx(op,{label:"Receipt Upload",description:"Upload receipt images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",onFileUpload:St,value:ye.receiptFile,onClear:()=>ke(k=>({...k,receiptFile:null}))})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-payment-mode",className:"text-sm font-medium text-gray-700",children:"Payment Mode *"}),t.jsxs(st,{value:ye.paymentMode,onValueChange:k=>ke(te=>({...te,paymentMode:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"cash",children:"Cash"}),t.jsx(me,{value:"bank",children:"Bank (UPI/Net Banking/Online)"})]})]})]}),ye.paymentMode==="bank"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-bank-reference",className:"text-sm font-medium text-gray-700",children:"Bank Reference"}),t.jsx(ve,{id:"edit-expense-bank-reference",value:ye.bankReference,onChange:k=>ke(te=>({...te,bankReference:k.target.value})),placeholder:"Transaction ID, UPI reference, etc.",className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-expense-date",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ve,{id:"edit-expense-date",type:"date",value:ye.expenseDate,onChange:k=>ke(te=>({...te,expenseDate:k.target.value})),className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>de(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:La,disabled:Zt.isPending,className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:Zt.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jr,{className:"mr-2 h-4 w-4"}),"Update Expense"]})})]})})]})}),t.jsx(bs,{open:H,onOpenChange:ie,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(jr,{className:"h-5 w-5 text-blue-600"})}),"Edit Revenue"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Update the revenue details"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-property",className:"text-sm font-medium text-gray-700",children:"Property *"}),t.jsxs(st,{value:Y.propertyId,onValueChange:k=>ge(te=>({...te,propertyId:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:_e==null?void 0:_e.properties.map(k=>t.jsx(me,{value:k.id.toString(),children:k.name},k.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-source",className:"text-sm font-medium text-gray-700",children:"Source"}),t.jsxs(st,{value:Y.source,onValueChange:k=>ge(te=>({...te,source:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"room",children:"Room Revenue"}),t.jsx(me,{value:"addon",children:"Add-on Services"}),t.jsx(me,{value:"other",children:"Other Revenue"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-amount",className:"text-sm font-medium text-gray-700",children:"Amount *"}),t.jsx(ve,{id:"edit-revenue-amount",type:"number",step:"0.01",value:Y.amountCents?(parseInt(Y.amountCents)/100).toString():"",onChange:k=>ge(te=>({...te,amountCents:(parseFloat(k.target.value)*100).toString()})),placeholder:"0.00",className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-description",className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(Br,{id:"edit-revenue-description",value:Y.description,onChange:k=>ge(te=>({...te,description:k.target.value})),placeholder:"Revenue description",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsx("div",{className:"space-y-2",children:t.jsx(op,{label:"Receipt Upload",description:"Upload receipt images (JPG, PNG, GIF, WebP) or PDF files. Max size: 100MB",onFileUpload:vt,value:Y.receiptFile,onClear:()=>ge(k=>({...k,receiptFile:null}))})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-payment-mode",className:"text-sm font-medium text-gray-700",children:"Payment Mode *"}),t.jsxs(st,{value:Y.paymentMode,onValueChange:k=>ge(te=>({...te,paymentMode:k})),children:[t.jsx(nt,{className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"cash",children:"Cash"}),t.jsx(me,{value:"bank",children:"Bank (UPI/Net Banking/Online)"})]})]})]}),Y.paymentMode==="bank"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-bank-reference",className:"text-sm font-medium text-gray-700",children:"Bank Reference"}),t.jsx(ve,{id:"edit-revenue-bank-reference",value:Y.bankReference,onChange:k=>ge(te=>({...te,bankReference:k.target.value})),placeholder:"Transaction ID, UPI reference, etc.",className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-revenue-date",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ve,{id:"edit-revenue-date",type:"date",value:Y.occurredAt,onChange:k=>ge(te=>({...te,occurredAt:k.target.value})),className:"h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>ie(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:ln,disabled:as.isPending,className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:as.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jr,{className:"mr-2 h-4 w-4"}),"Update Revenue"]})})]})})]})}),(s==null?void 0:s.role)==="ADMIN"&&t.jsx(eG,{className:"mt-6",propertyId:c,startDate:B.startDate,endDate:B.endDate}),t.jsxs("div",{className:"flex overflow-x-auto pb-4 gap-4 sm:grid sm:grid-cols-2 lg:grid-cols-4 sm:overflow-visible sm:pb-0 snap-x snap-mandatory px-4 sm:px-0 -mx-4 sm:mx-0 scrollbar-hide",children:[t.jsx(Yi,{title:"Cash Revenue",value:Ye(T.cashRevenue||0),subtitle:c!=="all"||B.startDate||B.endDate?"Filtered":"All time",icon:RC,iconColor:"text-green-600",iconBgColor:"bg-green-100",className:"snap-center border-none shadow-md bg-white/90 backdrop-blur-sm min-w-[85%] sm:min-w-0",compact:!0}),t.jsx(Yi,{title:"Bank/UPI Revenue",value:Ye(T.bankRevenue||0),subtitle:c!=="all"||B.startDate||B.endDate?"Filtered":"All time",icon:nl,iconColor:"text-blue-600",iconBgColor:"bg-blue-100",className:"snap-center border-none shadow-md bg-white/90 backdrop-blur-sm min-w-[85%] sm:min-w-0",compact:!0}),t.jsx(Yi,{title:"Cash Expenses",value:Ye(T.cashExpense||0),subtitle:c!=="all"||B.startDate||B.endDate?"Filtered":"All time",icon:RC,iconColor:"text-red-600",iconBgColor:"bg-red-100",valueColor:"text-red-600",className:"snap-center border-none shadow-md bg-white/90 backdrop-blur-sm min-w-[85%] sm:min-w-0",compact:!0}),t.jsx(Yi,{title:"Bank/UPI Expenses",value:Ye(T.bankExpense||0),subtitle:c!=="all"||B.startDate||B.endDate?"Filtered":"All time",icon:nl,iconColor:"text-orange-600",iconBgColor:"bg-orange-100",valueColor:"text-orange-600",className:"snap-center border-none shadow-md bg-white/90 backdrop-blur-sm min-w-[85%] sm:min-w-0",compact:!0})]}),t.jsxs(jc,{defaultValue:"expenses",theme:n,children:[t.jsxs(ll,{className:"grid-cols-2",theme:n,children:[t.jsxs(Vs,{value:"expenses",theme:n,children:[t.jsx(ec,{className:"h-4 w-4 mr-2"}),"Expenses"]}),t.jsxs(Vs,{value:"revenues",theme:n,children:[t.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Revenues"]})]}),t.jsxs("div",{className:"px-0 sm:px-6 py-2 sm:py-6",children:[t.jsx(ks,{value:"expenses",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-none shadow-md bg-white/80 backdrop-blur-sm",children:[t.jsxs(Qe,{className:"pb-3 px-3 pt-4 sm:px-6 sm:pt-6",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(Lr,{className:"h-5 w-5 text-red-600"})}),"Recent Expenses",t.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Track and manage property expenses"})]}),t.jsx(Ee,{className:"px-2 py-2 sm:p-6",children:Ue?t.jsx(Te,{className:"border-none shadow-sm bg-gray-50/50",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading expenses..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your expense data"})]})})}):(ze==null?void 0:ze.expenses.length)===0?t.jsx(Te,{className:"border-none shadow-sm bg-gray-50/50",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Cn,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No expenses recorded"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Start tracking your property expenses"}),t.jsxs(se,{onClick:()=>z(!0),className:"bg-red-600 hover:bg-red-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add First Expense"]})]})}):t.jsx("div",{className:"space-y-4",children:ze==null?void 0:ze.expenses.map(k=>t.jsx("div",{className:"group relative bg-white rounded-2xl p-3 sm:p-4 transition-all duration-200 hover:bg-gray-50 border border-gray-100 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] hover:shadow-[0_8px_25px_-5px_rgba(0,0,0,0.1),0_8px_10px_-6px_rgba(0,0,0,0.1)]",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[t.jsx("h4",{className:"text-lg font-bold text-gray-900 capitalize leading-tight",children:k.category}),t.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[t.jsx(Lt,{className:`${cs(k.status)} rounded-md px-2 py-0.5 font-normal text-xs uppercase tracking-wide border-0`,children:k.status}),t.jsx(Lt,{className:`${k.paymentMode==="cash"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"} rounded-md px-2 py-0.5 font-normal text-xs uppercase tracking-wide border-0`,children:k.paymentMode}),k.bankReference&&t.jsx(Lt,{variant:"outline",className:"text-xs text-gray-500 border-gray-200 rounded-md px-2 py-0.5 font-normal",children:k.bankReference})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm font-medium text-slate-500",children:k.propertyName}),t.jsxs("div",{className:"flex items-center text-xs text-gray-400 font-medium",children:[t.jsx(qs,{className:"h-3.5 w-3.5 mr-1.5 text-gray-300"}),ng(k.createdAt)]}),t.jsxs("div",{className:"inline-flex items-center bg-blue-50/50 border border-blue-100 rounded-lg px-3 py-1.5",children:[t.jsx(qs,{className:"h-3.5 w-3.5 mr-2 text-blue-600"}),t.jsxs("span",{className:"text-xs font-semibold text-blue-700",children:["For: ",H2(k.expenseDate)]})]}),t.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:["By ",k.createdByName]}),k.description&&t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed pt-1",children:k.description})]}),t.jsx("div",{className:"h-px w-full bg-gray-100/80 my-1"}),t.jsxs("div",{className:"flex items-center justify-between pt-1",children:[t.jsx("span",{className:"text-2xl font-bold text-red-600 tracking-tight",children:Ye(k.amountCents)}),t.jsxs("div",{className:"flex items-center gap-3",children:[(k.receiptUrl||k.receiptFileId)&&t.jsx(se,{variant:"outline",size:"icon",className:"h-11 w-11 rounded-full border-gray-100 bg-white text-gray-400 hover:text-blue-600 hover:border-blue-200 hover:bg-blue-50 transition-all shadow-sm",onClick:()=>G({id:k.id,type:"expense",category:k.category,propertyName:k.propertyName,amountCents:k.amountCents,description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,date:k.expenseDate,createdAt:k.createdAt,createdByName:k.createdByName,status:k.status,paymentMode:k.paymentMode,bankReference:k.bankReference,approvedByName:k.approvedByName,approvedAt:k.approvedAt}),children:t.jsx(un,{className:"h-5 w-5"})}),(s==null?void 0:s.role)==="ADMIN"&&k.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(se,{size:"icon",variant:"outline",onClick:()=>Fe.mutate({id:k.id,approved:!0}),disabled:Fe.isPending,className:"h-11 w-11 rounded-full border-green-100 bg-green-50 text-green-600 hover:bg-green-100 active:scale-95 transition-all shadow-sm",children:t.jsx(nn,{className:"h-5 w-5"})}),t.jsx(se,{size:"icon",variant:"outline",onClick:()=>Fe.mutate({id:k.id,approved:!1}),disabled:Fe.isPending,className:"h-11 w-11 rounded-full border-red-100 bg-red-50 text-red-600 hover:bg-red-100 active:scale-95 transition-all shadow-sm",children:t.jsx(Ws,{className:"h-5 w-5"})})]}),((s==null?void 0:s.role)==="ADMIN"||(s==null?void 0:s.role)==="MANAGER"&&k.createdByUserId===parseInt(s.userID))&&t.jsxs(t.Fragment,{children:[t.jsx(se,{size:"icon",variant:"outline",onClick:()=>bt(k),disabled:Zt.isPending,className:"h-11 w-11 rounded-full border-gray-100 bg-white text-gray-600 hover:bg-gray-50 hover:border-gray-200 active:scale-95 transition-all shadow-sm",children:t.jsx(jr,{className:"h-5 w-5"})}),t.jsx(se,{size:"icon",variant:"outline",onClick:()=>jt(k.id),disabled:es.isPending,className:"h-11 w-11 rounded-full border-red-50 bg-white text-red-500 hover:bg-red-50 hover:border-red-100 active:scale-95 transition-all shadow-sm",children:t.jsx(jn,{className:"h-5 w-5"})})]})]})]})]})},k.id))})})]})}),t.jsx(ks,{value:"revenues",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-none shadow-md bg-white/80 backdrop-blur-sm",children:[t.jsxs(Qe,{className:"pb-3 px-3 pt-4 sm:px-6 sm:pt-6",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Lr,{className:"h-5 w-5 text-green-600"})}),"Recent Revenues",t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Track property income and revenue streams"})]}),t.jsx(Ee,{className:"px-2 py-2 sm:p-6",children:it?t.jsx(Te,{className:"border-none shadow-sm bg-gray-50/50",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading revenues..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your revenue data"})]})})}):(He==null?void 0:He.revenues.length)===0?t.jsx(Te,{className:"border-none shadow-sm bg-gray-50/50",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Lr,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No revenue recorded"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Start tracking your property revenue"}),t.jsxs(se,{onClick:()=>K(!0),className:"bg-green-600 hover:bg-green-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add First Revenue"]})]})}):t.jsx("div",{className:"space-y-4",children:He==null?void 0:He.revenues.map(k=>t.jsx("div",{className:"group relative bg-white rounded-2xl p-3 sm:p-4 transition-all duration-200 hover:bg-gray-50 border border-gray-100 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] hover:shadow-[0_8px_25px_-5px_rgba(0,0,0,0.1),0_8px_10px_-6px_rgba(0,0,0,0.1)]",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[t.jsxs("h4",{className:"text-lg font-bold text-gray-900 capitalize leading-tight",children:[k.source," Revenue"]}),t.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[t.jsx(Lt,{className:`${cs(k.status)} rounded-md px-2 py-0.5 font-normal text-xs uppercase tracking-wide border-0`,children:k.status}),t.jsx(Lt,{className:`${k.paymentMode==="cash"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"} rounded-md px-2 py-0.5 font-normal text-xs uppercase tracking-wide border-0`,children:k.paymentMode}),k.bankReference&&t.jsx(Lt,{variant:"outline",className:"text-xs text-gray-500 border-gray-200 rounded-md px-2 py-0.5 font-normal",children:k.bankReference})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm font-medium text-slate-500",children:k.propertyName}),t.jsxs("div",{className:"flex items-center text-xs text-gray-400 font-medium",children:[t.jsx(qs,{className:"h-3.5 w-3.5 mr-1.5 text-gray-300"}),ng(k.createdAt)]}),t.jsxs("div",{className:"inline-flex items-center bg-blue-50/50 border border-blue-100 rounded-lg px-3 py-1.5",children:[t.jsx(qs,{className:"h-3.5 w-3.5 mr-2 text-blue-600"}),t.jsxs("span",{className:"text-xs font-semibold text-blue-700",children:["For: ",H2(k.occurredAt)]})]}),t.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:["By ",k.createdByName]}),k.description&&t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed pt-1",children:k.description})]}),t.jsx("div",{className:"h-px w-full bg-gray-100/80 my-1"}),t.jsxs("div",{className:"flex items-center justify-between pt-1",children:[t.jsx("span",{className:"text-2xl font-bold text-green-600 tracking-tight",children:Ye(k.amountCents)}),t.jsxs("div",{className:"flex items-center gap-3",children:[(k.receiptUrl||k.receiptFileId)&&t.jsx(se,{variant:"outline",size:"icon",className:"h-11 w-11 rounded-full border-gray-100 bg-white text-gray-400 hover:text-blue-600 hover:border-blue-200 hover:bg-blue-50 transition-all shadow-sm",onClick:()=>G({id:k.id,type:"revenue",source:k.source,propertyName:k.propertyName,amountCents:k.amountCents,description:k.description,receiptUrl:k.receiptUrl,receiptFileId:k.receiptFileId,date:k.occurredAt,createdAt:k.createdAt,createdByName:k.createdByName,status:k.status,paymentMode:k.paymentMode,bankReference:k.bankReference,approvedByName:k.approvedByName,approvedAt:k.approvedAt}),children:t.jsx(un,{className:"h-5 w-5"})}),(s==null?void 0:s.role)==="ADMIN"&&k.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(se,{size:"icon",variant:"outline",onClick:()=>lt.mutate({id:k.id,approved:!0}),disabled:lt.isPending,className:"h-11 w-11 rounded-full border-green-100 bg-green-50 text-green-600 hover:bg-green-100 active:scale-95 transition-all shadow-sm",children:t.jsx(nn,{className:"h-5 w-5"})}),t.jsx(se,{size:"icon",variant:"outline",onClick:()=>lt.mutate({id:k.id,approved:!1}),disabled:lt.isPending,className:"h-11 w-11 rounded-full border-red-100 bg-red-50 text-red-600 hover:bg-red-100 active:scale-95 transition-all shadow-sm",children:t.jsx(Ws,{className:"h-5 w-5"})})]}),((s==null?void 0:s.role)==="ADMIN"||(s==null?void 0:s.role)==="MANAGER"&&k.createdByUserId===parseInt(s.userID))&&t.jsxs(t.Fragment,{children:[t.jsx(se,{size:"icon",variant:"outline",onClick:()=>on(k),disabled:as.isPending,className:"h-11 w-11 rounded-full border-gray-100 bg-white text-gray-600 hover:bg-gray-50 hover:border-gray-200 active:scale-95 transition-all shadow-sm",children:t.jsx(jr,{className:"h-5 w-5"})}),t.jsx(se,{size:"icon",variant:"outline",onClick:()=>Ft(k.id),disabled:ae.isPending,className:"h-11 w-11 rounded-full border-red-50 bg-white text-red-500 hover:bg-red-50 hover:border-red-100 active:scale-95 transition-all shadow-sm",children:t.jsx(jn,{className:"h-5 w-5"})})]})]})]})]})},k.id))})})]})})]})]}),V&&t.jsx(KH,{isOpen:!!V,onClose:()=>G(null),transaction:V}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 sm:hidden animate-in fade-in duration-200",onClick:()=>f(!1)}),t.jsxs("div",{className:"fixed bottom-24 right-4 z-50 flex flex-col items-end gap-4 sm:hidden",children:[t.jsxs("div",{className:`flex flex-col gap-3 transition-all duration-300 ease-out origin-bottom ${m?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-10 scale-95 pointer-events-none"}`,children:[t.jsxs(se,{onClick:()=>{K(!0),f(!1)},className:"h-11 pl-4 pr-5 rounded-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-lg shadow-green-500/30 border-0 flex items-center gap-2 transition-transform active:scale-95",children:[t.jsx("div",{className:"bg-white/20 p-1 rounded-full",children:t.jsx(Lr,{className:"h-4 w-4"})}),t.jsx("span",{className:"font-semibold tracking-wide",children:"Add Revenue"})]}),t.jsxs(se,{onClick:()=>{z(!0),f(!1)},className:"h-11 pl-4 pr-5 rounded-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg shadow-red-500/30 border-0 flex items-center gap-2 transition-transform active:scale-95",children:[t.jsx("div",{className:"bg-white/20 p-1 rounded-full",children:t.jsx(ra,{className:"h-4 w-4"})}),t.jsx("span",{className:"font-semibold tracking-wide",children:"Add Expense"})]})]}),t.jsx(se,{onClick:()=>f(!m),className:`h-14 w-14 rounded-full shadow-xl flex items-center justify-center transition-all duration-300 border-0 ${m?"bg-gray-800 rotate-90":"bg-blue-600 hover:bg-blue-700"}`,children:t.jsx(ra,{className:`h-8 w-8 text-white transition-transform duration-300 ${m?"rotate-45":"rotate-0"}`})})]})]})})}const Kn=e=>gu(e),gk=(e,s)=>{const n=new Date(e,s,0).getDate(),a=[];for(let r=1;r<=n;r++){const l=new Date(e,s-1,r).toISOString().split("T")[0];a.push(l)}return a},mJ=e=>{const s=new Date().toISOString().split("T")[0];return e===s},fJ=e=>{try{const s=new Date(e);return isNaN(s.getTime())?"Invalid Date":s.toLocaleDateString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"Invalid Date"}};function pJ({year:e,month:s,propertyId:n,orgId:a}){const{getAuthenticatedBackend:r}=$s(),{toast:l}=da(),c=za(),[u,m]=x.useState(new Date),{data:f,isLoading:p,error:g,dataUpdatedAt:v}=Xt({queryKey:["monthly-report",n,e,s,a],queryFn:async()=>{const de=r();console.log("MonthlyReportSpreadsheet: Fetching monthly data for:",{propertyId:n,year:e,month:s,orgId:a});const H=await de.reports.getMonthlyReport({propertyId:n,year:e,month:s});return console.log("MonthlyReportSpreadsheet: Monthly data:",H),H},staleTime:25e3,gcTime:3e5,refetchInterval:!1,refetchOnMount:!0,refetchOnReconnect:!0});x.useEffect(()=>{if(f)try{const de=window.__reportsLastInvalidateAt;if(!de)return;const H=`monthly|${n}|${e}-${s}`,ie=de[H];if(!ie)return;const F=Date.now()-ie;!so.isProduction()&&Math.random()<.02&&fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"reports_refetch_ms",ts:new Date().toISOString(),scope:"monthly",ms:F,propertyId:n,year:e,month:s}]})}).catch(()=>{})}catch{}},[f,n,e,s]),f!=null&&f.openingBalanceCents;const w=(f==null?void 0:f.totalCashReceivedCents)||0,N=(f==null?void 0:f.totalBankReceivedCents)||0,j=(f==null?void 0:f.totalCashExpensesCents)||0,S=(f==null?void 0:f.totalBankExpensesCents)||0;f!=null&&f.closingBalanceCents;const E=w+N,T=j+S,C=(f==null?void 0:f.netCashFlowCents)||0,[I,D]=x.useState(!1),[A,R]=x.useState(!1),L=async()=>{D(!0);try{const de=localStorage.getItem("accessToken"),H=await fetch(`${xt.BASE_URL}/reports/v2/export-monthly-excel`,{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify({propertyId:n,year:e,month:s})});if(!H.ok)throw new Error(`HTTP error! status: ${H.status}`);const ie=await H.json(),{exportId:F,statusUrl:q}=ie;l({title:"Generating Excel",description:"Your export is being processed..."});const W=async()=>{const M=await fetch(`${xt.BASE_URL}${q}`,{headers:{Authorization:`Bearer ${de}`}});if(!M.ok)throw new Error("Failed to check export status");return M.json()};let he=0;const $=60;for(;he<$;){const M=await W();if(M.status==="ready"){const V=await fetch(`${xt.BASE_URL}/documents/exports/${F}/download`,{headers:{Authorization:`Bearer ${de}`}});if(!V.ok)throw new Error("Failed to download file");const G=await V.json(),B=atob(G.data),ce=new Uint8Array(B.length);for(let ke=0;ke<B.length;ke++)ce[ke]=B.charCodeAt(ke);const pe=new Blob([ce],{type:G.mimeType}),le=window.URL.createObjectURL(pe),ye=document.createElement("a");ye.href=le,ye.download=G.filename,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),window.URL.revokeObjectURL(le),l({title:"Excel Ready",description:"Monthly report Excel has been downloaded."});break}else if(M.status==="failed")throw new Error(M.errorMessage||"Export failed");await new Promise(V=>setTimeout(V,1e3)),he++}if(he>=$)throw new Error("Export timeout - please try again")}catch(de){console.error("Excel export error:",de),l({title:"Export Failed",description:de.message||"Failed to export Excel. Please try again.",variant:"destructive"})}finally{D(!1)}},z=async()=>{R(!0);try{const de=localStorage.getItem("accessToken"),H=await fetch(`${xt.BASE_URL}/reports/v2/export-monthly-pdf`,{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify({propertyId:n,year:e,month:s})});if(!H.ok)throw new Error(`HTTP error! status: ${H.status}`);const ie=await H.json(),{exportId:F,statusUrl:q}=ie;l({title:"Generating PDF",description:"Your export is being processed..."});const W=async()=>{const M=await fetch(`${xt.BASE_URL}${q}`,{headers:{Authorization:`Bearer ${de}`}});if(!M.ok)throw new Error("Failed to check export status");return M.json()};let he=0;const $=60;for(;he<$;){const M=await W();if(M.status==="ready"){const V=await fetch(`${xt.BASE_URL}/documents/exports/${F}/download`,{headers:{Authorization:`Bearer ${de}`}});if(!V.ok)throw new Error("Failed to download file");const G=await V.json(),B=atob(G.data),ce=new Uint8Array(B.length);for(let ke=0;ke<B.length;ke++)ce[ke]=B.charCodeAt(ke);const pe=new Blob([ce],{type:G.mimeType}),le=window.URL.createObjectURL(pe),ye=document.createElement("a");ye.href=le,ye.download=G.filename,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),window.URL.revokeObjectURL(le),l({title:"PDF Ready",description:"Monthly report PDF has been downloaded."});break}else if(M.status==="failed")throw new Error(M.errorMessage||"Export failed");await new Promise(V=>setTimeout(V,1e3)),he++}if(he>=$)throw new Error("Export timeout - please try again")}catch(de){console.error("PDF export error:",de),l({title:"Export Failed",description:de.message||"Failed to export PDF. Please try again.",variant:"destructive"})}finally{R(!1)}},K=`${["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]} ${e}`,J=new Date;return J.getFullYear()===e&&J.getMonth()+1,p?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading monthly report data..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your financial data"})]})})}):g?t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Kb,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Data"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:g.message}),t.jsxs(se,{onClick:()=>c.invalidateQueries({queryKey:["monthly-report"]}),className:"bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Monthly Cash Balance Report"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:K})]})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Property ID"}),t.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["#",n]})]})})]})}),t.jsx(Ee,{className:"pt-0",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsxs(se,{onClick:L,variant:"outline",disabled:I,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[I?t.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Rs,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:I?"Generating...":"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Excel"})]}),t.jsxs(se,{onClick:z,variant:"outline",disabled:A,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[A?t.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Ln,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:A?"Generating...":"Export PDF"}),t.jsx("span",{className:"sm:hidden",children:"PDF"})]})]})})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-blue-600"})}),"Monthly Cash Balance Spreadsheet",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Daily cash flow breakdown for ",K," with monthly totals",t.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:"Scroll to view all dates"}),v&&t.jsxs("span",{className:"ml-2 text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:["Last updated: ",new Date(v).toLocaleTimeString()]})]})]}),t.jsxs(Ee,{children:[t.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{className:"bg-gray-50 sticky top-0 z-20 shadow-sm",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-2 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-16",children:"Date"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Cash Rev"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Bank Rev"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Total Rev"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Cash Exp"}),t.jsx("th",{className:"text-right px-3 py-4 border-b-2 border-gray-300 font-semibold text-gray-900 text-sm bg-gray-50 sticky top-0 w-28",children:"Bank Exp"})]})}),t.jsx("tbody",{children:(()=>{const de=gk(e,s),H=new Map;return f!=null&&f.dailyReports&&f.dailyReports.forEach(ie=>{H.set(ie.date,ie)}),de.map(ie=>{const F=H.get(ie),q=mJ(ie);return t.jsxs("tr",{className:`${q?"bg-green-50 hover:bg-green-100 border-l-4 border-l-green-500":"bg-white hover:bg-gray-50"} transition-colors border-b border-gray-200`,children:[t.jsx("td",{className:"px-2 py-4 border-b font-medium text-sm w-16",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:q?"text-green-700 font-semibold":"text-gray-900",children:fJ(ie)}),q&&t.jsx("span",{className:"text-xs bg-green-600 text-white px-1 py-0.5 rounded-full font-medium",children:"Today"})]})}),t.jsx("td",{className:"px-3 py-4 border-b text-green-600 font-medium text-sm text-right w-28 tabular-nums",children:Kn((F==null?void 0:F.cashReceivedCents)||0)}),t.jsx("td",{className:"px-3 py-4 border-b text-blue-600 text-sm text-right w-28 tabular-nums",children:Kn((F==null?void 0:F.bankReceivedCents)||0)}),t.jsx("td",{className:"px-3 py-4 border-b text-gray-900 font-medium text-sm text-right w-28 tabular-nums",children:Kn(((F==null?void 0:F.cashReceivedCents)||0)+((F==null?void 0:F.bankReceivedCents)||0))}),t.jsx("td",{className:"px-3 py-4 border-b text-red-600 font-medium text-sm text-right w-28 tabular-nums",children:Kn((F==null?void 0:F.cashExpensesCents)||0)}),t.jsx("td",{className:"px-3 py-4 border-b text-orange-600 text-sm text-right w-28 tabular-nums",children:Kn((F==null?void 0:F.bankExpensesCents)||0)})]},ie)})})()}),t.jsx("tfoot",{className:"bg-gray-100 sticky bottom-0 z-20 shadow-lg",children:t.jsxs("tr",{className:"border-t-2 border-gray-400",children:[t.jsx("td",{className:"px-2 py-4 font-bold text-sm text-gray-900 bg-gray-100 sticky bottom-0 w-16",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:"text-gray-900 font-bold",children:[K," Total"]}),t.jsx("span",{className:"text-xs bg-blue-600 text-white px-1 py-0.5 rounded-full font-medium",children:"Monthly"})]})}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-green-600 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(w)}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-blue-600 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(N)}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-gray-900 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(E)}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-red-600 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(j)}),t.jsx("td",{className:"px-3 py-4 font-bold text-sm text-orange-600 bg-gray-100 sticky bottom-0 text-right w-28 tabular-nums",children:Kn(S)})]})})]})}),t.jsx("div",{className:"mt-2 text-center",children:t.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-gray-500",children:[t.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full animate-bounce"}),t.jsxs("span",{children:["Scroll to view all ",gk(e,s).length," days"]})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-green-600"})}),"Monthly Revenue"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:Kn(E)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Total revenue for ",K]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(ec,{className:"h-4 w-4 text-red-600"})}),"Monthly Expenses"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:Kn(T)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Total expenses for ",K]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-4 w-4 text-blue-600"})}),"Monthly Net Income"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:`text-2xl font-bold ${C>=0?"text-green-600":"text-red-600"}`,children:Kn(C)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Net income for ",K]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-4 w-4 text-purple-600"})}),"Monthly Profit Margin"]})}),t.jsxs(Ee,{children:[t.jsxs("div",{className:`text-2xl font-bold ${E>0?C>=0?"text-green-600":"text-red-600":"text-gray-600"}`,children:[E>0?(C/E*100).toFixed(1):"0.0","%"]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Based on monthly revenue and expenses"})]})]})]})]})}function gJ({onOpenDailyReportManager:e}){const{getAuthenticatedBackend:s,user:n}=$s(),{theme:a}=_a();da(),za();const[r,l]=x.useState(()=>new Date().getFullYear()),[c,u]=x.useState(()=>new Date().getMonth()+1),[m,f]=x.useState(null),[p,g]=x.useState([]),{data:v,isLoading:w,error:N}=Xt({queryKey:["properties",n==null?void 0:n.orgId],queryFn:async()=>{const j=s();console.log("Fetching properties for orgId:",n==null?void 0:n.orgId);const S=await j.properties.list({orgId:(n==null?void 0:n.orgId)||0});return console.log("Properties response:",S),S.properties||[]},enabled:!!(n!=null&&n.orgId)});return x.useEffect(()=>{v&&(g(v),v.length>0&&!m&&f(v[0].id))},[v,m]),w?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading properties..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your property data"})]})})}):N?t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Properties"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N.message}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):!m||p.length===0?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-blue-600"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Properties Available"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Please create a property first to view daily reports."})]})})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),"Monthly Spreadsheet",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"View and manage monthly cash balance reports for your properties"})]}),t.jsx(Ee,{className:"space-y-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start",children:[t.jsxs("div",{className:"space-y-2 flex-1 min-w-0",children:[t.jsx(ee,{htmlFor:"property-select",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:(m==null?void 0:m.toString())||"",onValueChange:j=>f(parseInt(j)),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select a property"})}),t.jsx(rt,{children:p.map(j=>t.jsx(me,{value:j.id.toString(),children:j.name},j.id))})]})]}),t.jsxs("div",{className:"flex gap-1 items-end",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"month-select",className:"text-sm font-medium text-gray-700",children:"Month"}),t.jsxs(st,{value:c.toString(),onValueChange:j=>u(parseInt(j)),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500 w-32",children:t.jsx(at,{placeholder:"Select month"})}),t.jsx(rt,{children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((j,S)=>t.jsx(me,{value:(S+1).toString(),children:j},S+1))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"year-select",className:"text-sm font-medium text-gray-700",children:"Year"}),t.jsxs(st,{value:r.toString(),onValueChange:j=>l(parseInt(j)),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500 w-24",children:t.jsx(at,{placeholder:"Select year"})}),t.jsx(rt,{children:Array.from({length:5},(j,S)=>{const E=new Date().getFullYear()-2+S;return t.jsx(me,{value:E.toString(),children:E},E)})})]})]})]})]})})]}),m&&t.jsx(pJ,{year:r,month:c,propertyId:m,orgId:(n==null?void 0:n.orgId)||0})]})}async function xk(e,s={}){const{maxRetries:n=3,baseDelay:a=1e3,maxDelay:r=8e3,timeout:l=3e4}=s;let c=null;for(let u=0;u<=n;u++)try{const m=new Promise((p,g)=>{setTimeout(()=>g(new Error("Request timeout")),l)}),f=await Promise.race([e(),m]);if(f==null)throw new Error("API returned null or undefined");return f}catch(m){if(c=m,xJ(m))throw m;if(u===n)break;const f=Math.min(a*Math.pow(2,u),r);console.warn(`API call failed (attempt ${u+1}/${n+1}), retrying in ${f}ms:`,m.message),await new Promise(p=>setTimeout(p,f))}throw new Error(`API call failed after ${n+1} attempts. Last error: ${c==null?void 0:c.message}`)}function xJ(e){var s,n;return!!((e==null?void 0:e.status)===401||(e==null?void 0:e.status)===403||(e==null?void 0:e.status)>=400&&(e==null?void 0:e.status)<500||(s=e==null?void 0:e.message)!=null&&s.includes("validation")||(n=e==null?void 0:e.message)!=null&&n.includes("invalid"))}function yk(e,s,n){try{const a=s.split(".");let r=e;for(const l of a){if(r==null)return n;r=r[l]}return r??n}catch(a){return console.warn(`Safe data access failed for path "${s}":`,a),n}}class yJ extends x.Component{constructor(n){super(n);Ve(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});Ve(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,a){console.error("ErrorBoundary caught an error:",n,a),this.logErrorToService(n,a),this.setState({error:n,errorInfo:a})}logErrorToService(n,a){console.error("Error Boundary - Full Error Details:",{error:n.message,stack:n.stack,componentStack:a.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href})}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2 text-red-900",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(is,{className:"h-6 w-6 text-red-600"})}),"Application Error"]}),t.jsx(Dt,{className:"text-sm text-red-700",children:"Something went wrong while loading the data"})]}),t.jsxs(Ee,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Error Details:"}),t.jsx("p",{className:"text-sm text-red-700 mb-2",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),!1]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs(se,{onClick:this.handleRetry,className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]}),t.jsx(se,{variant:"outline",onClick:this.handleReload,className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reload Page"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support with the error details above."})]})]}):this.props.children}}function vJ(){const e=new Date().getMonth()+1;return e>=4&&e<=6?"Q1":e>=7&&e<=9?"Q2":e>=10&&e<=12?"Q3":"Q4"}function bJ(e){switch(e){case"Q1":return[4,5,6];case"Q2":return[7,8,9];case"Q3":return[10,11,12];case"Q4":return[1,2,3];default:return[4,5,6]}}function wJ(e,s){const n=bJ(e),a=`${s}-${n[0].toString().padStart(2,"0")}-01`;let r=s;e==="Q4"&&(r=s);const l=new Date(r,n[2],0).toISOString().split("T")[0];return{startDate:a,endDate:l}}function jJ(){var S,E;const{getAuthenticatedBackend:e}=$s(),{theme:s}=_a(),[n,a]=x.useState(new Date().getFullYear().toString()),[r,l]=x.useState(vJ()),[c,u]=x.useState(""),{data:m}=Xt({queryKey:["properties"],queryFn:async()=>e().properties.list({})}),{data:f,isLoading:p}=Xt({queryKey:["quarterly-report",n,r,c],queryFn:async()=>{var H,ie;const T=e(),{startDate:C,endDate:I}=wJ(r,parseInt(n)),D=await xk(()=>T.reports.getDailyReports({startDate:C,endDate:I,propertyId:c&&c!=="all"?parseInt(c):void 0}),{maxRetries:3,baseDelay:1e3}),A=yk(D,"reports",[]);if(!Array.isArray(A)||A.length===0)return console.warn("No reports data available for the selected period"),{quarter:r,year:n,propertyId:c&&c!=="all"?parseInt(c):void 0,propertyName:c&&c!=="all"&&((H=m==null?void 0:m.properties.find(F=>F.id.toString()===c))==null?void 0:H.name),totalOpeningBalanceCents:0,totalCashReceivedCents:0,totalBankReceivedCents:0,totalReceivedCents:0,totalCashExpensesCents:0,totalBankExpensesCents:0,totalExpensesCents:0,totalClosingBalanceCents:0,netCashFlowCents:0,averageDailyBalanceCents:0,daysWithTransactions:0,totalDays:0};const R=A.reduce((F,q)=>F+((q==null?void 0:q.openingBalanceCents)||0),0),L=A.reduce((F,q)=>F+((q==null?void 0:q.cashReceivedCents)||0),0),z=A.reduce((F,q)=>F+((q==null?void 0:q.bankReceivedCents)||0),0),Q=A.reduce((F,q)=>F+((q==null?void 0:q.cashExpensesCents)||0),0),K=A.reduce((F,q)=>F+((q==null?void 0:q.bankExpensesCents)||0),0),J=A.reduce((F,q)=>F+((q==null?void 0:q.closingBalanceCents)||0),0);return{quarter:r,year:n,propertyId:c&&c!=="all"?parseInt(c):void 0,propertyName:c&&c!=="all"&&((ie=m==null?void 0:m.properties.find(F=>F.id.toString()===c))==null?void 0:ie.name),totalOpeningBalanceCents:R,totalCashReceivedCents:L,totalBankReceivedCents:z,totalReceivedCents:L+z,totalCashExpensesCents:Q,totalBankExpensesCents:K,totalExpensesCents:Q+K,totalClosingBalanceCents:J,netCashFlowCents:L+z-(Q+K),averageDailyBalanceCents:A.length>0?J/A.length:0,daysWithTransactions:A.filter(F=>{var q;return(((q=F==null?void 0:F.transactions)==null?void 0:q.length)||0)>0}).length,totalDays:A.length}},enabled:!!n&&!!r,refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnMount:!0});qe.useEffect(()=>{if(f)try{const T=window.__reportsLastInvalidateAt;if(!T)return;const C=`quarterly|${n}|${r}|${c||"all"}`,I=T[C];if(!I)return;const D=Date.now()-I;!so.isProduction()&&Math.random()<.02&&fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"reports_refetch_ms",ts:new Date().toISOString(),scope:"quarterly",ms:D,year:n,quarter:r,propertyId:c||"all"}]})}).catch(()=>{})}catch{}},[f,n,r,c]);const{data:g,isLoading:v}=Xt({queryKey:["yearly-report",n,c],queryFn:async()=>{var H,ie;const T=e(),C=`${n}-01-01`,I=`${n}-12-31`,D=await xk(()=>T.reports.getDailyReports({startDate:C,endDate:I,propertyId:c&&c!=="all"?parseInt(c):void 0}),{maxRetries:3,baseDelay:1e3}),A=yk(D,"reports",[]);if(!Array.isArray(A)||A.length===0)return console.warn("No reports data available for the selected year"),{year:n,propertyId:c?parseInt(c):void 0,propertyName:c&&((H=m==null?void 0:m.properties.find(F=>F.id.toString()===c))==null?void 0:H.name),totalOpeningBalanceCents:0,totalCashReceivedCents:0,totalBankReceivedCents:0,totalReceivedCents:0,totalCashExpensesCents:0,totalBankExpensesCents:0,totalExpensesCents:0,totalClosingBalanceCents:0,netCashFlowCents:0,averageMonthlyBalanceCents:0,monthsWithTransactions:0,totalMonths:12};const R=A.reduce((F,q)=>F+((q==null?void 0:q.openingBalanceCents)||0),0),L=A.reduce((F,q)=>F+((q==null?void 0:q.cashReceivedCents)||0),0),z=A.reduce((F,q)=>F+((q==null?void 0:q.bankReceivedCents)||0),0),Q=A.reduce((F,q)=>F+((q==null?void 0:q.cashExpensesCents)||0),0),K=A.reduce((F,q)=>F+((q==null?void 0:q.bankExpensesCents)||0),0),J=A.reduce((F,q)=>F+((q==null?void 0:q.closingBalanceCents)||0),0);return{year:n,propertyId:c?parseInt(c):void 0,propertyName:c&&((ie=m==null?void 0:m.properties.find(F=>F.id.toString()===c))==null?void 0:ie.name),totalOpeningBalanceCents:R,totalCashReceivedCents:L,totalBankReceivedCents:z,totalReceivedCents:L+z,totalCashExpensesCents:Q,totalBankExpensesCents:K,totalExpensesCents:Q+K,totalClosingBalanceCents:J,netCashFlowCents:L+z-(Q+K),averageMonthlyBalanceCents:A.length>0?J/12:0,monthsWithTransactions:new Set(A.map(F=>{var q;return((q=F==null?void 0:F.date)==null?void 0:q.substring(0,7))||""})).size,totalMonths:12}},enabled:!!n,refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnMount:!0});qe.useEffect(()=>{if(g)try{const T=window.__reportsLastInvalidateAt;if(!T)return;const C=`yearly|${n}|${c||"all"}`,I=T[C];if(!I)return;const D=Date.now()-I;!so.isProduction()&&Math.random()<.02&&fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"reports_refetch_ms",ts:new Date().toISOString(),scope:"yearly",ms:D,year:n,propertyId:c||"all"}]})}).catch(()=>{})}catch{}},[g,n,c]);const w=T=>gu(T,s.currency),N=()=>{if(!f)return;const C=[["Quarter","Year","Property","Total Opening Balance","Cash Received","Bank Received","Total Received","Cash Expenses","Bank Expenses","Total Expenses","Total Closing Balance","Net Cash Flow","Average Daily Balance","Days with Transactions","Total Days"].join(","),[f.quarter,f.year,f.propertyName||"All Properties",w(f.totalOpeningBalanceCents),w(f.totalCashReceivedCents),w(f.totalBankReceivedCents),w(f.totalReceivedCents),w(f.totalCashExpensesCents),w(f.totalBankExpensesCents),w(f.totalExpensesCents),w(f.totalClosingBalanceCents),w(f.netCashFlowCents),w(f.averageDailyBalanceCents),f.daysWithTransactions,f.totalDays].join(",")].join(`
`),I=new Blob([C],{type:"text/csv"}),D=window.URL.createObjectURL(I),A=document.createElement("a");A.href=D,A.download=`quarterly-report-${n}-${r}.csv`,A.click(),window.URL.revokeObjectURL(D)},j=()=>{if(!g)return;const C=[["Year","Property","Total Opening Balance","Cash Received","Bank Received","Total Received","Cash Expenses","Bank Expenses","Total Expenses","Total Closing Balance","Net Cash Flow","Average Monthly Balance","Months with Transactions","Total Months"].join(","),[g.year,g.propertyName||"All Properties",w(g.totalOpeningBalanceCents),w(g.totalCashReceivedCents),w(g.totalBankReceivedCents),w(g.totalReceivedCents),w(g.totalCashExpensesCents),w(g.totalBankExpensesCents),w(g.totalExpensesCents),w(g.totalClosingBalanceCents),w(g.netCashFlowCents),w(g.averageMonthlyBalanceCents),g.monthsWithTransactions,g.totalMonths].join(",")].join(`
`),I=new Blob([C],{type:"text/csv"}),D=window.URL.createObjectURL(I),A=document.createElement("a");A.href=D,A.download=`yearly-report-${n}.csv`,A.click(),window.URL.revokeObjectURL(D)};return t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-xl font-bold text-gray-900",children:"Quarterly & Yearly Reports"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Aggregated financial reports and analytics"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Live"})]})]})})}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),"Report Filters",t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Active"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Select year, quarter, and property for aggregated reports"})]}),t.jsx(Ee,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"property-filter",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:c,onValueChange:u,children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"All Properties"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Properties"}),m==null?void 0:m.properties.map(T=>t.jsx(me,{value:T.id.toString(),children:T.name},T.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"year-filter",className:"text-sm font-medium text-gray-700",children:"Year"}),t.jsx(ve,{id:"year-filter",type:"number",value:n,onChange:T=>a(T.target.value),min:"2020",max:"2030",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"quarter-filter",className:"text-sm font-medium text-gray-700",children:"Quarter"}),t.jsxs(st,{value:r,onValueChange:l,children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"Q1",children:"Q1 (Apr-Jun)"}),t.jsx(me,{value:"Q2",children:"Q2 (Jul-Sep)"}),t.jsx(me,{value:"Q3",children:"Q3 (Oct-Dec)"}),t.jsx(me,{value:"Q4",children:"Q4 (Jan-Mar)"})]})]})]})]})})]}),t.jsxs(jc,{defaultValue:"quarterly",theme:s,children:[t.jsxs(ll,{className:"grid-cols-2",theme:s,children:[t.jsxs(Vs,{value:"quarterly",theme:s,children:[t.jsx(qs,{className:"h-4 w-4 mr-2"}),"Quarterly Report"]}),t.jsxs(Vs,{value:"yearly",theme:s,children:[t.jsx(Va,{className:"h-4 w-4 mr-2"}),"Yearly Report"]})]}),t.jsxs("div",{className:"px-6 py-6",children:[t.jsx(ks,{value:"quarterly",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(qs,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900",children:["Quarterly Report - ",r," ",n]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Financial summary for ",r," ",n,c&&(m==null?void 0:m.properties.find(T=>T.id.toString()===c))&&` - ${(S=m.properties.find(T=>T.id.toString()===c))==null?void 0:S.name}`]})]})]}),f&&t.jsxs(se,{onClick:N,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ln,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsx(Ee,{children:p?t.jsx(Te,{className:"border-l-4 border-l-blue-500",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading quarterly report..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your financial data"})]})})}):f?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-green-600"})}),"Total Received"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:w(f.totalReceivedCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cash: ",w(f.totalCashReceivedCents)," | Bank: ",w(f.totalBankReceivedCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(ec,{className:"h-4 w-4 text-red-600"})}),"Total Expenses"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:w(f.totalExpensesCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cash: ",w(f.totalCashExpensesCents)," | Bank: ",w(f.totalBankExpensesCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-4 w-4 text-blue-600"})}),"Net Cash Flow"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:`text-2xl font-bold ${f.netCashFlowCents>=0?"text-green-600":"text-red-600"}`,children:w(f.netCashFlowCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Avg Daily: ",w(f.averageDailyBalanceCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(DC,{className:"h-4 w-4 text-purple-600"})}),"Activity"]})}),t.jsxs(Ee,{children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[f.daysWithTransactions,"/",f.totalDays]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Days with transactions"})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-orange-600"})}),"Detailed Breakdown"]})}),t.jsx(Ee,{children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("h4",{className:"font-semibold mb-3 text-green-600 flex items-center gap-2",children:[t.jsx(Nn,{className:"h-4 w-4"}),"Income Breakdown"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_n,{className:"h-4 w-4"}),"Cash Received"]}),t.jsx("span",{className:"font-medium text-green-600",children:w(f.totalCashReceivedCents)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(nl,{className:"h-4 w-4"}),"Bank Received"]}),t.jsx("span",{className:"font-medium text-blue-600",children:w(f.totalBankReceivedCents)})]}),t.jsxs("div",{className:"border-t border-green-300 pt-3 flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Received"}),t.jsx("span",{className:"text-green-600",children:w(f.totalReceivedCents)})]})]})]}),t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("h4",{className:"font-semibold mb-3 text-red-600 flex items-center gap-2",children:[t.jsx(ec,{className:"h-4 w-4"}),"Expense Breakdown"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_n,{className:"h-4 w-4"}),"Cash Expenses"]}),t.jsx("span",{className:"font-medium text-red-600",children:w(f.totalCashExpensesCents)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(nl,{className:"h-4 w-4"}),"Bank Expenses"]}),t.jsx("span",{className:"font-medium text-orange-600",children:w(f.totalBankExpensesCents)})]}),t.jsxs("div",{className:"border-t border-red-300 pt-3 flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Expenses"}),t.jsx("span",{className:"text-red-600",children:w(f.totalExpensesCents)})]})]})]})]})})]})]}):t.jsx(Te,{className:"",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qs,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No data available"}),t.jsx("p",{className:"text-gray-500 text-center",children:"No financial data found for this month"})]})})})]})}),t.jsx(ks,{value:"yearly",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900",children:["Yearly Report - ",n]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Financial summary for ",n,c&&(m==null?void 0:m.properties.find(T=>T.id.toString()===c))&&` - ${(E=m.properties.find(T=>T.id.toString()===c))==null?void 0:E.name}`]})]})]}),g&&t.jsxs(se,{onClick:j,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ln,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsx(Ee,{children:v?t.jsx(Te,{className:"border-l-4 border-l-blue-500",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading yearly report..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your financial data"})]})})}):g?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-green-600"})}),"Total Received"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:w(g.totalReceivedCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cash: ",w(g.totalCashReceivedCents)," | Bank: ",w(g.totalBankReceivedCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(ec,{className:"h-4 w-4 text-red-600"})}),"Total Expenses"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:w(g.totalExpensesCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cash: ",w(g.totalCashExpensesCents)," | Bank: ",w(g.totalBankExpensesCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-4 w-4 text-blue-600"})}),"Net Cash Flow"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:`text-2xl font-bold ${g.netCashFlowCents>=0?"text-green-600":"text-red-600"}`,children:w(g.netCashFlowCents)}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Avg Monthly: ",w(g.averageMonthlyBalanceCents)]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(DC,{className:"h-4 w-4 text-purple-600"})}),"Activity"]})}),t.jsxs(Ee,{children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[g.monthsWithTransactions,"/",g.totalMonths]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Months with transactions"})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-orange-600"})}),"Detailed Breakdown"]})}),t.jsx(Ee,{children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("h4",{className:"font-semibold mb-3 text-green-600 flex items-center gap-2",children:[t.jsx(Nn,{className:"h-4 w-4"}),"Income Breakdown"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_n,{className:"h-4 w-4"}),"Cash Received"]}),t.jsx("span",{className:"font-medium text-green-600",children:w(g.totalCashReceivedCents)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(nl,{className:"h-4 w-4"}),"Bank Received"]}),t.jsx("span",{className:"font-medium text-blue-600",children:w(g.totalBankReceivedCents)})]}),t.jsxs("div",{className:"border-t border-green-300 pt-3 flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Received"}),t.jsx("span",{className:"text-green-600",children:w(g.totalReceivedCents)})]})]})]}),t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("h4",{className:"font-semibold mb-3 text-red-600 flex items-center gap-2",children:[t.jsx(ec,{className:"h-4 w-4"}),"Expense Breakdown"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_n,{className:"h-4 w-4"}),"Cash Expenses"]}),t.jsx("span",{className:"font-medium text-red-600",children:w(g.totalCashExpensesCents)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[t.jsx(nl,{className:"h-4 w-4"}),"Bank Expenses"]}),t.jsx("span",{className:"font-medium text-orange-600",children:w(g.totalBankExpensesCents)})]}),t.jsxs("div",{className:"border-t border-red-300 pt-3 flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Expenses"}),t.jsx("span",{className:"text-red-600",children:w(g.totalExpensesCents)})]})]})]})]})})]})]}):t.jsx(Te,{className:"",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qs,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No data available"}),t.jsx("p",{className:"text-gray-500 text-center",children:"No financial data found for this year"})]})})})]})})]})]})]})})}function NJ(){return t.jsx(yJ,{children:t.jsx(jJ,{})})}function SJ({selectedPropertyId:e,selectedDate:s,onPropertyDateChange:n}){const{getAuthenticatedBackend:a,user:r}=$s(),{toast:l}=da(),c=za(),u=parseInt(e),m=(r==null?void 0:r.orgId)||0,{data:f,isLoading:p,error:g}=Xt({queryKey:["properties",r==null?void 0:r.orgId],queryFn:async()=>{const H=a();console.log("DailyReportManagerContent: Fetching properties for orgId:",r==null?void 0:r.orgId);const ie=await H.properties.list({orgId:(r==null?void 0:r.orgId)||0});return console.log("DailyReportManagerContent: Properties response:",ie),ie.properties||[]},enabled:!!(r!=null&&r.orgId)});x.useEffect(()=>{f&&f.length>0&&!e&&n(f[0].id,s)},[f,e,s,n]);const{data:v,isLoading:w,error:N}=Xt({queryKey:["daily-report",u,s,m],queryFn:async()=>{const H=a();console.log("DailyReportManagerContent: Fetching daily report from backend API for:",{propertyId:u,selectedDate:s,orgId:m});const ie=await H.reports.getDailyReport({propertyId:u,date:s});return console.log("DailyReportManagerContent: Daily report response:",ie),ie},enabled:!!u&&!!s&&!!m,staleTime:25e3,gcTime:3e5,refetchInterval:!1,refetchOnMount:!0});x.useEffect(()=>{if(v)try{const H=window.__reportsLastInvalidateAt;if(!H)return;const ie=`daily|${u}|${s}`,F=H[ie];if(!F)return;const q=Date.now()-F;!so.isProduction()&&Math.random()<.02&&fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"reports_refetch_ms",ts:new Date().toISOString(),scope:"daily",ms:q,propertyId:u,date:s}]})}).catch(()=>{})}catch{}},[v,u,s]);const j=(v==null?void 0:v.cashReceivedCents)||0,S=(v==null?void 0:v.bankReceivedCents)||0,E=(v==null?void 0:v.cashExpensesCents)||0,T=(v==null?void 0:v.bankExpensesCents)||0,C=(v==null?void 0:v.openingBalanceCents)||0,I=(v==null?void 0:v.closingBalanceCents)||0,D=C===0,A=C+j,R=H=>gu(H,"INR"),[L,z]=x.useState(!1),[Q,K]=x.useState(!1),J=async()=>{if(!u||!s){l({title:"Export Failed",description:"Please select a property and date first.",variant:"destructive"});return}z(!0);try{const H=localStorage.getItem("accessToken"),ie=await fetch(`${xt.BASE_URL}/reports/v2/export-daily-pdf`,{method:"POST",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"},body:JSON.stringify({propertyId:u,date:s})});if(!ie.ok)throw new Error(`HTTP error! status: ${ie.status}`);const F=await ie.json(),{exportId:q,statusUrl:W}=F;l({title:"Generating PDF",description:"Your export is being processed..."});const he=async()=>{const V=await fetch(`${xt.BASE_URL}${W}`,{headers:{Authorization:`Bearer ${H}`}});if(!V.ok)throw new Error("Failed to check export status");return V.json()};let $=0;const M=60;for(;$<M;){const V=await he();if(V.status==="ready"){const G=await fetch(`${xt.BASE_URL}/documents/exports/${q}/download`,{headers:{Authorization:`Bearer ${H}`}});if(!G.ok)throw new Error("Failed to download file");const B=await G.json(),ce=atob(B.data),pe=new Array(ce.length);for(let ge=0;ge<ce.length;ge++)pe[ge]=ce.charCodeAt(ge);const le=new Uint8Array(pe),ye=new Blob([le],{type:B.mimeType}),ke=window.URL.createObjectURL(ye),Y=document.createElement("a");Y.href=ke,Y.download=B.filename||`daily-report-${s}.pdf`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),window.URL.revokeObjectURL(ke),l({title:"PDF Ready",description:"Daily report PDF has been downloaded."});break}else if(V.status==="failed")throw new Error(V.errorMessage||"Export generation failed");await new Promise(G=>setTimeout(G,1e3)),$++}if($>=M)throw new Error("Export timed out")}catch(H){console.error("PDF export error:",H),l({title:"Export Failed",description:H.message||"Failed to export PDF. Please try again.",variant:"destructive"})}finally{z(!1)}},de=async()=>{if(!u||!s){l({title:"Export Failed",description:"Please select a property and date first.",variant:"destructive"});return}K(!0);try{const H=localStorage.getItem("accessToken"),ie=await fetch(`${xt.BASE_URL}/reports/export-daily-excel`,{method:"POST",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"},body:JSON.stringify({propertyId:u,date:s})});if(!ie.ok)throw new Error(`HTTP error! status: ${ie.status}`);const F=await ie.json(),q=document.createElement("a");q.href=`data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,${F.excelData}`,q.download=F.filename,document.body.appendChild(q),q.click(),document.body.removeChild(q),l({title:"Excel Exported",description:"Daily report Excel file has been downloaded successfully."})}catch(H){console.error("Excel export error:",H),l({title:"Export Failed",description:H.message||"Failed to export Excel. Please try again.",variant:"destructive"})}finally{K(!1)}};return p?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading properties..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your property data"})]})})}):g?t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Properties"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:g.message}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"border-red-300 text-red-700 hover:bg-red-50",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):!f||f.length===0?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-blue-600"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Properties Available"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Please create a property first to view daily reports."})]})})}):!u||!s?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ca,{className:"h-6 w-6 text-blue-600"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Property and Date"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Please select a property and date to view the daily report manager."})]})})}):t.jsxs("div",{className:"w-full space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-xl shadow-sm",children:t.jsx(Cn,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"Daily Cash Balance Report"}),t.jsx(Dt,{className:"text-sm lg:text-base text-gray-600 mt-1",children:new Date(s).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(se,{variant:"outline",size:"sm",onClick:J,disabled:!u||!s||L,className:"transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[L?t.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Cn,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:L?"Generating PDF...":"Export PDF"}),t.jsx("span",{className:"sm:hidden",children:"PDF"})]}),t.jsxs(se,{variant:"outline",size:"sm",onClick:de,disabled:!u||!s||Q,className:"transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[Q?t.jsx(mt,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Va,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:Q?"Generating Excel...":"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Excel"})]})]})]})}),t.jsx(Ee,{className:"pt-0",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"property-select",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:e||"",onValueChange:H=>n(parseInt(H),s),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select a property"})}),t.jsx(rt,{children:p?t.jsx(me,{value:"",disabled:!0,children:"Loading properties..."}):g?t.jsx(me,{value:"",disabled:!0,children:"Error loading properties"}):f&&f.length>0?f.map(H=>t.jsx(me,{value:H.id.toString(),children:H.name},H.id)):t.jsx(me,{value:"",disabled:!0,children:"No properties available"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"date-select",className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx(ve,{id:"date-select",type:"date",value:s,onChange:H=>n(parseInt(e||"0"),H.target.value),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})})]}),w?t.jsx(Te,{className:"border-l-4 border-l-blue-500",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading transaction data..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your financial data"})]})})}):N?t.jsx(Te,{className:"border-l-4 border-l-red-500",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Cn,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error loading transaction data"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N.message}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"border-red-300 text-red-700 hover:bg-red-50",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),"Opening Balance (Cash)",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live Data"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:D?"Day 1: Manually entered (default: 0.00)":"Day 2+: Auto-calculated from previous day's closing balance"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Current Value"}),t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:R(C)})]})]})}),t.jsx(Ee,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Auto-Calculated Value"}),t.jsx("div",{className:"text-xs text-blue-600 mt-1",children:D?"Based on all cash transactions before this date":"Equals previous day's closing balance"})]}),t.jsx("span",{className:"font-bold text-2xl text-blue-600",children:R(C)})]})}),(v==null?void 0:v.isOpeningBalanceAutoCalculated)&&t.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[t.jsx(nn,{className:"h-4 w-4"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Live Data:"})," Calculated from Finance transactions"]})]})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg text-green-600 flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),"Revenue",t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Live Data"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Real-time revenue from Finance transactions"})]}),t.jsxs(Ee,{className:"space-y-3",children:[t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Cash Revenue"}),t.jsx("span",{className:"font-bold text-xl text-green-600",children:R(j)})]}),t.jsx("div",{className:"text-xs text-green-600 mt-1",children:"From cash transactions"})]}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Bank Revenue"}),t.jsx("span",{className:"font-bold text-xl text-blue-600",children:R(S)})]}),t.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"From bank transactions"})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg text-red-600 flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),"Expenses",t.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium",children:"Live Data"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Real-time expenses from Finance transactions"})]}),t.jsxs(Ee,{className:"space-y-3",children:[t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Cash Expenses"}),t.jsx("span",{className:"font-bold text-xl text-red-600",children:R(E)})]}),t.jsx("div",{className:"text-xs text-red-600 mt-1",children:"From cash transactions"})]}),t.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Bank Expenses"}),t.jsx("span",{className:"font-bold text-xl text-orange-600",children:R(T)})]}),t.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"From bank transactions"})]})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse"}),"Live Calculations",t.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium",children:"Auto-calculated"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Real-time calculations based on current data"})]}),t.jsxs(Ee,{className:"space-y-4",children:[t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Total Cash"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Opening Balance + Cash Revenue"})]}),t.jsx("span",{className:"font-bold text-xl text-gray-800",children:R(A)})]})}),t.jsx("div",{className:"p-4 bg-purple-50 rounded-lg border-2 border-purple-200",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Closing Balance"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Total Cash - Cash Expenses"})]}),t.jsx("span",{className:"font-bold text-2xl text-purple-600",children:R(I)})]})}),t.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-700 font-medium",children:"Next Day Opening Balance"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Carries forward to tomorrow"})]}),t.jsx("span",{className:"font-bold text-xl text-blue-600",children:R(I)})]})})]})]}),t.jsx(Te,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:t.jsx(Ee,{className:"pt-6 pb-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Live Data"})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date().toLocaleTimeString()]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Source:"})," Finance Transactions"]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[t.jsxs(se,{variant:"outline",size:"sm",onClick:()=>c.invalidateQueries({queryKey:["daily-report"]}),disabled:w,className:"transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[t.jsx(mt,{className:`h-4 w-4 mr-2 ${w?"animate-spin":""}`}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),t.jsx("span",{className:"sm:hidden",children:"Refresh"})]}),t.jsxs(se,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",onClick:()=>{navigator.clipboard.writeText(`Closing Balance: ${R(I)}`),l({title:"Copied to Clipboard",description:"Closing balance copied to clipboard"})},children:[t.jsx(ZE,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Copy Balance"}),t.jsx("span",{className:"sm:hidden",children:"Copy"})]})]})]})})})]})]})}function CJ(){const{getAuthenticatedBackend:e,user:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=Er();da();const r=za(),l=.02,c=K=>{try{if(so.isProduction()||Math.random()>=l)return;fetch(`${xt.BASE_URL}/telemetry/client`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:l,events:K})}).catch(()=>{})}catch{}};x.useEffect(()=>{a("Reports & Analytics","Generate comprehensive reports and analyze performance")},[a]);const[u,m]=x.useState(ac()),[f,p]=x.useState(""),[g,v]=x.useState(ac()),[w,N]=x.useState(ac()),[j,S]=x.useState(!1),E=x.useRef(new Set),T=x.useRef(new Set),C=x.useRef(new Set),I=x.useRef(new Set),D=x.useRef(new Set),A=x.useRef(null),R=x.useRef({});x.useEffect(()=>{window.__reportsLastInvalidateAt=R.current},[]);const L=K=>{if(!K)return null;try{const J=new Date(K),de=J.toLocaleString("en-CA",{year:"numeric",timeZone:"Asia/Kolkata"}),H=J.toLocaleString("en-CA",{month:"2-digit",timeZone:"Asia/Kolkata"}),ie=J.toLocaleString("en-CA",{day:"2-digit",timeZone:"Asia/Kolkata"});return`${de}-${H}-${ie}`}catch{return null}},z=K=>{const[J,de]=K.split("-");return{year:parseInt(J,10),month:parseInt(de,10)}},Q=(K,J)=>J>=4&&J<=6?{q:"Q1",year:K}:J>=7&&J<=9?{q:"Q2",year:K}:J>=10&&J<=12?{q:"Q3",year:K}:{q:"Q4",year:K};return wr("finance",K=>{var q,W;if(!Os("REPORTS_REALTIME_V1",!0))return;const J=E.current,de=T.current,H=C.current,ie=I.current,F=D.current;for(const he of K){const $=he==null?void 0:he.eventId;if(!$||F.has($))continue;F.add($);const M=he==null?void 0:he.propertyId,V=((q=he==null?void 0:he.metadata)==null?void 0:q.transactionDate)||(he==null?void 0:he.timestamp),G=Array.isArray((W=he==null?void 0:he.metadata)==null?void 0:W.affectedReportDates)?he.metadata.affectedReportDates:[],B=new Set,ce=L(V);ce&&B.add(ce),G.forEach(pe=>{const le=L(pe);le&&B.add(le)});for(const pe of B){if(!M)continue;J.add(["daily",String(M),pe].join("|"));const{year:le,month:ye}=z(pe);de.add(["monthly",String(M),String(le),String(ye)].join("|"));const ke=Q(le,ye);H.add(["quarterly",String(ke.year),ke.q,String(M)].join("|")),ie.add(["yearly",String(le),String(M)].join("|"))}}A.current||(A.current=setTimeout(()=>{const he=R.current;J.forEach($=>{const[M,V,G]=$.split("|");he[`daily|${V}|${G}`]=Date.now(),r.invalidateQueries({queryKey:["daily-report",parseInt(V,10),G],exact:!1})}),de.forEach($=>{const[M,V,G,B]=$.split("|");he[`monthly|${V}|${G}-${B}`]=Date.now(),r.invalidateQueries({queryKey:["monthly-report",parseInt(V,10),parseInt(G,10),parseInt(B,10)],exact:!1})}),H.forEach($=>{const[M,V,G,B]=$.split("|");he[`quarterly|${V}|${G}|${B}`]=Date.now(),r.invalidateQueries({queryKey:["quarterly-report",V,G,B],exact:!1})}),ie.forEach($=>{const[M,V,G]=$.split("|");he[`yearly|${V}|${G}`]=Date.now(),r.invalidateQueries({queryKey:["yearly-report",V,G],exact:!1})}),c([{type:"reports_realtime_invalidation",ts:new Date().toISOString()}]),J.clear(),de.clear(),H.clear(),ie.clear(),A.current=null},1e3))},!0),x.useEffect(()=>()=>{A.current&&clearTimeout(A.current)},[]),x.useEffect(()=>{const K=f?Number(f):null;try{hu(K)}catch{}},[f]),t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsxs("div",{className:"px-6 pb-6 sm:py-6 lg:bg-[#F5F7FA]",children:[t.jsxs("div",{className:"hidden sm:flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:t.jsx(Va,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive reports and insights"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Live Data"})]})]}),t.jsxs(jc,{defaultValue:"daily-manager",theme:n,children:[t.jsx("div",{className:"sticky top-16 z-30 bg-white lg:bg-[#F5F7FA] border-b border-gray-200 -mx-6 px-4 sm:px-6 py-3 shadow-sm lg:shadow-none",children:t.jsx("div",{className:"overflow-x-auto no-scrollbar",children:t.jsxs(ll,{className:"grid w-full grid-cols-3 min-w-max bg-gray-100",theme:n,children:[t.jsxs(Vs,{value:"daily-manager",theme:n,children:[t.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Daily Report Manager"]}),t.jsxs(Vs,{value:"daily-spreadsheet",theme:n,children:[t.jsx(Va,{className:"h-4 w-4 mr-2"}),"Monthly Spreadsheet"]}),t.jsxs(Vs,{value:"monthly-yearly",theme:n,children:[t.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Quarterly & Yearly"]})]})})}),t.jsx("div",{className:"py-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx(ks,{value:"daily-manager",className:"space-y-6 mt-0",children:t.jsx(SJ,{selectedPropertyId:f,selectedDate:u,onPropertyDateChange:(K,J)=>{p(K.toString()),m(J)}})}),t.jsx(ks,{value:"daily-spreadsheet",className:"space-y-6 mt-0",children:t.jsx(gJ,{onOpenDailyReportManager:(K,J)=>{p(K.toString()),m(J)}})}),t.jsx(ks,{value:"monthly-yearly",className:"space-y-6 mt-0",children:t.jsx(NJ,{})})]})})]})]})})}function TJ(){const{getAuthenticatedBackend:e,user:s}=$s(),{theme:n}=_a(),{setPageTitle:a}=Er(),{toast:r}=da(),l=za();x.useEffect(()=>{a("Staff Management","Manage staff members, schedules, and leave requests")},[a]);const[c,u]=x.useState(!1),[m,f]=x.useState(!1),[p,g]=x.useState(!1),[v,w]=x.useState(!1),[N,j]=x.useState(!1),[S,E]=x.useState(!1),[T,C]=x.useState(!1),[I,D]=x.useState(null),[A,R]=x.useState("staff"),[L,z]=x.useState(""),[Q,K]=x.useState("all"),[J,de]=x.useState("all"),[H,ie]=x.useState(window.innerWidth<768),[F,q]=x.useState({userId:"",propertyId:"none",department:"",hourlyRateCents:"",hireDate:"",notes:""}),[W,he]=x.useState({id:"",propertyId:"none",department:"",hourlyRateCents:"",performanceRating:"",hireDate:"",notes:"",status:"active",salaryType:"hourly",baseSalaryCents:"",overtimeRateCents:"",attendanceTrackingEnabled:!0,maxOvertimeHours:"",leaveBalance:""}),[$,M]=x.useState({staffId:"",propertyId:"",shiftDate:"",startTime:"",endTime:"",breakMinutes:"30",notes:""}),[V,G]=x.useState({leaveType:"vacation",startDate:"",endDate:"",reason:""}),[B,ce]=x.useState({staffId:"",checkInTime:"",checkOutTime:"",notes:""}),[pe,le]=x.useState({staffId:"",baseSalaryCents:"",overtimeRateCents:"",bonusCents:"",effectiveDate:""}),[ye,ke]=x.useState({reportType:"attendance",startDate:"",endDate:"",format:"csv",includeDetails:!0}),{data:Y,isLoading:ge}=Xt({queryKey:["staff"],queryFn:async()=>e().staff.list({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:je,isLoading:Oe}=Xt({queryKey:["schedules"],queryFn:async()=>e().staff.listSchedules({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:_e,isLoading:Pe}=Xt({queryKey:["leave-requests"],queryFn:async()=>e().staff.listLeaveRequests({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:ze}=Xt({queryKey:["users"],queryFn:async()=>e().users.list({}),enabled:(s==null?void 0:s.role)==="ADMIN",refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:Ue}=Xt({queryKey:["properties"],queryFn:async()=>e().properties.list({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:He,isLoading:it}=Xt({queryKey:["attendance"],queryFn:async()=>e().staff.listAttendance({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:Tt,isLoading:yt}=Xt({queryKey:["salary-components"],queryFn:async()=>e().staff.salaryComponents({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:xs,isLoading:va}=Xt({queryKey:["payslips"],queryFn:async()=>e().staff.payslips({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:Fe,isLoading:lt}=Xt({queryKey:["staff-statistics"],queryFn:async()=>e().staff.statistics({}),refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),[Zt,as]=x.useState(null),es=qe.useRef(0),ae=qe.useRef(null),Ye=qe.useRef(new Set);x.useEffect(()=>{try{window.__staffSelectedPropertyId="all"}catch{}if(!Os("STAFF_REALTIME_V1",!0))return;const xe=Be=>{var Ht;const kt=!!((Ht=Be==null?void 0:Be.detail)!=null&&Ht.isLive);as(kt)};return window.addEventListener("staff-stream-health",xe),()=>{window.removeEventListener("staff-stream-health",xe),ae.current&&clearTimeout(ae.current)}},[l]),wr("staff",_=>{if(!Array.isArray(_)||_.length===0)return;const xe=Ye.current;for(const Be of _){const kt=String((Be==null?void 0:Be.eventType)||"");kt.startsWith("staff_")&&xe.add("staff"),kt.startsWith("schedule_")&&xe.add("schedules"),kt.startsWith("leave_")&&xe.add("leave-requests"),kt.startsWith("attendance_")&&xe.add("attendance"),kt.startsWith("salary_component_")&&xe.add("salary-components"),kt.startsWith("payslip_")&&xe.add("payslips"),xe.add("staff-statistics")}ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{const Be=Array.from(xe);xe.clear();for(const kt of Be)l.invalidateQueries({queryKey:[kt]});es.current=Date.now()},Math.floor(500+Math.random()*500))},Os("STAFF_REALTIME_V1",!0)),x.useEffect(()=>{try{hu(null)}catch{}},[]);const vt=vs({mutationFn:async _=>e().staff.create({..._,userId:parseInt(_.userId),propertyId:_.propertyId==="none"?void 0:parseInt(_.propertyId),hourlyRateCents:_.hourlyRateCents?parseInt(_.hourlyRateCents):0,hireDate:_.hireDate?new Date(_.hireDate):void 0}),onMutate:async _=>{await l.cancelQueries({queryKey:["staff"]});const xe=l.getQueryData(["staff"]);return l.setQueryData(["staff"],Be=>{if(!(Be!=null&&Be.staff))return Be;const kt={id:Date.now(),..._,userId:parseInt(_.userId),propertyId:_.propertyId==="none"?void 0:parseInt(_.propertyId),hourlyRateCents:_.hourlyRateCents?parseInt(_.hourlyRateCents):0,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{...Be,staff:[kt,...Be.staff]}}),{previousStaff:xe}},onSuccess:()=>{l.invalidateQueries({queryKey:["staff"]}),u(!1),q({userId:"",propertyId:"none",department:"",hourlyRateCents:"",hireDate:"",notes:""}),r({title:"Staff member added",description:"The staff member has been created successfully."})},onError:(_,xe,Be)=>{Be!=null&&Be.previousStaff&&l.setQueryData(["staff"],Be.previousStaff),r({variant:"destructive",title:"Failed to add staff member",description:_.message||"Please try again."})}}),St=vs({mutationFn:async _=>e().staff.createSchedule({..._,staffId:parseInt(_.staffId),propertyId:parseInt(_.propertyId),shiftDate:new Date(_.shiftDate),breakMinutes:parseInt(_.breakMinutes)}),onSuccess:()=>{l.invalidateQueries({queryKey:["schedules"]}),f(!1),M({staffId:"",propertyId:"",shiftDate:"",startTime:"",endTime:"",breakMinutes:"30",notes:""}),r({title:"Schedule created",description:"The staff schedule has been created successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to create schedule",description:_.message||"Please try again."})}}),cs=vs({mutationFn:async _=>e().staff.requestLeave({..._,startDate:new Date(_.startDate),endDate:new Date(_.endDate)}),onSuccess:()=>{l.invalidateQueries({queryKey:["leave-requests"]}),g(!1),G({leaveType:"vacation",startDate:"",endDate:"",reason:""}),r({title:"Leave request submitted",description:"Your leave request has been submitted for approval."})},onError:_=>{r({variant:"destructive",title:"Failed to submit leave request",description:_.message||"Please try again."})}}),ys=vs({mutationFn:async({id:_,approved:xe})=>{console.log("=== APPROVE LEAVE MUTATION ==="),console.log("Leave ID:",_,"Approved:",xe);const kt=await e().staff.approveLeave({id:_,approved:xe});return console.log("Approve leave result:",kt),kt},onSuccess:()=>{console.log("Leave approval successful"),l.invalidateQueries({queryKey:["leave-requests"]}),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]}),l.invalidateQueries({queryKey:["pending-approvals"]}),l.refetchQueries({queryKey:["leave-requests"]}),l.refetchQueries({queryKey:["pending-approvals"]}),l.refetchQueries({queryKey:["dashboard"]}),r({title:"Leave request updated",description:"The leave request has been processed."})},onError:_=>{console.error("Approve leave error:",_),r({variant:"destructive",title:"Failed to process leave request",description:_.message||"Please try again."})}}),Ks=vs({mutationFn:async _=>e().staff.checkIn(parseInt(_.staffId),{staffId:parseInt(_.staffId),notes:_.notes}),onSuccess:()=>{l.invalidateQueries({queryKey:["attendance"]}),w(!1),ce({staffId:"",checkInTime:"",checkOutTime:"",notes:""}),r({title:"Check-in successful",description:"You have been checked in successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to check in",description:_.message||"Please try again."})}}),bt=vs({mutationFn:async _=>e().staff.checkOut(parseInt(_.staffId),{staffId:parseInt(_.staffId),notes:_.notes}),onSuccess:()=>{l.invalidateQueries({queryKey:["attendance"]}),w(!1),ce({staffId:"",checkInTime:"",checkOutTime:"",notes:""}),r({title:"Check-out successful",description:"You have been checked out successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to check out",description:_.message||"Please try again."})}}),on=vs({mutationFn:async _=>e().staff.salaryComponents({staffId:parseInt(_.staffId),componentType:"base_salary",amountCents:parseInt(_.baseSalaryCents),effectiveDate:new Date(_.effectiveDate)}),onSuccess:()=>{l.invalidateQueries({queryKey:["salary-components"]}),j(!1),le({staffId:"",baseSalaryCents:"",overtimeRateCents:"",bonusCents:"",effectiveDate:""}),r({title:"Salary component created",description:"The salary component has been created successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to create salary component",description:_.message||"Please try again."})}}),La=vs({mutationFn:async _=>e().staff.exportAttendance({startDate:new Date(_.startDate),endDate:new Date(_.endDate),format:_.format}),onSuccess:_=>{E(!1),ke({reportType:"attendance",startDate:"",endDate:"",format:"csv",includeDetails:!0}),r({title:"Report generated",description:"Your report has been generated successfully."})},onError:_=>{r({variant:"destructive",title:"Failed to generate report",description:_.message||"Please try again."})}}),ln=vs({mutationFn:async _=>e().staff.update({id:parseInt(_.id),propertyId:_.propertyId,department:_.department,hourlyRateCents:_.hourlyRateCents,performanceRating:_.performanceRating,hireDate:_.hireDate,notes:_.notes,status:_.status,salaryType:_.salaryType,baseSalaryCents:_.baseSalaryCents,overtimeRateCents:_.overtimeRateCents,attendanceTrackingEnabled:_.attendanceTrackingEnabled,maxOvertimeHours:_.maxOvertimeHours,leaveBalance:_.leaveBalance}),onMutate:async _=>{await l.cancelQueries({queryKey:["staff"]});const xe=l.getQueryData(["staff"]);return l.setQueryData(["staff"],Be=>Be!=null&&Be.staff?{...Be,staff:Be.staff.map(kt=>kt.id===parseInt(_.id)?{...kt,..._}:kt)}:Be),{previousStaff:xe}},onSuccess:()=>{l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),C(!1),D(null),he({id:"",propertyId:"none",department:"",hourlyRateCents:"",performanceRating:"",hireDate:"",notes:"",status:"active",salaryType:"hourly",baseSalaryCents:"",overtimeRateCents:"",attendanceTrackingEnabled:!0,maxOvertimeHours:"",leaveBalance:""}),r({title:"Staff member updated",description:"The staff member has been updated successfully."})},onError:(_,xe,Be)=>{Be!=null&&Be.previousStaff&&l.setQueryData(["staff"],Be.previousStaff),r({variant:"destructive",title:"Failed to update staff member",description:_.message||"Please try again."})}}),jt=vs({mutationFn:async _=>e().staff.deleteStaff(_),onMutate:async _=>{await l.cancelQueries({queryKey:["staff"]});const xe=l.getQueryData(["staff"]);return l.setQueryData(["staff"],Be=>Be!=null&&Be.staff?{...Be,staff:Be.staff.filter(kt=>kt.id!==_)}:Be),{previousStaff:xe}},onSuccess:_=>{l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),r({title:"Staff member deleted",description:_.message||"The staff member has been deleted successfully."})},onError:(_,xe,Be)=>{Be!=null&&Be.previousStaff&&l.setQueryData(["staff"],Be.previousStaff),r({variant:"destructive",title:"Failed to delete staff member",description:_.message||"Please try again."})}}),Ft=_=>{switch(_){case"frontdesk":return"bg-blue-100 text-blue-800";case"housekeeping":return"bg-green-100 text-green-800";case"maintenance":return"bg-orange-100 text-orange-800";case"fnb":return"bg-purple-100 text-purple-800";case"admin":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=_=>{switch(_){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"scheduled":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},te=_=>{switch(_){case"vacation":return"bg-blue-100 text-blue-800";case"sick":return"bg-red-100 text-red-800";case"personal":return"bg-purple-100 text-purple-800";case"emergency":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},ue=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_/100),Se=_=>{D(_),he({id:_.id.toString(),propertyId:_.propertyId?_.propertyId.toString():"none",department:_.department||"",hourlyRateCents:_.hourlyRateCents?_.hourlyRateCents.toString():"",performanceRating:_.performanceRating?_.performanceRating.toString():"",hireDate:_.hireDate?new Date(_.hireDate).toISOString().split("T")[0]:"",notes:_.notes||"",status:_.status||"active",salaryType:_.salaryType||"hourly",baseSalaryCents:_.baseSalaryCents?_.baseSalaryCents.toString():"",overtimeRateCents:_.overtimeRateCents?_.overtimeRateCents.toString():"",attendanceTrackingEnabled:_.attendanceTrackingEnabled!==!1,maxOvertimeHours:_.maxOvertimeHours?_.maxOvertimeHours.toString():"",leaveBalance:_.leaveBalance?_.leaveBalance.toString():""}),C(!0)},dt=_=>{window.confirm(`Are you sure you want to delete ${_.userName}? This action cannot be undone and will remove all related data including attendance, schedules, and salary records.`)&&jt.mutate(_.id)};return t.jsxs("div",{className:"w-full min-h-screen bg-gray-50",children:[t.jsxs("div",{className:"px-6 pb-6 sm:py-6 space-y-6",children:[t.jsx(Te,{className:"hidden sm:block border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:t.jsx(Ee,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Eh,{className:"h-5 w-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Staff Management"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage staff members, schedules, and leave requests"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"Live"}),(ge||Oe||Pe)&&t.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[t.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),t.jsx("span",{className:"text-xs",children:"Updating..."})]})]})]})})}),t.jsxs(jc,{defaultValue:"staff",theme:n,children:[t.jsx("div",{className:"sticky top-16 z-30 bg-white border-b border-gray-200 -mx-6 px-4 sm:px-6 py-3 shadow-sm",children:t.jsx("div",{className:"overflow-x-auto no-scrollbar",children:t.jsxs(ll,{className:"grid w-full grid-cols-5 min-w-max bg-gray-100",theme:n,children:[t.jsxs(Vs,{value:"staff",theme:n,children:[t.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Staff"]}),t.jsxs(Vs,{value:"schedules",theme:n,children:[t.jsx(q6,{className:"h-4 w-4 mr-2"}),"Schedules"]}),t.jsxs(Vs,{value:"attendance",theme:n,children:[t.jsx(h_,{className:"h-4 w-4 mr-2"}),"Attendance"]}),t.jsxs(Vs,{value:"salary",theme:n,children:[t.jsx(_n,{className:"h-4 w-4 mr-2"}),"Salary"]}),t.jsxs(Vs,{value:"reports",theme:n,children:[t.jsx(Va,{className:"h-4 w-4 mr-2"}),"Reports"]})]})})}),t.jsxs("div",{className:"py-6",children:[t.jsx(ks,{value:"staff",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Wi,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Staff Members"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage your team members and their information"})]})]}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Add Staff Member"}),t.jsx("span",{className:"sm:hidden",children:"Add"})]})]})}),t.jsx(Ee,{children:ge?t.jsx(Te,{className:"",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Wi,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading staff members..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your team data"})]})})}):(Y==null?void 0:Y.staff.length)===0?t.jsx(Te,{className:"",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Eh,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff members"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Start by adding your first staff member"}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Add First Staff Member"]})]})}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:Y==null?void 0:Y.staff.map(_=>t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-all duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(Eh,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:_.userName}),t.jsx(Dt,{className:"text-sm text-gray-600",children:_.userEmail})]})]}),t.jsx(Lt,{className:`${Ft(_.department)} flex-shrink-0`,children:_.department})]})}),t.jsxs(Ee,{className:"space-y-3",children:[_.propertyName&&t.jsxs("div",{className:"flex items-center text-sm",children:[t.jsx(ca,{className:"h-4 w-4 mr-2 text-gray-500 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:_.propertyName})]}),_.hourlyRateCents>0&&t.jsxs("div",{className:"flex items-center text-sm",children:[t.jsx(_n,{className:"h-4 w-4 mr-2 text-green-500 flex-shrink-0"}),t.jsxs("span",{className:"font-medium",children:["Rate: ",ue(_.hourlyRateCents),"/hr"]})]}),_.performanceRating>0&&t.jsxs("div",{className:"flex items-center text-sm",children:[t.jsx(eA,{className:"h-4 w-4 mr-2 text-yellow-500 flex-shrink-0"}),t.jsxs("span",{children:[_.performanceRating.toFixed(1),"/5.0"]})]}),_.hireDate&&t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(qs,{className:"h-4 w-4 mr-2 flex-shrink-0"}),t.jsxs("span",{children:["Hired ",new Date(_.hireDate).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx(Lt,{variant:_.status==="active"?"default":"secondary",className:"border-green-500 text-green-700",children:_.status}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs("div",{className:"flex gap-2",children:[t.jsx(se,{size:"sm",variant:"outline",onClick:()=>Se(_),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:t.jsx(jr,{className:"h-4 w-4"})}),t.jsx(se,{size:"sm",variant:"outline",onClick:()=>dt(_),disabled:jt.isPending,className:"transition-all duration-200 hover:scale-105 hover:shadow-md text-red-600 hover:text-red-700 hover:bg-red-50",children:jt.isPending?t.jsx(mt,{className:"h-4 w-4 animate-spin"}):t.jsx(jn,{className:"h-4 w-4"})})]})]})]})]},_.id))})})]})}),t.jsx(ks,{value:"schedules",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(qs,{className:"h-5 w-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Staff Schedules"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"View and manage staff work schedules"})]})]}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>f(!0),className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Create Schedule"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})]})}),t.jsx(Ee,{children:Oe?t.jsx(Te,{className:"",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qs,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading schedules..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your schedule data"})]})})}):(je==null?void 0:je.schedules.length)===0?t.jsx(Te,{className:"",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qs,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No schedules"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Start by creating staff schedules"}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>f(!0),className:"bg-green-600 hover:bg-green-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Create First Schedule"]})]})}):t.jsx("div",{className:"space-y-4",children:je==null?void 0:je.schedules.map(_=>t.jsx(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-all duration-200",children:t.jsx(Ee,{className:"p-4",children:t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx("h4",{className:"font-medium truncate",children:_.staffName}),t.jsx(Lt,{className:`${k(_.status)} flex-shrink-0`,children:_.status})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-1 truncate",children:_.propertyName}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),new Date(_.shiftDate).toLocaleDateString()]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1 flex-shrink-0"}),_.startTime," - ",_.endTime]}),_.breakMinutes>0&&t.jsxs("span",{children:["Break: ",_.breakMinutes,"min"]})]}),_.notes&&t.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:_.notes})]})})})},_.id))})})]})}),t.jsx(ks,{value:"leave",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(hh,{className:"h-5 w-5 text-orange-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Leave Requests"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage staff leave requests and approvals"})]})]}),t.jsxs(se,{onClick:()=>g(!0),className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Request Leave"}),t.jsx("span",{className:"sm:hidden",children:"Request"})]})]})}),t.jsx(Ee,{children:Pe?t.jsx(Te,{className:"",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(hh,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading leave requests..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your leave data"})]})})}):(_e==null?void 0:_e.leaveRequests.length)===0?t.jsx(Te,{className:"",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(hh,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No leave requests"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"No leave requests have been submitted yet"}),t.jsxs(se,{onClick:()=>g(!0),className:"bg-orange-600 hover:bg-orange-700",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Request Leave"]})]})}):t.jsx("div",{className:"space-y-4",children:_e==null?void 0:_e.leaveRequests.map(_=>t.jsx(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-all duration-200",children:t.jsx(Ee,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx("h4",{className:"font-medium truncate",children:_.staffName}),t.jsx(Lt,{className:`${te(_.leaveType)} flex-shrink-0`,children:_.leaveType}),t.jsx(Lt,{className:`${k(_.status)} flex-shrink-0`,children:_.status})]}),t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500 mb-1",children:t.jsxs("span",{className:"flex items-center",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),new Date(_.startDate).toLocaleDateString()," - ",new Date(_.endDate).toLocaleDateString()]})}),_.reason&&t.jsx("p",{className:"text-sm text-gray-600 mb-1 line-clamp-2",children:_.reason}),_.approvedByName&&t.jsxs("p",{className:"text-xs text-gray-500",children:[_.status," by ",_.approvedByName," on ",new Date(_.approvedAt).toLocaleDateString()]})]}),(s==null?void 0:s.role)==="ADMIN"&&_.status==="pending"&&t.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[t.jsxs(se,{size:"sm",onClick:()=>ys.mutate({id:_.id,approved:!0}),disabled:ys.isPending,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ca,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"hidden sm:inline",children:"Approve"})]}),t.jsxs(se,{size:"sm",variant:"outline",onClick:()=>ys.mutate({id:_.id,approved:!1}),disabled:ys.isPending,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(mg,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"hidden sm:inline",children:"Reject"})]})]})]})})},_.id))})})]})}),t.jsx(ks,{value:"attendance",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(qi,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Attendance Tracking"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Track staff attendance and working hours"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{onClick:()=>w(!0),className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(qi,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Check In/Out"}),t.jsx("span",{className:"sm:hidden",children:"Check In"})]}),t.jsxs(se,{variant:"outline",onClick:()=>La.mutate({reportType:"attendance",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],format:"csv"}),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ln,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Export"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]})}),t.jsx(Ee,{children:it?t.jsx(Te,{className:"",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qi,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading attendance..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your attendance data"})]})})}):(He==null?void 0:He.attendance.length)===0?t.jsx(Te,{className:"",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(qi,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No attendance records"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"No attendance records found for the selected period"}),t.jsxs(se,{onClick:()=>w(!0),className:"bg-purple-600 hover:bg-purple-700",children:[t.jsx(qi,{className:"mr-2 h-4 w-4"}),"Check In"]})]})}):t.jsx("div",{className:"space-y-4",children:He==null?void 0:He.attendance.map(_=>t.jsx(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-all duration-200",children:t.jsx(Ee,{className:"p-4",children:t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx("h4",{className:"font-medium truncate",children:_.staffName}),t.jsx(Lt,{className:`${k(_.status)} flex-shrink-0`,children:_.status})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),new Date(_.attendanceDate).toLocaleDateString()]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Zn,{className:"h-3 w-3 mr-1 flex-shrink-0"}),_.checkInTime," - ",_.checkOutTime||"Not checked out"]}),_.totalHours>0&&t.jsxs("span",{children:["Hours: ",_.totalHours.toFixed(1)]})]}),_.notes&&t.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:_.notes})]})})})},_.id))})})]})}),t.jsx(ks,{value:"salary",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(_n,{className:"h-5 w-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Salary Management"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage staff salary components and payslips"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>j(!0),className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(_n,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Add Salary Component"}),t.jsx("span",{className:"sm:hidden",children:"Add Component"})]}),t.jsxs(se,{variant:"outline",onClick:()=>La.mutate({reportType:"salary",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],format:"csv"}),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Ln,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Export"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]})}),t.jsx(Ee,{children:yt?t.jsx(Te,{className:"",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(_n,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading salary data..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your salary information"})]})})}):(Tt==null?void 0:Tt.salaryComponents.length)===0?t.jsx(Te,{className:"",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(_n,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No salary components"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:"No salary components have been configured yet"}),(s==null?void 0:s.role)==="ADMIN"&&t.jsxs(se,{onClick:()=>j(!0),className:"bg-green-600 hover:bg-green-700",children:[t.jsx(_n,{className:"mr-2 h-4 w-4"}),"Add First Salary Component"]})]})}):t.jsx("div",{className:"space-y-4",children:Tt==null?void 0:Tt.salaryComponents.map(_=>t.jsx(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-all duration-200",children:t.jsx(Ee,{className:"p-4",children:t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx("h4",{className:"font-medium truncate",children:_.staffName}),t.jsx(Lt,{className:"bg-green-100 text-green-800 flex-shrink-0",children:_.componentType})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500",children:[t.jsxs("span",{className:"font-medium",children:["Amount: ",ue(_.amountCents)]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),"Effective: ",new Date(_.effectiveDate).toLocaleDateString()]})]}),_.notes&&t.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:_.notes})]})})})},_.id))})})]})}),t.jsx(ks,{value:"reports",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900",children:"Reports & Analytics"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Generate reports and view staff analytics"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs(se,{onClick:()=>E(!0),className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(Rs,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Generate Report"}),t.jsx("span",{className:"sm:hidden",children:"Generate"})]}),t.jsxs(se,{variant:"outline",onClick:()=>l.refetchQueries({queryKey:["staff-statistics"]}),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),t.jsx("span",{className:"sm:hidden",children:"Refresh"})]})]})]})}),t.jsx(Ee,{children:lt?t.jsx(Te,{className:"",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600 animate-pulse"})}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading analytics..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your staff statistics"})]})})}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:Fe&&t.jsxs(t.Fragment,{children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Wi,{className:"h-4 w-4 text-blue-600"})}),"Total Staff"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Fe.overview.totalStaff}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[Fe.overview.activeStaff," active"]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-green-600"})}),"Performance"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:Fe.overview.averagePerformance.toFixed(1)}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Average rating"})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(_n,{className:"h-4 w-4 text-orange-600"})}),"Total Payroll"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:ue(Fe.overview.totalPayrollCents)}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This month"})]})]})]})})})]})})]})]})]}),t.jsx(bs,{open:c,onOpenChange:u,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Lp,{className:"h-5 w-5 text-blue-600"})}),"Add Staff Member"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Add a new staff member to your team"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"userId",className:"text-sm font-medium text-gray-700",children:"User"}),t.jsxs(st,{value:F.userId,onValueChange:_=>q(xe=>({...xe,userId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select user"})}),t.jsx(rt,{children:ze==null?void 0:ze.users.filter(_=>_.role==="MANAGER").map(_=>t.jsxs(me,{value:_.id.toString(),children:[_.displayName," (",_.email,")"]},_.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"propertyId",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:F.propertyId,onValueChange:_=>q(xe=>({...xe,propertyId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"none",children:"No property assigned"}),Ue==null?void 0:Ue.properties.map(_=>t.jsx(me,{value:_.id.toString(),children:_.name},_.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"department",className:"text-sm font-medium text-gray-700",children:"Department"}),t.jsxs(st,{value:F.department,onValueChange:_=>q(xe=>({...xe,department:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select department"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"frontdesk",children:"Front Desk"}),t.jsx(me,{value:"housekeeping",children:"Housekeeping"}),t.jsx(me,{value:"maintenance",children:"Maintenance"}),t.jsx(me,{value:"fnb",children:"Food & Beverage"}),t.jsx(me,{value:"admin",children:"Administration"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"hourlyRateCents",className:"text-sm font-medium text-gray-700",children:"Hourly Rate (cents)"}),t.jsx(ve,{id:"hourlyRateCents",type:"number",value:F.hourlyRateCents,onChange:_=>q(xe=>({...xe,hourlyRateCents:_.target.value})),placeholder:"1500 for $15.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"hireDate",className:"text-sm font-medium text-gray-700",children:"Hire Date"}),t.jsx(ve,{id:"hireDate",type:"date",value:F.hireDate,onChange:_=>q(xe=>({...xe,hireDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes"}),t.jsx(Br,{id:"notes",value:F.notes,onChange:_=>q(xe=>({...xe,notes:_.target.value})),placeholder:"Additional notes about this staff member",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>u(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>vt.mutate(F),disabled:vt.isPending||!F.userId||!F.department,className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:vt.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Lp,{className:"mr-2 h-4 w-4"}),"Add Staff Member"]})})]})})]})}),t.jsx(bs,{open:m,onOpenChange:f,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(qs,{className:"h-5 w-5 text-green-600"})}),"Create Staff Schedule"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Create a new work schedule for a staff member"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"scheduleStaffId",className:"text-sm font-medium text-gray-700",children:"Staff Member"}),t.jsxs(st,{value:$.staffId,onValueChange:_=>M(xe=>({...xe,staffId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select staff member"})}),t.jsx(rt,{children:Y==null?void 0:Y.staff.map(_=>t.jsx(me,{value:_.id.toString(),children:_.userName},_.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"schedulePropertyId",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:$.propertyId,onValueChange:_=>M(xe=>({...xe,propertyId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:Ue==null?void 0:Ue.properties.map(_=>t.jsx(me,{value:_.id.toString(),children:_.name},_.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"shiftDate",className:"text-sm font-medium text-gray-700",children:"Shift Date"}),t.jsx(ve,{id:"shiftDate",type:"date",value:$.shiftDate,onChange:_=>M(xe=>({...xe,shiftDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"startTime",className:"text-sm font-medium text-gray-700",children:"Start Time"}),t.jsx(ve,{id:"startTime",type:"time",value:$.startTime,onChange:_=>M(xe=>({...xe,startTime:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"endTime",className:"text-sm font-medium text-gray-700",children:"End Time"}),t.jsx(ve,{id:"endTime",type:"time",value:$.endTime,onChange:_=>M(xe=>({...xe,endTime:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"breakMinutes",className:"text-sm font-medium text-gray-700",children:"Break Minutes"}),t.jsx(ve,{id:"breakMinutes",type:"number",value:$.breakMinutes,onChange:_=>M(xe=>({...xe,breakMinutes:_.target.value})),placeholder:"30",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"scheduleNotes",className:"text-sm font-medium text-gray-700",children:"Notes"}),t.jsx(Br,{id:"scheduleNotes",value:$.notes,onChange:_=>M(xe=>({...xe,notes:_.target.value})),placeholder:"Additional notes about this schedule",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>f(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>St.mutate($),disabled:St.isPending||!$.staffId||!$.propertyId||!$.shiftDate||!$.startTime||!$.endTime,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:St.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(qs,{className:"mr-2 h-4 w-4"}),"Create Schedule"]})})]})})]})}),t.jsx(bs,{open:p,onOpenChange:g,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(hh,{className:"h-5 w-5 text-orange-600"})}),"Request Leave"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Submit a leave request for approval"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"leaveType",className:"text-sm font-medium text-gray-700",children:"Leave Type"}),t.jsxs(st,{value:V.leaveType,onValueChange:_=>G(xe=>({...xe,leaveType:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select leave type"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"vacation",children:"Vacation"}),t.jsx(me,{value:"sick",children:"Sick Leave"}),t.jsx(me,{value:"personal",children:"Personal Leave"}),t.jsx(me,{value:"emergency",children:"Emergency Leave"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"startDate",className:"text-sm font-medium text-gray-700",children:"Start Date"}),t.jsx(ve,{id:"startDate",type:"date",value:V.startDate,onChange:_=>G(xe=>({...xe,startDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"endDate",className:"text-sm font-medium text-gray-700",children:"End Date"}),t.jsx(ve,{id:"endDate",type:"date",value:V.endDate,onChange:_=>G(xe=>({...xe,endDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"leaveReason",className:"text-sm font-medium text-gray-700",children:"Reason"}),t.jsx(Br,{id:"leaveReason",value:V.reason,onChange:_=>G(xe=>({...xe,reason:_.target.value})),placeholder:"Reason for leave request",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>g(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>cs.mutate(V),disabled:cs.isPending||!V.startDate||!V.endDate,className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:cs.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(hh,{className:"mr-2 h-4 w-4"}),"Submit Request"]})})]})})]})}),t.jsx(bs,{open:v,onOpenChange:w,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(qi,{className:"h-5 w-5 text-purple-600"})}),"Check In/Out"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Record your attendance for today"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"attendanceStaffId",className:"text-sm font-medium text-gray-700",children:"Staff Member"}),t.jsxs(st,{value:B.staffId,onValueChange:_=>ce(xe=>({...xe,staffId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select staff member"})}),t.jsx(rt,{children:Y==null?void 0:Y.staff.map(_=>t.jsx(me,{value:_.id.toString(),children:_.userName},_.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"checkInTime",className:"text-sm font-medium text-gray-700",children:"Check In Time"}),t.jsx(ve,{id:"checkInTime",type:"datetime-local",value:B.checkInTime,onChange:_=>ce(xe=>({...xe,checkInTime:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"checkOutTime",className:"text-sm font-medium text-gray-700",children:"Check Out Time"}),t.jsx(ve,{id:"checkOutTime",type:"datetime-local",value:B.checkOutTime,onChange:_=>ce(xe=>({...xe,checkOutTime:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"attendanceNotes",className:"text-sm font-medium text-gray-700",children:"Notes"}),t.jsx(Br,{id:"attendanceNotes",value:B.notes,onChange:_=>ce(xe=>({...xe,notes:_.target.value})),placeholder:"Additional notes about attendance",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>w(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(se,{onClick:()=>Ks.mutate(B),disabled:Ks.isPending||!B.staffId||!B.checkInTime,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:Ks.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking In..."]}):t.jsxs(t.Fragment,{children:[t.jsx(qi,{className:"mr-2 h-4 w-4"}),"Check In"]})}),t.jsx(se,{variant:"outline",onClick:()=>bt.mutate(B),disabled:bt.isPending||!B.staffId||!B.checkOutTime,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:bt.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking Out..."]}):t.jsxs(t.Fragment,{children:[t.jsx(qi,{className:"mr-2 h-4 w-4"}),"Check Out"]})})]})]})})]})}),t.jsx(bs,{open:N,onOpenChange:j,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(_n,{className:"h-5 w-5 text-green-600"})}),"Add Salary Component"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Add a new salary component for a staff member"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"salaryStaffId",className:"text-sm font-medium text-gray-700",children:"Staff Member"}),t.jsxs(st,{value:pe.staffId,onValueChange:_=>le(xe=>({...xe,staffId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select staff member"})}),t.jsx(rt,{children:Y==null?void 0:Y.staff.map(_=>t.jsx(me,{value:_.id.toString(),children:_.userName},_.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"baseSalaryCents",className:"text-sm font-medium text-gray-700",children:"Base Salary (cents)"}),t.jsx(ve,{id:"baseSalaryCents",type:"number",value:pe.baseSalaryCents,onChange:_=>le(xe=>({...xe,baseSalaryCents:_.target.value})),placeholder:"500000 for $5000.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"overtimeRateCents",className:"text-sm font-medium text-gray-700",children:"Overtime Rate (cents)"}),t.jsx(ve,{id:"overtimeRateCents",type:"number",value:pe.overtimeRateCents,onChange:_=>le(xe=>({...xe,overtimeRateCents:_.target.value})),placeholder:"2250 for $22.50",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"bonusCents",className:"text-sm font-medium text-gray-700",children:"Bonus (cents)"}),t.jsx(ve,{id:"bonusCents",type:"number",value:pe.bonusCents,onChange:_=>le(xe=>({...xe,bonusCents:_.target.value})),placeholder:"10000 for $100.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"effectiveDate",className:"text-sm font-medium text-gray-700",children:"Effective Date"}),t.jsx(ve,{id:"effectiveDate",type:"date",value:pe.effectiveDate,onChange:_=>le(xe=>({...xe,effectiveDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>j(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>on.mutate(pe),disabled:on.isPending||!pe.staffId||!pe.baseSalaryCents,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:on.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(_n,{className:"mr-2 h-4 w-4"}),"Add Salary Component"]})})]})})]})}),t.jsx(bs,{open:S,onOpenChange:E,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(Rs,{className:"h-5 w-5 text-purple-600"})}),"Generate Report"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Generate a report for staff data"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"reportType",className:"text-sm font-medium text-gray-700",children:"Report Type"}),t.jsxs(st,{value:ye.reportType,onValueChange:_=>ke(xe=>({...xe,reportType:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select report type"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"attendance",children:"Attendance Report"}),t.jsx(me,{value:"salary",children:"Salary Report"}),t.jsx(me,{value:"leave",children:"Leave Report"}),t.jsx(me,{value:"schedule",children:"Schedule Report"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"reportStartDate",className:"text-sm font-medium text-gray-700",children:"Start Date"}),t.jsx(ve,{id:"reportStartDate",type:"date",value:ye.startDate,onChange:_=>ke(xe=>({...xe,startDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"reportEndDate",className:"text-sm font-medium text-gray-700",children:"End Date"}),t.jsx(ve,{id:"reportEndDate",type:"date",value:ye.endDate,onChange:_=>ke(xe=>({...xe,endDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"reportFormat",className:"text-sm font-medium text-gray-700",children:"Format"}),t.jsxs(st,{value:ye.format,onValueChange:_=>ke(xe=>({...xe,format:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select format"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"csv",children:"CSV"}),t.jsx(me,{value:"excel",children:"Excel"}),t.jsx(me,{value:"pdf",children:"PDF"})]})]})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>E(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>La.mutate(ye),disabled:La.isPending||!ye.startDate||!ye.endDate,className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:La.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Rs,{className:"mr-2 h-4 w-4"}),"Generate Report"]})})]})})]})}),t.jsx(bs,{open:T,onOpenChange:C,children:t.jsxs(Es,{className:"max-w-4xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(jr,{className:"h-5 w-5 text-blue-600"})}),"Edit Staff Member"]}),t.jsx(xa,{className:"text-sm text-gray-600",children:"Update staff member information and settings"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editPropertyId",className:"text-sm font-medium text-gray-700",children:"Property"}),t.jsxs(st,{value:W.propertyId,onValueChange:_=>he(xe=>({...xe,propertyId:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select property"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"none",children:"No property assigned"}),Ue==null?void 0:Ue.properties.map(_=>t.jsx(me,{value:_.id.toString(),children:_.name},_.id))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editDepartment",className:"text-sm font-medium text-gray-700",children:"Department"}),t.jsxs(st,{value:W.department,onValueChange:_=>he(xe=>({...xe,department:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select department"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"frontdesk",children:"Front Desk"}),t.jsx(me,{value:"housekeeping",children:"Housekeeping"}),t.jsx(me,{value:"maintenance",children:"Maintenance"}),t.jsx(me,{value:"fnb",children:"Food & Beverage"}),t.jsx(me,{value:"admin",children:"Administration"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editHireDate",className:"text-sm font-medium text-gray-700",children:"Hire Date"}),t.jsx(ve,{id:"editHireDate",type:"date",value:W.hireDate,onChange:_=>he(xe=>({...xe,hireDate:_.target.value})),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editStatus",className:"text-sm font-medium text-gray-700",children:"Status"}),t.jsxs(st,{value:W.status,onValueChange:_=>he(xe=>({...xe,status:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select status"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"active",children:"Active"}),t.jsx(me,{value:"inactive",children:"Inactive"})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Salary Information"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editSalaryType",className:"text-sm font-medium text-gray-700",children:"Salary Type"}),t.jsxs(st,{value:W.salaryType,onValueChange:_=>he(xe=>({...xe,salaryType:_})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select salary type"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"hourly",children:"Hourly"}),t.jsx(me,{value:"monthly",children:"Monthly"}),t.jsx(me,{value:"daily",children:"Daily"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editHourlyRateCents",className:"text-sm font-medium text-gray-700",children:"Hourly Rate (cents)"}),t.jsx(ve,{id:"editHourlyRateCents",type:"number",value:W.hourlyRateCents,onChange:_=>he(xe=>({...xe,hourlyRateCents:_.target.value})),placeholder:"1500 for $15.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editBaseSalaryCents",className:"text-sm font-medium text-gray-700",children:"Base Salary (cents)"}),t.jsx(ve,{id:"editBaseSalaryCents",type:"number",value:W.baseSalaryCents,onChange:_=>he(xe=>({...xe,baseSalaryCents:_.target.value})),placeholder:"500000 for $5000.00",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editOvertimeRateCents",className:"text-sm font-medium text-gray-700",children:"Overtime Rate (cents)"}),t.jsx(ve,{id:"editOvertimeRateCents",type:"number",value:W.overtimeRateCents,onChange:_=>he(xe=>({...xe,overtimeRateCents:_.target.value})),placeholder:"2250 for $22.50",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Performance & Settings"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editPerformanceRating",className:"text-sm font-medium text-gray-700",children:"Performance Rating (0-5)"}),t.jsx(ve,{id:"editPerformanceRating",type:"number",min:"0",max:"5",step:"0.1",value:W.performanceRating,onChange:_=>he(xe=>({...xe,performanceRating:_.target.value})),placeholder:"4.5",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editMaxOvertimeHours",className:"text-sm font-medium text-gray-700",children:"Max Overtime Hours"}),t.jsx(ve,{id:"editMaxOvertimeHours",type:"number",min:"0",step:"0.5",value:W.maxOvertimeHours,onChange:_=>he(xe=>({...xe,maxOvertimeHours:_.target.value})),placeholder:"10",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editLeaveBalance",className:"text-sm font-medium text-gray-700",children:"Leave Balance (days)"}),t.jsx(ve,{id:"editLeaveBalance",type:"number",min:"0",value:W.leaveBalance,onChange:_=>he(xe=>({...xe,leaveBalance:_.target.value})),placeholder:"20",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsx("div",{className:"space-y-2",children:t.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[t.jsx("input",{type:"checkbox",id:"editAttendanceTracking",checked:W.attendanceTrackingEnabled,onChange:_=>he(xe=>({...xe,attendanceTrackingEnabled:_.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),t.jsx(ee,{htmlFor:"editAttendanceTracking",className:"text-sm font-medium text-gray-700",children:"Enable Attendance Tracking"})]})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"editNotes",className:"text-sm font-medium text-gray-700",children:"Notes"}),t.jsx(Br,{id:"editNotes",value:W.notes,onChange:_=>he(xe=>({...xe,notes:_.target.value})),placeholder:"Additional notes about this staff member",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",rows:3})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>C(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:()=>ln.mutate(W),disabled:ln.isPending||!W.department,className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:ln.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jr,{className:"mr-2 h-4 w-4"}),"Update Staff Member"]})})]})})]})})]})}var R0={exports:{}},O0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk;function kJ(){if(vk)return O0;vk=1;var e=lg();function s(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:s,a=e.useState,r=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,v){var w=v(),N=a({inst:{value:w,getSnapshot:v}}),j=N[0].inst,S=N[1];return l(function(){j.value=w,j.getSnapshot=v,m(j)&&S({inst:j})},[g,w,v]),r(function(){return m(j)&&S({inst:j}),g(function(){m(j)&&S({inst:j})})},[g]),c(w),w}function m(g){var v=g.getSnapshot;g=g.value;try{var w=v();return!n(g,w)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return O0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,O0}var bk;function EJ(){return bk||(bk=1,R0.exports=kJ()),R0.exports}var AJ=EJ();function DJ(){return AJ.useSyncExternalStore(PJ,()=>!0,()=>!1)}function PJ(){return()=>{}}var wj="Avatar",[IJ,LX]=xi(wj),[RJ,TO]=IJ(wj),kO=x.forwardRef((e,s)=>{const{__scopeAvatar:n,...a}=e,[r,l]=x.useState("idle");return t.jsx(RJ,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:l,children:t.jsx(Ot.span,{...a,ref:s})})});kO.displayName=wj;var EO="AvatarImage",OJ=x.forwardRef((e,s)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:r=()=>{},...l}=e,c=TO(EO,n),u=MJ(a,l),m=tr(f=>{r(f),c.onImageLoadingStatusChange(f)});return Oa(()=>{u!=="idle"&&m(u)},[u,m]),u==="loaded"?t.jsx(Ot.img,{...l,ref:s,src:a}):null});OJ.displayName=EO;var AO="AvatarFallback",DO=x.forwardRef((e,s)=>{const{__scopeAvatar:n,delayMs:a,...r}=e,l=TO(AO,n),[c,u]=x.useState(a===void 0);return x.useEffect(()=>{if(a!==void 0){const m=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(m)}},[a]),c&&l.imageLoadingStatus!=="loaded"?t.jsx(Ot.span,{...r,ref:s}):null});DO.displayName=AO;function wk(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function MJ(e,{referrerPolicy:s,crossOrigin:n}){const a=DJ(),r=x.useRef(null),l=a?(r.current||(r.current=new window.Image),r.current):null,[c,u]=x.useState(()=>wk(l,e));return Oa(()=>{u(wk(l,e))},[l,e]),Oa(()=>{const m=g=>()=>{u(g)};if(!l)return;const f=m("loaded"),p=m("error");return l.addEventListener("load",f),l.addEventListener("error",p),s&&(l.referrerPolicy=s),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",f),l.removeEventListener("error",p)}},[l,n,s]),c}var _J=kO,LJ=DO;function FJ({className:e,...s}){return t.jsx(_J,{"data-slot":"avatar",className:Xe("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...s})}function UJ({className:e,...s}){return t.jsx(LJ,{"data-slot":"avatar-fallback",className:Xe("bg-muted flex size-full items-center justify-center rounded-full",e),...s})}function VJ(){const{user:e,getAuthenticatedBackend:s,refreshUser:n}=$s(),{setPageTitle:a}=Er(),{toast:r}=da(),l=za();x.useEffect(()=>{a("User Management","Manage user accounts and permissions")},[a]);const[c,u]=x.useState(""),[m,f]=x.useState("all"),[p,g]=x.useState(!1),[v,w]=x.useState(!1),[N,j]=x.useState(!1),[S,E]=x.useState(null),[T,C]=x.useState(!1),[I,D]=x.useState(null),[A,R]=x.useState(!1),[L,z]=x.useState(null),[Q,K]=x.useState({email:"",password:"",displayName:"",role:"MANAGER",propertyIds:[]}),[J,de]=x.useState(null),[H,ie]=x.useState(""),[F,q]=x.useState(""),[W,he]=x.useState(""),[$,M]=x.useState([]),{data:V,isLoading:G,refetch:B}=Xt({queryKey:["users"],queryFn:async()=>s().users.list({}),enabled:(e==null?void 0:e.role)==="ADMIN",refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnMount:!0,refetchOnWindowFocus:!1,retry:(ae,Ye)=>(console.error("Users query failed:",Ye),ae<2)}),{data:ce}=Xt({queryKey:["properties"],queryFn:async()=>s().properties.list({}),enabled:(e==null?void 0:e.role)==="ADMIN",refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),[pe,le]=x.useState(null),ye=qe.useRef(null);qe.useRef(new Set),x.useEffect(()=>{try{hu(null)}catch{}if(!Os("USERS_REALTIME_V1",!0))return;const Ye=vt=>{var St;le(!!((St=vt==null?void 0:vt.detail)!=null&&St.isLive))};return window.addEventListener("users-stream-health",Ye),()=>{window.removeEventListener("users-stream-health",Ye),ye.current&&clearTimeout(ye.current)}},[l]),wr("users",ae=>{let Ye=!1,vt=!1;for(const St of ae){const cs=St==null?void 0:St.eventType,ys=St==null?void 0:St.metadata;if(cs){if(cs==="user_created"||cs==="user_deleted"){Ye=!0;continue}if(cs==="user_updated"){Ye=!0;continue}if(cs==="user_properties_assigned"){Ye=!0,vt=!0;continue}}}Ye&&l.invalidateQueries({queryKey:["users"]}),vt&&l.invalidateQueries({queryKey:["properties"]})},Os("USERS_REALTIME_V1",!0));const ke=vs({mutationFn:async ae=>(console.log("Creating user with data:",ae),s().users.create(ae)),onMutate:async ae=>{console.log("User creation mutation starting..."),await l.cancelQueries({queryKey:["users"]});const Ye=l.getQueryData(["users"]);return l.setQueryData(["users"],vt=>vt?{users:[{id:Date.now(),email:ae.email,role:ae.role,displayName:ae.displayName,createdByUserId:e!=null&&e.userID?parseInt(e.userID):0,createdByName:e==null?void 0:e.displayName,createdAt:new Date,lastLoginAt:void 0,lastActivityAt:new Date,loginCount:0,lastLoginIp:void 0,lastLoginUserAgent:void 0,lastLoginLocation:null,timezone:"UTC",locale:"en-US"},...vt.users]}:{users:[]}),{previousUsers:Ye}},onError:(ae,Ye,vt)=>{console.error("User creation failed:",ae),l.setQueryData(["users"],vt==null?void 0:vt.previousUsers);let St="Please try again.";ae.message&&(ae.message.includes("already exists")?St="A user with this email already exists in your organization. Please check the user list or use a different email.":ae.message.includes("email")?St="This email address is already in use.":ae.message.includes("password")?St="Password must be at least 8 characters long.":St=ae.message),r({variant:"destructive",title:"Failed to create manager",description:St})},onSuccess:ae=>{console.log("User created successfully:",ae),l.setQueryData(["users"],Ye=>{if(!Ye)return{users:[ae]};const vt=Ye.users.filter(St=>!(typeof St.id=="number"&&St.id>=1e12));return{users:[ae,...vt]}}),g(!1),K({email:"",password:"",displayName:"",role:"MANAGER",propertyIds:[]}),r({title:"Manager created successfully",description:"The new manager account has been created."})},onSettled:()=>{console.log("User creation mutation settled, invalidating queries..."),B(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),Y=vs({mutationFn:async ae=>(console.log("Updating user with data:",ae),s().users.update(ae.id,{displayName:ae.displayName,email:ae.email,password:ae.password})),onMutate:async ae=>{console.log("User update mutation starting..."),await l.cancelQueries({queryKey:["users"]});const Ye=l.getQueryData(["users"]);return l.setQueryData(["users"],vt=>vt&&{users:vt.users.map(St=>St.id===ae.id?{...St,displayName:ae.displayName??St.displayName,email:ae.email??St.email}:St)}),{previousUsers:Ye}},onError:(ae,Ye,vt)=>{console.error("User update failed:",ae),l.setQueryData(["users"],vt==null?void 0:vt.previousUsers);let St="Please try again.";ae.message&&ae.message.includes("already exists")?St="This email address is already in use by another user.":ae.message&&(St=ae.message),r({variant:"destructive",title:"Failed to update user",description:St})},onSuccess:(ae,Ye)=>{console.log(" User updated successfully"),console.log(" Checking if current user updated their own profile..."),console.log("Current user ID:",e==null?void 0:e.userID,"Updated user ID:",Ye.id),e&&parseInt(e.userID)===Ye.id?(console.log(" Current user updated their own profile, refreshing AuthContext..."),n().catch(vt=>{console.warn(" Failed to refresh current user data:",vt)})):console.log(" Different user updated, no need to refresh AuthContext"),r({title:"User updated",description:"Manager details have been updated."})},onSettled:()=>{console.log("User update mutation settled, invalidating queries..."),B(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),ge=vs({mutationFn:async ae=>(console.log("Assigning properties with data:",ae),s().users.assignProperties({id:ae.id,propertyIds:ae.propertyIds})),onError:ae=>{console.error("Property assignment failed:",ae),r({variant:"destructive",title:"Failed to update assignments",description:ae.message||"Please try again."})},onSuccess:()=>{console.log("Properties assigned successfully"),r({title:"Assignments updated",description:"Property assignments have been saved."})},onSettled:()=>{console.log("Property assignment mutation settled, invalidating queries..."),B(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["tasks"]}),l.refetchQueries({queryKey:["tasks"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),je=vs({mutationFn:async ae=>{if(console.log("Promoting user to admin:",ae),typeof ae!="number"||isNaN(ae))throw new Error(`Invalid user ID: ${ae} (type: ${typeof ae})`);return s().users.update(ae,{role:"ADMIN"})},onError:ae=>{console.error("Role promotion failed:",ae),r({variant:"destructive",title:"Failed to promote user",description:ae.message||"Please try again."})},onSuccess:ae=>{console.log("User promoted to admin successfully:",ae),r({title:"User promoted",description:"User has been promoted to Admin role."})},onSettled:()=>{console.log("Role promotion mutation settled, invalidating queries..."),B(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),Oe=vs({mutationFn:async ae=>{if(console.log("Demoting user to manager:",ae),typeof ae!="number"||isNaN(ae))throw new Error(`Invalid user ID: ${ae} (type: ${typeof ae})`);return s().users.update(ae,{role:"MANAGER"})},onError:ae=>{console.error("Role demotion failed:",ae),r({variant:"destructive",title:"Failed to demote user",description:ae.message||"Please try again."})},onSuccess:ae=>{console.log("User demoted to manager successfully:",ae),r({title:"User demoted",description:"User has been demoted to Manager role."})},onSettled:()=>{console.log("Role demotion mutation settled, invalidating queries..."),B(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),_e=vs({mutationFn:async ae=>{if(console.log("Deleting user:",ae),typeof ae!="number"||isNaN(ae))throw new Error(`Invalid user ID: ${ae} (type: ${typeof ae})`);const Ye=localStorage.getItem("accessToken");if(!Ye)throw new Error("No access token found");const vt=await fetch(`http://localhost:4000/users/${ae}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ye}`,"Content-Type":"application/json"}});if(!vt.ok){const St=await vt.json().catch(()=>({}));throw new Error(St.message||`Failed to delete user: ${vt.statusText}`)}return await vt.json()},onError:ae=>{console.error("User deletion failed:",ae);let Ye="Please try again.";ae.message&&ae.message.includes("Cannot delete your own account")?Ye="You cannot delete your own account.":ae.message&&(Ye=ae.message),r({variant:"destructive",title:"Failed to delete user",description:Ye})},onSuccess:ae=>{console.log("User deleted successfully:",ae),r({title:"User deleted",description:ae.message||"User has been successfully deleted."})},onSettled:()=>{console.log("User deletion mutation settled, invalidating queries..."),B(),l.invalidateQueries({queryKey:["staff"]}),l.invalidateQueries({queryKey:["staff-statistics"]}),l.refetchQueries({queryKey:["staff"]}),l.refetchQueries({queryKey:["staff-statistics"]}),l.invalidateQueries({queryKey:["analytics"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),Pe=(V==null?void 0:V.users.filter(ae=>{const Ye=ae.displayName.toLowerCase().includes(c.toLowerCase())||ae.email.toLowerCase().includes(c.toLowerCase()),vt=m==="all"||ae.role===m;return Ye&&vt}))||[],ze=ae=>{switch(ae){case"ADMIN":return"bg-purple-100 text-purple-800";case"MANAGER":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Ue=ae=>{switch(ae){case"ADMIN":return"Admin";case"MANAGER":return"Manager";default:return ae.charAt(0)+ae.slice(1).toLowerCase()}},He=ae=>ae.split(" ").map(Ye=>Ye[0]).join("").toUpperCase(),it=()=>{if(!Q.email||!Q.password||!Q.displayName){r({variant:"destructive",title:"Missing fields",description:"Please fill in all required fields."});return}if(V==null?void 0:V.users.some(Ye=>Ye.email.toLowerCase()===Q.email.toLowerCase())){r({variant:"destructive",title:"Email already exists",description:"A user with this email already exists in your organization."});return}ke.mutate(Q)},Tt=async ae=>{de(ae),ie(ae.displayName),q(ae.email),he(""),w(!0);try{const vt=await s().users.get(ae.id);M(vt.propertyIds)}catch(Ye){console.error("Failed to load user details:",Ye),M([])}},yt=ae=>{M(Ye=>Ye.includes(ae)?Ye.filter(vt=>vt!==ae):[...Ye,ae])},xs=()=>{B(),r({title:"Refreshed",description:"User list has been refreshed."})},va=ae=>{if(console.log("Handling promotion for user:",ae),console.log("User ID type:",typeof ae.id,"Value:",ae.id),!ae||typeof ae.id!="number"||isNaN(ae.id)){console.error("Invalid user object for promotion:",ae),r({variant:"destructive",title:"Invalid User Data",description:"Cannot promote user with invalid data. Please refresh and try again."});return}E(ae),j(!0)},Fe=()=>{if(S){if(console.log("Confirming promotion for user:",S),console.log("User ID type:",typeof S.id,"Value:",S.id),typeof S.id!="number"||isNaN(S.id)){console.error("Invalid user ID for promotion:",S.id),r({variant:"destructive",title:"Invalid User ID",description:"Cannot promote user with invalid ID. Please refresh and try again."});return}S.role==="MANAGER"&&je.mutate(S.id),j(!1),E(null)}},lt=ae=>{if(console.log("Handling demotion for user:",ae),console.log("User ID type:",typeof ae.id,"Value:",ae.id),!ae||typeof ae.id!="number"||isNaN(ae.id)){console.error("Invalid user object for demotion:",ae),r({variant:"destructive",title:"Invalid User Data",description:"Cannot demote user with invalid data. Please refresh and try again."});return}D(ae),C(!0)},Zt=()=>{if(I){if(console.log("Confirming demotion for user:",I),console.log("User ID type:",typeof I.id,"Value:",I.id),typeof I.id!="number"||isNaN(I.id)){console.error("Invalid user ID for demotion:",I.id),r({variant:"destructive",title:"Invalid User ID",description:"Cannot demote user with invalid ID. Please refresh and try again."});return}I.role==="ADMIN"&&Oe.mutate(I.id),C(!1),D(null)}},as=ae=>{if(console.log("Handling deletion for user:",ae),console.log("User ID type:",typeof ae.id,"Value:",ae.id),!ae||typeof ae.id!="number"||isNaN(ae.id)){console.error("Invalid user object for deletion:",ae),r({variant:"destructive",title:"Invalid User Data",description:"Cannot delete user with invalid data. Please refresh and try again."});return}z(ae),R(!0)},es=()=>{if(L){if(console.log("Confirming deletion for user:",L),console.log("User ID type:",typeof L.id,"Value:",L.id),typeof L.id!="number"||isNaN(L.id)){console.error("Invalid user ID for deletion:",L.id),r({variant:"destructive",title:"Invalid User ID",description:"Cannot delete user with invalid ID. Please refresh and try again."});return}_e.mutate(L.id),R(!1),z(null)}};return(e==null?void 0:e.role)!=="ADMIN"?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(rn,{className:"h-6 w-6 text-red-600"})}),t.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Access Restricted"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Only Administrators can manage users."})]})})})})}):G?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading users..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your user data"})]})})})})}):t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsxs("div",{className:"px-6 pb-6 sm:py-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200 mb-6",children:[t.jsx(Qe,{className:"pb-4 hidden sm:block",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Wi,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs(Je,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["User Management",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage team members and their roles"})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs(se,{variant:"outline",size:"sm",onClick:()=>{console.log(" Manual refresh triggered..."),n().catch(ae=>{console.warn(" Manual refresh failed:",ae)})},className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Refresh User Data"]})})]})}),t.jsxs(Ee,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"search-users",className:"text-sm font-medium text-gray-700",children:"Search Users"}),t.jsxs("div",{className:"relative",children:[t.jsx(Mp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(ve,{id:"search-users",placeholder:"Search by name or email...",value:c,onChange:ae=>u(ae.target.value),className:"pl-10 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"role-filter",className:"text-sm font-medium text-gray-700",children:"Filter by Role"}),t.jsxs(st,{value:m,onValueChange:f,children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Filter by role"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Roles"}),t.jsx(me,{value:"ADMIN",children:"Admin"}),t.jsx(me,{value:"MANAGER",children:"Manager"})]})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(se,{variant:"outline",onClick:xs,className:"transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),t.jsx("span",{className:"sm:hidden",children:"Refresh"})]}),t.jsxs(bs,{open:p,onOpenChange:g,children:[t.jsx(qp,{asChild:!0,children:t.jsxs(se,{className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Create User"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})}),t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Lp,{className:"h-5 w-5 text-blue-600"})}),"Create ",Q.role==="ADMIN"?"Admin":"Manager"," Account"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Create a new ",Q.role==="ADMIN"?"admin":"manager"," account",Q.role==="MANAGER"?" and assign properties":"","."]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"displayName",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),t.jsx(ve,{id:"displayName",value:Q.displayName,onChange:ae=>K(Ye=>({...Ye,displayName:ae.target.value})),placeholder:"Enter full name",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email *"}),t.jsx(ve,{id:"email",type:"email",value:Q.email,onChange:ae=>K(Ye=>({...Ye,email:ae.target.value})),placeholder:"Enter email address",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),(V==null?void 0:V.users.some(ae=>ae.email.toLowerCase()===Q.email.toLowerCase()))&&t.jsx("p",{className:"text-sm text-red-600",children:"This email is already in use"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password *"}),t.jsx(ve,{id:"password",type:"password",value:Q.password,onChange:ae=>K(Ye=>({...Ye,password:ae.target.value})),placeholder:"Enter password (min 8 characters)",minLength:8,className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"role",className:"text-sm font-medium text-gray-700",children:"Role *"}),t.jsxs(st,{value:Q.role,onValueChange:ae=>K(Ye=>({...Ye,role:ae})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select role"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"MANAGER",children:"Manager"}),t.jsx(me,{value:"ADMIN",children:"Admin"})]})]}),t.jsx("p",{className:"text-xs text-gray-500",children:Q.role==="ADMIN"?"Admins have full access to all features and can manage managers.":"Managers can manage properties and tasks assigned to them."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Assign Properties"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-48 overflow-auto border rounded p-2",children:ce==null?void 0:ce.properties.map(ae=>t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:Q.propertyIds.includes(ae.id),onChange:()=>{K(Ye=>({...Ye,propertyIds:Ye.propertyIds.includes(ae.id)?Ye.propertyIds.filter(vt=>vt!==ae.id):[...Ye.propertyIds,ae.id]}))}}),t.jsx("span",{children:ae.name})]},ae.id))})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>g(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:it,disabled:ke.isPending||!Q.email||!Q.password||!Q.displayName||(V==null?void 0:V.users.some(ae=>ae.email.toLowerCase()===Q.email.toLowerCase())),className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:ke.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Lp,{className:"mr-2 h-4 w-4"}),"Create ",Q.role==="ADMIN"?"Admin":"Manager"]})})]})})]})]})]})]})]}),Pe.length===0?t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:t.jsxs(Ee,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Wi,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),t.jsx("p",{className:"text-gray-500 text-center mb-4",children:c||m!=="all"?"Try adjusting your search or filters":"Get started by creating your first user"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(se,{variant:"outline",onClick:xs,className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(mt,{className:"mr-2 h-4 w-4"}),"Refresh List"]}),t.jsxs(se,{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(ra,{className:"mr-2 h-4 w-4"}),"Create User"]})]})]})}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:Pe.map(ae=>t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx(FJ,{className:"h-12 w-12",children:t.jsx(UJ,{className:"bg-blue-100 text-blue-600",children:He(ae.displayName)})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(Je,{className:"text-lg font-bold text-gray-900 truncate",children:ae.displayName}),t.jsxs(Dt,{className:"flex items-center mt-1",children:[t.jsx(Hd,{className:"h-3 w-3 mr-1 flex-shrink-0"}),t.jsx("span",{className:"truncate text-sm text-gray-600",children:ae.email})]})]}),t.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[t.jsx(se,{variant:"outline",size:"sm",onClick:()=>Tt(ae),className:"h-8 w-8 p-0 bg-white border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 rounded-lg shadow-sm",title:"Edit user",children:t.jsx(pp,{className:"h-4 w-4"})}),ae.id!==parseInt((e==null?void 0:e.userID)||"0")&&t.jsx(se,{variant:"outline",size:"sm",onClick:()=>as(ae),disabled:_e.isPending,className:"h-8 w-8 p-0 bg-white border-gray-300 text-red-600 hover:bg-red-50 hover:border-red-400 transition-all duration-200 rounded-lg shadow-sm",title:"Delete user",children:t.jsx(jn,{className:"h-4 w-4"})})]})]})})]})}),t.jsxs(Ee,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Role"}),t.jsx(Lt,{className:`${ze(ae.role)} flex-shrink-0`,children:Ue(ae.role)})]}),ae.createdByName&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Created by"}),t.jsx("span",{className:"text-gray-600",children:ae.createdByName})]}),ae.lastLoginAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Last login"}),t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),t.jsx("span",{children:new Date(ae.lastLoginAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Joined"}),t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),t.jsx("span",{children:new Date(ae.createdAt).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Login count"}),t.jsx("span",{className:"text-gray-600",children:ae.loginCount||0})]}),ae.lastActivityAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Last activity"}),t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(qs,{className:"h-3 w-3 mr-1 flex-shrink-0"}),t.jsx("span",{children:CH(ae.lastActivityAt)})]})]}),ae.lastLoginLocation&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Last location"}),t.jsxs("div",{className:"text-gray-600 text-xs",children:[ae.lastLoginLocation.city&&t.jsx("div",{children:ae.lastLoginLocation.city}),ae.lastLoginLocation.region&&t.jsx("div",{children:ae.lastLoginLocation.region}),ae.lastLoginLocation.country&&t.jsx("div",{children:ae.lastLoginLocation.country})]})]}),ae.timezone&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-700",children:"Timezone"}),t.jsx("span",{className:"text-gray-600",children:ae.timezone})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[(e==null?void 0:e.role)==="ADMIN"&&ae.role==="MANAGER"&&ae.id!==parseInt((e==null?void 0:e.userID)||"0")&&t.jsxs(se,{variant:"outline",size:"sm",onClick:()=>va(ae),disabled:je.isPending,className:"bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100 transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[t.jsx(rn,{className:"mr-2 h-3 w-3"}),t.jsx("span",{className:"hidden sm:inline",children:"Promote to Admin"}),t.jsx("span",{className:"sm:hidden",children:"Promote"})]}),ae.role==="MANAGER"&&ae.id===parseInt((e==null?void 0:e.userID)||"0")&&t.jsx("div",{className:"text-xs text-gray-500 italic px-2 py-1 bg-gray-100 rounded",children:"Current user (cannot promote)"}),(e==null?void 0:e.role)==="ADMIN"&&ae.role==="ADMIN"&&ae.id!==parseInt((e==null?void 0:e.userID)||"0")&&t.jsxs(se,{variant:"outline",size:"sm",onClick:()=>lt(ae),disabled:Oe.isPending,className:"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100 transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:[t.jsx(Ya,{className:"mr-2 h-3 w-3"}),t.jsx("span",{className:"hidden sm:inline",children:"Demote to Manager"}),t.jsx("span",{className:"sm:hidden",children:"Demote"})]}),ae.role==="ADMIN"&&ae.id===parseInt((e==null?void 0:e.userID)||"0")&&t.jsx("div",{className:"text-xs text-gray-500 italic px-2 py-1 bg-gray-100 rounded",children:"Current user (cannot demote)"})]})]})]},ae.id))}),t.jsx(bs,{open:v,onOpenChange:w,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(pp,{className:"h-5 w-5 text-orange-600"})}),"Edit ",(J==null?void 0:J.role)==="ADMIN"?"Admin":"Manager"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Update ",(J==null?void 0:J.role)==="ADMIN"?"admin":"manager"," details",(J==null?void 0:J.role)==="MANAGER"?" and property assignments":""]})]}),J&&t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-6",children:[J.id===parseInt((e==null?void 0:e.userID)||"0")&&t.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ya,{className:"h-5 w-5 text-blue-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium",children:" Note: This is your own account"}),t.jsx("p",{children:"You can update your personal details, but some changes may require another admin."})]})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-displayName",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),t.jsx(ve,{id:"edit-displayName",value:H,onChange:ae=>ie(ae.target.value),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-email",className:"text-sm font-medium text-gray-700",children:"Email *"}),t.jsx(ve,{id:"edit-email",type:"email",value:F,onChange:ae=>q(ae.target.value),className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),(V==null?void 0:V.users.some(ae=>ae.id!==J.id&&ae.email.toLowerCase()===F.toLowerCase()))&&t.jsx("p",{className:"text-sm text-red-600",children:"This email is already in use by another user"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"edit-password",className:"text-sm font-medium text-gray-700",children:"New Password (optional)"}),t.jsx(ve,{id:"edit-password",type:"password",value:W,onChange:ae=>he(ae.target.value),placeholder:"Leave blank to keep current password",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Assigned Properties"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-48 overflow-auto border rounded p-2",children:ce==null?void 0:ce.properties.map(ae=>t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:$.includes(ae.id),onChange:()=>yt(ae.id)}),t.jsx("span",{children:ae.name})]},ae.id))})]})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>w(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:async()=>{if(!J)return;if(V==null?void 0:V.users.some(Ye=>Ye.id!==J.id&&Ye.email.toLowerCase()===F.toLowerCase())){r({variant:"destructive",title:"Email conflict",description:"This email is already in use by another user."});return}try{await Y.mutateAsync({id:J.id,displayName:H,email:F,password:W||void 0}),await ge.mutateAsync({id:J.id,propertyIds:$}),w(!1),de(null)}catch{}},disabled:Y.isPending||ge.isPending||!H||!F||(V==null?void 0:V.users.some(ae=>ae.id!==(J==null?void 0:J.id)&&ae.email.toLowerCase()===F.toLowerCase())),className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:Y.isPending||ge.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(pp,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})})]})}),t.jsx(bs,{open:N,onOpenChange:j,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(rn,{className:"h-5 w-5 text-purple-600"})}),"Promote User"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Are you sure you want to promote ",t.jsx("strong",{children:S==null?void 0:S.displayName}),"?"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-4",children:[S&&parseInt((e==null?void 0:e.userID)||"0")===S.id&&t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(is,{className:"h-5 w-5 text-red-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("p",{className:"font-medium",children:" Warning: This is your own account"}),t.jsx("p",{children:"You cannot promote yourself. Ask another admin to do this for you."})]})]})}),t.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(rn,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-yellow-800",children:[t.jsx("p",{className:"font-medium mb-1",children:((S==null?void 0:S.role)==="MANAGER","Admin privileges include:")}),t.jsx("ul",{className:"list-disc list-inside space-y-1",children:(S==null?void 0:S.role)==="MANAGER"?t.jsxs(t.Fragment,{children:[t.jsx("li",{children:"Full access to all system features"}),t.jsx("li",{children:"Ability to create and manage managers"}),t.jsx("li",{children:"Access to organization settings"}),t.jsx("li",{children:"View all properties and financial data"})]}):t.jsxs(t.Fragment,{children:[t.jsx("li",{children:"Full access to all system features"}),t.jsx("li",{children:"Ability to create and manage managers"}),t.jsx("li",{children:"Complete control over organization settings"}),t.jsx("li",{children:"View and manage all properties and financial data"}),t.jsx("li",{children:"Highest level administrative privileges"})]})})]})]})})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>j(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:Fe,disabled:je.isPending,className:"bg-purple-600 hover:bg-purple-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:je.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Promoting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(rn,{className:"mr-2 h-4 w-4"}),"Promote User"]})})]})})]})}),t.jsx(bs,{open:T,onOpenChange:C,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(Ya,{className:"h-5 w-5 text-orange-600"})}),"Demote User"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Are you sure you want to demote ",t.jsx("strong",{children:I==null?void 0:I.displayName}),"?"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-4",children:[I&&parseInt((e==null?void 0:e.userID)||"0")===I.id&&t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(is,{className:"h-5 w-5 text-red-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("p",{className:"font-medium",children:" Warning: This is your own account"}),t.jsx("p",{children:"You cannot demote yourself. Ask another admin to do this for you."})]})]})}),t.jsx("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ya,{className:"h-5 w-5 text-orange-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-orange-800",children:[t.jsx("p",{className:"font-medium mb-1",children:(I==null?void 0:I.role)==="ADMIN"?"Admin privileges include:":"Manager privileges include:"}),t.jsx("ul",{className:"list-disc list-inside space-y-1",children:(I==null?void 0:I.role)==="ADMIN"?t.jsxs(t.Fragment,{children:[t.jsx("li",{children:"Full access to all system features"}),t.jsx("li",{children:"Ability to create and manage managers"}),t.jsx("li",{children:"Access to organization settings"}),t.jsx("li",{children:"View all properties and financial data"})]}):t.jsxs(t.Fragment,{children:[t.jsx("li",{children:"Manage assigned properties and tasks"}),t.jsx("li",{children:"View financial data for assigned properties"}),t.jsx("li",{children:"Manage staff and bookings"}),t.jsx("li",{children:"Cannot access user management or system settings"})]})})]})]})})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>C(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:Zt,disabled:Oe.isPending,className:"bg-orange-600 hover:bg-orange-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:Oe.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Demoting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Demote User"]})})]})})]})}),t.jsx(bs,{open:A,onOpenChange:R,children:t.jsxs(Es,{className:"max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs(ia,{className:"pb-4",children:[t.jsxs(Bs,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(jn,{className:"h-5 w-5 text-red-600"})}),"Delete User"]}),t.jsxs(xa,{className:"text-sm text-gray-600",children:["Are you sure you want to delete ",t.jsx("strong",{children:L==null?void 0:L.displayName}),"? This action cannot be undone."]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:t.jsxs("div",{className:"space-y-4",children:[L&&parseInt((e==null?void 0:e.userID)||"0")===L.id&&t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(is,{className:"h-5 w-5 text-red-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("p",{className:"font-medium",children:" Warning: This is your own account"}),t.jsx("p",{children:"You cannot delete your own account. Ask another admin to do this for you."})]})]})}),t.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(jn,{className:"h-5 w-5 text-red-600 mt-0.5"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("p",{className:"font-medium mb-1",children:" This will permanently delete:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsx("li",{children:"User account and all login sessions"}),t.jsx("li",{children:"All tasks created by this user"}),t.jsx("li",{children:"All expenses and revenues created by this user"}),t.jsx("li",{children:"All staff records associated with this user"}),t.jsx("li",{children:"All property assignments for this user"}),t.jsx("li",{children:"All related data and history"})]}),t.jsx("p",{className:"font-medium mt-2 text-red-900",children:"This action cannot be undone!"})]})]})})]})}),t.jsx(ga,{className:"border-t pt-4 mt-6 bg-gray-50 -mx-6 -mb-6 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx(se,{variant:"outline",onClick:()=>R(!1),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Cancel"}),t.jsx(se,{onClick:es,disabled:_e.isPending,className:"bg-red-600 hover:bg-red-700 transition-all duration-200 hover:scale-105 hover:shadow-md",children:_e.isPending?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jn,{className:"mr-2 h-4 w-4"}),"Delete User"]})})]})})]})})]})})}function BJ(){var N,j,S,E,T,C,I,D,A,R,L,z,Q,K,J,de,H,ie,F,q,W,he;const{getAuthenticatedBackend:e}=$s(),{theme:s}=_a(),{setPageTitle:n}=Er(),[a,r]=x.useState("30"),l=za();x.useEffect(()=>{n("Analytics Dashboard","View detailed analytics and performance metrics")},[n]);const{data:c,isLoading:u,error:m}=Xt({queryKey:["analytics","overview",a],queryFn:async()=>{const $=e(),M=new Date,V=new Date;return V.setDate(V.getDate()-parseInt(a)),$.analytics.overview({startDate:V.toISOString().split("T")[0],endDate:M.toISOString().split("T")[0]})},retry:($,M)=>$<2?(console.error("Analytics query failed:",M),!0):!1,refetchInterval:!1,staleTime:25e3,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0}),f=u,p=m,g=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:s.currency||"USD"}).format($),v=$=>`${$.toFixed(1)}%`;x.useEffect(()=>{try{window.__analyticsSelectedPropertyId="all"}catch{}if(!Os("ANALYTICS_REALTIME_V1",!0))return;let M=null;const V=()=>{if(l.invalidateQueries({queryKey:["analytics"]}),!so.isProduction()&&Math.random()<.02)try{fetch("/telemetry/client",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"analytics_realtime_invalidation",counts:{scopes:1},ts:new Date().toISOString()}]})}).catch(()=>{})}catch{}},G=ce=>{var le;const pe=((le=ce==null?void 0:ce.detail)==null?void 0:le.events)||[];!Array.isArray(pe)||pe.length===0||(M&&clearTimeout(M),M=setTimeout(V,Math.floor(400+Math.random()*400)))},B=ce=>{};return window.addEventListener("analytics-stream-events",G),window.addEventListener("analytics-stream-health",B),()=>{window.removeEventListener("analytics-stream-events",G),window.removeEventListener("analytics-stream-health",B),M&&clearTimeout(M)}},[l]);const w=($,M)=>$>=M?t.jsx(Nn,{className:"h-4 w-4 text-green-600"}):t.jsx(ec,{className:"h-4 w-4 text-red-600"});return f?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(Te,{className:"border-l-4 border-l-blue-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading analytics..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait while we fetch your performance data"})]})})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[...Array(8)].map(($,M)=>t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm animate-pulse",children:[t.jsx(Qe,{className:"pb-4",children:t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},M))})]})})}):p?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Va,{className:"h-6 w-6 text-red-600"})}),t.jsx("p",{className:"text-lg font-medium text-red-900 mb-2",children:"Error loading analytics"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:m?"Analytics data failed to load":"Properties data failed to load"}),t.jsxs(se,{variant:"outline",onClick:()=>window.location.reload(),className:"bg-white border-rose-200 text-red-700 hover:bg-rose-50 hover:border-rose-300 font-semibold transition-all duration-200 hover:scale-105 hover:shadow-md",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})})})}):t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Te,{className:"hidden sm:block border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-5 w-5 text-blue-600"})}),"Analytics Dashboard",t.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"Live"})]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Performance insights and key metrics for your hospitality business"})]}),t.jsx(Ee,{className:"space-y-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{children:"Real-time data updates"}),f&&t.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[t.jsx(mt,{className:"w-3 h-3 animate-spin"}),t.jsx("span",{className:"text-xs",children:"Updating..."})]})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Time Range"}),t.jsxs(st,{value:a,onValueChange:r,children:[t.jsx(nt,{className:"h-11 w-48 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{})}),t.jsxs(rt,{children:[t.jsx(me,{value:"7",children:"Last 7 days"}),t.jsx(me,{value:"30",children:"Last 30 days"}),t.jsx(me,{value:"90",children:"Last 90 days"})]})]})]})})]})})]}),c&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(fL,{className:"h-4 w-4 text-purple-600"})}),"Occupancy Rate"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:v(((N=c.metrics)==null?void 0:N.occupancyRate)||0)}),t.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1 mt-2",children:[w(((j=c.metrics)==null?void 0:j.occupancyRate)||0,75),"Target: 75%"]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-4 w-4 text-green-600"})}),"Average Daily Rate"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:g(((S=c.metrics)==null?void 0:S.adr)||0)}),t.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Per occupied room"})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Va,{className:"h-4 w-4 text-blue-600"})}),"RevPAR"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g(((E=c.metrics)==null?void 0:E.revpar)||0)}),t.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Revenue per available room"})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsx(Qe,{className:"pb-4",children:t.jsxs(Je,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-4 w-4 text-orange-600"})}),"Net Income"]})}),t.jsxs(Ee,{children:[t.jsx("div",{className:`text-2xl font-bold ${(((T=c.metrics)==null?void 0:T.netIncome)||0)>=0?"text-green-600":"text-red-600"}`,children:g(((C=c.metrics)==null?void 0:C.netIncome)||0)}),t.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1 mt-2",children:[w((((I=c.metrics)==null?void 0:I.netIncome)||0)>=0?1:0,0),(((D=c.metrics)==null?void 0:D.netIncome)||0)>=0?"Profitable":"Loss"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-green-600"})}),"Total Revenue"]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Last ",a," days"]})]}),t.jsxs(Ee,{className:"space-y-4",children:[t.jsx("div",{className:"text-3xl font-bold text-green-600",children:g(((A=c.metrics)==null?void 0:A.totalRevenue)||0)}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Bookings:"}),t.jsx("span",{className:"font-medium",children:((R=c.metrics)==null?void 0:R.totalBookings)||0})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Guests:"}),t.jsx("span",{className:"font-medium",children:((L=c.metrics)==null?void 0:L.totalGuests)||0})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Avg Stay:"}),t.jsxs("span",{className:"font-medium",children:[(((z=c.metrics)==null?void 0:z.averageStayLength)||0).toFixed(1)," days"]})]})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-red-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg shadow-sm",children:t.jsx(Cn,{className:"h-5 w-5 text-red-600"})}),"Total Expenses"]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Last ",a," days"]})]}),t.jsxs(Ee,{className:"space-y-4",children:[t.jsx("div",{className:"text-3xl font-bold text-red-600",children:g(((Q=c.metrics)==null?void 0:Q.totalExpenses)||0)}),t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Expense Ratio:"}),t.jsx("span",{className:"font-medium text-red-600",children:(((K=c.metrics)==null?void 0:K.totalRevenue)||0)>0?v((((J=c.metrics)==null?void 0:J.totalExpenses)||0)/(((de=c.metrics)==null?void 0:de.totalRevenue)||1)*100):"0%"})]})})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(Nn,{className:"h-5 w-5 text-blue-600"})}),"Net Income"]}),t.jsxs(Dt,{className:"text-sm text-gray-600",children:["Last ",a," days"]})]}),t.jsxs(Ee,{className:"space-y-4",children:[t.jsx("div",{className:`text-3xl font-bold ${(((H=c.metrics)==null?void 0:H.netIncome)||0)>=0?"text-green-600":"text-red-600"}`,children:g(((ie=c.metrics)==null?void 0:ie.netIncome)||0)}),t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Profit Margin:"}),t.jsx("span",{className:`font-medium ${(((F=c.metrics)==null?void 0:F.netIncome)||0)>=0?"text-green-600":"text-red-600"}`,children:(((q=c.metrics)==null?void 0:q.totalRevenue)||0)>0?v((((W=c.metrics)==null?void 0:W.netIncome)||0)/(((he=c.metrics)==null?void 0:he.totalRevenue)||1)*100):"0%"})]})})]})]})]})]})]})})})}function zJ(){var E;const[e,s]=x.useState(null),[n,a]=x.useState(!1),[r,l]=x.useState(null),c=async()=>{a(!0),l(null);try{try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0,metricsFetches:0,financeMetricsFetches:0,listRefetchesBurst:0},window.__realtimeClientStats.financeMetricsFetches++}catch{}const T=localStorage.getItem("accessToken");if(!T)throw new Error("Not authenticated");const C=await fetch(`${xt.BASE_URL}/finance/events/metrics`,{headers:{Authorization:`Bearer ${T}`}});if(!C.ok){const R=await C.text();throw new Error(R||`HTTP ${C.status}`)}const I=await C.text();if(!I||I.trim()==="")throw new Error("Empty response from server");let D;try{D=JSON.parse(I)}catch{throw new Error(`Invalid JSON: ${I.substring(0,100)}`)}const A={realtime:D.realtime||{buffers:[],totals:{orgs:0,totalDropped:0},publishedByType:{},deliveredByType:{},maxBufferSize:200,eventTtlMs:25e3},database:D.metrics?{last24Hours:D.metrics.map(R=>({event_type:R.event_type,count:Number(R.count)||0}))}:void 0};s(A)}catch(T){console.error("Failed to fetch finance realtime metrics:",T),l(T instanceof Error?T.message:"Unknown error")}finally{a(!1)}};if(x.useEffect(()=>{const T=()=>{typeof document<"u"&&document.visibilityState!=="visible"||c()};T();const C=setInterval(T,6e4),I=()=>{document.visibilityState==="visible"&&c()};return document.addEventListener("visibilitychange",I),()=>{clearInterval(C),document.removeEventListener("visibilitychange",I)}},[]),r)return t.jsxs(Te,{className:"border-l-4 border-l-red-500",children:[t.jsx(Qe,{className:"pb-2",children:t.jsxs(Je,{className:"text-sm flex items-center gap-2",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),"Finance Realtime Health",t.jsx(Lt,{variant:"destructive",children:"Error"})]})}),t.jsxs(Ee,{children:[t.jsx("p",{className:"text-xs text-red-600",children:r}),t.jsxs(se,{size:"sm",variant:"outline",onClick:c,className:"mt-2",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]});if(!e)return t.jsx(Te,{className:"border-l-4 border-l-gray-300",children:t.jsx(Ee,{className:"flex items-center justify-center p-6",children:t.jsx(mt,{className:"h-6 w-6 animate-spin text-gray-400"})})});const u=e.realtime,m=((E=u.totals)==null?void 0:E.totalDropped)||0,f=u.buffers||[],p=u.publishedByType||{},g=u.deliveredByType||{},v=m===0,w=f.sort((T,C)=>C.size-T.size).slice(0,5),N=Object.values(p).reduce((T,C)=>T+C,0),j=Object.values(g).reduce((T,C)=>T+C,0),S=N>0?(j/N*100).toFixed(1):"100";return t.jsxs(Te,{className:"border-l-4 border-l-blue-500",children:[t.jsx(Qe,{className:"pb-3",children:t.jsxs(Je,{className:"text-sm flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Nn,{className:"h-4 w-4 text-blue-600"}),"Finance Realtime Health"]}),t.jsxs(Lt,{variant:v?"outline":"destructive",className:"flex items-center gap-1",children:[v?t.jsx(Ca,{className:"h-3 w-3 text-green-600"}):t.jsx(is,{className:"h-3 w-3"}),v?"Healthy":`${m} Drops`]})]})}),t.jsxs(Ee,{className:"space-y-4 text-xs",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"p-2 bg-blue-50 rounded border border-blue-200",children:[t.jsx("div",{className:"text-gray-600 text-[10px] uppercase font-medium mb-1",children:"Active Buffers"}),t.jsx("div",{className:"text-lg font-bold text-blue-700",children:f.length}),t.jsx("div",{className:"text-[10px] text-gray-500",children:"org streams"})]}),t.jsxs("div",{className:"p-2 bg-green-50 rounded border border-green-200",children:[t.jsx("div",{className:"text-gray-600 text-[10px] uppercase font-medium mb-1",children:"Delivery Rate"}),t.jsxs("div",{className:"text-lg font-bold text-green-700",children:[S,"%"]}),t.jsxs("div",{className:"text-[10px] text-gray-500",children:[j,"/",N," events"]})]})]}),w.length>0&&t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium mb-2 flex items-center gap-1",children:[t.jsx(Yb,{className:"h-3 w-3 text-gray-600"}),"Top Buffers (by size)"]}),t.jsx("div",{className:"space-y-1",children:w.map(T=>t.jsxs("div",{className:"flex justify-between items-center p-1.5 bg-gray-50 rounded",children:[t.jsxs("span",{className:"text-gray-700 font-medium",children:["Org ",T.orgId]}),t.jsxs(Lt,{variant:"secondary",className:"text-[10px]",children:[T.size," events"]})]},T.orgId))}),t.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:["Max: ",u.maxBufferSize," events/org, TTL: ",(u.eventTtlMs/1e3).toFixed(0),"s"]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium mb-2 flex items-center gap-1",children:[t.jsx(Nn,{className:"h-3 w-3 text-gray-600"}),"Delivery by Event Type"]}),t.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:Object.keys(p).length>0?Object.keys(p).sort((T,C)=>(p[C]||0)-(p[T]||0)).map(T=>{const C=p[T]||0,I=g[T]||0,D=C>0?(I/C*100).toFixed(0):"100",A=I>=C*.9;return t.jsxs("div",{className:"flex justify-between items-center p-1.5 bg-gray-50 rounded text-[11px]",children:[t.jsx("span",{className:"text-gray-700 truncate flex-1",children:T.replace(/_/g," ")}),t.jsxs("span",{className:A?"text-green-700 font-medium":"text-orange-700 font-medium",children:[I,"/",C," (",D,"%)"]})]},T)}):t.jsx("div",{className:"text-gray-500 text-center py-2",children:"No events yet"})})]}),m>0&&t.jsx("div",{className:"p-2 bg-red-50 rounded border border-red-200",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(is,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-red-900",children:"Dropped Events Detected"}),t.jsxs("div",{className:"text-[10px] text-red-700 mt-1",children:[m," events have been dropped due to buffer overflow. Consider scaling subscribers or adjusting buffer size."]})]})]})}),t.jsxs(se,{size:"sm",variant:"outline",onClick:c,disabled:n,className:"w-full",children:[t.jsx(mt,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),n?"Refreshing...":"Refresh Metrics"]}),t.jsx("div",{className:"text-[10px] text-gray-500 text-center pt-2 border-t",children:"Metrics auto-refresh every 60 seconds"})]})]})}function qJ(){const{user:e}=$s(),{theme:s,updateTheme:n,isLoading:a}=_a(),{setPageTitle:r}=Er(),{toast:l}=da(),c=kr(),u=x.useRef(null),{markEssentialStepCompleted:m}=Hw();x.useEffect(()=>{r("Settings","Configure your application preferences and branding")},[r]),x.useEffect(()=>{(e==null?void 0:e.role)==="ADMIN"&&m("setup-organization")},[e==null?void 0:e.role,m]),x.useEffect(()=>{if(!Os("BRANDING_REALTIME_V1",!0))return;const A=L=>{var Q;const z=((Q=L==null?void 0:L.detail)==null?void 0:Q.events)||[];if(!(!Array.isArray(z)||z.length===0)){if(!so.isProduction()&&Math.random()<.02)try{fetch("/telemetry/client",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify({sampleRate:.02,events:[{type:"branding_realtime_invalidation",counts:{events:z.length},ts:new Date().toISOString()}]})}).catch(()=>{})}catch{}l({title:"Branding updated",description:"Live settings changes have been applied."})}},R=L=>{};return window.addEventListener("branding-stream-events",A),window.addEventListener("branding-stream-health",R),()=>{window.removeEventListener("branding-stream-events",A),window.removeEventListener("branding-stream-health",R)}},[l]);const[f,p]=x.useState({brandName:s.brandName,logoUrl:s.logoUrl||"",primaryColor:s.primaryColor,secondaryColor:s.secondaryColor,accentColor:s.accentColor,currency:s.currency,dateFormat:s.dateFormat,timeFormat:s.timeFormat,timezone:s.timezone}),[g,v]=x.useState(!1),[w,N]=x.useState(null);x.useEffect(()=>{if(p({brandName:s.brandName,logoUrl:s.logoUrl||"",primaryColor:s.primaryColor,secondaryColor:s.secondaryColor,accentColor:s.accentColor,currency:s.currency,dateFormat:s.dateFormat,timeFormat:s.timeFormat,timezone:s.timezone}),s.logoUrl&&s.logoUrl.trim()!=="")if(s.logoUrl.startsWith("http"))N(s.logoUrl),console.log("Setting logo preview (external):",s.logoUrl);else{const D=`${xt.BASE_URL}${s.logoUrl}`;N(D),console.log("Setting logo preview (relative):",D)}else N(null)},[s]);const j=async D=>{var R,L,z;if(D.preventDefault(),!e){l({variant:"destructive",title:"Authentication Required",description:"Please log in to save your settings."}),c("/login",{replace:!0});return}if(!f.brandName||f.brandName.trim()===""){l({variant:"destructive",title:"Validation Error",description:"Brand name is required."});return}const A=/^#[0-9A-F]{6}$/i;if(!A.test(f.primaryColor)){l({variant:"destructive",title:"Validation Error",description:"Primary color must be a valid hex color (e.g., #3b82f6)."});return}if(!A.test(f.secondaryColor)){l({variant:"destructive",title:"Validation Error",description:"Secondary color must be a valid hex color (e.g., #64748b)."});return}if(!A.test(f.accentColor)){l({variant:"destructive",title:"Validation Error",description:"Accent color must be a valid hex color (e.g., #10b981)."});return}try{console.log("Submitting theme form:",f);const Q={...f};console.log("Theme data to submit:",Q),await n(Q),l({title:"Settings updated",description:"Your branding settings have been saved successfully."})}catch(Q){if(console.error("Failed to update theme:",Q),(R=Q.message)!=null&&R.includes("session has expired")||(L=Q.message)!=null&&L.includes("Invalid token")||(z=Q.message)!=null&&z.includes("Unauthorized")){l({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please log in again to save your settings."}),setTimeout(()=>{c("/login",{replace:!0})},2e3);return}const K=Q.message||"Failed to update settings. Please try again.";l({variant:"destructive",title:"Update failed",description:K})}},S=(D,A)=>{p(R=>({...R,[D]:A}))},E=async D=>{if(g){l({variant:"destructive",title:"Upload in Progress",description:"Please wait for the current upload to complete."});return}v(!0);try{if(console.log("Starting logo upload for file:",D.name,D.type,D.size),!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(D.type))throw new Error("File type not supported. Please upload images (JPG, PNG, GIF, WebP, SVG) only.");const R=5*1024*1024;if(D.size>R)throw new Error("File size too large. Maximum size is 5MB for logos.");const L=await D.arrayBuffer(),z=new Uint8Array(L),Q=btoa(String.fromCharCode(...z));console.log("File converted to base64, length:",Q.length);const K=await fetch(`${xt.BASE_URL}/branding/logo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({fileData:Q,filename:D.name,mimeType:D.type})});if(!K.ok){const H=await K.json().catch(()=>({}));throw new Error(H.message||`Upload failed: ${K.statusText}`)}const J=await K.json();console.log("Upload result:",J),p(H=>({...H,logoUrl:J.logoUrl}));const de=`data:${D.type};base64,${Q}`;N(de),console.log("Logo preview set:",de),console.log("Form logo URL updated:",J.logoUrl),l({title:"Logo uploaded successfully",description:"Your organization logo has been uploaded and will be saved when you click 'Save Changes'."})}catch(A){console.error("Logo upload error:",A),l({variant:"destructive",title:"Upload failed",description:A instanceof Error?A.message:"Failed to upload logo"})}finally{v(!1)}},T=()=>{console.log("Removing logo..."),p(D=>({...D,logoUrl:""})),N(null),u.current&&(u.current.value=""),console.log("Logo removed from form state"),l({title:"Logo removed",description:"Logo has been removed from the form. Click 'Save Changes' to apply."})},C=D=>{var R;const A=(R=D.target.files)==null?void 0:R[0];A&&E(A)},I=[{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Purple",value:"#8b5cf6"},{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Pink",value:"#ec4899"}];return(e==null?void 0:e.role)!=="ADMIN"?t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-6 pb-6 sm:py-6",children:t.jsx(Te,{className:"border-l-4 border-l-red-500 shadow-sm",children:t.jsx(Ee,{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(fd,{className:"h-6 w-6 text-red-600"})}),t.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Access Restricted"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Only Administrators can access organization settings."})]})})})})}):t.jsx("div",{className:"w-full min-h-screen bg-gray-50",children:t.jsxs("div",{className:"px-6 pb-6 sm:py-6",children:[t.jsx(Te,{className:"hidden sm:block border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200 mb-6",children:t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx(fd,{className:"h-5 w-5 text-blue-600"})}),"Settings"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage your organization settings and branding"})]})}),t.jsxs(jc,{defaultValue:"branding",theme:s,children:[t.jsx("div",{className:"sticky top-16 z-30 bg-white border-b border-gray-200 -mx-6 px-4 sm:px-6 py-3 shadow-sm",children:t.jsx("div",{className:"overflow-x-auto no-scrollbar",children:t.jsxs(ll,{className:"grid w-full grid-cols-4 min-w-max bg-gray-100",theme:s,children:[t.jsxs(Vs,{value:"branding",theme:s,children:[t.jsx(IC,{className:"h-4 w-4 mr-2"}),"Branding"]}),t.jsxs(Vs,{value:"organization",theme:s,children:[t.jsx(ca,{className:"h-4 w-4 mr-2"}),"Organization"]}),t.jsxs(Vs,{value:"integrations",theme:s,children:[t.jsx(fd,{className:"h-4 w-4 mr-2"}),"Integrations"]}),(e==null?void 0:e.role)==="ADMIN"&&t.jsxs(Vs,{value:"system-health",theme:s,children:[t.jsx($y,{className:"h-4 w-4 mr-2"}),"System Health"]})]})})}),t.jsxs("div",{className:"py-6",children:[t.jsx(ks,{value:"branding",className:"space-y-6 mt-0",children:t.jsxs("form",{onSubmit:j,className:"space-y-6",children:[t.jsxs(Te,{className:"border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shadow-sm",children:t.jsx(IC,{className:"h-5 w-5 text-purple-600"})}),"Brand Identity"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Customize your organization's visual identity and branding"})]}),t.jsxs(Ee,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"brandName",className:"text-sm font-medium text-gray-700",children:"Brand Name"}),t.jsx(ve,{id:"brandName",value:f.brandName,onChange:D=>p(A=>({...A,brandName:D.target.value})),placeholder:"Your organization name",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Organization Logo"}),(w||f.logoUrl&&f.logoUrl.trim()!=="")&&t.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-gray-50",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:w||(f.logoUrl.startsWith("http")?f.logoUrl:`${xt.BASE_URL}${f.logoUrl}`),alt:"Organization Logo",className:"h-16 w-16 object-contain rounded border",onError:D=>{console.error("Logo preview failed to load:",w||f.logoUrl),D.currentTarget.style.display="none"}}),t.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:T,className:"absolute -top-2 -right-2 h-6 w-6 p-0 bg-red-500 hover:bg-red-600 text-white rounded-full z-10",title:"Remove logo",children:t.jsx(Ws,{className:"h-3 w-3"})})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Current Logo"}),t.jsx("p",{className:"text-xs text-gray-500",children:f.logoUrl&&f.logoUrl.trim()!==""?"Logo uploaded successfully":"Preview of uploaded logo"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ve,{ref:u,type:"file",accept:"image/*",onChange:C,className:"flex-1 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",disabled:g}),t.jsx(se,{type:"button",variant:"outline",onClick:()=>{var D;return(D=u.current)==null?void 0:D.click()},disabled:g,className:"h-11 px-4 transition-all duration-200 hover:scale-105 hover:shadow-md flex-shrink-0",children:g?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900"}):t.jsx(ul,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Upload your organization logo (JPG, PNG, GIF, WebP, SVG). Max size: 5MB"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"logoUrl",className:"text-sm font-medium text-gray-700",children:"Or provide logo URL"}),t.jsx(ve,{id:"logoUrl",value:f.logoUrl,onChange:D=>p(A=>({...A,logoUrl:D.target.value})),placeholder:"https://example.com/logo.png",className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),!1]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Color Scheme"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"primaryColor",className:"text-sm font-medium text-gray-700",children:"Primary Color"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(ve,{id:"primaryColor",type:"color",value:f.primaryColor,onChange:D=>S("primaryColor",D.target.value),className:"w-16 h-11 p-1 border border-gray-300 rounded focus:border-blue-500 focus:ring-blue-500"}),t.jsx(ve,{value:f.primaryColor,onChange:D=>S("primaryColor",D.target.value),placeholder:"#3b82f6",className:"flex-1 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:I.map(D=>t.jsx("button",{type:"button",onClick:()=>S("primaryColor",D.value),className:"w-8 h-8 rounded border-2 border-gray-200 hover:border-gray-400 transition-all duration-200 hover:scale-110",style:{backgroundColor:D.value},title:D.name},D.name))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"secondaryColor",className:"text-sm font-medium text-gray-700",children:"Secondary Color"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(ve,{id:"secondaryColor",type:"color",value:f.secondaryColor,onChange:D=>S("secondaryColor",D.target.value),className:"w-16 h-11 p-1 border border-gray-300 rounded focus:border-blue-500 focus:ring-blue-500"}),t.jsx(ve,{value:f.secondaryColor,onChange:D=>S("secondaryColor",D.target.value),placeholder:"#64748b",className:"flex-1 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"accentColor",className:"text-sm font-medium text-gray-700",children:"Accent Color"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(ve,{id:"accentColor",type:"color",value:f.accentColor,onChange:D=>S("accentColor",D.target.value),className:"w-16 h-11 p-1 border border-gray-300 rounded focus:border-blue-500 focus:ring-blue-500"}),t.jsx(ve,{value:f.accentColor,onChange:D=>S("accentColor",D.target.value),placeholder:"#10b981",className:"flex-1 h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]})]})]})]}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shadow-sm",children:t.jsx(fd,{className:"h-5 w-5 text-green-600"})}),"Localization"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Configure regional settings and formats"})]}),t.jsx(Ee,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"currency",className:"text-sm font-medium text-gray-700",children:"Currency"}),t.jsxs(st,{value:f.currency,onValueChange:D=>p(A=>({...A,currency:D})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select currency"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"INR",children:"INR - Indian Rupee"}),t.jsx(me,{value:"USD",children:"USD - US Dollar"}),t.jsx(me,{value:"EUR",children:"EUR - Euro"}),t.jsx(me,{value:"GBP",children:"GBP - British Pound"}),t.jsx(me,{value:"CAD",children:"CAD - Canadian Dollar"}),t.jsx(me,{value:"AUD",children:"AUD - Australian Dollar"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"dateFormat",className:"text-sm font-medium text-gray-700",children:"Date Format"}),t.jsxs(st,{value:f.dateFormat,onValueChange:D=>p(A=>({...A,dateFormat:D})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select date format"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),t.jsx(me,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),t.jsx(me,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"timeFormat",className:"text-sm font-medium text-gray-700",children:"Time Format"}),t.jsxs(st,{value:f.timeFormat,onValueChange:D=>p(A=>({...A,timeFormat:D})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select time format"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"24h",children:"24 Hour"}),t.jsx(me,{value:"12h",children:"12 Hour"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"timezone",className:"text-sm font-medium text-gray-700",children:"Timezone"}),t.jsxs(st,{value:f.timezone,onValueChange:D=>p(A=>({...A,timezone:D})),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:t.jsx(at,{placeholder:"Select timezone"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"Asia/Kolkata",children:"Asia/Kolkata (IST)"}),t.jsx(me,{value:"UTC",children:"UTC"}),t.jsx(me,{value:"America/New_York",children:"America/New_York (EST)"}),t.jsx(me,{value:"America/Los_Angeles",children:"America/Los_Angeles (PST)"}),t.jsx(me,{value:"Europe/London",children:"Europe/London (GMT)"}),t.jsx(me,{value:"Europe/Paris",children:"Europe/Paris (CET)"}),t.jsx(me,{value:"Asia/Tokyo",children:"Asia/Tokyo (JST)"}),t.jsx(me,{value:"Asia/Shanghai",children:"Asia/Shanghai (CST)"}),t.jsx(me,{value:"Australia/Sydney",children:"Australia/Sydney (AEST)"})]})]})]})]})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(se,{type:"submit",disabled:a,className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 hover:scale-105 hover:shadow-md h-11 px-6",children:a?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t.jsx("span",{className:"hidden sm:inline",children:"Saving..."}),t.jsx("span",{className:"sm:hidden",children:"Save"})]}):t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ZE,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Save Changes"}),t.jsx("span",{className:"sm:hidden",children:"Save"})]})})})]})}),t.jsx(ks,{value:"organization",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-orange-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg shadow-sm",children:t.jsx(ca,{className:"h-5 w-5 text-orange-600"})}),"Organization Details"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Manage your organization information and settings"})]}),t.jsx(Ee,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Organization Name"}),t.jsx(ve,{value:s.brandName,disabled:!0,className:"h-11 border-gray-300 bg-gray-50"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Subdomain"}),t.jsx(ve,{value:"demo.hospitality.com",disabled:!0,className:"h-11 border-gray-300 bg-gray-50"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Contact support to change your subdomain"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Plan"}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Professional Plan"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Up to 10 properties, unlimited users"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Upgrade"})]})]})]})})]})}),t.jsx(ks,{value:"integrations",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-indigo-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg shadow-sm",children:t.jsx(fd,{className:"h-5 w-5 text-indigo-600"})}),"Integrations"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Connect with third-party services and platforms"})]}),t.jsx(Ee,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Booking.com"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Sync reservations and availability"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Connect"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Airbnb"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage Airbnb listings and bookings"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Connect"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Stripe"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Process payments and manage billing"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Connect"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"QuickBooks"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Sync financial data and accounting"})]}),t.jsx(se,{variant:"outline",size:"sm",className:"transition-all duration-200 hover:scale-105 hover:shadow-md",children:"Connect"})]})]})})]})}),(e==null?void 0:e.role)==="ADMIN"&&t.jsx(ks,{value:"system-health",className:"space-y-6 mt-0",children:t.jsxs(Te,{className:"border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shadow-sm",children:t.jsx($y,{className:"h-5 w-5 text-blue-600"})}),"System Health Monitoring"]}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Monitor realtime event streams, buffer status, and system performance"})]}),t.jsxs(Ee,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(zJ,{}),t.jsxs(Te,{className:"border-l-4 border-l-gray-300",children:[t.jsx(Qe,{className:"pb-3",children:t.jsx(Je,{className:"text-sm",children:"Additional Metrics"})}),t.jsx(Ee,{children:t.jsx("p",{className:"text-xs text-gray-500",children:"More system health metrics will be available here soon."})})]})]}),t.jsx("div",{className:"p-4 bg-blue-50 rounded border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx($y,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-blue-900 text-sm",children:"About System Health"}),t.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"This dashboard provides real-time monitoring of the Finance Pub/Sub system. Metrics auto-refresh every 30 seconds. Use this to diagnose realtime update issues, monitor buffer occupancy, and validate event delivery across all organizations."})]})]})})]})]})})]})]})]})})}function jk({score:e,showIcon:s=!0,size:n="sm"}){const r=e>=90?{label:"High Confidence",color:"bg-green-100 text-green-800 border-green-300",icon:Ca}:e>=70?{label:"Please Verify",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Kb}:{label:"Manual Entry Recommended",color:"bg-red-100 text-red-800 border-red-300",icon:mg},l=r.icon,c={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"};return t.jsxs(Lt,{variant:"outline",className:`${r.color} ${c[n]} font-medium flex items-center gap-1.5 flex-shrink-0`,children:[s&&t.jsx(l,{className:"h-3 w-3"}),t.jsxs("span",{children:[e,"%"]}),n!=="sm"&&t.jsxs("span",{className:"hidden sm:inline",children:[" ",r.label]})]})}async function $J(e,s={}){const{maxWidth:n=2048,maxHeight:a=2048,quality:r=.8,maxSizeMB:l=10,format:c="jpeg"}=s;return new Promise((u,m)=>{const f=document.createElement("canvas"),p=f.getContext("2d"),g=new Image;g.onload=()=>{try{let{width:v,height:w}=g;if(v>n||w>a){const N=v/w;v>w?(v=Math.min(v,n),w=v/N):(w=Math.min(w,a),v=w*N)}f.width=v,f.height=w,p==null||p.drawImage(g,0,0,v,w),f.toBlob(N=>{if(!N){m(new Error("Failed to compress image"));return}const j=N.size/(1024*1024),E={compressedFile:new File([N],e.name.replace(/\.[^/.]+$/,`.${c}`),{type:`image/${c}`,lastModified:Date.now()}),originalSize:e.size,compressedSize:N.size,compressionRatio:(1-N.size/e.size)*100,quality:r};u(E)},`image/${c}`,r)}catch(v){m(v)}},g.onerror=()=>{m(new Error("Failed to load image for compression"))},g.src=URL.createObjectURL(e)})}async function HJ(e,s=5){if(e.size/1048576<=1)return{compressedFile:e,originalSize:e.size,compressedSize:e.size,compressionRatio:0,quality:1};const a=[.6,.5,.4,.3,.2];for(const r of a)try{const l=await $J(e,{maxWidth:1200,maxHeight:1200,quality:r,maxSizeMB:s,format:"jpeg"}),c=l.compressedSize/(1024*1024),u=l.compressionRatio;if(console.log(`Compression attempt: quality=${r}, size=${c.toFixed(2)}MB, reduction=${u.toFixed(1)}%`),u>=20||c<=s)return l}catch(l){console.warn(`Compression failed at quality ${r}:`,l)}return console.warn("All compression attempts failed, returning original file"),{compressedFile:e,originalSize:e.size,compressedSize:e.size,compressionRatio:0,quality:1}}const GJ=e=>({aadhaar:"Aadhaar Card",aadhaar_front:"Aadhaar Card (Front)",aadhaar_back:"Aadhaar Card (Back)",pan_card:"PAN Card",driving_license:"Driving License",driving_license_front:"Driving License (Front)",driving_license_back:"Driving License (Back)",election_card:"Election Card",election_card_front:"Election Card (Front)",election_card_back:"Election Card (Back)",passport:"Passport",visa_front:"Visa (Front)",visa_back:"Visa (Back)",other:"ID Document"})[e]||e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase());function lp({documentType:e,label:s,onUploadComplete:n,onExtractionComplete:a,onUploadStatusChange:r,className:l="",maxSize:c=100}){const[u,m]=x.useState(!1),[f,p]=x.useState(!1),[g,v]=x.useState(0),[w,N]=x.useState(null),[j,S]=x.useState(null),E=x.useRef(null),[T,C]=x.useState("idle"),I=async J=>{if(N(null),C("uploading"),!["image/jpeg","image/jpg","image/png","image/webp"].includes(J.type)){N("File type not supported. Please upload JPEG, PNG, or WEBP images."),C("error");return}p(!0),v(10);try{let H=J,ie="";const F=J.size/(1024*1024);if(console.log(`File size: ${F.toFixed(2)}MB, Max allowed: ${c}MB`),F>1){v(20),C("extracting"),console.log("Compression needed, starting compression...");try{const pe=await HJ(J,3);H=pe.compressedFile;const le=(pe.originalSize/(1024*1024)).toFixed(2),ye=(pe.compressedSize/(1024*1024)).toFixed(2),ke=pe.compressionRatio.toFixed(1);console.log(`Compression successful: ${le}MB -> ${ye}MB (${ke}% reduction)`),ie=` (compressed from ${le}MB to ${ye}MB, ${ke}% reduction)`,xE({title:"Image compressed",description:`File size reduced by ${ke}% for faster upload`,duration:3e3})}catch(pe){console.error("Compression failed, using original file:",pe)}}else console.log("File size is acceptable, no compression needed");if(H.size>c*1024*1024){const pe=(H.size/1048576).toFixed(2);N(`File size too large even after compression. Maximum size is ${c}MB (your file is ${pe}MB). Please use a smaller image.`),C("error");return}v(40),C("extracting"),console.log(`Converting file to base64. Size: ${(H.size/(1024*1024)).toFixed(2)}MB`);const q=await H.arrayBuffer(),W=new Uint8Array(q),he=8192;let $="";for(let pe=0;pe<W.length;pe+=he){const le=W.slice(pe,pe+he);$+=String.fromCharCode(...le)}const M=btoa($),V=M.length*.75/(1024*1024);console.log(`Base64 conversion complete. Base64 size: ${V.toFixed(2)}MB`),V>100&&console.warn(`Base64 size (${V.toFixed(2)}MB) exceeds 100MB limit`),v(40),C("extracting");const G=await fetch("http://localhost:4000/v1/guest-checkin/documents/extract-only",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({documentType:e,fileData:M,filename:H.name,mimeType:H.type})});if(v(80),!G.ok){let pe="Upload failed";try{const le=await G.json();pe=le.message||le.error||"Upload failed"}catch{pe=`Upload failed: ${G.status} ${G.statusText}`}throw new Error(pe)}let B;try{B=await G.json()}catch{throw new Error("Invalid response from server. Please try again.")}v(100),C("complete");const ce={documentType:B.detectedDocumentType||e,filename:H.name+ie,fileData:M,mimeType:H.type,extractedData:B.extractedData,overallConfidence:B.overallConfidence,detectedDocumentType:B.detectedDocumentType,documentTypeConfidence:B.documentTypeConfidence,success:!0};S(ce),n(ce),r==null||r(!0,ce),B.extractionStatus==="completed"&&a&&a(B.extractedData)}catch(H){console.error("Upload error:",H),N(H instanceof Error?H.message:"Failed to upload document"),C("error")}finally{p(!1),v(0)}},D=J=>{J.preventDefault(),m(!1);const de=Array.from(J.dataTransfer.files);de.length>0&&I(de[0])},A=J=>{J.preventDefault(),m(!0)},R=J=>{J.preventDefault(),m(!1)},L=J=>{const de=J.currentTarget,H=Array.from(de.files||[]);H.length>0&&I(H[0]),de.value=""},z=()=>{var J;E.current&&(E.current.value=""),(J=E.current)==null||J.click()},Q=async()=>{try{const J=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});z()}catch(J){console.error("Camera access denied:",J),z()}},K=()=>{r==null||r(!1,j),S(null),C("idle"),N(null),E.current&&(E.current.value="")};return t.jsxs("div",{className:l,children:[t.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:L,className:"hidden"}),j?t.jsx(Te,{className:"border-l-4 border-l-green-500 shadow-sm",children:t.jsx(Ee,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(nn,{className:"h-5 w-5 text-green-600"}),t.jsx("h4",{className:"font-medium text-gray-900",children:j.detectedDocumentType?`${GJ(j.detectedDocumentType)} Uploaded`:`${s} Uploaded`})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:j.filename}),j.detectedDocumentType&&j.documentTypeConfidence&&t.jsxs("div",{className:"space-y-2 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Detected Type:"}),t.jsx(jk,{score:j.documentTypeConfidence})]}),j.documentTypeConfidence<85&&t.jsx("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded-md",children:t.jsxs("p",{className:"text-xs text-orange-800 flex items-center gap-1",children:[t.jsx(is,{className:"h-3 w-3"}),t.jsx("strong",{children:"Low detection confidence."})," Please verify the document type is correct."]})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Extraction Confidence:"}),t.jsx(jk,{score:j.overallConfidence})]}),Object.keys(j.extractedData).length>0&&t.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-xs text-green-700 font-medium mb-2",children:"Extracted Fields:"}),t.jsxs("div",{className:"space-y-1",children:[Object.entries(j.extractedData).slice(0,3).map(([J,de])=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("span",{className:"text-gray-700",children:[J,":"]}),t.jsx("span",{className:"text-gray-900 font-medium truncate ml-2",style:{maxWidth:"200px"},children:de.value})]},J)),Object.keys(j.extractedData).length>3&&t.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",Object.keys(j.extractedData).length-3," more fields"]})]})]})]}),t.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:K,className:"flex-shrink-0",children:t.jsx(Ws,{className:"h-4 w-4"})})]})})}):t.jsx("div",{onDrop:D,onDragOver:A,onDragLeave:R,className:`
            border-2 border-dashed rounded-lg p-6 transition-all duration-200
            ${u?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"}
            ${f?"opacity-60 cursor-not-allowed":"cursor-pointer hover:border-blue-400 hover:bg-blue-50/50"}
          `,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4",children:t.jsx(ul,{className:"h-12 w-12 text-gray-400 mx-auto"})}),t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:s}),f?t.jsxs("div",{className:"space-y-3",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[T==="uploading"&&"Uploading document...",T==="extracting"&&"Extracting information..."]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Drag and drop or click to upload"}),t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:z,className:"flex-shrink-0",children:[t.jsx(ul,{className:"h-4 w-4 mr-2"}),"Choose File"]}),t.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:Q,className:"flex-shrink-0",children:[t.jsx(YE,{className:"h-4 w-4 mr-2"}),"Take Photo"]})]}),t.jsxs("p",{className:"text-xs text-gray-400 mt-3",children:["JPEG, PNG, WEBP  Max ",c,"MB"]})]})]})}),w&&t.jsxs(rl,{className:"mt-3 border-red-200 bg-red-50",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),t.jsx(il,{className:"text-red-800",children:w})]})]})}function YJ({open:e,onClose:s,guestCheckInId:n,guestName:a,documents:r}){const[l,c]=x.useState(null),[u,m]=x.useState(100),[f,p]=x.useState(0),[g,v]=x.useState(!1),[w,N]=x.useState({});x.useEffect(()=>{r.length>0&&!l&&c(r[0].id)},[r,l]),x.useEffect(()=>{if(e){try{window.dispatchEvent(new CustomEvent("realtime:suspend"))}catch{}return()=>{try{window.dispatchEvent(new CustomEvent("realtime:resume"))}catch{}}}},[e]);const{data:j,isLoading:S}=Xt({queryKey:["document-data",l],queryFn:async()=>{if(!l)return null;const R=await fetch(`${xt.BASE_URL}/guest-checkin/documents/${l}/view`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!R.ok)throw new Error(`Failed to fetch document: ${R.statusText}`);return R.json()},enabled:!!l&&e,staleTime:300*1e3}),E=()=>m(R=>Math.min(R+25,200)),T=()=>m(R=>Math.max(R-25,50)),C=()=>p(R=>(R+90)%360),I=()=>{m(100),p(0)},D=async R=>{try{const L=await fetch(`${xt.BASE_URL}/guest-checkin/documents/${R}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!L.ok)throw new Error("Download failed");const z=await L.json(),Q=atob(z.fileData),K=new Array(Q.length);for(let F=0;F<Q.length;F++)K[F]=Q.charCodeAt(F);const J=new Uint8Array(K),de=new Blob([J],{type:z.mimeType}),H=window.URL.createObjectURL(de),ie=document.createElement("a");ie.style.display="none",ie.href=H,ie.download=z.filename,document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(H),document.body.removeChild(ie)}catch(L){console.error("Download error:",L)}},A=R=>({aadhaar_front:"Aadhaar Card (Front)",aadhaar_back:"Aadhaar Card (Back)",pan_card:"PAN Card",passport:"Passport",visa_front:"Visa (Front)",visa_back:"Visa (Back)"})[R]||R;return r.find(R=>R.id===l),t.jsx(bs,{open:e,onOpenChange:s,children:t.jsx(iw,{children:t.jsxs(Es,{className:"max-w-6xl max-h-[98vh] w-[95vw] border-0 shadow-2xl bg-gradient-to-br from-slate-50 via-white to-green-50 flex flex-col rounded-3xl overflow-hidden",showCloseButton:!1,children:[t.jsx("div",{className:"sticky top-0 z-[60] bg-gradient-to-r from-white via-green-50 to-emerald-50 border-b border-green-200/50 shadow-xl backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:"p-3 rounded-2xl shadow-lg bg-gradient-to-br from-green-100 to-emerald-200",children:t.jsx("div",{className:"text-2xl",children:""})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(Bs,{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 bg-clip-text text-transparent truncate",children:"Guest Documents"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxs(Lt,{className:"bg-green-100 text-green-800 text-xs sm:text-sm font-bold px-3 py-1 shadow-md rounded-full",children:[t.jsx(rn,{className:"h-3 w-3 mr-1"}),a]}),t.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 bg-white/50 px-2 py-1 rounded-full",children:[r.length," ",r.length===1?"Document":"Documents"]})]})]})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:s,className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-110 flex-shrink-0",children:t.jsx(Ws,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})}),r.length===0?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-gray-400 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 m-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-gray-200 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-gray-500"})}),t.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:" No Documents Available"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Upload documents during check-in to view them here"})]})}):t.jsx("div",{className:"flex-1 overflow-auto px-6 pb-6",children:t.jsx("div",{className:"space-y-6 p-2",children:t.jsxs(cj,{value:l==null?void 0:l.toString(),onValueChange:R=>c(parseInt(R)),className:"space-y-6",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsx(cR,{className:"w-full justify-start bg-gradient-to-r from-gray-100 to-green-100 rounded-lg p-2 border border-green-200",children:r.map(R=>t.jsx(dR,{value:R.id.toString(),className:"text-xs sm:text-sm px-4 py-3 data-[state=active]:bg-white data-[state=active]:shadow-lg data-[state=active]:text-green-700 font-semibold rounded-lg transition-all",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rs,{className:"h-4 w-4"}),A(R.documentType),R.isVerified&&t.jsx(Ca,{className:"h-3 w-3 text-green-600"})]})},R.id))})}),r.map(R=>t.jsx(ks,{value:R.id.toString(),className:"space-y-6 mt-0",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex flex-wrap items-center justify-center sm:justify-end gap-3 p-4 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-lg border-2 border-indigo-200",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-lg px-3 py-1 border border-indigo-200",children:[t.jsx(se,{size:"sm",variant:"ghost",onClick:T,disabled:u<=50,className:"h-8 w-8 p-0 hover:bg-indigo-100",children:""}),t.jsxs("span",{className:"text-sm font-medium text-indigo-700 min-w-[3rem] text-center",children:[u,"%"]}),t.jsx(se,{size:"sm",variant:"ghost",onClick:E,disabled:u>=200,className:"h-8 w-8 p-0 hover:bg-indigo-100",children:"+"}),t.jsx(se,{size:"sm",variant:"ghost",onClick:I,className:"h-8 px-2 text-xs hover:bg-indigo-100",children:"Reset"})]}),t.jsx(se,{size:"sm",variant:"ghost",onClick:C,className:"h-8 w-8 p-0 bg-white border border-indigo-200 hover:bg-indigo-100",children:t.jsx(tL,{className:"h-4 w-4 text-indigo-700"})}),t.jsx(se,{size:"sm",variant:"ghost",onClick:()=>v(!g),className:"h-8 w-8 p-0 bg-white border border-indigo-200 hover:bg-indigo-100",children:g?t.jsx(Y_,{className:"h-4 w-4 text-indigo-700"}):t.jsx($_,{className:"h-4 w-4 text-indigo-700"})}),t.jsx(se,{onClick:()=>D(R.id),size:"sm",className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold px-3 py-2 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",title:"Download Document",children:t.jsx(Ln,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 bg-white shadow-lg",children:[S?t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-blue-300 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-blue-700 font-semibold",children:"Loading document..."}),t.jsx("p",{className:"text-blue-600 text-sm",children:"Please wait while we fetch your document"})]})}):j?t.jsx("div",{className:`flex justify-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200 overflow-auto ${g?"h-[70vh]":"h-96"}`,children:w[R.id]?t.jsxs("div",{className:"bg-white p-8 shadow-lg rounded-lg text-center",children:[t.jsx(Rs,{className:"h-32 w-32 text-gray-300 mx-auto mb-4"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Document: ",R.filename]}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Preview failed to load"})]}):t.jsx("img",{src:`data:${j.mimeType};base64,${j.fileData}`,alt:A(R.documentType),className:"rounded-lg shadow-lg border border-gray-300 hover:shadow-xl transition-shadow duration-300",style:{transform:`scale(${u/100}) rotate(${f}deg)`,transition:"transform 0.3s ease",maxWidth:"100%",height:"auto",objectFit:"contain"},onError:()=>N(L=>({...L,[R.id]:!0}))})}):t.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-gray-400 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"p-4 bg-gray-200 rounded-full inline-block mb-4",children:t.jsx(Rs,{className:"h-12 w-12 text-gray-500"})}),t.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:" No Document Data"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Unable to load document preview"})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Filename"}),t.jsx("p",{className:"font-semibold text-gray-800 text-sm truncate",children:(j==null?void 0:j.filename)||R.originalFilename})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Size"}),t.jsxs("p",{className:"font-semibold text-gray-800",children:[(R.fileSize/1024).toFixed(2)," KB"]})]}),j&&t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg col-span-2",children:[t.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"Type"}),t.jsx("p",{className:"font-semibold text-gray-800",children:j.mimeType})]})]})]})]})},R.id))]})})})]})})})}function WJ({logs:e,isLoading:s,error:n,pagination:a,onRefresh:r,onExport:l,onViewDetails:c,className:u=""}){const m=g=>({create_checkin:Ca,update_checkin:jr,delete_checkin:jn,checkout_guest:Uh,view_guest_details:un,upload_document:ul,view_documents:un,view_document:un,download_document:Ln,delete_document:jn,verify_document:Ca,generate_c_form:Rs,download_c_form:Ln,query_audit_logs:Rs,export_audit_logs:Ln,unauthorized_access_attempt:rn})[g]||Rs,f=(g,v)=>{if(!v)return t.jsx(Lt,{className:"bg-red-100 text-red-800 border-red-300 text-xs",children:"Failed"});const N={create_checkin:{color:"bg-green-100 text-green-800 border-green-300",label:"Create"},update_checkin:{color:"bg-blue-100 text-blue-800 border-blue-300",label:"Update"},delete_checkin:{color:"bg-red-100 text-red-800 border-red-300",label:"Delete"},checkout_guest:{color:"bg-purple-100 text-purple-800 border-purple-300",label:"Checkout"},view_guest_details:{color:"bg-gray-100 text-gray-800 border-gray-300",label:"View Details"},upload_document:{color:"bg-green-100 text-green-800 border-green-300",label:"Upload"},view_documents:{color:"bg-gray-100 text-gray-800 border-gray-300",label:"View Docs"},download_document:{color:"bg-blue-100 text-blue-800 border-blue-300",label:"Download"},generate_c_form:{color:"bg-blue-100 text-blue-800 border-blue-300",label:"C-Form"},download_c_form:{color:"bg-blue-100 text-blue-800 border-blue-300",label:"C-Form DL"},unauthorized_access_attempt:{color:"bg-red-100 text-red-800 border-red-300",label:"Unauthorized"}}[g]||{color:"bg-gray-100 text-gray-800",label:g},j=m(g);return t.jsxs(Lt,{className:`${N.color} text-xs flex items-center gap-1 w-fit`,children:[t.jsx(j,{className:"h-3 w-3"}),N.label]})},p=g=>{const v=new Date(g);return new Intl.DateTimeFormat("en-IN",{dateStyle:"short",timeStyle:"medium"}).format(v)};return t.jsxs(Te,{className:`border-l-4 border-l-blue-500 shadow-lg hover:shadow-xl transition-shadow duration-200 ${u}`,children:[t.jsx(Qe,{className:"pb-4 bg-gradient-to-r from-blue-50 to-transparent dark:from-blue-900/20",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs(Je,{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:t.jsx(rn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Audit Trail",t.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full font-medium",children:[(a==null?void 0:a.total)||e.length," ",((a==null?void 0:a.total)||e.length)===1?"Entry":"Entries"]})]}),t.jsx(Dt,{className:"mt-1",children:"Complete history of actions on guest records with full context"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(se,{variant:"outline",size:"sm",onClick:r,disabled:s,className:"flex-shrink-0 hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[t.jsx(mt,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),t.jsxs(se,{variant:"outline",size:"sm",onClick:l,className:"flex-shrink-0 hover:bg-green-50 hover:border-green-300 transition-colors",children:[t.jsx(Ln,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]})]})}),t.jsxs(Ee,{children:[n&&t.jsxs(rl,{className:"mb-4 border-red-200 bg-red-50",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),t.jsx(il,{className:"text-red-800",children:n})]}),s?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading audit logs..."}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please wait"})]})}):e.length===0?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No audit logs found"}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Try adjusting your filters"})]})}):t.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"border-b-2 border-gray-200 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-800/50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Timestamp"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Action"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Guest"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Duration"}),t.jsx("th",{className:"p-4 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Details"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map((g,v)=>t.jsxs("tr",{className:`
                      hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-colors duration-150
                      ${g.success?v%2===0?"bg-white dark:bg-gray-850":"bg-gray-50/50 dark:bg-gray-800/30":"bg-red-50 dark:bg-red-900/10"}
                    `,children:[t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zn,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),t.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:p(g.timestamp)})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(Ya,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",style:{maxWidth:"180px"},children:g.user.email}),t.jsx(Lt,{variant:"outline",className:"mt-0.5 text-xs",children:g.user.role})]})]})}),t.jsx("td",{className:"p-4",children:f(g.action.type,g.success)}),t.jsx("td",{className:"p-4",children:g.guest.name?t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Ya,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",style:{maxWidth:"140px"},children:g.guest.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",g.guest.checkInId]})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:""})}),t.jsx("td",{className:"p-4",children:g.durationMs?t.jsxs("span",{className:"text-sm font-mono text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:[g.durationMs,"ms"]}):t.jsx("span",{className:"text-sm text-gray-400",children:""})}),t.jsx("td",{className:"p-4",children:c&&t.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>c(g),className:"h-8 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",title:"View detailed audit information",children:[t.jsx(un,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"text-xs hidden lg:inline",children:"View"})]})})]},g.id))})]})})]})]})}const KJ=[{value:"create_checkin",label:"Create Check-in"},{value:"update_checkin",label:"Update Check-in"},{value:"delete_checkin",label:"Delete Check-in"},{value:"checkout_guest",label:"Checkout Guest"},{value:"view_guest_details",label:"View Guest Details"},{value:"upload_document",label:"Upload Document"},{value:"view_documents",label:"View Documents"},{value:"download_document",label:"Download Document"},{value:"delete_document",label:"Delete Document"},{value:"verify_document",label:"Verify Document"}],QJ=[{value:"guest_checkin",label:"Guest Check-in"},{value:"guest_document",label:"Guest Document"},{value:"audit_log",label:"Audit Log"}];function JJ({filters:e,onFiltersChange:s,onClear:n,className:a=""}){const r=(c,u)=>{s({...e,[c]:u||void 0})},l=Object.values(e).some(c=>c!==void 0&&c!=="");return t.jsx(Te,{className:`border-l-4 border-l-purple-500 shadow-sm ${a}`,children:t.jsxs(Ee,{className:"pt-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"start-date",className:"text-sm font-medium text-gray-700",children:"Start Date"}),t.jsx(ve,{id:"start-date",type:"date",value:e.startDate||"",onChange:c=>r("startDate",c.target.value),className:"h-11 border-gray-300 focus:border-purple-500 focus:ring-purple-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"end-date",className:"text-sm font-medium text-gray-700",children:"End Date"}),t.jsx(ve,{id:"end-date",type:"date",value:e.endDate||"",onChange:c=>r("endDate",c.target.value),className:"h-11 border-gray-300 focus:border-purple-500 focus:ring-purple-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"action-type",className:"text-sm font-medium text-gray-700",children:"Action Type"}),t.jsxs(st,{value:e.actionType||"all",onValueChange:c=>r("actionType",c==="all"?"":c),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-purple-500 focus:ring-purple-500",children:t.jsx(at,{placeholder:"All Actions"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Actions"}),KJ.map(c=>t.jsx(me,{value:c.value,children:c.label},c.value))]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"resource-type",className:"text-sm font-medium text-gray-700",children:"Resource Type"}),t.jsxs(st,{value:e.resourceType||"all",onValueChange:c=>r("resourceType",c==="all"?"":c),children:[t.jsx(nt,{className:"h-11 border-gray-300 focus:border-purple-500 focus:ring-purple-500",children:t.jsx(at,{placeholder:"All Resources"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Resources"}),QJ.map(c=>t.jsx(me,{value:c.value,children:c.label},c.value))]})]})]})]}),l&&t.jsx("div",{className:"mt-4",children:t.jsxs(se,{variant:"outline",size:"sm",onClick:n,className:"text-xs",children:[t.jsx(Ws,{className:"h-3 w-3 mr-2"}),"Clear Filters"]})})]})})}const Th=x.forwardRef(({className:e="",orientation:s="horizontal",decorative:n=!0,...a},r)=>{const l="shrink-0 bg-gray-200 dark:bg-gray-700",c=s==="horizontal"?"h-[1px] w-full my-4":"h-full w-[1px] mx-4";return t.jsx("div",{ref:r,role:n?"none":"separator","aria-orientation":s,className:`${l} ${c} ${e}`.trim(),...a})});Th.displayName="Separator";function XJ({open:e,onClose:s,log:n}){var g,v,w;const{toast:a}=da();if(!n)return null;const r=N=>({create_checkin:Ca,update_checkin:jr,delete_checkin:jn,checkout_guest:Uh,view_guest_details:un,upload_document:ul,view_documents:un,view_document:un,download_document:Ln,delete_document:jn,verify_document:Ca,generate_c_form:Rs,download_c_form:Ln,query_audit_logs:Rs,export_audit_logs:Ln,unauthorized_access_attempt:rn})[N]||Rs,l=N=>({create_checkin:"text-green-600",update_checkin:"text-blue-600",delete_checkin:"text-red-600",checkout_guest:"text-purple-600",view_guest_details:"text-gray-600",upload_document:"text-green-600",view_documents:"text-gray-600",generate_c_form:"text-blue-600",download_c_form:"text-blue-600",unauthorized_access_attempt:"text-red-600"})[N]||"text-gray-600",c=N=>({create_checkin:"Guest Check-in Created",update_checkin:"Guest Check-in Updated",delete_checkin:"Guest Check-in Deleted",checkout_guest:"Guest Checked Out",view_guest_details:"Viewed Guest Details",upload_document:"Document Uploaded",view_documents:"Viewed Documents",view_document:"Viewed Document",download_document:"Document Downloaded",delete_document:"Document Deleted",verify_document:"Document Verified",generate_c_form:"Form C Generated",download_c_form:"Form C Downloaded",query_audit_logs:"Queried Audit Logs",export_audit_logs:"Exported Audit Logs",unauthorized_access_attempt:"Unauthorized Access Attempt"})[N]||N.replace(/_/g," ").toUpperCase(),u=N=>{const j=new Date(N);return new Intl.DateTimeFormat("en-IN",{dateStyle:"full",timeStyle:"long"}).format(j)},m=(N,j)=>{navigator.clipboard.writeText(N),a({title:"Copied!",description:`${j} copied to clipboard.`,duration:2e3})},f=r(n.action.type),p=l(n.action.type);return t.jsx(bs,{open:e,onOpenChange:s,children:t.jsxs(Es,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs(ia,{children:[t.jsxs(Bs,{className:"text-xl font-bold flex items-center gap-2",children:[t.jsx(Rs,{className:"h-5 w-5 text-blue-600"}),"Audit Log Details"]}),t.jsx(xa,{children:"Comprehensive details of the audit trail entry"})]}),t.jsxs("div",{className:"space-y-6 mt-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Action Information"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-2 rounded-lg bg-white dark:bg-gray-700 ${p}`,children:t.jsx(f,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c(n.action.type)}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Resource: ",n.action.resourceType.replace("_"," "),n.action.resourceId&&` #${n.action.resourceId}`]})]})]}),t.jsx(Lt,{className:n.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:n.success?t.jsxs(t.Fragment,{children:[t.jsx(Ca,{className:"h-3 w-3 mr-1"})," Success"]}):t.jsxs(t.Fragment,{children:[t.jsx(mg,{className:"h-3 w-3 mr-1"})," Failed"]})})]}),n.durationMs&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Zn,{className:"h-4 w-4"}),t.jsxs("span",{children:["Duration: ",n.durationMs,"ms"]})]}),!n.success&&n.errorMessage&&t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-md border border-red-200",children:[t.jsx(is,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"Error Message"}),t.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:n.errorMessage})]})]})]})]}),t.jsx(Th,{}),n.guest.name&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Guest Information"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ya,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:n.guest.name})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>m(n.guest.name||"","Guest name"),className:"h-7",children:t.jsx(Rs,{className:"h-3 w-3"})})]}),n.guest.checkInId&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(rn,{className:"h-4 w-4"}),t.jsxs("span",{children:["Check-in ID: ",n.guest.checkInId]})]}),((g=n.details)==null?void 0:g.guestEmail)&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Hd,{className:"h-4 w-4"}),t.jsx("span",{children:n.details.guestEmail})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>m(n.details.guestEmail,"Email"),className:"h-7",children:t.jsx(Rs,{className:"h-3 w-3"})})]}),((v=n.details)==null?void 0:v.guestPhone)&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(XE,{className:"h-4 w-4"}),t.jsx("span",{children:n.details.guestPhone})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>m(n.details.guestPhone,"Phone"),className:"h-7",children:t.jsx(Rs,{className:"h-3 w-3"})})]}),((w=n.details)==null?void 0:w.propertyName)&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Op,{className:"h-4 w-4"}),t.jsxs("span",{children:["Property: ",n.details.propertyName]})]})]})]}),t.jsx(Th,{})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Performed By"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Hd,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:n.user.email})]}),t.jsx(Lt,{variant:"outline",className:"text-xs",children:n.user.role})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(rn,{className:"h-4 w-4"}),t.jsxs("span",{children:["User ID: ",n.user.id]})]})]})]}),t.jsx(Th,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Context"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Zn,{className:"h-4 w-4"}),t.jsx("span",{children:u(n.timestamp)})]}),n.context.ipAddress&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Ql,{className:"h-4 w-4"}),t.jsxs("span",{children:["IP: ",n.context.ipAddress]})]}),n.context.requestPath&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 font-mono text-xs",children:[t.jsx(Rs,{className:"h-4 w-4"}),t.jsxs("span",{children:[n.context.requestMethod," ",n.context.requestPath]})]}),n.context.userAgent&&t.jsxs("div",{className:"text-xs text-gray-500 truncate",title:n.context.userAgent,children:["User Agent: ",n.context.userAgent]})]})]}),n.details&&Object.keys(n.details).length>0&&t.jsxs(t.Fragment,{children:[t.jsx(Th,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:" Additional Details"}),t.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:t.jsx("pre",{className:"text-xs text-gray-600 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(n.details,null,2)})})]})]})]}),t.jsx("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:t.jsx(se,{variant:"outline",onClick:s,children:"Close"})})]})})}function ZJ(e={},s=!0){const[n,a]=x.useState([]),[r,l]=x.useState(!1),[c,u]=x.useState(null),[m,f]=x.useState({total:0,limit:50,offset:0,hasMore:!1}),p=x.useCallback(async(v={},w={})=>{var S,E;w.silent||l(!0),u(null);const j={...w.replace?{}:e,...v};try{const T=new URLSearchParams;j.startDate&&T.append("startDate",j.startDate),j.endDate&&T.append("endDate",j.endDate),j.userId&&T.append("userId",j.userId.toString()),j.guestCheckInId&&T.append("guestCheckInId",j.guestCheckInId.toString()),j.actionType&&T.append("actionType",j.actionType),j.resourceType&&T.append("resourceType",j.resourceType),j.success!==void 0&&T.append("success",j.success.toString()),j.limit&&T.append("limit",j.limit.toString()),j.offset&&T.append("offset",j.offset.toString());const C=await fetch(`${xt.BASE_URL}/guest-checkin/audit-logs?${T.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!C.ok)throw new Error("Failed to fetch audit logs");let I;try{const D=await C.text();D?I=JSON.parse(D):I={logs:[],pagination:{total:0,limit:50,offset:0,hasMore:!1}}}catch(D){console.error("Failed to parse audit logs response:",D),I={logs:[],pagination:{total:0,limit:50,offset:0,hasMore:!1}}}console.log(" Audit logs fetched successfully:",{count:((S=I.logs)==null?void 0:S.length)||0,total:((E=I.pagination)==null?void 0:E.total)||0}),a(I.logs||[]),f(I.pagination||{total:0,limit:50,offset:0,hasMore:!1})}catch(T){const C=T instanceof Error?T.message:"Failed to fetch audit logs";console.error(" Failed to fetch audit logs:",C),u(C)}finally{w.silent||l(!1)}},[e]),g=async()=>{try{const v=new URLSearchParams;e.startDate&&v.append("startDate",e.startDate),e.endDate&&v.append("endDate",e.endDate),e.userId&&v.append("userId",e.userId.toString()),e.guestCheckInId&&v.append("guestCheckInId",e.guestCheckInId.toString()),e.actionType&&v.append("actionType",e.actionType),e.resourceType&&v.append("resourceType",e.resourceType);const w=await fetch(`${xt.BASE_URL}/guest-checkin/audit-logs/export?${v.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!w.ok)throw new Error("Export failed");let N;try{const T=await w.text();if(!T)throw new Error("Empty response");N=JSON.parse(T)}catch(T){throw console.error("Failed to parse export response:",T),new Error("Failed to parse export response")}const j=new Blob([N.csv],{type:"text/csv"}),S=window.URL.createObjectURL(j),E=document.createElement("a");E.href=S,E.download=N.filename,E.click(),window.URL.revokeObjectURL(S)}catch(v){console.error("Export error:",v),u("Failed to export audit logs")}};return x.useEffect(()=>{s&&p(void 0,{replace:!0})},[s,p]),{logs:n,isLoading:r,error:c,pagination:m,fetchLogs:p,exportToCsv:g}}function eX(e,s){const n=x.useRef(null),a=x.useRef(e);return x.useEffect(()=>{a.current=e},[e]),x.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]),x.useCallback(((...r)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{a.current(...r)},s)}),[s])}function tX(){var Tc;const{theme:e}=_a(),{setPageTitle:s}=Er(),{toast:n}=da(),[a,r]=x.useState("landing"),[l,c]=x.useState([]),[u,m]=x.useState([]),[f,p]=x.useState([]),[g,v]=x.useState(!1),[w,N]=x.useState(null),[j,S]=x.useState(null),[E,T]=x.useState("all"),[C,I]=x.useState("all"),[D,A]=x.useState("all"),[R,L]=x.useState(""),[z,Q]=x.useState(""),[K,J]=x.useState(!1),de=x.useCallback(O=>{n({title:"Validation error",description:O,variant:"destructive",duration:4e3})},[n]),[H,ie]=x.useState("personal"),[F,q]=x.useState(!1),[W,he]=x.useState(!1),[$,M]=x.useState("personal"),[V,G]=x.useState("personal"),[B,ce]=x.useState("indian-guest"),[pe,le]=x.useState(!1),[ye,ke]=x.useState(!1),Y=async O=>{const X=await O.text();if(console.log("parseJsonSafe - Response text length:",(X==null?void 0:X.length)||0),console.log("parseJsonSafe - Response text preview:",X==null?void 0:X.substring(0,200)),!X)return console.warn("parseJsonSafe - Empty response body, returning empty object"),{};try{const Ie=JSON.parse(X);return console.log("parseJsonSafe - Parsed successfully:",Ie),Ie}catch(Ie){throw console.error("parseJsonSafe - JSON parse error:",Ie),new Error("Invalid JSON response from server")}},[ge,je]=x.useState(!1),Oe=x.useRef(null),_e=x.useRef(null),Pe=O=>{const X={EST:"+372",Estonia:"+372",India:"+91",IND:"+91","United States":"+1",USA:"+1",US:"+1","United Kingdom":"+44",UK:"+44",Germany:"+49",DEU:"+49",France:"+33",FRA:"+33",Canada:"+1",CAN:"+1",Australia:"+61",AUS:"+61",Japan:"+81",JPN:"+81",China:"+86",CHN:"+86",Brazil:"+55",BRA:"+55",Russia:"+7",RUS:"+7","South Korea":"+82",KOR:"+82",Italy:"+39",ITA:"+39",Spain:"+34",ESP:"+34",Netherlands:"+31",NLD:"+31",Sweden:"+46",SWE:"+46",Norway:"+47",NOR:"+47",Denmark:"+45",DNK:"+45",Finland:"+358",FIN:"+358"},Ie=O.toUpperCase();return X[Ie]||X[O]||"+1"},[ze,Ue]=x.useState([]),[He,it]=x.useState(!1),[Tt,yt]=x.useState(!1),[xs,va]=x.useState(!1),[Fe,lt]=x.useState(0),[Zt,as]=x.useState(!1),[es,ae]=x.useState(null),[Ye,vt]=x.useState([]),[St,cs]=x.useState(null),[ys,Ks]=x.useState(!1),[bt,on]=x.useState(null),La=x.useCallback((O,X=!1)=>{if(!O)return;if(O.includes("T")&&(O.includes("+")||O.endsWith("Z")))return O.includes("Z")?O.replace("Z","+05:30"):O;const Ie=O.match(/^(\d{2})[\/-](\d{2})[\/-](\d{4})$/);let pt=0,Pt=0,Ge=0;if(Ie)Ge=parseInt(Ie[1],10),Pt=parseInt(Ie[2],10)-1,pt=parseInt(Ie[3],10);else{const qa=O.match(/^(\d{4})[\/-](\d{2})[\/-](\d{2})$/);if(qa)pt=parseInt(qa[1],10),Pt=parseInt(qa[2],10)-1,Ge=parseInt(qa[3],10);else return}const It=(qa,rr=2)=>String(qa).padStart(rr,"0"),We=X?23:0,Mt=X?59:0,Ls=X?59:0,Vn=X?999:0;return`${pt}-${It(Pt+1)}-${It(Ge)}T${It(We)}:${It(Mt)}:${It(Ls)}.${It(Vn,3)}+05:30`},[]),ln=x.useCallback(O=>{const X={...O};return O!=null&&O.startDate&&(X.startDate=La(String(O.startDate),!1)),O!=null&&O.endDate&&(X.endDate=La(String(O.endDate),!0)),X},[La]),[jt,Ft]=x.useState({}),k=qe.useMemo(()=>ln(jt),[jt,ln]),{logs:te,isLoading:ue,error:Se,pagination:dt,fetchLogs:_,exportToCsv:xe}=ZJ(k,!1),Be=eX(O=>{console.log(" Applying debounced filters:",O),_(O,{silent:!0,replace:!0})},500),[kt,Ht]=x.useState(!1),[Wt,ea]=x.useState(null),qt=B==="audit-logs",Le=x.useRef(!1),Hs=x.useRef(!1),ba=x.useRef(k),As=x.useRef(_);x.useEffect(()=>{ba.current=k},[k]),x.useEffect(()=>{As.current=_},[_]),x.useEffect(()=>{qt?Le.current?Hs.current&&(console.log(" Audit logs tab re-activated, performing silent refresh..."),As.current(ba.current,{silent:!0,replace:!0}),Hs.current=!1):(console.log(" Audit logs tab opened for FIRST time, fetching initial data..."),As.current(ba.current,{replace:!0}),Le.current=!0,Hs.current=!1):Le.current&&(Hs.current=!0)},[qt]),x.useCallback(()=>{console.log(" Real audit event received, refreshing with filters:",ba.current),As.current(ba.current,{silent:!0,replace:!0})},[]);const zs=x.useCallback(O=>{Ue(X=>[...X.filter(pt=>pt.fileData!==O.fileData),O])},[]),Gt=x.useCallback(O=>{O&&Ue(X=>X.filter(Ie=>Ie.fileData!==O.fileData))},[]),Ut=x.useCallback(O=>{const X=l.find(Ie=>Ie.id.toString()===O);if(console.log("=== AUTOFILL INDIAN ADDRESS ==="),console.log("Property ID:",O),console.log("Selected property:",X),X){const Ie=X.addressJson||{},pt=[Ie.street,Ie.city,Ie.state,Ie.country,Ie.zipCode].filter(Boolean).join(", ");console.log("Address JSON:",Ie),console.log("Full address:",pt),ft(Pt=>({...Pt,propertyId:O,indianAddress:pt||Ie.street||Pt.indianAddress,indianCityDistrict:Ie.city||Pt.indianCityDistrict,indianState:Ie.state||Pt.indianState,indianPincode:Ie.zipCode||Pt.indianPincode,mobileNoIndia:X.mobileNumber||Pt.mobileNoIndia}))}},[l]),Kt=()=>et.fullName.trim()!==""&&et.email.trim()!==""&&et.phone.trim()!==""&&et.address.trim()!=="",Bt=()=>He&&(et.aadharNumber.trim()!==""||et.panNumber.trim()!==""||et.drivingLicenseNumber.trim()!==""||et.electionCardNumber.trim()!==""),fs=()=>{const O=et.propertyId!==""&&et.numberOfGuests>0;return console.log("Indian booking validation:",{propertyId:et.propertyId,numberOfGuests:et.numberOfGuests,indianPrimaryDocUploaded:He,isValid:O&&He}),O},ta=()=>Z.fullName.trim()!==""&&Z.email.trim()!==""&&Z.phone.trim()!==""&&Z.address.trim()!=="",js=()=>{var Ie,pt,Pt;const O=Z.passportNumber.trim()!=="",X=(((Ie=Z.passportCountry)==null?void 0:Ie.trim())||"").length>0||(((pt=Z.country)==null?void 0:pt.trim())||"").length>0||(((Pt=Z.passportNationality)==null?void 0:Pt.trim())||"").length>0;return O&&X&&Tt&&xs},co=()=>{const O=Z.propertyId!==""&&Z.numberOfGuests>0;return console.log("Foreign booking validation:",{propertyId:Z.propertyId,numberOfGuests:Z.numberOfGuests,foreignPassportUploaded:Tt,foreignVisaUploaded:xs,isValid:O&&Tt&&xs}),O};x.useEffect(()=>{switch(a){case"landing":s("Guest Check-in","Welcome guests and manage check-ins");break;case"admin-dashboard":s("Guest Management","Manage all guest check-ins");break;case"add-guest":s("Add New Guest","Add a new guest to the system");break}},[a,s]);const[et,ua]=x.useState({propertyId:"",fullName:"",email:"",phone:"",address:"",aadharNumber:"",panNumber:"",drivingLicenseNumber:"",electionCardNumber:"",roomNumber:"",numberOfGuests:1,expectedCheckoutDate:""}),[Z,ft]=x.useState({propertyId:"",fullName:"",email:"",phone:"",address:"",passportNumber:"",passportCountry:"",passportNationality:"",passportDateOfBirth:"",passportIssueDate:"",passportExpiryDate:"",passportPlaceOfBirth:"",passportIssuingAuthority:"",visaType:"",visaCategory:"",visaNumber:"",visaCountry:"",visaIssueDate:"",visaExpiryDate:"",visaPlaceOfIssue:"",visaPurposeOfVisit:"",visaDurationOfStay:"",visaNumberOfEntries:"",visaPortOfEntry:"",visaIssuingAuthority:"",visaStatus:"",visaRemarks:"",surname:"",sex:"Male",specialCategory:"Others",permanentCity:"",indianAddress:"",indianCityDistrict:"",indianState:"",indianPincode:"",arrivedFrom:"",dateOfArrivalInIndia:"",dateOfArrivalAtAccommodation:"",timeOfArrival:"12:00",intendedDuration:7,employedInIndia:"N",purposeOfVisit:"Tourism",nextPlace:"",destinationCityDistrict:"",destinationState:"",mobileNoIndia:"",contactNoPermanent:"",mobileNoPermanent:"",remarks:"",country:"",roomNumber:"",numberOfGuests:1,expectedCheckoutDate:""}),wa=O=>{var X;if(zs(O),O.extractedData){const Ie=O.extractedData;ua(We=>{var Vn,qa,rr,gn,ji,Ni,ir,or,uo,Si,ho,Ar,xn;const Mt={...We};if((Vn=Ie.fullName)!=null&&Vn.value){Mt.fullName=Ie.fullName.value;const mo=Ie.fullName.value.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s+/g,"").substring(0,10);Mt.email=`${mo}@curat.ai`}(qa=Ie.address)!=null&&qa.value?Mt.address=Ie.address.value:(rr=Ie.placeOfBirth)!=null&&rr.value&&((gn=Ie.nationality)!=null&&gn.value)?Mt.address=`${Ie.placeOfBirth.value}, ${Ie.nationality.value}`:(ji=Ie.placeOfBirth)!=null&&ji.value&&(Mt.address=Ie.placeOfBirth.value),Mt.phone="+910000000000";const Ls=(O.detectedDocumentType||O.documentType||"").toLowerCase();return Ls.includes("aadhaar")&&((Ni=Ie.aadharNumber)!=null&&Ni.value)?Mt.aadharNumber=Ie.aadharNumber.value.replace(/\s/g,""):Ls.includes("pan")&&((ir=Ie.panNumber)!=null&&ir.value)?Mt.panNumber=Ie.panNumber.value:Ls.includes("driving")&&((or=Ie.licenseNumber)!=null&&or.value)?Mt.drivingLicenseNumber=Ie.licenseNumber.value:Ls.includes("election")&&((uo=Ie.epicNumber)!=null&&uo.value)?Mt.electionCardNumber=Ie.epicNumber.value:((Si=Ie.aadharNumber)!=null&&Si.value&&(Mt.aadharNumber=Ie.aadharNumber.value.replace(/\s/g,"")),(ho=Ie.panNumber)!=null&&ho.value&&(Mt.panNumber=Ie.panNumber.value),(Ar=Ie.licenseNumber)!=null&&Ar.value&&(Mt.drivingLicenseNumber=Ie.licenseNumber.value),(xn=Ie.epicNumber)!=null&&xn.value&&(Mt.electionCardNumber=Ie.epicNumber.value)),Mt});const pt=O.detectedDocumentType||O.documentType||"unknown";(pt.includes("aadhaar")||(X=Ie.aadharNumber)!=null&&X.value)&&q(!0),he(!0);const Pt=Object.keys(Ie).length,Ge=O.documentTypeConfidence||100;let It=`Document processed successfully! Detected: ${pt.replace(/_/g," ").toUpperCase()}. Extracted ${Pt} fields with ${O.overallConfidence}% confidence.`;Ge<85&&(It+=`  Document type detection confidence is ${Ge}% - please verify the detected type is correct.`),S(It),setTimeout(()=>S(""),7e3)}},vu=O=>{if(zs(O),O.extractedData){const X=O.extractedData,Ie=O.documentType||O.detectedDocumentType||"unknown";ft(It=>{var qa,rr,gn,ji,Ni,ir,or,uo,Si,ho,Ar,xn,mo,fo,Dr,kc,Nl,ju,Sl,Cl,Nu,Ka,Yr,Tl,po,wm,Ec,Ac,go,kl,Su,jm,Nm,Sm,Dc,Cm,Tm,km,Em,Am,Cu,Dm,Pm,Im,Rm,Pc,Om,Mm,_m;const We={...It};if((qa=X.fullName)!=null&&qa.value){We.fullName=X.fullName.value;const sa=X.fullName.value.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s+/g,"").substring(0,10);We.email=`${sa}@curat.ai`;const El=X.fullName.value.split(",");if(El.length>1)We.surname=El[0].trim();else{const xo=X.fullName.value.trim().split(/\s+/);xo.length>1&&(We.surname=xo[xo.length-1])}}if((rr=X.address)!=null&&rr.value?We.address=X.address.value:(gn=X.placeOfBirth)!=null&&gn.value&&((ji=X.nationality)!=null&&ji.value)?We.address=`${X.placeOfBirth.value}, ${X.nationality.value}`:(Ni=X.placeOfBirth)!=null&&Ni.value&&(We.address=X.placeOfBirth.value),(ir=X.country)!=null&&ir.value){const sa=Pe(X.country.value);We.phone=`${sa}0000000000`}if(Ie==="passport"||Ie.includes("passport")){if((or=X.passportNumber)!=null&&or.value&&(We.passportNumber=X.passportNumber.value),(uo=X.country)!=null&&uo.value&&(We.passportCountry=X.country.value),(Si=X.nationality)!=null&&Si.value&&(We.passportNationality=X.nationality.value),(ho=X.dateOfBirth)!=null&&ho.value&&(We.passportDateOfBirth=X.dateOfBirth.value),(Ar=X.issueDate)!=null&&Ar.value&&(We.passportIssueDate=X.issueDate.value),(xn=X.expiryDate)!=null&&xn.value&&(We.passportExpiryDate=X.expiryDate.value),(mo=X.placeOfBirth)!=null&&mo.value){We.passportPlaceOfBirth=X.placeOfBirth.value;const sa=X.placeOfBirth.value.split(",")[0].trim();sa&&(We.permanentCity=sa)}if((fo=X.issuingAuthority)!=null&&fo.value&&(We.passportIssuingAuthority=X.issuingAuthority.value),(Dr=X.sex)!=null&&Dr.value){const sa=X.sex.value.toUpperCase();sa==="M"||sa.includes("MALE")?We.sex="Male":(sa==="F"||sa.includes("FEMALE"))&&(We.sex="Female")}if((kc=X.nationality)!=null&&kc.value||(Nl=X.country)!=null&&Nl.value){const sa=((ju=X.nationality)==null?void 0:ju.value)||((Sl=X.country)==null?void 0:Sl.value)||"";We.arrivedFrom=sa}We.phone&&(We.contactNoPermanent=We.phone,We.mobileNoPermanent=We.phone),((Cl=X.country)!=null&&Cl.value||(Nu=X.nationality)!=null&&Nu.value)&&(We.country=((Ka=X.country)==null?void 0:Ka.value)||((Yr=X.nationality)==null?void 0:Yr.value)||It.country)}if(Ie==="visa_front"||Ie==="visa_back"||Ie.includes("visa")){if((Tl=X.visaType)!=null&&Tl.value&&(We.visaType=X.visaType.value),(po=X.visaCategory)!=null&&po.value&&(We.visaCategory=X.visaCategory.value),(wm=X.visaNumber)!=null&&wm.value&&(We.visaNumber=X.visaNumber.value),(Ec=X.country)!=null&&Ec.value&&(We.visaCountry=X.country.value),(Ac=X.issueDate)!=null&&Ac.value||(go=X.visaIssueDate)!=null&&go.value){const sa=((kl=X.issueDate)==null?void 0:kl.value)||((Su=X.visaIssueDate)==null?void 0:Su.value);We.visaIssueDate=sa,sa&&(We.dateOfArrivalInIndia=sa)}if(((jm=X.expiryDate)!=null&&jm.value||(Nm=X.visaExpiryDate)!=null&&Nm.value)&&(We.visaExpiryDate=((Sm=X.expiryDate)==null?void 0:Sm.value)||((Dc=X.visaExpiryDate)==null?void 0:Dc.value)),((Cm=X.placeOfIssue)!=null&&Cm.value||(Tm=X.visaPlaceOfIssue)!=null&&Tm.value)&&(We.visaPlaceOfIssue=((km=X.placeOfIssue)==null?void 0:km.value)||((Em=X.visaPlaceOfIssue)==null?void 0:Em.value)),(Am=X.purposeOfVisit)!=null&&Am.value&&(We.visaPurposeOfVisit=X.purposeOfVisit.value,We.purposeOfVisit=X.purposeOfVisit.value),(Cu=X.durationOfStay)!=null&&Cu.value){We.visaDurationOfStay=X.durationOfStay.value;const sa=X.durationOfStay.value.toLowerCase(),El=sa.match(/(\d+)\s*days?/),xo=sa.match(/(\d+)\s*months?/);El?We.intendedDuration=parseInt(El[1]):xo&&(We.intendedDuration=parseInt(xo[1])*30)}(Dm=X.numberOfEntries)!=null&&Dm.value&&(We.visaNumberOfEntries=X.numberOfEntries.value),(Pm=X.portOfEntry)!=null&&Pm.value&&(We.visaPortOfEntry=X.portOfEntry.value),((Im=X.issuingAuthority)!=null&&Im.value||(Rm=X.visaIssuingAuthority)!=null&&Rm.value)&&(We.visaIssuingAuthority=((Pc=X.issuingAuthority)==null?void 0:Pc.value)||((Om=X.visaIssuingAuthority)==null?void 0:Om.value)),(Mm=X.visaStatus)!=null&&Mm.value&&(We.visaStatus=X.visaStatus.value),(_m=X.remarks)!=null&&_m.value&&(We.visaRemarks=X.remarks.value,We.remarks=X.remarks.value)}const Mt=new Date().toISOString().split("T")[0];We.dateOfArrivalAtAccommodation=Mt;const Ls=new Date,Vn=`${String(Ls.getHours()).padStart(2,"0")}:${String(Ls.getMinutes()).padStart(2,"0")}`;return We.timeOfArrival=Vn,We});const pt=O.detectedDocumentType||Ie,Pt=Object.keys(X).length,Ge=Ie==="passport"||Ie.includes("passport")?"Passport fields auto-filled (including Form C details)":Ie==="visa_front"||Ie.includes("visa")?"Visa fields auto-filled (including Form C details)":"Document fields auto-filled";S(`Document processed successfully! Detected: ${pt}. Extracted ${Pt} fields with ${O.overallConfidence}% confidence. ${Ge}.`),setTimeout(()=>S(""),5e3)}},bu=async O=>{var X;cs(null);try{const Ie=await fetch(`${xt.BASE_URL}/guest-checkin/${O.id}/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(Ie.ok){const pt=await Ie.json();vt(pt.documents||[]),ae(O),as(!0),fetch(`${xt.BASE_URL}/guest-checkin/audit/view-documents`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({guestCheckInId:O.id,documentCount:((X=pt.documents)==null?void 0:X.length)||0})}).catch(Pt=>console.error("Failed to log audit:",Pt))}}catch(Ie){console.error("Failed to load documents:",Ie)}};x.useEffect(()=>{(async()=>{try{const X=await fetch(`${xt.BASE_URL}/properties`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!X.ok)throw new Error("Failed to fetch properties");const Ie=await X.json();c(Ie.properties||[])}catch(X){console.error("Error fetching properties:",X)}})()},[]),x.useEffect(()=>{l.length>0&&!et.propertyId&&ua(O=>({...O,propertyId:l[0].id.toString()}))},[l,et.propertyId]),x.useEffect(()=>{if(l.length>0&&!Z.propertyId){const O=l[0].id.toString();console.log("Auto-selecting first property on load:",O),Ut(O)}},[l,Z.propertyId,Ut]),x.useEffect(()=>{const O=()=>cs(null);return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]);const Wa=x.useCallback(async()=>{console.log("=== FETCH CHECK-INS DEBUG ==="),v(!0),N(null);try{const O=`${xt.BASE_URL}/guest-checkin/list`,X=localStorage.getItem("accessToken");console.log("API Base URL:",xt.BASE_URL),console.log("Full URL:",O),console.log("Auth Token:",X?`${X.substring(0,20)}...`:"NO TOKEN"),console.log("Fetching all guests (client-side filtering enabled)");const Ie=await fetch(O,{method:"GET",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"}});if(console.log("Response Status:",Ie.status),console.log("Response OK:",Ie.ok),!Ie.ok){const Ge=await Ie.text();throw console.log("Error Response:",Ge),new Error(`Failed to fetch check-ins: ${Ie.status} ${Ie.statusText}`)}const pt=await Y(Ie);console.log("Response Data:",pt),console.log("Check-ins Count:",pt.checkins?pt.checkins.length:0),console.log("Total:",pt.total);const Pt=pt.checkins||[];m(Pt),console.log("Check-ins state updated:",Pt.length)}catch(O){console.log("Fetch Error:",O),N(O.message||"Failed to fetch check-ins")}finally{v(!1)}},[]),bi=x.useCallback(O=>({id:O.id,orgId:O.orgId,propertyId:O.propertyId,propertyName:O.propertyName,guestType:O.guestType,fullName:O.fullName,email:O.email,phone:O.phone,address:O.address,aadharNumber:O.aadharNumber??"",panNumber:O.panNumber??"",drivingLicenseNumber:O.drivingLicenseNumber??"",electionCardNumber:O.electionCardNumber??"",passportNumber:O.passportNumber??"",country:O.country??"",visaType:O.visaType??"",visaExpiryDate:O.visaExpiryDate??"",checkInDate:O.checkInDate,expectedCheckoutDate:O.expectedCheckoutDate??"",actualCheckoutDate:O.actualCheckoutDate??"",roomNumber:O.roomNumber??"",numberOfGuests:O.numberOfGuests??1,status:O.status??"checked_in",createdByUserId:O.createdByUserId,createdAt:O.createdAt,updatedAt:O.updatedAt}),[]),_g=x.useCallback(async O=>{try{const X=await fetch(`${xt.BASE_URL}/guest-checkin/${O}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")||""}`}});if(!X.ok)return console.error("Failed to fetch guest by id:",O,X.status),null;const Ie=await X.json();return bi(Ie)}catch(X){return console.error("Failed to fetch guest by id:",O,X),null}},[bi]),xm=x.useCallback(async O=>{try{const X=await fetch(`${xt.BASE_URL}/guest-checkin/${O}/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(X.ok){const Ie=await X.json();vt(Ie.documents||[])}}catch(X){console.error("Failed to refresh documents after event:",X)}},[]),wl=x.useRef(!1),ym=x.useRef(!1),[wi,jl]=x.useState({top:0,left:0}),[En,fn]=x.useState("bottom");x.useEffect(()=>{let O=u;if(R){const X=R.toLowerCase();O=O.filter(Ie=>Ie.fullName.toLowerCase().includes(X))}z&&(O=O.filter(X=>new Date(X.checkInDate).toISOString().split("T")[0]===z)),C!=="all"&&(O=O.filter(X=>X.guestType===C)),D&&D!=="all"&&(O=O.filter(X=>X.propertyId.toString()===D)),E!=="all"&&(O=O.filter(X=>X.status===E)),p(O)},[u,R,z,C,D,E]),qe.useEffect(()=>{try{window.__guestSelectedPropertyId=D||"all"}catch{}},[D]),wr("guest",async O=>{const X=(typeof window<"u"?window.__guestDesktopTab:null)||B;if(!(O!=null&&O.length))return;const Ie=O.filter(It=>It.entityType==="guest_document");Ie.length&&(es!=null&&es.id)&&Ie.some(We=>We.entityId===es.id)&&await xm(es.id);const pt=O.filter(It=>It.entityType==="guest_checkin");if(!pt.length)return;const Pt=pt.filter(It=>It.eventType==="guest_deleted").map(It=>It.entityId);Pt.length&&m(It=>It.filter(We=>!Pt.includes(We.id)));const Ge=Array.from(new Set(pt.filter(It=>It.eventType!=="guest_deleted").map(It=>It.entityId)));if(Ge.length){const It=(await Promise.all(Ge.map(We=>_g(Number(We))))).filter(We=>!!We);It.length?m(We=>{let Mt=[...We];return It.forEach(Ls=>{const Vn=Mt.findIndex(qa=>qa.id===Ls.id);Vn>=0?Mt[Vn]=Ls:Mt=[Ls,...Mt]}),Mt}):Wa()}if(X==="audit-logs"){const It=window;clearTimeout(It.__guestAuditDebounce),It.__guestAuditDebounce=setTimeout(()=>{As.current(k,{replace:!0})},1e3)}},Os("GUEST_REALTIME_V1",!0)),x.useEffect(()=>{try{hu(null)}catch{}},[]),x.useEffect(()=>{a==="admin-dashboard"&&!wl.current&&(wl.current=!0,Wa())},[a]),x.useEffect(()=>{B==="guest-details"&&!wl.current&&(wl.current=!0,Wa())},[B]),x.useEffect(()=>{B==="audit-logs"&&!ym.current&&(ym.current=!0,As.current(k,{replace:!0}))},[B,k]),x.useEffect(()=>{const O=()=>cs(null);return window.addEventListener("scroll",O,!0),window.addEventListener("resize",O),()=>{window.removeEventListener("scroll",O,!0),window.removeEventListener("resize",O)}},[]);const vm=async O=>{if(O.preventDefault(),!He){N(" Please upload at least one Indian ID document (Aadhaar/PAN/DL/Election Card) before completing check-in."),v(!1),n({title:"Document Required",description:"Please upload your Indian ID document to continue.",variant:"destructive",duration:5e3});return}v(!0),N(null),S(null);const X={propertyId:parseInt(et.propertyId),guestType:"indian",fullName:et.fullName||"",email:et.email||"",phone:et.phone||"",address:et.address||"",aadharNumber:et.aadharNumber||"",numberOfGuests:et.numberOfGuests||1};if(et.panNumber&&et.panNumber.trim()&&(X.panNumber=et.panNumber.trim()),et.drivingLicenseNumber&&et.drivingLicenseNumber.trim()&&(X.drivingLicenseNumber=et.drivingLicenseNumber.trim()),et.electionCardNumber&&et.electionCardNumber.trim()&&(X.electionCardNumber=et.electionCardNumber.trim()),et.expectedCheckoutDate&&et.expectedCheckoutDate.trim()&&(X.expectedCheckoutDate=et.expectedCheckoutDate.trim()),et.roomNumber&&et.roomNumber.trim()&&(X.roomNumber=et.roomNumber.trim()),console.log("=== INDIAN CHECK-IN REQUEST DEBUG ==="),console.log("API Base URL:",xt.BASE_URL),console.log("Full URL:",`${xt.BASE_URL}/guest-checkin/create`),console.log("Request Data:",X),console.log("Raw Form Data:",et),console.log("Property ID type:",typeof X.propertyId),console.log("Property ID value:",X.propertyId),!X.fullName||!X.email||!X.phone||!X.address){N("Please fill in all required fields (Name, Email, Phone, Address)"),v(!1),de("Please fill in all required fields (Name, Email, Phone, Address)");return}if(!(X.aadharNumber||X.panNumber||X.drivingLicenseNumber||X.electionCardNumber)){N("Please provide at least one Indian ID (Aadhaar, PAN, Driving License, or Election Card)"),v(!1),de("Please provide at least one Indian ID (Aadhaar, PAN, Driving License, or Election Card)");return}if(X.aadharNumber&&!/^\d{12}$/.test(X.aadharNumber)){N("Aadhaar number must be exactly 12 digits"),v(!1),de("Aadhaar number must be exactly 12 digits");return}if(X.panNumber&&!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(X.panNumber.toUpperCase())){N("PAN number must be in format: ABCDE1234F"),v(!1),de("PAN number must be in format: ABCDE1234F");return}if(isNaN(X.propertyId)){N("Please select a valid property"),v(!1),de("Please select a valid property");return}try{const pt=await fetch(`${xt.BASE_URL}/guest-checkin/create`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify(X)});if(!pt.ok){const We=await pt.json();throw console.log("=== SERVER ERROR RESPONSE ==="),console.log("Status:",pt.status),console.log("Status Text:",pt.statusText),console.log("Error Data:",We),console.log("Request Data Sent:",X),new Error(We.message||`Server error ${pt.status}: ${pt.statusText}`)}const Pt=await pt.json();console.log("=== SUCCESS RESPONSE ==="),console.log("Response Data:",Pt);const Ge=Pt.id;if(ze.length>0&&Ge)try{console.log("Uploading documents to cloud with checkInId:",{checkInId:Ge,documentCount:ze.length});for(const We of ze)try{const Mt=await fetch(`${xt.BASE_URL}/guest-checkin/documents/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({documentType:We.documentType,fileData:We.fileData,filename:We.filename,mimeType:We.mimeType,guestCheckInId:Ge,performExtraction:!1})});Mt.ok?console.log("Document uploaded successfully:",{documentType:We.documentType}):console.error("Failed to upload document:",await Mt.text())}catch(Mt){console.error("Error uploading document:",Mt)}console.log("All documents uploaded successfully")}catch(We){console.error("Error uploading documents:",We)}const It=Pt.message||"Check-in successful! Welcome to our property.";S(It),n({title:"Check-in Successful! ",description:It,variant:"success",duration:5e3}),console.log("=== CHECK-IN SUCCESS DEBUG ==="),console.log("Current viewMode:",a),console.log("Should refresh guest list:",a==="admin-dashboard"),console.log("Calling fetchCheckIns after successful check-in..."),Wa(),ua({propertyId:"",fullName:"",email:"",phone:"",address:"",aadharNumber:"",panNumber:"",drivingLicenseNumber:"",electionCardNumber:"",roomNumber:"",numberOfGuests:1,expectedCheckoutDate:""}),Ue([]),it(!1),lt(We=>We+1),setTimeout(()=>{S(null)},5e3)}catch(pt){const Pt=pt.message||"Failed to complete check-in";N(Pt),n({title:"Check-in Failed ",description:Pt,variant:"destructive",duration:5e3})}finally{v(!1)}},Lg=async O=>{if(O.preventDefault(),!Tt||!xs){const X=[];Tt||X.push("Passport"),xs||X.push("Visa"),N(` Please upload ${X.join(" and ")} document(s) before completing check-in.`),v(!1),n({title:"Documents Required",description:`Please upload your ${X.join(" and ")} to continue.`,variant:"destructive",duration:5e3});return}v(!0),N(null),S(null);try{const X=await fetch(`${xt.BASE_URL}/guest-checkin/create`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify((()=>{const Ge={propertyId:parseInt(Z.propertyId),guestType:"foreign",fullName:Z.fullName||"",email:Z.email||"",phone:Z.phone||"",address:Z.address||"",passportNumber:Z.passportNumber||"",country:Z.passportCountry||Z.country||"",numberOfGuests:Z.numberOfGuests||1};return Z.passportCountry&&(Ge.passportCountry=Z.passportCountry),Z.passportNationality&&(Ge.passportNationality=Z.passportNationality),Z.passportDateOfBirth&&(Ge.passportDateOfBirth=Z.passportDateOfBirth),Z.passportIssueDate&&(Ge.passportIssueDate=Z.passportIssueDate),Z.passportExpiryDate&&(Ge.passportExpiryDate=Z.passportExpiryDate),Z.passportPlaceOfBirth&&(Ge.passportPlaceOfBirth=Z.passportPlaceOfBirth),Z.passportIssuingAuthority&&(Ge.passportIssuingAuthority=Z.passportIssuingAuthority),Z.visaType&&(Ge.visaType=Z.visaType),Z.visaCategory&&(Ge.visaCategory=Z.visaCategory),Z.visaNumber&&(Ge.visaNumber=Z.visaNumber),Z.visaCountry&&(Ge.visaCountry=Z.visaCountry),Z.visaIssueDate&&(Ge.visaIssueDate=Z.visaIssueDate),Z.visaExpiryDate&&(Ge.visaExpiryDate=Z.visaExpiryDate),Z.visaPlaceOfIssue&&(Ge.visaPlaceOfIssue=Z.visaPlaceOfIssue),Z.visaPurposeOfVisit&&(Ge.visaPurposeOfVisit=Z.visaPurposeOfVisit),Z.visaDurationOfStay&&(Ge.visaDurationOfStay=Z.visaDurationOfStay),Z.visaNumberOfEntries&&(Ge.visaNumberOfEntries=Z.visaNumberOfEntries),Z.visaPortOfEntry&&(Ge.visaPortOfEntry=Z.visaPortOfEntry),Z.visaIssuingAuthority&&(Ge.visaIssuingAuthority=Z.visaIssuingAuthority),Z.visaStatus&&(Ge.visaStatus=Z.visaStatus),Z.visaRemarks&&(Ge.visaRemarks=Z.visaRemarks),Z.surname&&(Ge.surname=Z.surname),Z.sex&&(Ge.sex=Z.sex),Z.specialCategory&&(Ge.specialCategory=Z.specialCategory),Z.permanentCity&&(Ge.permanentCity=Z.permanentCity),Z.indianAddress&&(Ge.indianAddress=Z.indianAddress),Z.indianCityDistrict&&(Ge.indianCityDistrict=Z.indianCityDistrict),Z.indianState&&(Ge.indianState=Z.indianState),Z.indianPincode&&(Ge.indianPincode=Z.indianPincode),Z.arrivedFrom&&(Ge.arrivedFrom=Z.arrivedFrom),Z.dateOfArrivalInIndia&&(Ge.dateOfArrivalInIndia=Z.dateOfArrivalInIndia),Z.dateOfArrivalAtAccommodation&&(Ge.dateOfArrivalAtAccommodation=Z.dateOfArrivalAtAccommodation),Z.timeOfArrival&&(Ge.timeOfArrival=Z.timeOfArrival),Z.intendedDuration&&(Ge.intendedDuration=Z.intendedDuration),Z.employedInIndia&&(Ge.employedInIndia=Z.employedInIndia),Z.purposeOfVisit&&(Ge.purposeOfVisit=Z.purposeOfVisit),Z.nextPlace&&(Ge.nextPlace=Z.nextPlace),Z.destinationCityDistrict&&(Ge.destinationCityDistrict=Z.destinationCityDistrict),Z.destinationState&&(Ge.destinationState=Z.destinationState),Z.mobileNoIndia&&(Ge.mobileNoIndia=Z.mobileNoIndia),Z.contactNoPermanent&&(Ge.contactNoPermanent=Z.contactNoPermanent),Z.mobileNoPermanent&&(Ge.mobileNoPermanent=Z.mobileNoPermanent),Z.remarks&&(Ge.remarks=Z.remarks),Z.expectedCheckoutDate&&(Ge.expectedCheckoutDate=Z.expectedCheckoutDate),Z.roomNumber&&(Ge.roomNumber=Z.roomNumber),Ge})())});if(!X.ok){const Ge=await X.json();throw new Error(Ge.message||"Failed to complete check-in")}const Ie=await X.json();console.log("=== SUCCESS RESPONSE ==="),console.log("Response Data:",Ie);const pt=Ie.id;if(ze.length>0&&pt)try{console.log("Uploading documents to cloud with checkInId:",{checkInId:pt,documentCount:ze.length});for(const Ge of ze)try{const It=await fetch(`${xt.BASE_URL}/guest-checkin/documents/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({documentType:Ge.documentType,fileData:Ge.fileData,filename:Ge.filename,mimeType:Ge.mimeType,guestCheckInId:pt,performExtraction:!1})});It.ok?console.log("Document uploaded successfully:",{documentType:Ge.documentType}):console.error("Failed to upload document:",await It.text())}catch(It){console.error("Error uploading document:",It)}console.log("All documents uploaded successfully")}catch(Ge){console.error("Error uploading documents:",Ge)}const Pt=Ie.message||"Check-in successful! Welcome to our property.";S(Pt),n({title:"Check-in Successful! ",description:Pt,variant:"success",duration:5e3}),console.log("Calling fetchCheckIns after successful foreign check-in..."),Wa(),ft({propertyId:"",fullName:"",email:"",phone:"",address:"",passportNumber:"",passportCountry:"",passportNationality:"",passportDateOfBirth:"",passportIssueDate:"",passportExpiryDate:"",passportPlaceOfBirth:"",passportIssuingAuthority:"",visaType:"",visaCategory:"",visaNumber:"",visaCountry:"",visaIssueDate:"",visaExpiryDate:"",visaPlaceOfIssue:"",visaPurposeOfVisit:"",visaDurationOfStay:"",visaNumberOfEntries:"",visaPortOfEntry:"",visaIssuingAuthority:"",visaStatus:"",visaRemarks:"",surname:"",sex:"Male",specialCategory:"Others",permanentCity:"",indianAddress:"",indianCityDistrict:"",indianState:"",indianPincode:"",arrivedFrom:"",dateOfArrivalInIndia:"",dateOfArrivalAtAccommodation:"",timeOfArrival:"12:00",intendedDuration:7,employedInIndia:"N",purposeOfVisit:"Tourism",nextPlace:"",destinationCityDistrict:"",destinationState:"",mobileNoIndia:"",contactNoPermanent:"",mobileNoPermanent:"",remarks:"",country:"",roomNumber:"",numberOfGuests:1,expectedCheckoutDate:""}),Ue([]),yt(!1),va(!1),lt(Ge=>Ge+1),setTimeout(()=>{S(null)},5e3)}catch(X){const Ie=X.message||"Failed to complete check-in";N(Ie),n({title:"Check-in Failed ",description:Ie,variant:"destructive",duration:5e3})}finally{v(!1)}},Cc=async(O,X)=>{if(cs(null),!!window.confirm(` Delete Guest Entry?

Are you sure you want to delete the check-in entry for "${X}"?

This action cannot be undone.`)){v(!0);try{const pt=await fetch(`${xt.BASE_URL}/guest-checkin/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!pt.ok){const Pt=await pt.json();throw new Error(Pt.message||"Failed to delete guest entry")}n({title:"Guest Deleted Successfully! ",description:`The check-in entry for ${X} has been deleted.`,duration:4e3}),S("Guest entry deleted successfully"),Wa(),setTimeout(()=>S(null),3e3)}catch(pt){const Pt=pt.message||"Failed to delete guest entry";N(Pt),n({title:"Delete Failed ",description:Pt,variant:"destructive",duration:5e3})}finally{v(!1)}}},wu=async O=>{cs(null),on(O),Ks(!0),fetch(`${xt.BASE_URL}/guest-checkin/audit/view-guest-details`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({guestCheckInId:O.id})}).catch(X=>console.error("Failed to log audit:",X))},nr=async(O,X)=>{try{await navigator.clipboard.writeText(O),n({title:"Copied!",description:`${X} copied to clipboard.`,duration:2e3})}catch{n({title:"Failed to copy",description:"Could not copy to clipboard.",variant:"destructive",duration:2e3})}},bm=async O=>{cs(null);try{n({title:"Generating C-Form",description:"Please wait while we generate the Form C PDF...",duration:3e3});const X=await fetch(`${xt.BASE_URL}/guest-checkin/${O.id}/generate-c-form`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}});if(!X.ok){const Ls=await X.json().catch(()=>({error:"Failed to generate C-Form"}));throw new Error(Ls.error||"Failed to generate C-Form")}const Ie=await X.json(),pt=window.atob(Ie.pdfData),Pt=new Uint8Array(pt.length);for(let Ls=0;Ls<pt.length;Ls++)Pt[Ls]=pt.charCodeAt(Ls);const Ge=new Blob([Pt],{type:"application/pdf"}),It=Ie.filename||`Form_C_${O.fullName.replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`,We=window.URL.createObjectURL(Ge),Mt=document.createElement("a");Mt.href=We,Mt.download=It,document.body.appendChild(Mt),Mt.click(),window.URL.revokeObjectURL(We),document.body.removeChild(Mt),n({title:"C-Form Downloaded! ",description:`Form C has been generated and downloaded for ${O.fullName}.`,duration:5e3})}catch(X){console.error("Error generating C-Form:",X),n({title:"Failed to Generate C-Form ",description:X.message||"An error occurred while generating the C-Form",variant:"destructive",duration:5e3})}},pn=(O,X)=>{const pt=X.currentTarget.getBoundingClientRect(),Pt=window.innerWidth,Ge=window.innerHeight,It=224,We=8;let Mt=pt.right-It;Mt=Math.min(Mt,Pt-It-We),Mt=Math.max(We,Mt);const Ls=Ge-pt.bottom,Vn=pt.top;Ls<180&&Vn>Ls?(jl({top:pt.top-We,left:Mt}),fn("top")):(jl({top:pt.bottom+We,left:Mt}),fn("bottom")),cs(qa=>qa===O?null:O)};return a==="landing"?t.jsx("div",{className:"min-h-[100vh] md:min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col pt-safe",children:t.jsx("div",{className:"w-full min-h-[100vh] md:min-h-screen bg-gray-50",children:t.jsx("div",{className:"px-3 xs:px-4 sm:px-6 pt-3 sm:pt-6 pb-20 sm:pb-8 lg:bg-[#F5F7FA]",children:t.jsxs(cj,{value:B,onValueChange:O=>ce(O),children:[t.jsxs("div",{className:"sticky top-20 z-30 bg-white lg:bg-[#F5F7FA] dark:bg-gray-800 -mx-3 xs:-mx-4 sm:-mx-6 px-3 xs:px-4 sm:px-6 py-2 border-b border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between sm:hidden",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Op,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{className:"text-sm font-medium truncate",children:(()=>{const O=B==="foreign-guest"?Z.propertyId:et.propertyId,X=l.find(Ie=>Ie.id.toString()===String(O));return X?X.name:"Property"})()})]}),t.jsxs("button",{type:"button",onClick:()=>le(O=>!O),className:"flex items-center gap-2 px-3 h-10 rounded-md bg-gray-100 dark:bg-gray-700 text-sm","aria-expanded":pe,children:[t.jsxs("span",{className:"truncate",children:[B==="indian-guest"?"Indian Guest Check-in":null,B==="foreign-guest"?"Foreign Guest Check-in":null,B==="guest-details"?"Guest Details":null,B==="audit-logs"?"Audit Logs":null]}),t.jsx("svg",{className:`h-4 w-4 transition-transform ${pe?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{d:"M5 7l5 5 5-5"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const O=u.filter(X=>X.status!=="checked_in").length;return O>0?t.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-700",children:`Queue  ${O}`}):null})(),t.jsx("button",{type:"button",onClick:()=>{const O=B==="foreign-guest"?"foreign-upload-section":"indian-upload-section",X=document.getElementById(O);X&&X.scrollIntoView({behavior:"smooth",block:"start"})},className:"h-9 w-9 flex items-center justify-center rounded-md bg-gray-100 dark:bg-gray-700","aria-label":"Scan ID",children:t.jsx(YE,{className:"h-5 w-5"})})]})]}),t.jsx("div",{className:`${pe?"max-h-64 mt-2":"max-h-0"} sm:hidden overflow-hidden transition-[max-height] duration-200`,children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 divide-y divide-gray-200/60 dark:divide-gray-700/60",children:[t.jsxs("button",{className:`w-full h-12 flex items-center gap-2 px-3 text-left ${B==="indian-guest"?"bg-purple-600 text-white":""}`,onClick:()=>{ce("indian-guest"),le(!1)},children:[t.jsx(Ya,{className:"h-4 w-4"})," ",t.jsx("span",{children:"Indian Guest Check-in"})]}),t.jsxs("button",{className:`w-full h-12 flex items-center gap-2 px-3 text-left ${B==="foreign-guest"?"bg-purple-600 text-white":""}`,onClick:()=>{ce("foreign-guest"),le(!1)},children:[t.jsx(Ql,{className:"h-4 w-4"})," ",t.jsx("span",{children:"  Foreign Guest Check-in"})]}),t.jsxs("button",{className:`w-full h-12 flex items-center gap-2 px-3 text-left ${B==="guest-details"?"bg-purple-600 text-white":""}`,onClick:()=>{ce("guest-details"),le(!1)},children:[t.jsx(rn,{className:"h-4 w-4"})," ",t.jsx("span",{children:"  Guest Details"})]}),t.jsxs("button",{className:`w-full h-12 flex items-center gap-2 px-3 text-left ${B==="audit-logs"?"bg-purple-600 text-white":""}`,onClick:()=>{ce("audit-logs"),le(!1)},children:[t.jsx(Rs,{className:"h-4 w-4"})," ",t.jsx("span",{children:"  Audit Logs"})]})]})}),t.jsx("div",{className:"hidden sm:block",children:t.jsx("div",{className:"-mx-6 px-6 lg:bg-[#F5F7FA]",children:t.jsxs(ll,{className:"grid grid-cols-4 gap-2 bg-gray-100 dark:bg-slate-800 rounded-md p-1",theme:e,children:[t.jsxs(Vs,{value:"indian-guest",theme:e,className:"text-sm px-3 py-2 data-[state=active]:bg-white data-[state=active]:shadow-none",children:[t.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Indian Guest Check-in"]}),t.jsxs(Vs,{value:"foreign-guest",theme:e,className:"text-sm px-3 py-2 data-[state=active]:bg-white data-[state=active]:shadow-none",children:[t.jsx(Ql,{className:"h-4 w-4 mr-2"}),"Foreign Guest Check-in"]}),t.jsxs(Vs,{value:"guest-details",theme:e,className:"text-sm px-3 py-2 data-[state=active]:bg-white data-[state=active]:shadow-none",children:[t.jsx(rn,{className:"h-4 w-4 mr-2"}),"Guest Details"]}),t.jsxs(Vs,{value:"audit-logs",theme:e,className:"text-sm px-3 py-2 data-[state=active]:bg-white data-[state=active]:shadow-none",children:[t.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Audit Logs"]})]})})})]}),t.jsxs("div",{className:"space-y-6 mt-4 pb-12",children:[t.jsx(ks,{value:"indian-guest",className:"space-y-4 mt-0 pb-12",children:t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-md",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Ya,{className:"h-6 w-6 text-green-600"}),"Indian Guest Check-in"]}),t.jsx(Dt,{children:"Complete check-in for Indian guests"})]}),t.jsxs(Ee,{className:"space-y-6 pb-8",children:[w&&t.jsxs(rl,{className:"mb-4 border-red-200 bg-red-50",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),t.jsx(il,{className:"text-red-800",children:w})]}),j&&t.jsxs(rl,{className:"mb-4 border-green-200 bg-green-50",children:[t.jsx(Ca,{className:"h-4 w-4 text-green-600"}),t.jsx(il,{className:"text-green-800",children:j})]}),t.jsxs("div",{className:"mb-6",id:"indian-upload-section",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Upload Indian ID Document"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Auto-fill your details by uploading any Indian government ID. AI will detect the document type and extract information automatically. Supported: Aadhaar, PAN, Driving License, Election Card"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[t.jsx(lp,{documentType:"other",label:"Any Indian ID Document (Required)",onUploadComplete:wa,onExtractionComplete:O=>{},onUploadStatusChange:(O,X)=>{O?it(!0):(it(!1),Gt(X))},className:"min-h-[168px] sm:min-h-[220px]"},`indian-primary-${Fe}`),t.jsx(lp,{documentType:"other",label:"Additional Document (Optional)",onUploadComplete:wa,onUploadStatusChange:(O,X)=>{O||Gt(X)},className:"min-h-[168px] sm:min-h-[220px]"},`indian-optional-${Fe}`)]}),ze.length>0&&t.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-green-700 flex items-center gap-2",children:[t.jsx(Wn,{className:"h-4 w-4"}),t.jsxs("strong",{children:[ze.length," document(s) uploaded."]})," Form fields have been auto-filled. Please verify the information."]})})]}),t.jsx("form",{ref:Oe,onSubmit:vm,className:"space-y-6",children:t.jsxs(jc,{value:$,onValueChange:O=>M(O),theme:e,className:"space-y-4",children:[t.jsxs("div",{className:"sm:hidden space-y-2",children:[t.jsxs("button",{type:"button",onClick:()=>ke(O=>!O),className:"w-full h-10 rounded-md bg-gray-100 dark:bg-gray-700 text-sm font-medium flex items-center justify-between px-3",children:[t.jsx("span",{className:"truncate",children:$==="personal"?"Personal Information":$==="id-documents"?"ID Documents":"Booking Details"}),t.jsx("svg",{className:`h-4 w-4 transition-transform ${ye?"rotate(180deg)":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{d:"M5 7l5 5 5-5"})})]}),t.jsx("div",{className:`${ye?"max-h-48 mt-2":"max-h-0"} overflow-hidden transition-[max-height] duration-300`,children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${$==="personal"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{ke(!1),M("personal")},children:"Personal Information"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${$==="id-documents"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{ke(!1),M("id-documents")},children:"ID Documents"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${$==="booking"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{ke(!1),M("booking")},children:"Booking Details"})]})})]}),t.jsxs(ll,{className:"grid grid-cols-3",containerClassName:"hidden sm:block",theme:e,children:[t.jsx(Vs,{value:"personal",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Personal Information"}),t.jsx(Vs,{value:"id-documents",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"ID Documents"}),t.jsx(Vs,{value:"booking",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Booking Details"})]}),t.jsxs(ks,{value:"personal",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-name",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name *"}),t.jsxs("div",{className:"relative",children:[t.jsx(ve,{id:"indian-name",value:et.fullName,onChange:O=>ua({...et,fullName:O.target.value}),placeholder:"Enter your full name",required:!0,className:"h-11"}),F&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(nn,{className:"h-5 w-5 text-green-600"})})]}),F&&t.jsxs("p",{className:"text-xs text-green-700 bg-green-100 p-1.5 rounded-md mt-1 flex items-center",children:[t.jsx(Wn,{className:"h-4 w-4 mr-1"}),"Auto-filled from Aadhaar"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email *"}),t.jsx(ve,{id:"indian-email",type:"email",inputMode:"email",autoComplete:"email",value:et.email,onChange:O=>ua({...et,email:O.target.value}),placeholder:"your.email@example.com",required:!0,className:"h-12 sm:h-11"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-phone",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number *"}),t.jsx(ve,{id:"indian-phone",type:"tel",inputMode:"tel",autoComplete:"tel",value:et.phone,onChange:O=>ua({...et,phone:O.target.value}),placeholder:"+91 98765 43210",required:!0,className:"h-12 sm:h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-address",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address *"}),t.jsxs("div",{className:"relative",children:[t.jsx(ve,{id:"indian-address",value:et.address,onChange:O=>ua({...et,address:O.target.value}),placeholder:"Enter your address",required:!0,className:"h-11"}),F&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(nn,{className:"h-5 w-5 text-green-600"})})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>M("id-documents"),disabled:!Kt(),className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"id-documents",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-aadhar",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Aadhaar Number *"}),t.jsxs("div",{className:"relative",children:[t.jsx(ve,{id:"indian-aadhar",value:F?"**** **** 8432":et.aadharNumber,onChange:O=>ua({...et,aadharNumber:O.target.value}),placeholder:"1234 5678 9012",required:!0,className:"h-11"}),F&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(nn,{className:"h-5 w-5 text-green-600"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-pan",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"PAN Card Number"}),t.jsx(ve,{id:"indian-pan",value:et.panNumber,onChange:O=>ua({...et,panNumber:O.target.value.toUpperCase()}),placeholder:"ABCDE1234F",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-dl",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Driving License Number"}),t.jsx(ve,{id:"indian-dl",value:et.drivingLicenseNumber,onChange:O=>ua({...et,drivingLicenseNumber:O.target.value.toUpperCase()}),placeholder:"DL-1420110012345",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-election",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Election Card Number"}),t.jsx(ve,{id:"indian-election",value:et.electionCardNumber,onChange:O=>ua({...et,electionCardNumber:O.target.value.toUpperCase()}),placeholder:"ABC1234567",className:"h-11"})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>M("booking"),disabled:!Bt(),className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"booking",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-property",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Property *"}),t.jsxs(st,{value:et.propertyId,onValueChange:O=>ua({...et,propertyId:O}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(me,{value:O.id.toString(),children:O.name},O.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-room",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Room Number (Optional)"}),t.jsx(ve,{id:"indian-room",value:et.roomNumber,onChange:O=>ua({...et,roomNumber:O.target.value}),placeholder:"101",className:"h-11"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-guests",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Number of Guests"}),t.jsx(ve,{id:"indian-guests",type:"number",inputMode:"numeric",min:"1",value:et.numberOfGuests,onChange:O=>ua({...et,numberOfGuests:parseInt(O.target.value)||1}),className:"h-12 sm:h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-checkout",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expected Checkout Date"}),t.jsx(ve,{id:"indian-checkout",type:"date",value:et.expectedCheckoutDate,onChange:O=>ua({...et,expectedCheckoutDate:O.target.value}),className:"h-11"})]})]}),t.jsx(se,{type:"submit",className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",disabled:g||!fs()||!He,children:g?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"h-5 w-5 mr-2 animate-spin"}),"Processing..."]}):He?fs()?t.jsxs(t.Fragment,{children:[t.jsx(Ca,{className:"h-5 w-5 mr-2"}),"Complete Check-in"]}):t.jsxs(t.Fragment,{children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),et.propertyId===""?"Please select a property":"Please fill required fields"]}):t.jsxs(t.Fragment,{children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),"Please upload Indian ID document"]})})]})]})}),B==="indian-guest"&&t.jsx("div",{className:"sm:hidden fixed bottom-0 inset-x-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-3 py-3 pb-safe z-40",children:t.jsxs("div",{className:"flex gap-8",children:[$!=="personal"?t.jsx(se,{type:"button",variant:"outline",className:"flex-1 h-12",onClick:()=>{$==="booking"?M("id-documents"):$==="id-documents"&&M("personal")},children:"Back"}):null,t.jsx(se,{type:"button",className:"flex-1 h-12 bg-green-600 hover:bg-green-700 text-white",disabled:$==="personal"&&!Kt()||$==="id-documents"&&!Bt()||$==="booking"&&(g||!fs()||!He),onClick:()=>{var O,X;$==="personal"?Kt()&&M("id-documents"):$==="id-documents"?Bt()&&M("booking"):!g&&fs()&&He&&((X=(O=Oe.current)==null?void 0:O.requestSubmit)==null||X.call(O))},children:$==="booking"?g?"Processing":"Complete Check-in":"Continue"})]})})]})]})}),t.jsx(ks,{value:"foreign-guest",className:"space-y-4 mt-0 pb-12",children:t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-md",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsxs(Je,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Ql,{className:"h-6 w-6 text-green-600"}),"Foreign Guest Check-in"]}),t.jsx(Dt,{children:"Complete check-in for foreign guests"})]}),t.jsxs(Ee,{className:"space-y-6 pb-8",children:[w&&t.jsxs(rl,{className:"mb-4 border-red-200 bg-red-50",children:[t.jsx(is,{className:"h-4 w-4 text-red-600"}),t.jsx(il,{className:"text-red-800",children:w})]}),j&&t.jsxs(rl,{className:"mb-4 border-green-200 bg-green-50",children:[t.jsx(Ca,{className:"h-4 w-4 text-green-600"}),t.jsx(il,{className:"text-green-800",children:j})]}),t.jsxs("div",{className:"mb-6",id:"foreign-upload-section",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Upload Travel Documents"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Auto-fill your details by uploading your passport and visa. AI will extract information automatically."}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[t.jsx(lp,{documentType:"passport",label:"Passport (Required)",onUploadComplete:vu,onExtractionComplete:O=>{},onUploadStatusChange:(O,X)=>{O?yt(!0):(yt(!1),Gt(X))},className:"min-h-[168px] sm:min-h-[220px]"},`foreign-passport-${Fe}`),t.jsx(lp,{documentType:"visa_front",label:"Visa (Required)",onUploadComplete:vu,onUploadStatusChange:(O,X)=>{O?va(!0):(va(!1),Gt(X))},className:"min-h-[168px] sm:min-h-[220px]"},`foreign-visa-${Fe}`)]}),ze.length>0&&t.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-green-700 flex items-center gap-2",children:[t.jsx(Wn,{className:"h-4 w-4"}),t.jsxs("strong",{children:[ze.length," document(s) uploaded."]})," Form fields have been auto-filled. Please verify the information."]})})]}),t.jsx("form",{ref:_e,onSubmit:Lg,className:"space-y-6",children:t.jsxs(jc,{value:V,onValueChange:O=>G(O),theme:e,className:"space-y-4",children:[t.jsxs("div",{className:"sm:hidden space-y-2",children:[t.jsxs("button",{type:"button",onClick:()=>je(O=>!O),className:"w-full h-10 rounded-md bg-gray-100 dark:bg-gray-700 text-sm font-medium flex items-center justify-between px-3",children:[t.jsx("span",{className:"truncate",children:V==="personal"?"Personal Info":V==="travel-documents"?"  Travel Docs":V==="form-c"?"Form C Details":"Booking"}),t.jsx("svg",{className:`h-4 w-4 transition-transform ${ge?"rotate(180deg)":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{d:"M5 7l5 5 5-5"})})]}),t.jsx("div",{className:`${ge?"max-h-56 mt-2":"max-h-0"} overflow-hidden transition-[max-height] duration-300`,children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${V==="personal"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{je(!1),G("personal")},children:"Personal Info"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${V==="travel-documents"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{je(!1),G("travel-documents")},children:"Travel Docs"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${V==="form-c"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{je(!1),G("form-c")},children:"Form C Details"}),t.jsx("button",{type:"button",className:`h-12 text-left px-3 rounded-md ${V==="booking"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-slate-800 dark:text-slate-200"}`,onClick:()=>{je(!1),G("booking")},children:"Booking"})]})})]}),t.jsxs(ll,{className:"grid grid-cols-4",containerClassName:"hidden sm:block",theme:e,children:[t.jsx(Vs,{value:"personal",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Personal Info"}),t.jsx(Vs,{value:"travel-documents",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Travel Docs"}),t.jsx(Vs,{value:"form-c",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Form C Details"}),t.jsx(Vs,{value:"booking",theme:e,className:"text-sm px-4 py-3 data-[state=active]:text-green-600 data-[state=active]:bg-green-50 data-[state=active]:border-b-green-600 data-[state=inactive]:text-gray-600 data-[state=inactive]:hover:text-gray-800 data-[state=inactive]:hover:bg-gray-50",children:"Booking"})]}),t.jsxs(ks,{value:"personal",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-name",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name *"}),t.jsx(ve,{id:"foreign-name",value:Z.fullName,onChange:O=>ft({...Z,fullName:O.target.value}),placeholder:"Enter your full name",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email *"}),t.jsx(ve,{id:"foreign-email",type:"email",inputMode:"email",autoComplete:"email",value:Z.email,onChange:O=>ft({...Z,email:O.target.value}),placeholder:"your.email@example.com",required:!0,className:"h-12 sm:h-11"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-phone",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone Number *"}),t.jsx(ve,{id:"foreign-phone",type:"tel",inputMode:"tel",autoComplete:"tel",value:Z.phone,onChange:O=>ft({...Z,phone:O.target.value}),placeholder:"+1 234 567 8900",required:!0,className:"h-12 sm:h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-address",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address *"}),t.jsx(ve,{id:"foreign-address",value:Z.address,onChange:O=>ft({...Z,address:O.target.value}),placeholder:"Enter your address",required:!0,className:"h-11"})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>G("travel-documents"),disabled:!ta(),className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"travel-documents",className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Passport Details"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-number",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passport Number *"}),t.jsx(ve,{id:"passport-number",value:Z.passportNumber,onChange:O=>ft({...Z,passportNumber:O.target.value}),placeholder:"KF0250087",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-country",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Country *"}),t.jsx(ve,{id:"passport-country",value:Z.passportCountry,onChange:O=>ft({...Z,passportCountry:O.target.value,country:O.target.value}),placeholder:"Estonia",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-nationality",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nationality"}),t.jsx(ve,{id:"passport-nationality",value:Z.passportNationality,onChange:O=>ft({...Z,passportNationality:O.target.value}),placeholder:"Estonia",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-date-of-birth",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date of Birth"}),t.jsx(ve,{id:"passport-date-of-birth",type:"date",value:Z.passportDateOfBirth,onChange:O=>ft({...Z,passportDateOfBirth:O.target.value}),className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-issue-date",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issue Date"}),t.jsx(ve,{id:"passport-issue-date",type:"date",value:Z.passportIssueDate,onChange:O=>ft({...Z,passportIssueDate:O.target.value}),className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-expiry-date",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expiry Date *"}),t.jsx(ve,{id:"passport-expiry-date",type:"date",value:Z.passportExpiryDate,onChange:O=>ft({...Z,passportExpiryDate:O.target.value}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"passport-place-of-birth",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Place of Birth"}),t.jsx(ve,{id:"passport-place-of-birth",value:Z.passportPlaceOfBirth,onChange:O=>ft({...Z,passportPlaceOfBirth:O.target.value}),placeholder:"Tallinn, Estonia",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-3",children:[t.jsx(ee,{htmlFor:"passport-issuing-authority",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issuing Authority"}),t.jsx(ve,{id:"passport-issuing-authority",value:Z.passportIssuingAuthority,onChange:O=>ft({...Z,passportIssuingAuthority:O.target.value}),placeholder:"Police and Border Guard Board, Tallinn, Estonia",className:"h-11"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Visa Details (FRRO C-Form Ready)"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-type",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Type"}),t.jsx(ve,{id:"visa-type",value:Z.visaType,onChange:O=>ft({...Z,visaType:O.target.value}),placeholder:"Tourist",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-category",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Category"}),t.jsx(ve,{id:"visa-category",value:Z.visaCategory,onChange:O=>ft({...Z,visaCategory:O.target.value}),placeholder:"e-Visa",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-number",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Number"}),t.jsx(ve,{id:"visa-number",value:Z.visaNumber,onChange:O=>ft({...Z,visaNumber:O.target.value}),placeholder:"900F3927P",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-country",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Country"}),t.jsx(ve,{id:"visa-country",value:Z.visaCountry,onChange:O=>ft({...Z,visaCountry:O.target.value}),placeholder:"India",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-issue-date",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issue Date"}),t.jsx(ve,{id:"visa-issue-date",type:"date",value:Z.visaIssueDate,onChange:O=>ft({...Z,visaIssueDate:O.target.value}),className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-expiry-date",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expiry Date"}),t.jsx(ve,{id:"visa-expiry-date",type:"date",value:Z.visaExpiryDate,onChange:O=>ft({...Z,visaExpiryDate:O.target.value}),className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-place-of-issue",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Place of Issue"}),t.jsx(ve,{id:"visa-place-of-issue",value:Z.visaPlaceOfIssue,onChange:O=>ft({...Z,visaPlaceOfIssue:O.target.value}),placeholder:"New Delhi",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-purpose",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Purpose of Visit"}),t.jsx(ve,{id:"visa-purpose",value:Z.visaPurposeOfVisit,onChange:O=>ft({...Z,visaPurposeOfVisit:O.target.value}),placeholder:"Tourism",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-duration",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Duration of Stay"}),t.jsx(ve,{id:"visa-duration",value:Z.visaDurationOfStay,onChange:O=>ft({...Z,visaDurationOfStay:O.target.value}),placeholder:"90 days",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-entries",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Number of Entries"}),t.jsx(ve,{id:"visa-entries",value:Z.visaNumberOfEntries,onChange:O=>ft({...Z,visaNumberOfEntries:O.target.value}),placeholder:"Multiple",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-port-of-entry",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Port of Entry"}),t.jsx(ve,{id:"visa-port-of-entry",value:Z.visaPortOfEntry,onChange:O=>ft({...Z,visaPortOfEntry:O.target.value}),placeholder:"IGI AIRPORT, NEW DELHI",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"visa-status",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visa Status"}),t.jsx(ve,{id:"visa-status",value:Z.visaStatus,onChange:O=>ft({...Z,visaStatus:O.target.value}),placeholder:"Active",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-3",children:[t.jsx(ee,{htmlFor:"visa-issuing-authority",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issuing Authority"}),t.jsx(ve,{id:"visa-issuing-authority",value:Z.visaIssuingAuthority,onChange:O=>ft({...Z,visaIssuingAuthority:O.target.value}),placeholder:"BUREAU OF IMMIGRATION INDIA",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-3",children:[t.jsx(ee,{htmlFor:"visa-remarks",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Remarks/Conditions"}),t.jsx(ve,{id:"visa-remarks",value:Z.visaRemarks,onChange:O=>ft({...Z,visaRemarks:O.target.value}),placeholder:"Each stay not to exceed 90 days",className:"h-11"})]})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>G("form-c"),disabled:!js(),className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"form-c",className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:t.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[t.jsx("strong",{children:"Form C Information:"})," These additional details are required by the FRRO (Foreigners Regional Registration Office) for foreign national registration in India. Complete these fields to enable automatic Form C PDF generation."]})}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-sm",children:[t.jsxs(Qe,{className:"pb-4",children:[t.jsx(Je,{className:"text-md font-medium text-gray-800 dark:text-gray-200",children:"Accommodation Property"}),t.jsx(Dt,{className:"text-sm text-gray-600",children:"Select property to auto-fill Indian address and contact details"})]}),t.jsx(Ee,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"form-c-property",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Select Property *"}),t.jsxs(st,{value:Z.propertyId,onValueChange:O=>{console.log("=== PROPERTY SELECTION (Form C Tab) ==="),Ut(O)},children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select accommodation property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(me,{value:O.id.toString(),children:O.name},O.id))})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"This will automatically populate the Indian address fields below"})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Additional Personal Details"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"surname",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Surname (if any)",Z.surname&&t.jsx(Wn,{className:"h-3 w-3 text-green-600"})]}),t.jsx(ve,{id:"surname",value:Z.surname,onChange:O=>ft({...Z,surname:O.target.value}),placeholder:"Last name / Family name",className:"h-11"}),Z.surname&&t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from passport"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"sex",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sex/Gender *"}),t.jsxs(st,{value:Z.sex,onValueChange:O=>ft({...Z,sex:O}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select gender"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"Male",children:"Male"}),t.jsx(me,{value:"Female",children:"Female"}),t.jsx(me,{value:"Other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"special-category",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Special Category"}),t.jsx(ve,{id:"special-category",value:Z.specialCategory,onChange:O=>ft({...Z,specialCategory:O.target.value}),placeholder:"e.g., Others, VIP, Diplomat",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"permanent-city",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Permanent City (Home Country)",Z.permanentCity&&t.jsx(Wn,{className:"h-3 w-3 text-green-600"})]}),t.jsx(ve,{id:"permanent-city",value:Z.permanentCity,onChange:O=>ft({...Z,permanentCity:O.target.value}),placeholder:"City in your home country",className:"h-11"}),Z.permanentCity&&t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from place of birth"]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Address/Reference in India"}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"indian-address",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Indian Address *",Z.indianAddress&&t.jsx(Wn,{className:"h-3 w-3 text-blue-600"})]}),t.jsx(ve,{id:"indian-address",value:Z.indianAddress,onChange:O=>ft({...Z,indianAddress:O.target.value}),placeholder:"Complete address in India",required:!0,className:"h-11"}),Z.indianAddress&&t.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from selected property"]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-city-district",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"City/District *"}),t.jsx(ve,{id:"indian-city-district",value:Z.indianCityDistrict,onChange:O=>ft({...Z,indianCityDistrict:O.target.value}),placeholder:"City or District",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-state",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"State *"}),t.jsx(ve,{id:"indian-state",value:Z.indianState,onChange:O=>ft({...Z,indianState:O.target.value}),placeholder:"State",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"indian-pincode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pincode *"}),t.jsx(ve,{id:"indian-pincode",value:Z.indianPincode,onChange:O=>ft({...Z,indianPincode:O.target.value}),placeholder:"6-digit pincode",required:!0,className:"h-11"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Arrival Information"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"arrived-from",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Arrived From (Last Port) *",Z.arrivedFrom&&t.jsx(Wn,{className:"h-3 w-3 text-green-600"})]}),t.jsx(ve,{id:"arrived-from",value:Z.arrivedFrom,onChange:O=>ft({...Z,arrivedFrom:O.target.value}),placeholder:"City, Country (e.g., London, UK)",required:!0,className:"h-11"}),Z.arrivedFrom&&t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from passport nationality"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"date-arrival-india",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date of Arrival in India *"}),t.jsx(ve,{id:"date-arrival-india",type:"date",value:Z.dateOfArrivalInIndia,onChange:O=>ft({...Z,dateOfArrivalInIndia:O.target.value}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"date-arrival-accommodation",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date of Arrival at Accommodation *"}),t.jsx(ve,{id:"date-arrival-accommodation",type:"date",value:Z.dateOfArrivalAtAccommodation,onChange:O=>ft({...Z,dateOfArrivalAtAccommodation:O.target.value}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"time-arrival",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Time of Arrival *"}),t.jsx(ve,{id:"time-arrival",type:"time",value:Z.timeOfArrival,onChange:O=>ft({...Z,timeOfArrival:O.target.value}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"intended-duration",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Intended Duration (Days) *"}),t.jsx(ve,{id:"intended-duration",type:"number",min:"1",value:Z.intendedDuration,onChange:O=>ft({...Z,intendedDuration:parseInt(O.target.value)||7}),required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"employed-india",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Employed in India? *"}),t.jsxs(st,{value:Z.employedInIndia,onValueChange:O=>ft({...Z,employedInIndia:O}),children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"N",children:"No"}),t.jsx(me,{value:"Y",children:"Yes"})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700 pb-2",children:"Other Details"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"purpose-visit",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Purpose of Visit *"}),t.jsx(ve,{id:"purpose-visit",value:Z.purposeOfVisit,onChange:O=>ft({...Z,purposeOfVisit:O.target.value}),placeholder:"e.g., Tourism, Business",required:!0,className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"next-place",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Next Place of Visit"}),t.jsx(ve,{id:"next-place",value:Z.nextPlace,onChange:O=>ft({...Z,nextPlace:O.target.value}),placeholder:"Next destination",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"destination-city",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Next Destination City"}),t.jsx(ve,{id:"destination-city",value:Z.destinationCityDistrict,onChange:O=>ft({...Z,destinationCityDistrict:O.target.value}),placeholder:"City/District",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"destination-state",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Next Destination State"}),t.jsx(ve,{id:"destination-state",value:Z.destinationState,onChange:O=>ft({...Z,destinationState:O.target.value}),placeholder:"State",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"mobile-india",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:["Mobile No. in India",Z.mobileNoIndia&&t.jsx(Wn,{className:"h-3 w-3 text-blue-600"})]}),t.jsx(ve,{id:"mobile-india",type:"tel",value:Z.mobileNoIndia,onChange:O=>ft({...Z,mobileNoIndia:O.target.value}),placeholder:"+91 XXXXXXXXXX",className:"h-11"}),Z.mobileNoIndia&&t.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1",children:[t.jsx(Wn,{className:"h-3 w-3"}),"Auto-filled from property contact"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"contact-permanent",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Permanent Contact No."}),t.jsx(ve,{id:"contact-permanent",type:"tel",value:Z.contactNoPermanent,onChange:O=>ft({...Z,contactNoPermanent:O.target.value}),placeholder:"Contact in home country",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"mobile-permanent",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Permanent Mobile No."}),t.jsx(ve,{id:"mobile-permanent",type:"tel",value:Z.mobileNoPermanent,onChange:O=>ft({...Z,mobileNoPermanent:O.target.value}),placeholder:"Mobile in home country",className:"h-11"})]}),t.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[t.jsx(ee,{htmlFor:"remarks",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Remarks (Optional)"}),t.jsx(ve,{id:"remarks",value:Z.remarks,onChange:O=>ft({...Z,remarks:O.target.value}),placeholder:"Any additional information",className:"h-11"})]})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx(se,{type:"button",onClick:()=>G("booking"),disabled:!Z.indianAddress||!Z.indianCityDistrict||!Z.indianState||!Z.indianPincode||!Z.arrivedFrom||!Z.dateOfArrivalInIndia||!Z.dateOfArrivalAtAccommodation||!Z.purposeOfVisit,className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",children:"Next"})})]}),t.jsxs(ks,{value:"booking",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-property",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Property *"}),t.jsxs(st,{value:Z.propertyId,onValueChange:O=>{console.log("=== PROPERTY SELECTION (Booking Tab) ==="),Ut(O)},children:[t.jsx(nt,{className:"h-11",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(me,{value:O.id.toString(),children:O.name},O.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-room",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Room Number (Optional)"}),t.jsx(ve,{id:"foreign-room",value:Z.roomNumber,onChange:O=>ft({...Z,roomNumber:O.target.value}),placeholder:"101",className:"h-11"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-guests",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Number of Guests"}),t.jsx(ve,{id:"foreign-guests",type:"number",inputMode:"numeric",min:"1",value:Z.numberOfGuests,onChange:O=>ft({...Z,numberOfGuests:parseInt(O.target.value)||1}),className:"h-12 sm:h-11"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"foreign-checkout",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expected Checkout Date"}),t.jsx(ve,{id:"foreign-checkout",type:"date",value:Z.expectedCheckoutDate,onChange:O=>ft({...Z,expectedCheckoutDate:O.target.value}),className:"h-11"})]})]}),t.jsx(se,{type:"submit",className:"hidden sm:inline-flex w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-6 text-lg font-semibold",disabled:g||!co()||!Tt||!xs,children:g?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"h-5 w-5 mr-2 animate-spin"}),"Processing..."]}):!Tt||!xs?t.jsxs(t.Fragment,{children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),!Tt&&!xs?"Please upload passport and visa":Tt?"Please upload visa":"Please upload passport"]}):co()?t.jsxs(t.Fragment,{children:[t.jsx(Ca,{className:"h-5 w-5 mr-2"}),"Complete Check-in"]}):t.jsxs(t.Fragment,{children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),Z.propertyId===""?"Please select a property":"Please fill required fields"]})})]})]})}),B==="foreign-guest"&&t.jsx("div",{className:"sm:hidden fixed bottom-0 inset-x-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-3 py-3 pb-safe z-40",children:t.jsxs("div",{className:"flex gap-2",children:[V!=="personal"?t.jsx(se,{type:"button",variant:"outline",className:"flex-1 h-12",onClick:()=>{V==="booking"?G("form-c"):V==="form-c"?G("travel-documents"):V==="travel-documents"&&G("personal")},children:"Back"}):null,t.jsx(se,{type:"button",className:"flex-1 h-12 bg-green-600 hover:bg-green-700 text-white",disabled:V==="personal"&&!ta()||V==="travel-documents"&&!js()||V==="booking"&&(g||!co()||!xs||!Tt),onClick:()=>{var O,X;V==="personal"?ta()&&G("travel-documents"):V==="travel-documents"?js()&&G("form-c"):V==="form-c"?G("booking"):!g&&co()&&Tt&&xs&&((X=(O=_e.current)==null?void 0:O.requestSubmit)==null||X.call(O))},children:V==="booking"?g?"Processing":"Complete Check-in":"Continue"})]})})]})]})}),t.jsxs(ks,{value:"guest-details",className:"space-y-6 mt-0 pb-12",children:[t.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm ${K?"flex":"hidden"} items-center justify-center z-50 p-4`,children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 sm:p-8 w-full max-w-3xl transform transition-all",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Add New Guest"}),t.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",onClick:()=>J(!1),children:t.jsx(is,{className:"h-6 w-6"})})]}),t.jsxs("form",{onSubmit:O=>O.preventDefault(),className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"guest-name",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Full Name"}),t.jsx(ve,{id:"guest-name",type:"text",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"dob",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Date of Birth"}),t.jsx(ve,{id:"dob",type:"date",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"nationality",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Nationality"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select nationality"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"indian",children:"Indian"}),t.jsx(me,{value:"foreign",children:"Foreign"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"id-proof",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"ID Proof"}),t.jsx(ve,{id:"id-proof",type:"file",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"payment-proof",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Payment Proof"}),t.jsx(ve,{id:"payment-proof",type:"file",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"days-stay",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"No. of Days"}),t.jsx(ve,{id:"days-stay",type:"number",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"property",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Property"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(me,{value:O.id.toString(),children:O.name},O.id))})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"room-type",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Room Type"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select room type"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"single",children:"Single Room"}),t.jsx(me,{value:"double",children:"Double Room"}),t.jsx(me,{value:"dorm-4",children:"Dormitory (4 beds)"}),t.jsx(me,{value:"dorm-8",children:"Dormitory (8 beds)"})]})]})]}),t.jsxs("div",{className:"md:col-span-2 flex justify-end gap-4 mt-4",children:[t.jsx(se,{variant:"outline",onClick:()=>J(!1),type:"button",children:"Cancel"}),t.jsx(se,{className:"bg-green-600 hover:bg-green-700",type:"button",onClick:()=>J(!1),children:"Add Guest"})]})]})]})}),t.jsxs(Te,{className:"border-l-4 border-l-green-500 shadow-lg overflow-visible bg-white dark:bg-gray-800",children:[t.jsx(Qe,{className:"pb-6 border-b border-gray-100 dark:border-gray-700",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs(Je,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:t.jsx(rn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),"Guest List",t.jsxs("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-3 py-1 rounded-full font-medium",children:[f.length," ",f.length===1?"Guest":"Guests"]})]}),t.jsx(Dt,{className:"mt-2 text-gray-600 dark:text-gray-400",children:"View and manage all checked-in guests"})]}),t.jsx("div",{className:"flex-shrink-0 flex gap-3",children:t.jsxs(se,{variant:"outline",onClick:Wa,disabled:g,className:"flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-700",children:[t.jsx(mt,{className:`h-4 w-4 ${g?"animate-spin":""}`}),t.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})})]})}),t.jsxs(Ee,{className:"overflow-visible pt-6",children:[t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 sm:p-5 mb-6 border border-gray-200 dark:border-gray-700",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter Guests"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-guest-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Guest Name"}),t.jsx(ve,{id:"filter-guest-name",placeholder:"Search by name",type:"text",className:"h-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",value:R,onChange:O=>L(O.target.value)})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-checkin-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Check-in Date"}),t.jsx(ve,{id:"filter-checkin-date",type:"date",className:"h-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",value:z,onChange:O=>Q(O.target.value)})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-property",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property"}),t.jsxs(st,{value:D,onValueChange:A,children:[t.jsx(nt,{className:"h-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:t.jsx(at,{placeholder:"All Properties"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Properties"}),l.map(O=>t.jsx(me,{value:O.id.toString(),children:O.name},O.id))]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nationality"}),t.jsxs("div",{className:"flex items-center w-full h-10 rounded-md border border-gray-300 dark:border-gray-600 overflow-hidden bg-white dark:bg-gray-800",children:[t.jsx(se,{type:"button",variant:"ghost",className:`flex-1 h-full rounded-none text-xs font-medium transition-colors ${C==="all"?"bg-blue-600 text-white hover:bg-blue-700 hover:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>I("all"),children:"All"}),t.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),t.jsx(se,{type:"button",variant:"ghost",className:`flex-1 h-full rounded-none text-xs font-medium transition-colors ${C==="indian"?"bg-blue-600 text-white hover:bg-blue-700 hover:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>I(O=>O==="indian"?"all":"indian"),children:"Indian"}),t.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),t.jsx(se,{type:"button",variant:"ghost",className:`flex-1 h-full rounded-none text-xs font-medium transition-colors ${C==="foreign"?"bg-blue-600 text-white hover:bg-blue-700 hover:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>I(O=>O==="foreign"?"all":"foreign"),children:"Foreign"})]})]})]})]}),g?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-green-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Loading guests..."})]})}):w?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(is,{className:"h-8 w-8 text-red-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-red-900 dark:text-red-100",children:w}),t.jsxs(se,{onClick:Wa,variant:"outline",className:"mt-4",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}):t.jsx("div",{className:"overflow-x-auto overflow-y-visible rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("table",{className:"min-w-[640px] w-full table-fixed text-xs sm:text-sm text-left",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Guest Name"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Property"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Nationality"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Room Type"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Check-in Date"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Days"}),t.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider text-right",children:"Actions"})]})}),t.jsxs("tbody",{className:"relative",children:[(console.log("=== GUEST LIST RENDER DEBUG ==="),console.log("checkIns state:",f),console.log("checkIns.length:",f.length),console.log("checkIns type:",typeof f),console.log("Is array:",Array.isArray(f)),null),f.length===0?t.jsx("tr",{children:t.jsxs("td",{colSpan:7,className:"p-8 text-center text-gray-500",children:['No guests found. Click "Add Guest" to get started.',t.jsx("br",{}),t.jsxs("small",{className:"text-xs text-gray-400 mt-2 block",children:["Debug: checkIns.length = ",f.length]})]})}):f.map(O=>t.jsxs("tr",{className:`border-b border-gray-100 dark:border-gray-700 transition-all duration-200 ${St===O.id?"bg-blue-50 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-300 dark:ring-blue-700 shadow-sm":"hover:bg-gray-50 dark:hover:bg-gray-800/50 bg-white dark:bg-gray-850"}`,children:[t.jsx("td",{className:"px-4 py-4 font-medium text-gray-900 dark:text-gray-100",children:O.fullName}),t.jsx("td",{className:"px-4 py-4 text-gray-600 dark:text-gray-400",children:O.propertyName}),t.jsx("td",{className:"px-4 py-4",children:t.jsx(Lt,{variant:O.guestType==="indian"?"default":"secondary",className:O.guestType==="indian"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 font-medium":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 font-medium",children:O.guestType==="indian"?"Indian":"Foreign"})}),t.jsx("td",{className:"px-4 py-4 text-gray-600 dark:text-gray-400",children:O.roomNumber||"Not assigned"}),t.jsx("td",{className:"px-4 py-4 text-gray-600 dark:text-gray-400",children:new Date(O.checkInDate).toLocaleDateString()}),t.jsx("td",{className:"px-4 py-4 text-gray-600 dark:text-gray-400",children:O.expectedCheckoutDate?Math.ceil((new Date(O.expectedCheckoutDate).getTime()-new Date(O.checkInDate).getTime())/(1e3*60*60*24)):"N/A"}),t.jsx("td",{className:"px-4 py-4 relative text-right",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{size:"sm",variant:"ghost",className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>bu(O),title:"View Documents",children:t.jsx(un,{className:"h-4 w-4"})}),t.jsxs("div",{className:"relative inline-block",children:[t.jsx(se,{size:"sm",variant:"ghost",className:`p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${St===O.id?"bg-gray-100 dark:bg-gray-700":""}`,title:"More actions",onClick:X=>{X.stopPropagation(),pn(O.id,X)},children:t.jsx(av,{className:"h-4 w-4"})}),St===O.id&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:X=>{X.stopPropagation(),cs(null)},"aria-hidden":"true"}),t.jsx("div",{className:"fixed w-56 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 shadow-2xl z-[70]",style:{top:`${wi.top}px`,left:`${wi.left}px`,transform:`translateY(${En==="top"?"-100%":"0"})`,transformOrigin:En==="top"?"bottom right":"top right",maxHeight:"300px"},onClick:X=>X.stopPropagation(),children:t.jsxs("div",{className:"py-1",children:[t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",onClick:X=>{X.stopPropagation(),wu(O)},children:[t.jsx(un,{className:"h-4 w-4"}),t.jsx("span",{children:"View guest details"})]}),O.guestType==="foreign"&&t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",onClick:X=>{X.stopPropagation(),bm(O)},children:[t.jsx(Rs,{className:"h-4 w-4"}),t.jsx("span",{children:"C-Form ready"})]}),t.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center gap-2",onClick:X=>{X.stopPropagation(),Cc(O.id,O.fullName)},children:[t.jsx(jn,{className:"h-4 w-4"}),t.jsx("span",{children:"Delete"})]})]})})]})]})]})})]},O.id))]})]})})]})]})]}),t.jsxs(ks,{value:"audit-logs",className:"space-y-4 mt-0 pb-12",children:[t.jsx(JJ,{filters:jt,onFiltersChange:O=>{Ft(O);const X=ln(O);Be(X)},onClear:()=>{Ft({}),As.current({},{silent:!0,replace:!0})}}),t.jsx(WJ,{logs:te,isLoading:ue,error:Se,pagination:dt,onRefresh:()=>As.current(ba.current,{replace:!0}),onExport:xe,onViewDetails:O=>{ea(O),Ht(!0)}})]})]}),ys&&bt&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-slate-900/60 dark:bg-black/70",onClick:()=>Ks(!1)}),t.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-white dark:bg-[#18212a] shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 p-4 sm:p-6 border-b border-slate-200 dark:border-slate-700/60",children:[t.jsx("div",{className:"w-8 sm:w-10"}),t.jsx("div",{className:"flex-1 text-center",children:t.jsx("p",{className:"text-base sm:text-lg font-bold text-slate-800 dark:text-slate-200 tracking-tight",children:"Guest Details"})}),t.jsx("button",{className:"flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>Ks(!1),"aria-label":"Close modal",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"flex flex-col p-4 sm:p-6 space-y-4 sm:space-y-6 max-h-[calc(100vh-120px)] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[t.jsx("div",{className:"flex h-14 w-14 sm:h-16 sm:w-16 shrink-0 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800",children:t.jsx(Ya,{className:"h-7 w-7 sm:h-8 sm:w-8 text-slate-500 dark:text-slate-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xl sm:text-2xl font-black leading-tight tracking-tight text-slate-900 dark:text-white truncate",children:bt.fullName}),t.jsx(Lt,{variant:bt.guestType==="indian"?"default":"secondary",className:`mt-1 text-xs ${bt.guestType==="indian"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:bt.guestType==="indian"?"Indian Guest":"Foreign Guest"})]})]}),t.jsxs("div",{className:"flex flex-col divide-y divide-slate-200 dark:divide-slate-700/60",children:[t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(XE,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Mobile Number"}),t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.phone||"Not provided"})]}),bt.phone&&t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.phone,"Phone number"),"aria-label":"Copy phone number",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(Hd,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Email Address"}),t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.email||"Not provided"})]}),bt.email&&t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.email,"Email"),"aria-label":"Copy email",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 py-3 sm:py-4",children:[t.jsx(QE,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Address"}),t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-slate-200 break-words",children:bt.address||"Not provided"})]}),bt.address&&t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.address,"Address"),"aria-label":"Copy address",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(Op,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Allotted Room"}),t.jsx("p",{className:"text-sm sm:text-base font-mono font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.roomNumber?`Room ${bt.roomNumber}`:"Not assigned"})]}),bt.roomNumber&&t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.roomNumber||"","Room number"),"aria-label":"Copy room number",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),bt.guestType==="indian"&&bt.aadharNumber&&t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(nl,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Aadhaar Number"}),t.jsx("p",{className:"text-sm sm:text-base font-mono font-medium text-slate-800 dark:text-slate-200 truncate",children:(Tc=bt.aadharNumber)==null?void 0:Tc.replace(/(\d{4})(\d{4})(\d{4})/,"$1 $2 $3")})]}),t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.aadharNumber||"","Aadhaar number"),"aria-label":"Copy Aadhaar number",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),bt.guestType==="foreign"&&bt.passportNumber&&t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(Ql,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Passport Number"}),t.jsx("p",{className:"text-sm sm:text-base font-mono font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.passportNumber})]}),t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.passportNumber||"","Passport number"),"aria-label":"Copy passport number",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]}),bt.guestType==="foreign"&&bt.country&&t.jsxs("div",{className:"flex items-center gap-3 py-3 sm:py-4",children:[t.jsx(Ql,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-0.5",children:"Country"}),t.jsx("p",{className:"text-sm sm:text-base font-medium text-slate-800 dark:text-slate-200 truncate",children:bt.country})]}),t.jsxs("button",{className:"group relative flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",onClick:()=>nr(bt.country||"","Country"),"aria-label":"Copy country",children:[t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),t.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 scale-0 rounded bg-slate-800 px-2 py-1 text-xs text-white transition-all group-hover:scale-100 whitespace-nowrap",children:"Copy"})]})]})]})]})]})]}),Zt&&es&&t.jsx(YJ,{open:Zt,onClose:()=>as(!1),guestCheckInId:es.id,guestName:es.fullName,documents:Ye}),t.jsx(XJ,{open:kt,onClose:()=>{Ht(!1),ea(null)},log:Wt})]})})})}):t.jsx("div",{className:"h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden",children:t.jsxs("div",{className:"h-full p-8 overflow-y-auto",children:[t.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 ${a==="add-guest"?"flex":"hidden"} items-center justify-center z-50`,children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-3xl transform transition-all",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Add New Guest"}),t.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",onClick:()=>r("admin-dashboard"),children:t.jsx(is,{className:"h-6 w-6"})})]}),t.jsxs("form",{onSubmit:O=>O.preventDefault(),className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"guest-name",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Full Name"}),t.jsx(ve,{id:"guest-name",type:"text",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"dob",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Date of Birth"}),t.jsx(ve,{id:"dob",type:"date",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"nationality",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Nationality"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select nationality"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"indian",children:"Indian"}),t.jsx(me,{value:"foreign",children:"Foreign"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"id-proof",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"ID Proof"}),t.jsx(ve,{id:"id-proof",type:"file",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"payment-proof",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Payment Proof"}),t.jsx(ve,{id:"payment-proof",type:"file",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"days-stay",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"No. of Days"}),t.jsx(ve,{id:"days-stay",type:"number",className:"w-full"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"property",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Property"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select property"})}),t.jsx(rt,{children:l.map(O=>t.jsx(me,{value:O.id.toString(),children:O.name},O.id))})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"room-type",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Room Type"}),t.jsxs(st,{children:[t.jsx(nt,{className:"w-full",children:t.jsx(at,{placeholder:"Select room type"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"single",children:"Single Room"}),t.jsx(me,{value:"double",children:"Double Room"}),t.jsx(me,{value:"dorm-4",children:"Dormitory (4 beds)"}),t.jsx(me,{value:"dorm-8",children:"Dormitory (8 beds)"})]})]})]}),t.jsxs("div",{className:"md:col-span-2 flex justify-end gap-4 mt-4",children:[t.jsx(se,{variant:"outline",onClick:()=>r("admin-dashboard"),type:"button",children:"Cancel"}),t.jsx(se,{className:"bg-green-600 hover:bg-green-700",type:"button",onClick:()=>r("admin-dashboard"),children:"Add Guest"})]})]})]})}),t.jsx(Te,{className:"shadow-sm overflow-visible",children:t.jsxs(Ee,{className:"p-6 overflow-visible",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Guest List"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"View and manage all checked-in guests."})]}),t.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 w-full md:w-auto",children:t.jsxs(se,{className:"flex items-center gap-2 bg-green-600 hover:bg-green-700",onClick:()=>r("add-guest"),children:[t.jsx(Ya,{className:"h-4 w-4"}),"Add Guest"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-guest-name-mobile",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Guest Name"}),t.jsx(ve,{id:"filter-guest-name-mobile",placeholder:"Search by name",type:"text",className:"text-sm",value:R,onChange:O=>L(O.target.value)})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-checkin-date-mobile",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Check-in Date"}),t.jsx(ve,{id:"filter-checkin-date-mobile",type:"date",className:"text-sm",value:z,onChange:O=>Q(O.target.value)})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"filter-property-mobile",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Property"}),t.jsxs(st,{value:D,onValueChange:A,children:[t.jsx(nt,{className:"text-sm",children:t.jsx(at,{placeholder:"All Properties"})}),t.jsxs(rt,{children:[t.jsx(me,{value:"all",children:"All Properties"}),l.map(O=>t.jsx(me,{value:O.id.toString(),children:O.name},O.id))]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Nationality"}),t.jsxs("div",{className:"flex items-center w-full",children:[t.jsx(se,{variant:C==="all"?"default":"outline",className:"flex-1 rounded-r-none border-r-0 text-xs px-2 py-2",onClick:()=>I("all"),children:"All"}),t.jsx(se,{variant:C==="indian"?"default":"outline",className:"flex-1 rounded-none border-r-0 text-xs px-2 py-2",onClick:()=>I(O=>O==="indian"?"all":"indian"),children:"Indian"}),t.jsx(se,{variant:C==="foreign"?"default":"outline",className:"flex-1 rounded-l-none text-xs px-2 py-2",onClick:()=>I(O=>O==="foreign"?"all":"foreign"),children:"Foreign"})]})]})]}),g?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(mt,{className:"h-8 w-8 animate-spin text-green-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Loading guests..."})]})}):w?t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(is,{className:"h-8 w-8 text-red-600 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium text-red-900 dark:text-red-100",children:w}),t.jsxs(se,{onClick:Wa,variant:"outline",className:"mt-4",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}):t.jsx("div",{className:"overflow-x-auto overflow-y-visible rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("table",{className:"min-w-[640px] w-full table-fixed text-xs sm:text-sm text-left",children:[t.jsx("thead",{className:"border-b border-gray-200 dark:border-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Guest Name"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Property"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Nationality"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Room Type"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Check-in Date"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Days"}),t.jsx("th",{className:"p-3 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Actions"})]})}),t.jsx("tbody",{className:"relative",children:f.map(O=>t.jsxs("tr",{className:`border-b border-gray-200 dark:border-gray-700 transition-colors ${St===O.id?"bg-blue-50 dark:bg-blue-900/20 ring-2 ring-blue-200 dark:ring-blue-700":"hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,children:[t.jsx("td",{className:"p-3 font-medium",children:O.fullName}),t.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-400",children:O.propertyName}),t.jsx("td",{className:"p-3",children:t.jsx(Lt,{variant:O.guestType==="indian"?"default":"secondary",className:O.guestType==="indian"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:O.guestType==="indian"?"Indian":"Foreign"})}),t.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-400",children:O.roomNumber||"Not assigned"}),t.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-400",children:new Date(O.checkInDate).toLocaleDateString()}),t.jsx("td",{className:"p-3 text-gray-600 dark:text-gray-400",children:O.expectedCheckoutDate?Math.ceil((new Date(O.expectedCheckoutDate).getTime()-new Date(O.checkInDate).getTime())/(1e3*60*60*24)):"N/A"}),t.jsx("td",{className:"p-3 relative",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{size:"sm",variant:"ghost",className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>bu(O),title:"View Documents",children:t.jsx(un,{className:"h-4 w-4"})}),t.jsx(se,{size:"sm",variant:"ghost",className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Edit",children:t.jsx(jr,{className:"h-4 w-4"})}),t.jsxs("div",{className:"relative inline-block",children:[t.jsx(se,{size:"sm",variant:"ghost",className:`p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${St===O.id?"bg-gray-100 dark:bg-gray-700":""}`,title:"More actions",onClick:X=>{X.stopPropagation(),pn(O.id,X)},children:t.jsx(av,{className:"h-4 w-4"})}),St===O.id&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:X=>{X.stopPropagation(),cs(null)},"aria-hidden":"true"}),t.jsx("div",{className:"fixed w-56 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 shadow-2xl z-[70]",style:{top:`${wi.top}px`,left:`${wi.left}px`,transform:`translateY(${En==="top"?"-100%":"0"})`,transformOrigin:En==="top"?"bottom right":"top right",maxHeight:"300px"},onClick:X=>X.stopPropagation(),children:t.jsxs("div",{className:"py-1",children:[t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",onClick:X=>{X.stopPropagation(),wu(O)},children:[t.jsx(un,{className:"h-4 w-4"}),t.jsx("span",{children:"View guest details"})]}),O.guestType==="foreign"&&t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",onClick:X=>{X.stopPropagation(),bm(O)},children:[t.jsx(Rs,{className:"h-4 w-4"}),t.jsx("span",{children:"C-Form ready"})]}),t.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),t.jsxs("button",{className:"w-full px-4 py-2.5 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center gap-2",onClick:X=>{X.stopPropagation(),Cc(O.id,O.fullName)},children:[t.jsx(jn,{className:"h-4 w-4"}),t.jsx("span",{children:"Delete"})]})]})})]})]})]})})]},O.id))})]})})]})})]})})}function sX({children:e}){const{user:s,isLoading:n}=$s(),a=kn();return n?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Tn,{className:"h-8 w-8 animate-spin"})}):s?t.jsx(t.Fragment,{children:e}):t.jsx(Zk,{to:"/login",state:{from:a},replace:!0})}const Ho=[{id:"session",label:"Securing your session...",description:"Saving your work and preferences",icon:t.jsx(rn,{className:"h-4 w-4"}),duration:800},{id:"activity",label:"Recording logout activity...",description:"Updating your activity log",icon:t.jsx(kL,{className:"h-4 w-4"}),duration:700},{id:"cache",label:"Clearing cached data...",description:"Removing sensitive information",icon:t.jsx(Yb,{className:"h-4 w-4"}),duration:800},{id:"tokens",label:"Revoking access tokens...",description:"Invalidating authentication tokens",icon:t.jsx(Wb,{className:"h-4 w-4"}),duration:700},{id:"complete",label:"Logout successful!",description:"You have been securely logged out",icon:t.jsx(Ca,{className:"h-4 w-4 text-green-500"}),duration:600}];function aX({isOpen:e,onComplete:s,onCancel:n}){var E,T;const[a,r]=x.useState(0),[l,c]=x.useState(new Set),[u,m]=x.useState(0),f=x.useRef(!1),p=x.useRef(!1),g=x.useRef(new Set),v=x.useRef(new Set),w=x.useCallback(()=>{g.current.forEach(C=>clearTimeout(C)),v.current.forEach(C=>clearInterval(C)),g.current.clear(),v.current.clear()},[]),N=x.useCallback(()=>{console.log(" Resetting logout progress state"),r(0),c(new Set),m(0),f.current=!1,p.current=!1},[]),j=x.useCallback(()=>{if(f.current||p.current){console.log(" Step progression already running or completed, skipping");return}f.current=!0,console.log(" Starting step progression"),p.current=!1;const C=Ho.length,D=setTimeout(()=>{p.current||(console.warn(" Logout progress timeout, forcing completion"),p.current=!0,r(C-1),c(new Set(Ho.map((R,L)=>L))),m(100),setTimeout(()=>{s==null||s(),f.current=!1},500))},6e3);g.current.add(D);const A=R=>{if(p.current||R>=C){p.current=!0,r(C-1),c(new Set(Ho.map((K,J)=>J))),m(100),console.log(" All steps completed"),setTimeout(()=>{s==null||s(),f.current=!1},500);return}const L=Ho[R];console.log(` Executing step ${R+1}: ${L.label}`),r(R);const z=R/C*100;console.log(` Setting progress to ${z}% for step ${R+1}`),m(z);const Q=setTimeout(()=>{if(p.current)return;c(J=>new Set([...J,R])),console.log(` Completed step ${R+1}: ${L.label}`);const K=(R+1)/C*100;console.log(` Updating progress to ${K}% after completing step ${R+1}`),m(K),A(R+1)},L.duration);g.current.add(Q)};console.log(" Starting first step execution"),A(0)},[s]);x.useEffect(()=>{if(!e){w(),N();return}return console.log(" Dialog opened, starting step progression"),j(),()=>{w()}},[e,j,w,N]);const S=(C,I)=>l.has(C)?t.jsx(Ca,{className:"h-4 w-4 text-green-500"}):C===a?t.jsx(Tn,{className:"h-4 w-4 animate-spin text-red-500"}):t.jsx(Rp,{className:"h-4 w-4 text-gray-300"});return t.jsx(bs,{open:e,onOpenChange:()=>{},children:t.jsxs(Es,{className:"sm:max-w-md",showCloseButton:!1,children:[t.jsx(Bs,{className:"sr-only",children:"Logout Progress"}),t.jsxs("div",{className:"flex flex-col items-center space-y-4 py-4",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx(Tn,{className:"h-8 w-8 text-red-500 animate-spin mx-auto"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Signing you out..."}),t.jsx("p",{className:"text-sm text-gray-500",children:"Please wait while we securely log you out"})]}),t.jsxs("div",{className:"w-full space-y-2",children:[t.jsx(ow,{value:u,className:"w-full h-2"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsxs("span",{children:[Math.round(u),"%"]}),t.jsxs("span",{children:[a+1," of ",Ho.length]})]})]}),t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:S(a,Ho[a])}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-red-900",children:(E=Ho[a])==null?void 0:E.label}),t.jsx("p",{className:"text-xs text-red-600",children:(T=Ho[a])==null?void 0:T.description})]})]})})})]})]})})}function nX({isOpen:e,onClose:s,userData:n,dashboardData:a,onboardingSteps:r,markStepCompleted:l}){const{user:c}=$s(),{theme:u}=_a(),m=kr(),[f,p]=x.useState(new Date);x.useEffect(()=>{const j=setInterval(()=>{p(new Date)},1e3);return()=>clearInterval(j)},[]),x.useEffect(()=>{const j=S=>{S.key==="Escape"&&e&&s()};return e&&(document.addEventListener("keydown",j),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",j),document.body.style.overflow="unset"}},[e,s]);const g=()=>{const j=f.getHours();return j<12?"Good morning":j<18?"Good afternoon":"Good evening"},v=()=>{if(!a)return[];const j=[];return a.pendingApprovals>0&&j.push({id:"pending-approvals",title:"Pending Approvals",description:"Items requiring your attention",count:a.pendingApprovals,priority:"high",icon:t.jsx(is,{className:"h-4 w-4 text-red-500"}),action:{label:"Review Now",onClick:()=>{m("/finance"),s()}}}),a.urgentTasks>0&&j.push({id:"urgent-tasks",title:"Urgent Tasks",description:"High priority tasks due soon",count:a.urgentTasks,priority:"high",icon:t.jsx(Zn,{className:"h-4 w-4 text-orange-500"}),action:{label:"View Tasks",onClick:()=>{m("/tasks"),s()}}}),a.overdueTasks>0&&j.push({id:"overdue-tasks",title:"Overdue Tasks",description:"Tasks past their due date",count:a.overdueTasks,priority:"high",icon:t.jsx(is,{className:"h-4 w-4 text-red-500"}),action:{label:"View Tasks",onClick:()=>{m("/tasks"),s()}}}),a.financialPending>0&&j.push({id:"financial-pending",title:"Financial Pending",description:"Expenses and revenues awaiting approval",count:a.financialPending,priority:"medium",icon:t.jsx(Nn,{className:"h-4 w-4 text-blue-500"}),action:{label:"Review Finance",onClick:()=>{m("/finance"),s()}}}),j.length===0&&j.push({id:"active-tasks",title:"Active Tasks",description:"Tasks in progress",count:a.activeTasks,priority:"low",icon:t.jsx(_p,{className:"h-4 w-4 text-blue-500"}),action:{label:"View All",onClick:()=>{m("/tasks"),s()}}}),j.slice(0,3)},w=()=>{if(n!=null&&n.hasProperties)return null;const j=[{id:"create-property",title:"Add Your First Property",description:"Set up your hotel, hostel, resort, or apartment",icon:t.jsx(ca,{className:"h-6 w-6 text-blue-500"}),action:()=>{m("/properties"),s()}},{id:"create-task",title:"Create Your First Task",description:"Start managing operations and workflows",icon:t.jsx(ra,{className:"h-6 w-6 text-green-500"}),action:()=>{m("/tasks"),s()}}];return(n==null?void 0:n.role)==="ADMIN"&&j.splice(1,0,{id:"invite-team",title:"Invite Team Members",description:"Create manager accounts for your team",icon:t.jsx(Wi,{className:"h-6 w-6 text-purple-500"}),action:()=>{m("/users"),s()}}),j},N=v();return w(),t.jsx(Rw,{children:e&&t.jsx(Nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4",onClick:j=>{j.target===j.currentTarget&&s()},children:t.jsxs(Nr.div,{initial:{scale:.95,opacity:0,y:10},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},transition:{type:"spring",duration:.3,bounce:.1},className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl max-w-lg w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden ring-1 ring-black ring-opacity-5",onClick:j=>j.stopPropagation(),children:[t.jsx("div",{className:"relative p-4 sm:p-6 pb-3 sm:pb-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold",children:((n==null?void 0:n.name)||(c==null?void 0:c.displayName)||"U").charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[g(),", ",(n==null?void 0:n.name)||(c==null?void 0:c.displayName),"! "]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx(Zn,{className:"h-3 w-3"}),t.jsxs("span",{children:[f.toLocaleDateString(),"  ",f.toLocaleTimeString()]})]})]})]}),t.jsx(Lt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:(n==null?void 0:n.role)||(c==null?void 0:c.role)})]}),t.jsx(se,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0 hover:bg-gray-100 rounded-full",children:t.jsx(Ws,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"px-4 sm:px-6 pb-4 overflow-y-auto max-h-[calc(95vh-180px)] sm:max-h-[calc(90vh-200px)]",children:[(n==null?void 0:n.isNewUser)&&t.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl",children:""}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Welcome to Your Hospitality Management Platform!"}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Let's get you set up in just a few steps. This will help you manage your properties, staff, and operations efficiently."}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600",children:[t.jsx(Zn,{className:"h-3 w-3"}),t.jsxs("span",{children:["Account created ",n.accountAge===0?"today":`${n.accountAge} day${n.accountAge===1?"":"s"} ago`]})]})]})]})}),(n==null?void 0:n.isNewUser)&&r&&r.length>0&&t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-2 sm:mb-3 flex items-center gap-2",children:[t.jsx(_p,{className:"h-4 w-4",style:{color:u.primaryColor}}),"Getting Started Checklist"]}),t.jsx("div",{className:"space-y-2",children:r.map((j,S)=>t.jsxs("div",{className:`flex items-center gap-2 sm:gap-3 p-2 sm:p-3 rounded-xl border transition-all duration-200 cursor-pointer hover:shadow-md ${j.completed?"border-green-200 bg-green-50 hover:bg-green-100":j.required?"border-blue-200 bg-blue-50 hover:bg-blue-100":"border-gray-200 bg-gray-50 hover:bg-gray-100"}`,onClick:()=>{m(j.action.route),l&&!j.completed&&l(j.id),s()},children:[t.jsx("div",{className:"flex-shrink-0",children:j.completed?t.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(Ca,{className:"h-4 w-4 text-white"})}):t.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm ${j.required?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:S+1})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:j.icon}),t.jsx("h4",{className:`font-medium text-sm ${j.completed?"text-green-900":"text-gray-900"}`,children:j.title}),j.required&&!j.completed&&t.jsx(Lt,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200",children:"Required"})]}),t.jsx("p",{className:`text-xs ${j.completed?"text-green-700":"text-gray-600"}`,children:j.description})]}),t.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",style:{color:u.primaryColor},children:[j.action.label,t.jsx(Ip,{className:"h-3 w-3"})]})]},j.id))}),t.jsxs("div",{className:"mt-3 sm:mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-2",children:[t.jsx("span",{children:"Setup Progress"}),t.jsxs("span",{children:[r.filter(j=>j.completed).length," of ",r.length," completed"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r.filter(j=>j.completed).length/r.length*100}%`}})})]})]}),!(n!=null&&n.isNewUser)&&N.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[t.jsx(Nn,{className:"h-4 w-4",style:{color:u.primaryColor}}),"Today's Priorities"]}),t.jsx("div",{className:"space-y-2",children:N.slice(0,2).map(j=>{var S;return t.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border cursor-pointer hover:shadow-md transition-all duration-200 ${j.priority==="high"?"border-red-200 bg-red-50 hover:bg-red-100":j.priority==="medium"?"border-orange-200 bg-orange-50 hover:bg-orange-100":"border-blue-200 bg-blue-50 hover:bg-blue-100"}`,onClick:(S=j.action)==null?void 0:S.onClick,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[j.icon,t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm text-gray-900",children:j.title}),t.jsx("p",{className:"text-xs text-gray-600",children:j.description})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"text-lg font-bold",style:{color:u.primaryColor},children:j.count})}),j.action&&t.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium",style:{color:u.primaryColor},children:[j.action.label,t.jsx(Ip,{className:"h-3 w-3"})]})]})]},j.id)})})]}),!(n!=null&&n.isNewUser)&&t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 hover:shadow-md transition-all duration-200",onClick:()=>{m("/tasks"),s()},children:[t.jsx("div",{className:"text-lg font-bold",style:{color:u.primaryColor},children:(a==null?void 0:a.activeTasks)||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Tasks"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 hover:shadow-md transition-all duration-200",onClick:()=>{m("/finance"),s()},children:[t.jsx("div",{className:"text-lg font-bold",style:{color:u.primaryColor},children:(a==null?void 0:a.pendingApprovals)||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Pending"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 hover:shadow-md transition-all duration-200",onClick:()=>{m("/tasks"),s()},children:[t.jsx("div",{className:"text-lg font-bold",style:{color:u.primaryColor},children:(a==null?void 0:a.urgentTasks)||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Urgent"})]})]})]}),t.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm text-gray-500",children:n!=null&&n.isNewUser?"Ready to get started with your hospitality management?":"Ready to manage your operations?"}),t.jsx(se,{onClick:()=>{if(n!=null&&n.isNewUser){const j=r==null?void 0:r.find(S=>S.required&&!S.completed);m(j?j.action.route:"/dashboard")}else a!=null&&a.pendingApprovals&&a.pendingApprovals>0?m("/finance"):a!=null&&a.urgentTasks&&a.urgentTasks>0?m("/tasks"):m("/dashboard");s()},className:"h-8 px-4 text-sm font-medium",style:{backgroundColor:u.primaryColor},children:n!=null&&n.isNewUser?"Start Setup":"Let's Go!"})]})})]})})})}function rX({mode:e,onLogin:s,onReload:n,onRetry:a}){const r=e==="expired";return t.jsx("div",{className:"sticky top-0 z-[1000] w-full border-b shadow-sm",children:t.jsx("div",{className:`px-2 sm:px-6 py-2 sm:py-3 ${r?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center items-start justify-between gap-2 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center sm:items-center gap-2 sm:gap-3",children:[t.jsx("div",{className:`w-8 h-8 sm:w-9 sm:h-9 rounded-full flex items-center justify-center ${r?"bg-red-100":"bg-yellow-100"}`,children:r?t.jsx(is,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"}):t.jsx(IL,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:`text-[13px] sm:text-sm font-semibold ${r?"text-red-800":"text-yellow-800"}`,children:r?"Session expired":"You are offline"}),t.jsx("div",{className:"text-[11px] sm:text-xs text-gray-700",children:r?"Log in again to continue. Your current page stays visible so you can copy or save your work.":"Check your connection. We will resume automatically when you are back online."})]})]}),t.jsx("div",{className:"flex items-stretch sm:items-center gap-2 sm:gap-2 w-full sm:w-auto",children:r?t.jsxs(t.Fragment,{children:[t.jsxs(se,{size:"sm",onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto",children:[t.jsx(qi,{className:"h-4 w-4 mr-2"})," ",t.jsx("span",{className:"hidden xs:inline",children:"Log in"}),t.jsx("span",{className:"xs:hidden",children:"Login"})]}),t.jsxs(se,{size:"sm",variant:"outline",onClick:n,className:"w-full sm:w-auto",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"})," Reload"]})]}):t.jsxs(se,{size:"sm",variant:"outline",onClick:a,className:"w-full sm:w-auto",children:[t.jsx(mt,{className:"h-4 w-4 mr-2"})," Try again"]})})]})})})}function iX(){var r;const{user:e,logout:s}=$s(),{theme:n}=_a(),{title:a}=Er();return t.jsx("div",{className:"sticky top-0 z-40 w-full h-14 bg-white/80 backdrop-blur-md border-b border-gray-200 lg:hidden safe-area-top",children:t.jsxs("div",{className:"flex h-14 items-center justify-between px-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[n.logoUrl?t.jsx("img",{src:n.logoUrl.startsWith("http")?n.logoUrl:`${xt.BASE_URL}${n.logoUrl}`,alt:n.brandName,className:"h-8 w-auto object-contain max-w-[120px]",onError:l=>{var c;l.currentTarget.style.display="none",(c=l.currentTarget.nextElementSibling)==null||c.classList.remove("hidden")}}):null,t.jsx("span",{className:`font-bold text-lg truncate ${n.logoUrl?"hidden":""}`,style:{color:n.primaryColor},children:n.brandName})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{variant:"ghost",size:"icon",onClick:s,className:"rounded-full h-8 w-8",children:t.jsx(Uh,{className:"h-4 w-4"})}),t.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200",children:t.jsx("span",{className:"text-xs font-medium text-gray-600",children:((r=e==null?void 0:e.displayName)==null?void 0:r.charAt(0).toUpperCase())||"U"})})]})]})})}const Qn={PING_TIMEOUT_MS:6e4,RECONNECT_DELAYS:[1e3,2e3,5e3,1e4,3e4,6e4,12e4],MAX_BACKOFF_MS:3e5,JITTER_MS:5e3,MAX_CACHE_ORGS:3,MAX_CACHE_IDS:1e3,DEDUP_TTL_MS:300*1e3,TAKEOVER_MS:3e3,HEARTBEAT_INTERVAL_MS:1e3};function oX(){const{user:e}=$s(),s=kn(),n=typeof import.meta<"u"&&!0,r=!Os("REALTIME_EMERGENCY_DISABLE",!1)&&(n?!0:Os("REALTIME_STREAMING_V2",!0)),l=Os("FIN_LEADER_ENABLED",!1),c=_P("REALTIME_ROLLOUT_PERCENT",100),u=Os("REALTIME_INVALIDATE",!0),m=Os("REALTIME_CREDITS",!0),f=typeof window<"u"?localStorage.getItem("REALTIME_DECOMP_POLYFILL")==="true":!1,p=x.useRef(null),g=x.useRef(0),v=x.useRef(0),w=x.useRef(null),N=x.useRef(null),j=x.useRef(!1),S=x.useRef(!1),E=x.useRef(!1),T=x.useRef(null),C=x.useRef(""),I=x.useRef(new Map),D=x.useRef({connectionState:"disconnected",lastConnectedAt:0,lastDisconnectedAt:0,totalDisconnects:0,reconnectAttempts:0,eventsReceived:0,eventLatencyMs:[],duplicatesDetected:0,lastEventAt:0,connectionUptime:0,avgLatencyMs:0,p95LatencyMs:0,byServiceDelivered:{},byServiceSuppressed:{},byServiceP95LatencyMs:{},byServiceLastEventAt:{},byServiceReconnects:{}}),A=x.useRef(null),R=x.useRef(null),L=n7(),z=(e==null?void 0:e.orgId)??(e==null?void 0:e.organizationId)??null,Q=x.useRef(""),[K,J]=x.useState(null);console.log("[REALTIME_DEBUG] Provider initialized",{timestamp:new Date().toISOString(),isProduction:n,masterEnabled:r,orgId:z||"none",userId:(e==null?void 0:e.userID)||"none"});const de=x.useRef(0),H=async()=>{const ge=Date.now();if(!(ge-de.current<300*1e3))try{await tn.forceRefresh()}catch{}finally{de.current=ge}};x.useEffect(()=>{try{const ge=sessionStorage.getItem("realtime-tab-id");if(ge)Q.current=ge;else{const je=Math.random().toString(36).slice(2);sessionStorage.setItem("realtime-tab-id",je),Q.current=je}}catch{Q.current=Math.random().toString(36).slice(2)}},[]);const ie={"/finance":["finance","properties","reports"],"/dashboard":["finance","properties","tasks","users","dashboard","analytics","reports"],"/staff":["staff","properties","users"],"/guest-checkin":["guest","properties"],"/tasks":["tasks","properties","users"],"/task-management":["tasks","staff","properties","users"],"/properties":["properties"],"/users":["users","properties"],"/analytics":["analytics","finance","properties","reports"],"/reports":["reports","finance","properties"],"/settings":["branding"]},F=["finance","guest","staff","tasks","properties","users","dashboard","branding","analytics","reports"],q=ge=>{if(!ge)return F;let je=null;for(const Oe in ie)(ge===Oe||ge.startsWith(Oe+"/"))&&(je==null||Oe.length>je.length)&&(je=Oe);return je&&ie[je]?ie[je]:F};x.useEffect(()=>{let ge=null;const je=Pe=>{try{S.current=!0;try{const ze=(Pe==null?void 0:Pe.detail)||{};ge=typeof(ze==null?void 0:ze.reason)=="string"?ze.reason:null}catch{}p.current&&(p.current.close(),p.current=null)}catch{}},Oe=()=>{S.current&&(S.current=!1,ge=null,v.current=0,Y())};window.addEventListener("realtime:suspend",je),window.addEventListener("realtime:resume",Oe);const _e=setInterval(()=>{if(S.current&&document.visibilityState==="visible"&&!(ge==="upload"||ge==="payment"))try{window.dispatchEvent(new CustomEvent("realtime:resume"))}catch{}},6e4);return()=>{clearInterval(_e),window.removeEventListener("realtime:suspend",je),window.removeEventListener("realtime:resume",Oe)}},[]),x.useEffect(()=>{const ge=()=>{document.visibilityState==="visible"&&!S.current&&(v.current=0,(!p.current||p.current.readyState!==WebSocket.OPEN)&&Y())};return document.addEventListener("visibilitychange",ge),()=>document.removeEventListener("visibilitychange",ge)},[z,r]),x.useEffect(()=>{const ge=je=>{var _e;const Oe=((_e=je==null?void 0:je.detail)==null?void 0:_e.propertyId)??null;Oe!==K&&(J(Oe),T.current&&clearTimeout(T.current),T.current=setTimeout(async()=>{try{const Pe=localStorage.getItem("accessToken")||"";if(!Pe)return;const ze=xt.BASE_URL.replace(/\/$/,""),Ue=JSON.parse(C.current||"[]");await fetch(`${ze}/v2/realtime/update-services`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Pe}`},body:JSON.stringify({services:Ue,propertyId:Oe}),keepalive:!0}).then(async He=>{if(!He.ok)throw new Error(`update-services ${He.status}`)}).catch(()=>{try{p.current&&(p.current.close(),p.current=null)}catch{}E.current=!1,v.current=0,Y()})}catch{try{p.current&&(p.current.close(),p.current=null)}catch{}E.current=!1,v.current=0,Y()}},500))};return window.addEventListener("realtime:set-property",ge),()=>window.removeEventListener("realtime:set-property",ge)},[K,r]);const W=ge=>{if(ge==null)return!1;const je=Math.max(0,Math.min(100,c));return je>=100?!0:je<=0?!1:(ge*9301+49297)%233280/233280*100<je},he=()=>{const ge=I.current;if(ge.size>Qn.MAX_CACHE_ORGS){const Oe=Array.from(ge.entries()).sort((_e,Pe)=>_e[1].lastAccess-Pe[1].lastAccess).slice(0,ge.size-Qn.MAX_CACHE_ORGS);for(const[_e]of Oe)ge.delete(_e)}for(const[je,Oe]of ge.entries())for(;Oe.order.length>Qn.MAX_CACHE_IDS;){const _e=Oe.order.shift();_e&&Oe.entries.delete(_e)}},$=(ge,je)=>{const Oe=Date.now(),_e=I.current;let Pe=_e.get(ge);if(Pe||(Pe={entries:new Map,order:[],lastAccess:Oe,lastCleanup:Oe},_e.set(ge,Pe)),Pe.lastAccess=Oe,Oe-Pe.lastCleanup>6e4){const ze=Oe-Qn.DEDUP_TTL_MS;for(const[Ue,He]of Pe.entries.entries())if(He<ze){Pe.entries.delete(Ue);const it=Pe.order.indexOf(Ue);it!==-1&&Pe.order.splice(it,1)}Pe.lastCleanup=Oe}if(!je)return!1;if(Pe.entries.has(je))return D.current.duplicatesDetected++,!0;for(Pe.entries.set(je,Oe),Pe.order.push(je);Pe.order.length>Qn.MAX_CACHE_IDS;){const ze=Pe.order.shift();ze&&Pe.entries.delete(ze)}return he(),!1},M=(ge,je,Oe)=>{var Ue,He;if(!je||je.length===0)return;const _e=Os("REALTIME_DEDUP_DISABLED",!1);let Pe=0;const ze=je.filter(it=>{if(_e)return!0;let Tt="";const yt=it==null?void 0:it.eventId,xs=it==null?void 0:it.entityType;typeof yt=="string"&&yt.length>0?Tt=`${ge}:${xs??""}:${yt}`:typeof Oe=="number"&&Number.isFinite(Oe)&&(Tt=`${ge}:seq:${Oe}`);const va=$(z,Tt);return va&&Pe++,!va});if(ze.length!==0){try{const it=String(ge),Tt=D.current;Tt.byServiceSuppressed[it]=(((Ue=Tt.byServiceSuppressed)==null?void 0:Ue[it])||0)+Pe,Tt.byServiceDelivered[it]=(((He=Tt.byServiceDelivered)==null?void 0:He[it])||0)+ze.length}catch{}if(window.dispatchEvent(new CustomEvent(`${ge}-stream-events`,{detail:{events:ze}})),j.current&&R.current)try{R.current.postMessage({service:ge,events:ze,timestamp:Date.now()})}catch(it){console.error("[RealtimeV2Fixed][broadcast-error]",it)}window.dispatchEvent(new CustomEvent(`${ge}-stream-health`,{detail:{healthy:!0,lastEventAt:Date.now(),eventCount:ze.length}})),console.log("[RealtimeV2Fixed][dispatch]",{service:ge,total:je.length,afterDedup:ze.length,orgId:z})}},V=ge=>{if(ge.length===0)return 0;const je=[...ge].sort((_e,Pe)=>_e-Pe),Oe=Math.floor(je.length*.95);return je[Oe]||0},G=(ge,je)=>{try{const Oe=D.current,_e=String(ge),Pe=`__svc_lat_${_e}`;Oe[Pe]||(Oe[Pe]=[]);const ze=Oe[Pe];ze.push(je),ze.length>50&&ze.shift();const Ue=V(ze);Oe.byServiceP95LatencyMs[_e]=Ue}catch{}},B=ge=>{try{const je=atob(ge),Oe=new Uint8Array(je.length);for(let _e=0;_e<je.length;_e++)Oe[_e]=je.charCodeAt(_e);return Oe}catch{return new Uint8Array}},ce=async ge=>{if(typeof DecompressionStream>"u")throw new Error("No DecompressionStream");const je=new DecompressionStream("gzip"),Oe=new ArrayBuffer(ge.byteLength);new Uint8Array(Oe).set(ge);const Pe=new Blob([Oe]).stream().pipeThrough(je),ze=await new Response(Pe).arrayBuffer();return new TextDecoder().decode(new Uint8Array(ze))},pe=async ge=>{try{return await ce(ge)}catch{if(!f)throw new Error("No gzip support and polyfill disabled");try{if(document.querySelector('script[data-rt-fflate="1"]')||await new Promise((_e,Pe)=>{const ze=document.createElement("script");ze.src="https://unpkg.com/fflate@0.8.2/umd/index.js",ze.async=!0,ze.defer=!0,ze.setAttribute("data-rt-fflate","1"),ze.onload=()=>_e(),ze.onerror=()=>Pe(new Error("fflate load failed")),document.head.appendChild(ze)}),typeof fflate>"u"||typeof fflate.gunzipSync!="function")throw new Error("fflate not available");const Oe=fflate.gunzipSync(ge);return new TextDecoder().decode(Oe)}catch(je){throw je instanceof Error?je:new Error("polyfill failed")}}},le=(ge,je={},Oe=.05)=>{try{if(so.isProduction()||Math.random()>=Oe)return;const _e=localStorage.getItem("accessToken")||"";if(!_e)return;const Pe=xt.BASE_URL.replace(/\/$/,"");fetch(`${Pe}/telemetry/client`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_e}`},body:JSON.stringify({events:[{type:ge,ts:new Date().toISOString(),...je}]}),keepalive:!0}).catch(()=>{})}catch{}};x.useEffect(()=>{try{le("compression_support",{hasDecompressionStream:typeof DecompressionStream<"u",polyfillEnabled:f},.2)}catch{}},[f]);const ye=async ge=>{var je,Oe,_e;try{const Pe=JSON.parse(ge);switch(Pe.seq&&(g.current=Pe.seq),Pe.type){case"event":{if(Pe.timestamp){const ze=new Date(Pe.timestamp).getTime(),He=Date.now()-ze;D.current.eventLatencyMs.push(He),D.current.eventLatencyMs.length>100&&D.current.eventLatencyMs.shift();const it=D.current.eventLatencyMs;D.current.avgLatencyMs=it.reduce((Tt,yt)=>Tt+yt,0)/it.length,D.current.p95LatencyMs=V(it),Pe.service&&G(Pe.service,He)}D.current.eventsReceived++,D.current.lastEventAt=Date.now(),Pe.service&&(D.current.byServiceLastEventAt[String(Pe.service)]=Date.now()),Pe.service&&Pe.events&&M(Pe.service,Pe.events,Pe.seq);break}case"invalidate":{if(!u)break;try{const ze=Pe.service,Ue=(je=Pe==null?void 0:Pe.invalidate)==null?void 0:je.keys;Array.isArray(Ue)&&Ue.length>0&&(window.dispatchEvent(new CustomEvent("realtime-invalidate",{detail:{service:ze,keys:Ue}})),ze&&window.dispatchEvent(new CustomEvent(`${ze}-stream-invalidate`,{detail:{keys:Ue}})))}catch{}break}case"batch":{const ze=Pe.messages;if(ze&&ze.length>0){for(const He of ze){if(He.timestamp){const it=new Date(He.timestamp).getTime(),yt=Date.now()-it;D.current.eventLatencyMs.push(yt),D.current.eventLatencyMs.length>100&&D.current.eventLatencyMs.shift(),He.service&&G(He.service,yt)}D.current.eventsReceived++,D.current.lastEventAt=Date.now(),He.service&&(D.current.byServiceLastEventAt[String(He.service)]=Date.now()),He.service&&He.events&&M(He.service,He.events,He.seq)}const Ue=D.current.eventLatencyMs;Ue.length>0&&(D.current.avgLatencyMs=Ue.reduce((He,it)=>He+it,0)/Ue.length,D.current.p95LatencyMs=V(Ue))}else if(Pe.compressed&&Pe.data)try{const Ue=Pe.data,He=await pe(B(Ue)),it=JSON.parse(He);if(Array.isArray(it)&&it.length>0){try{D.current.__compressedDecodedBatches=(D.current.__compressedDecodedBatches||0)+1,D.current.__compressedBytes=(D.current.__compressedBytes||0)+((Ue==null?void 0:Ue.length)||0)}catch{}le("compressed_decode_success",{bytes:(Ue==null?void 0:Ue.length)||0,usedPolyfill:typeof window.fflate<"u"},.1);for(const yt of it){if(yt.timestamp){const xs=new Date(yt.timestamp).getTime(),Fe=Date.now()-xs;D.current.eventLatencyMs.push(Fe),D.current.eventLatencyMs.length>100&&D.current.eventLatencyMs.shift(),yt.service&&G(yt.service,Fe)}D.current.eventsReceived++,D.current.lastEventAt=Date.now(),yt.service&&(D.current.byServiceLastEventAt[String(yt.service)]=Date.now()),yt.service&&yt.events&&M(yt.service,yt.events,yt.seq)}const Tt=D.current.eventLatencyMs;Tt.length>0&&(D.current.avgLatencyMs=Tt.reduce((yt,xs)=>yt+xs,0)/Tt.length,D.current.p95LatencyMs=V(Tt))}}catch{try{D.current.__compressedDecodeFailures=(D.current.__compressedDecodeFailures||0)+1}catch{}le("compressed_decode_failure",{},.2)}else Pe.service&&Pe.events&&M(Pe.service,Pe.events,Pe.seq);break}case"ping":N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{console.warn("[RealtimeV2Fixed][ping-timeout]",{orgId:z}),p.current&&p.current.close()},Qn.PING_TIMEOUT_MS);break;case"ack":console.log("[RealtimeV2Fixed][ack]",{seq:Pe.seq,orgId:z});break;case"error":console.error("[RealtimeV2Fixed][server-error]",{service:(Oe=Pe.error)==null?void 0:Oe.service,message:(_e=Pe.error)==null?void 0:_e.message,orgId:z});break}}catch(Pe){console.error("[RealtimeV2Fixed][parse-error]",{error:Pe instanceof Error?Pe.message:String(Pe),data:ge.slice(0,200)})}},ke=ge=>{const je=Qn.RECONNECT_DELAYS[Math.min(ge,Qn.RECONNECT_DELAYS.length-1)],Oe=Math.min(je,Qn.MAX_BACKOFF_MS),_e=Math.random()*Qn.JITTER_MS*2-Qn.JITTER_MS;return Math.max(1e3,Oe+_e)},Y=()=>{if(!r||!z||!W(z)||S.current||!j.current&&l)return;if(p.current){const _e=p.current.readyState;if(_e===WebSocket.OPEN||_e===WebSocket.CONNECTING)return;try{p.current.close()}catch{}p.current=null}if(E.current)return;const ge=typeof window<"u"?localStorage.getItem("accessToken"):null;if(!ge){console.warn("[RealtimeV2Fixed][no-token]");return}const je=xt.BASE_URL.replace(/\/$/,""),Oe=q((s==null?void 0:s.pathname)||(typeof window<"u"?window.location.pathname:""));try{C.current=JSON.stringify(Oe)}catch{}console.log("[RealtimeV2Fixed][connecting]",{orgId:z,lastSeq:g.current,services:Oe}),E.current=!0,(async()=>{try{await H();const Pe=await new lu(je,{auth:{access_token:ge,authorization:`Bearer ${ge}`}}).realtime.streamRealtimeEvents({services:Oe,version:1,lastSeq:g.current||void 0,propertyId:K,token:ge}),ze=Pe.socket;if(!ze||!ze.ws){console.error("[RealtimeV2Fixed][no-socket]",{orgId:z});return}p.current=ze.ws,ze.on("open",()=>{var Ue;console.log("[RealtimeV2Fixed][connected]",{orgId:z}),v.current=0,D.current.connectionState="connected",D.current.lastConnectedAt=Date.now(),D.current.reconnectAttempts=0,E.current=!1;try{const He=JSON.parse(C.current||"[]"),it=D.current;for(const Tt of He){const yt=String(Tt);it.byServiceReconnects[yt]=(((Ue=it.byServiceReconnects)==null?void 0:Ue[yt])||0)+1}}catch{}}),ze.on("error",Ue=>{console.error("[RealtimeV2Fixed][error]",{error:Ue,orgId:z}),E.current=!1}),ze.on("close",Ue=>{if(console.log("[RealtimeV2Fixed][closed]",{code:Ue.code,reason:Ue.reason,wasClean:Ue.wasClean,orgId:z}),p.current=null,E.current=!1,D.current.connectionState="disconnected",D.current.lastDisconnectedAt=Date.now(),D.current.totalDisconnects++,N.current&&(clearTimeout(N.current),N.current=null),r&&j.current){D.current.connectionState="reconnecting",D.current.reconnectAttempts++;const He=ke(v.current);console.log("[RealtimeV2Fixed][reconnect-scheduled]",{delay:He,attempt:v.current+1,orgId:z}),w.current=setTimeout(()=>{v.current++,Y()},He)}}),(async()=>{try{for await(const Ue of Pe)await ye(JSON.stringify(Ue))}catch(Ue){console.error("[RealtimeV2Fixed][stream-error]",{error:Ue instanceof Error?Ue.message:String(Ue),orgId:z})}})()}catch(_e){if(console.error("[RealtimeV2Fixed][connect-error]",{error:_e instanceof Error?_e.message:String(_e),orgId:z}),E.current=!1,r&&j.current){D.current.connectionState="reconnecting",D.current.reconnectAttempts++;const Pe=ke(v.current);console.log("[RealtimeV2Fixed][reconnect-scheduled]",{delay:Pe,attempt:v.current+1,orgId:z}),w.current=setTimeout(()=>{v.current++,Y()},Pe)}}})()};return x.useEffect(()=>{if(!r||!z)return;const ge=q((s==null?void 0:s.pathname)||(typeof window<"u"?window.location.pathname:"")),je=JSON.stringify(ge);if(!C.current){C.current=je;return}je!==C.current&&(T.current&&clearTimeout(T.current),T.current=setTimeout(async()=>{try{const Oe=localStorage.getItem("accessToken")||"";if(!Oe)return;const _e=xt.BASE_URL.replace(/\/$/,"");await fetch(`${_e}/v2/realtime/update-services`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Oe}`},body:JSON.stringify({services:ge,propertyId:K}),keepalive:!0}).then(async Pe=>{if(!Pe.ok)throw new Error(`update-services ${Pe.status}`);C.current=je}).catch(()=>{try{p.current&&(p.current.close(),p.current=null)}catch{}E.current=!1,v.current=0,Y()})}catch{try{p.current&&(p.current.close(),p.current=null)}catch{}E.current=!1,v.current=0,Y()}},300))},[s.pathname,r,z,K]),x.useEffect(()=>{if(!l||!z||!r){j.current=!0;const Ue=new BroadcastChannel(`realtime-events-${z}`);return R.current=Ue,Ue.onmessage=He=>{var it;(it=He==null?void 0:He.data)!=null&&it.events&&(j.current||Date.now()-(He.data.timestamp||0)<5e3&&M(He.data.service,He.data.events))},Y(),()=>{try{Ue.close()}catch{}R.current=null}}const ge=new BroadcastChannel(`realtime-leader-${z}`);A.current=ge;const je=new BroadcastChannel(`realtime-events-${z}`);R.current=je,je.onmessage=Ue=>{var He;(He=Ue==null?void 0:Ue.data)!=null&&He.events&&(j.current||Date.now()-(Ue.data.timestamp||0)<5e3&&M(Ue.data.service,Ue.data.events))};let Oe=null,_e=0;const Pe=async()=>{try{"locks"in navigator?await navigator.locks.request(`realtime-leader-${z}`,{mode:"exclusive",ifAvailable:!0},async Ue=>{if(!Ue){j.current=!1;return}return console.log("[RealtimeV2Fixed][leader-acquired]",{orgId:z,tabId:Q.current}),j.current=!0,Y(),Oe=setInterval(()=>{var He;try{ge.postMessage({type:"heartbeat",tabId:Q.current,timestamp:Date.now(),seq:g.current})}catch(it){if(it&&typeof it=="object"&&(it.name==="InvalidStateError"||(He=it.message)!=null&&He.includes("Channel is closed"))){Oe&&clearInterval(Oe);return}console.warn("[RealtimeV2Fixed][heartbeat-failed]",it),Oe&&clearInterval(Oe)}},Qn.HEARTBEAT_INTERVAL_MS),new Promise(He=>{window.__realtimeV2Cleanup=()=>{Oe&&clearInterval(Oe),He()}})}):(j.current=!0,Y())}catch(Ue){console.error("[RealtimeV2Fixed][leader-election-error]",{error:Ue instanceof Error?Ue.message:String(Ue),orgId:z})}};ge.onmessage=Ue=>{Ue.data.type==="heartbeat"&&(_e=Ue.data.timestamp,!j.current&&Ue.data.seq&&(g.current=Math.max(g.current,Ue.data.seq)))};const ze=setInterval(()=>{if(j.current)return;Date.now()-_e>Qn.TAKEOVER_MS&&(console.log("[RealtimeV2Fixed][takeover-attempt]",{orgId:z,tabId:Q.current}),Pe())},1e3);return Pe(),()=>{if(Oe&&clearInterval(Oe),clearInterval(ze),ge.close(),R.current){try{R.current.close()}catch{}R.current=null}j.current&&p.current&&(p.current.close(),p.current=null),w.current&&(clearTimeout(w.current),w.current=null),N.current&&(clearTimeout(N.current),N.current=null),window.__realtimeV2Cleanup&&(window.__realtimeV2Cleanup(),delete window.__realtimeV2Cleanup)}},[z,L,r,l]),x.useEffect(()=>{const ge=setInterval(()=>{D.current.connectionState==="connected"&&D.current.lastConnectedAt>0&&(D.current.connectionUptime=Date.now()-D.current.lastConnectedAt)},1e3);return window.__realtimeMetrics=()=>{const je=D.current;return{...je,avgLatencyMs:je.avgLatencyMs.toFixed(2),p95LatencyMs:je.p95LatencyMs.toFixed(2),connectionUptimeSeconds:(je.connectionUptime/1e3).toFixed(0),eventRate:je.eventsReceived/((Date.now()-je.lastConnectedAt)/1e3||1)}},window.__realtimeState=()=>{const je=(()=>{try{return JSON.parse(C.current||"[]")}catch{return[]}})();return{connected:!!p.current&&p.current.readyState===WebSocket.OPEN,lastSeq:g.current,lastEventAt:D.current.lastEventAt,services:je,subscribedPropertyId:K,byServiceDelivered:D.current.byServiceDelivered||{},byServiceSuppressed:D.current.byServiceSuppressed||{}}},()=>{clearInterval(ge),delete window.__realtimeMetrics,delete window.__realtimeState}},[K]),x.useEffect(()=>{if(!m||!z)return;const ge=xt.BASE_URL.replace(/\/$/,"");let je=null,Oe=null;const _e=async()=>{if(!(l&&!j.current)&&!(typeof document<"u"&&document.visibilityState!=="visible")&&!(!p.current||p.current.readyState!==WebSocket.OPEN))try{const Pe=localStorage.getItem("accessToken")||"";if(!Pe)return;await fetch(`${ge}/v2/realtime/credits`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Pe}`},body:JSON.stringify({credits:2e3}),keepalive:!0}).catch(()=>{})}catch{}};return Oe=setTimeout(()=>{_e()},5e3),je=setInterval(()=>{_e()},3e4),()=>{Oe&&clearTimeout(Oe),je&&clearInterval(je)}},[m,z,l]),null}function lX(){const e=za();return x.useEffect(()=>{try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0,metricsFetches:0,financeMetricsFetches:0,listRefetchesBurst:0},window.__realtimeDevReporter||(window.__realtimeDevReporter=setInterval(()=>{try{const l=window.__realtimeClientStats;l.metricsFetches=0,l.financeMetricsFetches=0,l.listRefetchesBurst=0}catch{}},6e4))}catch{}const s=new Set;let n=null;const a=()=>{if(s.size===0)return;const l=Array.from(s.values());s.clear();try{window.__realtimeClientStats=window.__realtimeClientStats||{invalidationsFlushed:0,keys:0,patchesApplied:0},window.__realtimeClientStats.invalidationsFlushed++,window.__realtimeClientStats.keys+=l.length,window.__realtimeClientStats.listRefetchesBurst=(window.__realtimeClientStats.listRefetchesBurst||0)+l.length}catch{}for(const c of l)try{const u=c.startsWith("[")?JSON.parse(c):[c];e.invalidateQueries({queryKey:u})}catch{e.invalidateQueries({queryKey:[c]})}},r=l=>{var u;const c=(u=l==null?void 0:l.detail)==null?void 0:u.keys;if(!(!Array.isArray(c)||c.length===0)){for(const m of c){const f=Array.isArray(m)?JSON.stringify(m):String(m);s.add(f)}n&&clearTimeout(n),n=setTimeout(a,350)}};return window.addEventListener("realtime-invalidate",r),()=>{window.removeEventListener("realtime-invalidate",r),n&&clearTimeout(n)}},[e]),null}function cX({onMenuClick:e}){const{theme:s}=_a(),n=kn(),a=kr(),r=[{name:"Home",href:"/dashboard",icon:Op},{name:"Properties",href:"/properties",icon:B6},{name:"Finance",href:"/finance",icon:Lr},{name:"Tasks",href:"/tasks",icon:Fh}];return t.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-100 safe-area-bottom lg:hidden shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:t.jsxs("div",{className:"flex justify-around items-center h-16 px-2",children:[r.map(l=>{const c=n.pathname===l.href,u=l.icon;return t.jsxs("button",{onClick:()=>a(l.href),className:Xe("flex flex-col items-center justify-center w-full h-full space-y-1.5",c?"text-blue-600":"text-gray-500 hover:text-gray-900"),children:[t.jsx("div",{className:Xe("flex items-center justify-center w-6 h-6 rounded-full border-2",c?"bg-blue-600 border-blue-600 text-white":"border-current bg-transparent"),children:t.jsx(u,{className:"h-3.5 w-3.5"})}),t.jsx("span",{className:Xe("text-[11px] font-bold uppercase tracking-tight leading-none",c?"font-bold":"font-medium"),children:l.name})]},l.name)}),t.jsxs("button",{onClick:e,className:"flex flex-col items-center justify-center w-full h-full space-y-1.5 text-gray-500 hover:text-gray-900",children:[t.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full border-2 border-current bg-transparent",children:t.jsx(JE,{className:"h-3.5 w-3.5",strokeWidth:2})}),t.jsx("span",{className:"text-[11px] font-bold uppercase tracking-tight leading-none",children:"Menu"})]})]})})}const dX=[{name:"Dashboard",href:"/dashboard",icon:I_,roles:["ADMIN","MANAGER"]},{name:"Properties",href:"/properties",icon:ca,roles:["ADMIN","MANAGER"]},{name:"Guest Check-in",href:"/guest-checkin",icon:Gb,roles:["ADMIN","MANAGER"]},{name:"Tasks",href:"/tasks",icon:_p,roles:["ADMIN","MANAGER"]},{name:"Task Board",href:"/task-management",icon:D_,roles:["ADMIN","MANAGER"]},{name:"Finance",href:"/finance",icon:Cn,roles:["ADMIN","MANAGER"]},{name:"Reports",href:"/reports",icon:Va,roles:["ADMIN","MANAGER"]},{name:"Staff",href:"/staff",icon:Eh,roles:["ADMIN","MANAGER"]},{name:"Users",href:"/users",icon:Wi,roles:["ADMIN"]},{name:"Analytics",href:"/analytics",icon:Va,roles:["ADMIN"]},{name:"Settings",href:"/settings",icon:fd,roles:["ADMIN"]}];function uX({children:e}){const[s,n]=x.useState(!1),[a,r]=x.useState(!1),[l,c]=x.useState(new Date),[u,m]=x.useState(navigator.onLine),[f,p]=x.useState("good"),{user:g,logout:v,showLogoutProgress:w,setShowLogoutProgress:N,authError:j}=$s(),{theme:S}=_a(),{title:E,description:T}=Er(),{toast:C}=da(),I=kn(),D=kr(),{showWelcomePopup:A,closeWelcomePopup:R,dashboardData:L,userData:z,onboardingSteps:Q,markStepCompleted:K}=Hw(),J=u?j==="expired"?"expired":null:"offline";x.useEffect(()=>{},[w,a,g]),x.useEffect(()=>{},[w,a,g,I.pathname]),x.useEffect(()=>{const G=setInterval(()=>{c(new Date)},1e3);return()=>clearInterval(G)},[]),x.useEffect(()=>{const G=()=>{m(!0),p("good")},B=()=>{m(!1),p("offline")},ce=()=>{if(!navigator.onLine){p("offline");return}const le=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(le){const{effectiveType:ye,downlink:ke}=le;ye==="4g"&&ke>10?p("excellent"):p(ye==="4g"||ye==="3g"?"good":"poor")}else p("good")};ce(),window.addEventListener("online",G),window.addEventListener("offline",B);const pe=setInterval(ce,5e3);return()=>{window.removeEventListener("online",G),window.removeEventListener("offline",B),clearInterval(pe)}},[]);const de=()=>j!=="expired"?null:t.jsxs("div",{className:"fixed top-0 inset-x-0 z-50 bg-red-600 text-white px-4 py-2 text-sm flex items-center justify-between shadow",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:"Session expired"}),t.jsx("span",{className:"opacity-90",children:"Please log in again to continue."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(se,{size:"sm",variant:"outline",className:"bg-white text-red-700 border-red-200 hover:bg-red-50",onClick:()=>window.location.href="/login",children:"Log in"}),t.jsx(se,{size:"sm",variant:"secondary",onClick:()=>window.location.reload(),children:"Reload"})]})]});x.useEffect(()=>{const G=le=>{console.log("Theme changed in Layout:",le.detail),c(new Date)},B=le=>{console.log("Theme updated in Layout:",le.detail),c(new Date)},ce=le=>{console.log("Theme reloaded in Layout:",le.detail),c(new Date)},pe=()=>{console.log("Logo load failed, forcing re-render"),c(new Date)};return window.addEventListener("themeChanged",G),window.addEventListener("themeUpdated",B),window.addEventListener("themeReloaded",ce),window.addEventListener("logoLoadFailed",pe),()=>{window.removeEventListener("themeChanged",G),window.removeEventListener("themeUpdated",B),window.removeEventListener("themeReloaded",ce),window.removeEventListener("logoLoadFailed",pe)}},[]);const H=async()=>{if(a||w){console.log(" Logout already in progress, ignoring click");return}console.log(" Starting logout process..."),r(!0);try{N(!0),await new Promise(G=>setTimeout(G,100)),console.log(" Calling logout function..."),await v(),console.log(" Logout function completed")}catch(G){console.error(" Logout error:",G),N(!1),r(!1),C({title:"Logout failed",description:"There was an error logging out. Please try again.",variant:"destructive"})}},q={isOpen:w,onComplete:()=>{console.log("Logout progress completed, closing dialog and redirecting..."),N(!1),r(!1),C({title:"Logged out successfully",description:"You have been signed out of your account."}),D("/login",{replace:!0})},onCancel:()=>{N(!1),r(!1),C({title:"Logout cancelled",description:"Logout process was cancelled."})}};x.useEffect(()=>{console.log(" LogoutProgress props validation:",{isOpen:q.isOpen,onComplete:typeof q.onComplete,onCancel:typeof q.onCancel,allPropsValid:typeof q.onComplete=="function"&&typeof q.onCancel=="function"&&typeof q.isOpen=="boolean"})},[q.isOpen]);const W=dX.filter(G=>G.roles.includes((g==null?void 0:g.role)||"")),he=G=>{switch(G){case"ADMIN":return"Admin";case"MANAGER":return"Manager";case"SUPER_ADMIN":return"Admin";default:return G.charAt(0)+G.slice(1).toLowerCase()}},$=G=>G==="ADMIN"||G==="SUPER_ADMIN"?rn:Ya,M=()=>{const G=new Date().getHours(),B={morning:["Good morning","Rise and shine","Morning vibes","Hello sunshine","Fresh start","Good day ahead","Morning energy","Bright and early"],afternoon:["Good afternoon","Afternoon vibes","Hello there","Midday energy","Afternoon flow","Good day","Hello sunshine","Afternoon boost"],evening:["Good evening","Evening vibes","Hello there","Evening flow","Good night ahead","Evening energy","Hello friend","Evening calm"],night:["Good evening","Night vibes","Hello night owl","Evening flow","Night energy","Hello there","Evening calm","Night mode"]};let ce;G>=5&&G<12?ce="morning":G>=12&&G<17?ce="afternoon":G>=17&&G<22?ce="evening":ce="night";const pe=B[ce],le=Math.floor(Math.random()*pe.length);return pe[le]},V=({mobile:G=!1})=>t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsx("div",{className:`flex items-center px-4 h-20 border-b border-gray-200/50 bg-white/80 backdrop-blur-xl supports-[backdrop-filter]:bg-white/60 ${G?"":"lg:border-r-0 lg:border-b-0"}`,children:t.jsxs(fi,{to:"/dashboard",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity duration-200",onClick:()=>G&&n(!1),title:`Go to Dashboard - ${S.brandName}`,children:[(()=>{try{const B=S.logoUrl&&document.querySelector(`img[data-load-failed="true"][src*="${S.logoUrl}"]`);return S.logoUrl&&S.logoUrl.trim()!==""&&!B?t.jsx("img",{src:S.logoUrl.startsWith("http")?S.logoUrl:`${xt.BASE_URL}${S.logoUrl}`,alt:S.brandName,className:"h-8 w-8 object-contain",onError:async ce=>{try{if(!ce.currentTarget){console.error("Logo error handler: currentTarget is null");return}if(ce.currentTarget.getAttribute("data-load-failed")==="true"){console.log("Logo already failed to load, skipping retry");return}if(console.error("Logo failed to load:",S.logoUrl),S.logoUrl&&!S.logoUrl.startsWith("http")){console.log("Attempting to fetch logo via API:",S.logoUrl);let pe,le;if(S.logoUrl.includes("/uploads/logos/")){const ye=S.logoUrl.split("/uploads/logos/");if(ye.length>1){const ke=ye[1].split("/");pe=ke[0],le=ke[1]}}else if(S.logoUrl.startsWith("/uploads/logos/")){const ye=S.logoUrl.split("/");pe=ye[3],le=ye[4]}if(console.log("Parsed logo path:",{orgId:pe,filename:le,originalUrl:S.logoUrl}),pe&&le){const ye=await fetch(`${xt.BASE_URL}/uploads/logos/${pe}/${le}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(ye.ok){const ke=await ye.json(),Y=`data:${ke.mimeType};base64,${ke.fileData}`;if(ce.currentTarget){ce.currentTarget.src=Y,console.log("Logo loaded successfully via API in Layout");return}}else console.error("Logo API response not ok:",ye.status,ye.statusText)}else console.error("Could not parse logo URL:",S.logoUrl)}}catch(pe){console.error("Failed to fetch logo via API:",pe)}if(ce.currentTarget){ce.currentTarget.setAttribute("data-load-failed","true");const pe=new CustomEvent("logoLoadFailed");window.dispatchEvent(pe)}},onLoad:()=>console.log("Logo loaded successfully in Layout")}):t.jsx(ca,{className:"h-8 w-8",style:{color:S.primaryColor}})}catch(B){return console.error("Error rendering logo:",B),t.jsx(ca,{className:"h-8 w-8",style:{color:S.primaryColor}})}})(),t.jsx("span",{className:"text-xl font-bold",style:{color:S.textColor},children:S.brandName})]})}),t.jsx("nav",{className:`flex-1 px-4 py-6 space-y-2 ${G?"":"border-r border-gray-200/50"}`,children:W.map(B=>{const ce=B.icon,pe=I.pathname===B.href;return t.jsxs(fi,{to:B.href,onClick:()=>G&&n(!1),className:`flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 group relative ${pe?"text-white shadow-md shadow-blue-500/20":"text-gray-600 hover:text-gray-900 hover:bg-black/5 hover:translate-x-1"}`,style:pe?{backgroundColor:S.primaryColor}:{},title:B.name,children:[t.jsx(ce,{className:`mr-2 h-4 w-4 flex-shrink-0 transition-transform duration-200 ${!pe&&"group-hover:scale-110"}`}),t.jsx("span",{className:"truncate",children:B.name})]},B.name)})}),t.jsxs("div",{className:`px-4 py-4 border-t border-gray-200/50 bg-white/80 backdrop-blur-xl supports-[backdrop-filter]:bg-white/60 ${G?"":"border-r border-gray-200/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 mb-2",children:[qe.createElement($((g==null?void 0:g.role)||""),{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:g==null?void 0:g.displayName,children:g==null?void 0:g.displayName}),t.jsx("p",{className:"text-xs text-gray-500 truncate",title:he((g==null?void 0:g.role)||""),children:he((g==null?void 0:g.role)||"")})]})]}),t.jsxs(se,{variant:"ghost",size:"sm",onClick:H,disabled:a||w,className:`w-full justify-start ${a||w?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-900"}`,title:a||w?"Signing out...":"Sign out",children:[t.jsx(Uh,{className:"mr-2 h-4 w-4 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:a||w?"Signing out...":"Sign out"})]})]})]});return t.jsxs("div",{className:"min-h-screen bg-gray-50 lg:bg-[#F5F7FA]",children:[t.jsx(oX,{}),t.jsx(lX,{}),t.jsx(de,{}),t.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-60 lg:flex-col z-30",children:t.jsx("div",{className:"flex flex-col flex-grow bg-white/80 backdrop-blur-xl supports-[backdrop-filter]:bg-white/60 overflow-y-auto lg:shadow-[4px_0_24px_rgba(0,0,0,0.02)]",children:t.jsx(V,{})})}),t.jsx(aj,{open:s,onOpenChange:n,children:t.jsxs(nj,{side:"left",className:"p-0 w-60",style:{boxShadow:`2px 0 4px 0 ${S.primaryColor}20, 1px 0 2px 0 ${S.primaryColor}10`},children:[t.jsxs(rj,{className:"sr-only",children:[t.jsx(eg,{children:"Navigation"}),t.jsx(ij,{children:"Main menu"})]}),t.jsx(V,{mobile:!0})]})}),t.jsxs("div",{className:"lg:pl-60 flex flex-col flex-1",children:[t.jsx(iX,{}),t.jsxs("div",{className:"hidden lg:flex sticky top-0 z-40 flex-shrink-0 h-20 bg-white/80 backdrop-blur-xl border-b border-gray-200/50 supports-[backdrop-filter]:bg-white/60 lg:shadow-[0_4px_24px_rgba(0,0,0,0.02)]",children:[t.jsx("div",{className:"lg:hidden ml-4 flex items-center",children:t.jsx(se,{variant:"ghost",size:"sm",onClick:()=>n(!0),children:t.jsx(JE,{className:"h-6 w-6"})})}),t.jsxs("div",{className:"flex-1 px-4 flex items-center justify-between relative h-20",children:[t.jsx("div",{className:"flex items-center gap-4 min-w-0 flex-shrink-0 z-10 h-full",children:t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm text-gray-600 h-full",children:[t.jsxs("span",{children:[M(),","]}),t.jsx("span",{className:"font-medium",style:{color:S.primaryColor},children:g==null?void 0:g.displayName})]})}),t.jsx("div",{className:"hidden lg:flex absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 flex-col items-center justify-center px-4 z-20",children:E&&t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl lg:text-3xl font-bold truncate mb-1 drop-shadow-sm",style:{color:S.primaryColor},children:E}),T&&t.jsx("p",{className:"text-xs lg:text-sm text-gray-600 truncate font-medium",children:T})]})}),E&&t.jsx("div",{className:"lg:hidden absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 px-4 z-20",children:t.jsx("h1",{className:"text-base sm:text-lg font-semibold truncate",style:{color:S.primaryColor},children:E})}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-shrink-0 z-10 h-full",children:[t.jsx("div",{className:"hidden lg:flex items-center gap-3 text-xs text-gray-500 h-full",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:new Intl.DateTimeFormat("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(l)}),t.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),t.jsx("span",{children:l.toLocaleTimeString()})]})}),t.jsxs("div",{className:"flex items-center space-x-3 h-full",children:[t.jsxs("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1 rounded-full bg-gray-100 h-8",children:[qe.createElement($((g==null?void 0:g.role)||""),{className:"h-4 w-4",style:{color:S.primaryColor}}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:he((g==null?void 0:g.role)||"")})]}),t.jsxs(se,{variant:"ghost",size:"sm",onClick:H,disabled:a||w,className:"text-gray-600 hover:text-gray-900",style:{backgroundColor:a||w?S.primaryColor+"20":void 0,color:a||w?S.primaryColor:void 0},"aria-label":"Sign out",title:"Sign out",children:[t.jsx(Uh,{className:"h-5 w-5"}),t.jsx("span",{className:"hidden sm:inline ml-2",children:"Sign out"})]})]})]})]})]}),t.jsxs("main",{className:"flex-1",children:[J&&t.jsx(rX,{mode:J,onLogin:()=>D("/login"),onReload:()=>window.location.reload(),onRetry:()=>window.location.reload()}),t.jsx("div",{className:"py-6 pb-20 lg:pb-6",children:t.jsx("div",{className:`w-full px-4 sm:px-6 lg:max-w-7xl lg:mx-auto lg:px-8 ${J?"pointer-events-none select-none opacity-95":""}`,children:e})})]})]}),t.jsx(aX,{...q}),t.jsx(nX,{isOpen:A,onClose:R,userData:z,dashboardData:L,onboardingSteps:Q,markStepCompleted:K}),t.jsx(cX,{onMenuClick:()=>n(!0)})]})}Xb()&&(Cr(()=>import("./test-env-BOp-MnmI.js"),[]),Cr(()=>import("./test-uploads-DzZlhvB_.js"),[]));const hX=new p3({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e4,gcTime:3e5,refetchOnMount:!1,refetchOnReconnect:!1},mutations:{retry:1,onError:e=>{console.error("Mutation error:",e)}}}});function mX(){return t.jsx(z5,{children:t.jsxs(uC,{children:[t.jsx(en,{path:"/login",element:t.jsx(Hq,{})}),t.jsx(en,{path:"/signup",element:t.jsx(Yq,{})}),t.jsx(en,{path:"/forgot-password",element:t.jsx(Kq,{})}),t.jsx(en,{path:"/reset-password",element:t.jsx(Qq,{})}),t.jsx(en,{path:"/",element:t.jsx(Zk,{to:"/dashboard",replace:!0})}),t.jsx(en,{path:"/*",element:t.jsx(sX,{children:t.jsx(uX,{children:t.jsxs(uC,{children:[t.jsx(en,{path:"/dashboard",element:t.jsx(d7,{})}),t.jsx(en,{path:"/properties",element:t.jsx(m9,{})}),t.jsx(en,{path:"/tasks",element:t.jsx(wH,{})}),t.jsx(en,{path:"/finance",element:t.jsx(hJ,{})}),t.jsx(en,{path:"/reports",element:t.jsx(CJ,{})}),t.jsx(en,{path:"/staff",element:t.jsx(TJ,{})}),t.jsx(en,{path:"/users",element:t.jsx(VJ,{})}),t.jsx(en,{path:"/analytics",element:t.jsx(BJ,{})}),t.jsx(en,{path:"/settings",element:t.jsx(qJ,{})}),t.jsx(en,{path:"/guest-checkin",element:t.jsx(tX,{})})]})})})})]})})}function fX(){return t.jsx(b3,{client:hX,children:t.jsx(aU,{children:t.jsx(nU,{children:t.jsxs(rU,{children:[t.jsx(mX,{}),t.jsx(vF,{})]})})})})}function pX(){console.log("[Auth System] Initializing..."),window.addEventListener("authenticationFailed",s=>{var a;console.error("[Auth System] Authentication failed:",(a=s.detail)==null?void 0:a.error),window.location.pathname!=="/login"&&(console.log("[Auth System] Redirecting to login..."),window.location.href="/login")}),window.addEventListener("tokenRefreshed",s=>{console.log("[Auth System] Token refreshed successfully")}),setInterval(()=>{if(tn.isAuthenticated()){const s=tn.getTokenExpiry();if(s){const n=s.getTime()-Date.now(),a=Math.floor(n/1e3/60);a<2&&a>0&&console.warn(`[Auth System] Token expires in ${a} minutes`)}}},6e4),gX(),console.log("[Auth System] Initialization complete")}function gX(){const e=localStorage.getItem("accessToken"),s=localStorage.getItem("refreshToken");let n=!1;if(e&&e!==e.trim().replace(/[\r\n\t\s]/g,"")&&(console.warn("[Auth System] Detected corrupted access token, cleaning up..."),n=!0),s&&s!==s.trim().replace(/[\r\n\t\s]/g,"")&&(console.warn("[Auth System] Detected corrupted refresh token, cleaning up..."),n=!0),n&&e&&s){const a=e.trim().replace(/[\r\n\t\s]/g,""),r=s.trim().replace(/[\r\n\t\s]/g,"");tn.setTokens(a,r)?console.log("[Auth System] Tokens cleaned and re-stored successfully"):(console.error("[Auth System] Failed to re-store cleaned tokens, clearing..."),tn.clearTokens())}}const M0=ar("App",{web:()=>Cr(()=>import("./web-nu9HEtWV.js"),[]).then(e=>new e.AppWeb)});var Nk;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(Nk||(Nk={}));var Sk;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(Sk||(Sk={}));const Ck=ar("Keyboard");var Eb;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(Eb||(Eb={}));var Tk;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(Tk||(Tk={}));const kk=ar("StatusBar"),xX=ar("SplashScreen",{web:()=>Cr(()=>import("./web-DO8Y_0B3.js"),[]).then(e=>new e.SplashScreenWeb)}),yX=ar("Network",{web:()=>Cr(()=>import("./web-D3HI_roj.js"),[]).then(e=>new e.NetworkWeb)});var Cd;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(Cd||(Cd={}));var Oh;(function(e){e.Rear="REAR",e.Front="FRONT"})(Oh||(Oh={}));var Ek;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(Ek||(Ek={}));class vX extends fg{async getPhoto(s){return new Promise(async(n,a)=>{if(s.webUseInput||s.source===Cd.Photos)this.fileInputExperience(s,n,a);else if(s.source===Cd.Prompt){let r=document.querySelector("pwa-action-sheet");r||(r=document.createElement("pwa-action-sheet"),document.body.appendChild(r)),r.header=s.promptLabelHeader||"Photo",r.cancelable=!1,r.options=[{title:s.promptLabelPhoto||"From Photos"},{title:s.promptLabelPicture||"Take Picture"}],r.addEventListener("onSelection",async l=>{l.detail===0?this.fileInputExperience(s,n,a):this.cameraExperience(s,n,a)})}else this.cameraExperience(s,n,a)})}async pickImages(s){return new Promise(async(n,a)=>{this.multipleFileInputExperience(n,a)})}async cameraExperience(s,n,a){if(customElements.get("pwa-camera-modal")){const r=document.createElement("pwa-camera-modal");r.facingMode=s.direction===Oh.Front?"user":"environment",document.body.appendChild(r);try{await r.componentOnReady(),r.addEventListener("onPhoto",async l=>{const c=l.detail;c===null?a(new Td("User cancelled photos app")):c instanceof Error?a(c):n(await this._getCameraPhoto(c,s)),r.dismiss(),document.body.removeChild(r)}),r.present()}catch{this.fileInputExperience(s,n,a)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(s,n,a)}fileInputExperience(s,n,a){let r=document.querySelector("#_capacitor-camera-input");const l=()=>{var c;(c=r.parentNode)===null||c===void 0||c.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input",r.type="file",r.hidden=!0,document.body.appendChild(r),r.addEventListener("change",c=>{const u=r.files[0];let m="jpeg";if(u.type==="image/png"?m="png":u.type==="image/gif"&&(m="gif"),s.resultType==="dataUrl"||s.resultType==="base64"){const f=new FileReader;f.addEventListener("load",()=>{if(s.resultType==="dataUrl")n({dataUrl:f.result,format:m});else if(s.resultType==="base64"){const p=f.result.split(",")[1];n({base64String:p,format:m})}l()}),f.readAsDataURL(u)}else n({webPath:URL.createObjectURL(u),format:m}),l()}),r.addEventListener("cancel",c=>{a(new Td("User cancelled photos app")),l()})),r.accept="image/*",r.capture=!0,s.source===Cd.Photos||s.source===Cd.Prompt?r.removeAttribute("capture"):s.direction===Oh.Front?r.capture="user":s.direction===Oh.Rear&&(r.capture="environment"),r.click()}multipleFileInputExperience(s,n){let a=document.querySelector("#_capacitor-camera-input-multiple");const r=()=>{var l;(l=a.parentNode)===null||l===void 0||l.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input-multiple",a.type="file",a.hidden=!0,a.multiple=!0,document.body.appendChild(a),a.addEventListener("change",l=>{const c=[];for(let u=0;u<a.files.length;u++){const m=a.files[u];let f="jpeg";m.type==="image/png"?f="png":m.type==="image/gif"&&(f="gif"),c.push({webPath:URL.createObjectURL(m),format:f})}s({photos:c}),r()}),a.addEventListener("cancel",l=>{n(new Td("User cancelled photos app")),r()})),a.accept="image/*",a.click()}_getCameraPhoto(s,n){return new Promise((a,r)=>{const l=new FileReader,c=s.type.split("/")[1];n.resultType==="uri"?a({webPath:URL.createObjectURL(s),format:c,saved:!1}):(l.readAsDataURL(s),l.onloadend=()=>{const u=l.result;n.resultType==="dataUrl"?a({dataUrl:u,format:c,saved:!1}):a({base64String:u.split(",")[1],format:c,saved:!1})},l.onerror=u=>{r(u)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}ar("Camera",{web:()=>new vX});function bX(e){e.CapacitorUtils.Synapse=new Proxy({},{get(s,n){return new Proxy({},{get(a,r){return(l,c,u)=>{const m=e.Capacitor.Plugins[n];if(m===void 0){u(new Error(`Capacitor plugin ${n} not found`));return}if(typeof m[r]!="function"){u(new Error(`Method ${r} not found in Capacitor plugin ${n}`));return}(async()=>{try{const f=await m[r](l);c(f)}catch(f){u(f)}})()}}})}})}function wX(e){e.CapacitorUtils.Synapse=new Proxy({},{get(s,n){return e.cordova.plugins[n]}})}function jX(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?bX(window):window.cordova!==void 0&&wX(window))}ar("Geolocation",{web:()=>Cr(()=>import("./web-DKauUOZt.js"),[]).then(e=>new e.GeolocationWeb)});jX();var Ak;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(Ak||(Ak={}));var Dk;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(Dk||(Dk={}));ar("Haptics",{web:()=>Cr(()=>import("./web-BmO8f6yE.js"),[]).then(e=>new e.HapticsWeb)});ar("Browser",{web:()=>Cr(()=>import("./web-JSHmxN-f.js"),[]).then(e=>new e.BrowserWeb)});ar("Preferences",{web:()=>Cr(()=>import("./web-CjXkFa_1.js"),[]).then(e=>new e.PreferencesWeb)});const jj=hl.isNativePlatform(),Nj=hl.getPlatform(),cp=Nj==="android",Pk=Nj==="ios";async function NX(){if(!jj){console.log("[Capacitor] Running in web mode");return}console.log(`[Capacitor] Initializing on ${Nj}`);try{await xX.hide(),(Pk||cp)&&(await kk.setStyle({style:Eb.Dark}),cp&&await kk.setBackgroundColor({color:"#ffffff"})),cp&&M0.addListener("backButton",({canGoBack:e})=>{e?window.history.back():M0.exitApp()}),M0.addListener("appStateChange",({isActive:e})=>{console.log("[Capacitor] App state changed:",e?"active":"background"),window.dispatchEvent(new CustomEvent("app-state-change",{detail:{isActive:e}}))}),(Pk||cp)&&(Ck.addListener("keyboardWillShow",e=>{document.body.style.setProperty("--keyboard-height",`${e.keyboardHeight}px`),document.body.classList.add("keyboard-visible")}),Ck.addListener("keyboardWillHide",()=>{document.body.style.setProperty("--keyboard-height","0px"),document.body.classList.remove("keyboard-visible")})),yX.addListener("networkStatusChange",e=>{console.log("[Capacitor] Network status:",e),window.dispatchEvent(new CustomEvent("network-status-change",{detail:e}))}),console.log("[Capacitor] Initialization complete")}catch(e){console.error("[Capacitor] Initialization failed:",e)}}pX();jj&&NX().catch(e=>{console.error("[Main] Failed to initialize Capacitor:",e)});if("serviceWorker"in navigator&&!jj)try{window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("[SW] Service Worker registered:",e.scope),e.addEventListener("updatefound",()=>{const s=e.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[SW] New content available, refresh to update"),window.dispatchEvent(new CustomEvent("sw-update-available")))})})}).catch(e=>{console.log("[SW] Service Worker registration failed:",e)})})}catch{}kM.createRoot(document.getElementById("root")).render(t.jsx(qe.StrictMode,{children:t.jsx(fX,{})}));export{xt as A,Ak as I,Dk as N,fg as W,Fv as a,zC as b,AX as c,mn as d,BF as g,Xb as i};
