import{A as r}from"./index-Ct3V638z.js";async function i(){try{console.log("üß™ Testing file upload endpoint...");const e="Test file content for upload",t=new File([e],"test.txt",{type:"text/plain"}),s=await t.arrayBuffer(),a=new Uint8Array(s),n=btoa(String.fromCharCode(...a)),o=await fetch(`${r.BASE_URL}/uploads/file`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({fileData:n,filename:t.name,mimeType:t.type})});if(!o.ok){const u=await o.text();return{success:!1,error:`HTTP ${o.status}: ${u}`,details:{status:o.status,statusText:o.statusText}}}const l=await o.json();return console.log("‚úÖ File upload test successful:",l),{success:!0,details:l}}catch(e){return console.error("‚ùå File upload test failed:",e),{success:!1,error:e instanceof Error?e.message:String(e)}}}async function c(e){try{console.log("üß™ Testing task image upload endpoint...");const s=await fetch(`${r.BASE_URL}/tasks/${e}/images`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"},body:JSON.stringify({taskId:e,fileData:"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==",filename:"test.png",mimeType:"image/png"})});if(!s.ok){const n=await s.text();return{success:!1,error:`HTTP ${s.status}: ${n}`,details:{status:s.status,statusText:s.statusText}}}const a=await s.json();return console.log("‚úÖ Task image upload test successful:",a),{success:!0,details:a}}catch(t){return console.error("‚ùå Task image upload test failed:",t),{success:!1,error:t instanceof Error?t.message:String(t)}}}async function d(e){console.log("üöÄ Starting comprehensive upload tests...");const t=await i();if(console.log("File Upload Test:",t),e){const s=await c(e);console.log("Task Image Upload Test:",s)}console.log("üèÅ Upload tests completed")}typeof window<"u"&&window.location.hostname==="localhost"&&(console.log("üîß Upload tests available. Call testAllUploads(taskId) to run tests."),window.testAllUploads=d,window.testFileUpload=i,window.testTaskImageUpload=c);export{d as testAllUploads,i as testFileUpload,c as testTaskImageUpload};
